/*! For license information please see 178.67e794e3.js.LICENSE.txt */
(self.webpackChunkweb=self.webpackChunkweb||[]).push([[178],{5787:e=>{"use strict";function t(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function n(e,n,r){var i=r<.5?r*(1+n):r+n-r*n,a=2*r-i,o=t(a,i,e+1/3),s=t(a,i,e),l=t(a,i,e-1/3);return Math.round(255*o)<<24|Math.round(255*s)<<16|Math.round(255*l)<<8}var r,i="[-+]?\\d*\\.?\\d+",a=i+"%";function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,?\\s*(")+")\\s*\\)"}function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.slice(0,t.length-1).join(")\\s*,?\\s*(")+")\\s*/\\s*("+t[t.length-1]+")\\s*\\)"}function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}function u(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function c(e){return(parseFloat(e)%360+360)%360/360}function d(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function f(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}e.exports=function(e){if("number"===typeof e)return e>>>0===e&&e>=0&&e<=4294967295?e:null;if("string"!==typeof e)return null;var h,p=function(){void 0===r&&(r={rgb:new RegExp("rgb"+o(i,i,i)),rgba:new RegExp("rgba("+l(i,i,i,i)+"|"+s(i,i,i,i)+")"),hsl:new RegExp("hsl"+o(i,a,a)),hsla:new RegExp("hsla("+l(i,a,a,i)+"|"+s(i,a,a,i)+")"),hwb:new RegExp("hwb"+o(i,a,a)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/});return r}();if(h=p.hex6.exec(e))return parseInt(h[1]+"ff",16)>>>0;var g=function(e){switch(e){case"transparent":return 0;case"aliceblue":return 4042850303;case"antiquewhite":return 4209760255;case"aqua":case"cyan":return 16777215;case"aquamarine":return 2147472639;case"azure":return 4043309055;case"beige":return 4126530815;case"bisque":return 4293182719;case"black":return 255;case"blanchedalmond":return 4293643775;case"blue":return 65535;case"blueviolet":return 2318131967;case"brown":return 2771004159;case"burlywood":return 3736635391;case"burntsienna":return 3934150143;case"cadetblue":return 1604231423;case"chartreuse":return 2147418367;case"chocolate":return 3530104575;case"coral":return 4286533887;case"cornflowerblue":return 1687547391;case"cornsilk":return 4294499583;case"crimson":return 3692313855;case"darkblue":return 35839;case"darkcyan":return 9145343;case"darkgoldenrod":return 3095792639;case"darkgray":case"darkgrey":return 2846468607;case"darkgreen":return 6553855;case"darkkhaki":return 3182914559;case"darkmagenta":return 2332068863;case"darkolivegreen":return 1433087999;case"darkorange":return 4287365375;case"darkorchid":return 2570243327;case"darkred":return 2332033279;case"darksalmon":return 3918953215;case"darkseagreen":return 2411499519;case"darkslateblue":return 1211993087;case"darkslategray":case"darkslategrey":return 793726975;case"darkturquoise":return 13554175;case"darkviolet":return 2483082239;case"deeppink":return 4279538687;case"deepskyblue":return 12582911;case"dimgray":case"dimgrey":return 1768516095;case"dodgerblue":return 512819199;case"firebrick":return 2988581631;case"floralwhite":return 4294635775;case"forestgreen":return 579543807;case"fuchsia":case"magenta":return 4278255615;case"gainsboro":return 3705462015;case"ghostwhite":return 4177068031;case"gold":return 4292280575;case"goldenrod":return 3668254975;case"gray":case"grey":return 2155905279;case"green":return 8388863;case"greenyellow":return 2919182335;case"honeydew":return 4043305215;case"hotpink":return 4285117695;case"indianred":return 3445382399;case"indigo":return 1258324735;case"ivory":return 4294963455;case"khaki":return 4041641215;case"lavender":return 3873897215;case"lavenderblush":return 4293981695;case"lawngreen":return 2096890111;case"lemonchiffon":return 4294626815;case"lightblue":return 2916673279;case"lightcoral":return 4034953471;case"lightcyan":return 3774873599;case"lightgoldenrodyellow":return 4210742015;case"lightgray":case"lightgrey":return 3553874943;case"lightgreen":return 2431553791;case"lightpink":return 4290167295;case"lightsalmon":return 4288707327;case"lightseagreen":return 548580095;case"lightskyblue":return 2278488831;case"lightslategray":case"lightslategrey":return 2005441023;case"lightsteelblue":return 2965692159;case"lightyellow":return 4294959359;case"lime":return 16711935;case"limegreen":return 852308735;case"linen":return 4210091775;case"maroon":return 2147483903;case"mediumaquamarine":return 1724754687;case"mediumblue":return 52735;case"mediumorchid":return 3126187007;case"mediumpurple":return 2473647103;case"mediumseagreen":return 1018393087;case"mediumslateblue":return 2070474495;case"mediumspringgreen":return 16423679;case"mediumturquoise":return 1221709055;case"mediumvioletred":return 3340076543;case"midnightblue":return 421097727;case"mintcream":return 4127193855;case"mistyrose":return 4293190143;case"moccasin":return 4293178879;case"navajowhite":return 4292783615;case"navy":return 33023;case"oldlace":return 4260751103;case"olive":return 2155872511;case"olivedrab":return 1804477439;case"orange":return 4289003775;case"orangered":return 4282712319;case"orchid":return 3664828159;case"palegoldenrod":return 4008225535;case"palegreen":return 2566625535;case"paleturquoise":return 2951671551;case"palevioletred":return 3681588223;case"papayawhip":return 4293907967;case"peachpuff":return 4292524543;case"peru":return 3448061951;case"pink":return 4290825215;case"plum":return 3718307327;case"powderblue":return 2967529215;case"purple":return 2147516671;case"rebeccapurple":return 1714657791;case"red":return 4278190335;case"rosybrown":return 3163525119;case"royalblue":return 1097458175;case"saddlebrown":return 2336560127;case"salmon":return 4202722047;case"sandybrown":return 4104413439;case"seagreen":return 780883967;case"seashell":return 4294307583;case"sienna":return 2689740287;case"silver":return 3233857791;case"skyblue":return 2278484991;case"slateblue":return 1784335871;case"slategray":case"slategrey":return 1887473919;case"snow":return 4294638335;case"springgreen":return 16744447;case"steelblue":return 1182971135;case"tan":return 3535047935;case"teal":return 8421631;case"thistle":return 3636451583;case"tomato":return 4284696575;case"turquoise":return 1088475391;case"violet":return 4001558271;case"wheat":return 4125012991;case"white":return 4294967295;case"whitesmoke":return 4126537215;case"yellow":return 4294902015;case"yellowgreen":return 2597139199}return null}(e);return null!=g?g:(h=p.rgb.exec(e))?(u(h[1])<<24|u(h[2])<<16|u(h[3])<<8|255)>>>0:(h=p.rgba.exec(e))?void 0!==h[6]?(u(h[6])<<24|u(h[7])<<16|u(h[8])<<8|d(h[9]))>>>0:(u(h[2])<<24|u(h[3])<<16|u(h[4])<<8|d(h[5]))>>>0:(h=p.hex3.exec(e))?parseInt(h[1]+h[1]+h[2]+h[2]+h[3]+h[3]+"ff",16)>>>0:(h=p.hex8.exec(e))?parseInt(h[1],16)>>>0:(h=p.hex4.exec(e))?parseInt(h[1]+h[1]+h[2]+h[2]+h[3]+h[3]+h[4]+h[4],16)>>>0:(h=p.hsl.exec(e))?(255|n(c(h[1]),f(h[2]),f(h[3])))>>>0:(h=p.hsla.exec(e))?void 0!==h[6]?(n(c(h[6]),f(h[7]),f(h[8]))|d(h[9]))>>>0:(n(c(h[2]),f(h[3]),f(h[4]))|d(h[5]))>>>0:(h=p.hwb.exec(e))?(255|function(e,n,r){if(n+r>=1){var i=Math.round(255*n/(n+r));return i<<24|i<<16|i<<8}var a=t(0,1,e+1/3)*(1-n-r)+n,o=t(0,1,e)*(1-n-r)+n,s=t(0,1,e-1/3)*(1-n-r)+n;return Math.round(255*a)<<24|Math.round(255*o)<<16|Math.round(255*s)<<8}(c(h[1]),f(h[2]),f(h[3])))>>>0:null}},4505:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Checkbox:()=>h,default:()=>g});var r=n(4467),i=n(45),a=n(6665),o=n(3668),s=n(3929),l=n(6480),u=n(397),c=["color","disabled","onChange","onValueChange","style","value"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const h=a.forwardRef((function(e,t){var n=e.color,r=e.disabled,a=e.onChange,o=e.onValueChange,d=e.style,h=e.value,g=(0,i.default)(e,c),m=(0,u.jsx)(s.default,{style:[p.fakeControl,h&&p.fakeControlChecked,!!n&&{backgroundColor:h?n:void 0,borderColor:n},r&&p.fakeControlDisabled,h&&r&&p.fakeControlCheckedAndDisabled]}),y=(0,l.default)("input",{"aria-checked":h,"aria-disabled":r,checked:h,disabled:r,onChange:function(e){var t=e.nativeEvent.target.checked;e.nativeEvent.value=t,null==a||a(e),null==o||o(t)},style:[p.nativeControl,p.cursorInherit],type:"checkbox"});return(0,u.jsxs)(s.default,f(f({ref:t},g),{},{style:[p.root,d,r&&p.cursorDefault],children:[y,m]}))}));var p=o.default.create({root:{cursor:"pointer",height:16,userSelect:"none",width:16},cursorDefault:{cursor:"default"},cursorInherit:{cursor:"inherit"},fakeControl:f(f({},o.default.absoluteFillObject),{},{pointerEvents:"none",alignItems:"center",backgroundColor:"#fff",borderColor:"#657786",borderRadius:2,borderStyle:"solid",borderWidth:2,height:"100%",justifyContent:"center",width:"100%"}),fakeControlChecked:{backgroundColor:"#009688",backgroundImage:'url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgdmVyc2lvbj0iMS4xIgogICB2aWV3Qm94PSIwIDAgMSAxIgogICBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWluWU1pbiBtZWV0Ij4KICA8cGF0aAogICAgIGQ9Ik0gMC4wNDAzODA1OSwwLjYyNjc3NjcgMC4xNDY0NDY2MSwwLjUyMDcxMDY4IDAuNDI5Mjg5MzIsMC44MDM1NTMzOSAwLjMyMzIyMzMsMC45MDk2MTk0MSB6IE0gMC4yMTcxNTcyOSwwLjgwMzU1MzM5IDAuODUzNTUzMzksMC4xNjcxNTcyOSAwLjk1OTYxOTQxLDAuMjczMjIzMyAwLjMyMzIyMzMsMC45MDk2MTk0MSB6IgogICAgIGlkPSJyZWN0Mzc4MCIKICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIiAvPgo8L3N2Zz4K")',backgroundRepeat:"no-repeat",borderColor:"#009688"},fakeControlDisabled:{borderColor:"#CCD6DD"},fakeControlCheckedAndDisabled:{backgroundColor:"#AAB8C2",borderColor:"#AAB8C2"},nativeControl:f(f({},o.default.absoluteFillObject),{},{height:"100%",margin:0,padding:0,width:"100%",WebkitAppearance:"none"})});const g=h},6923:()=>{0},8894:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C});n(6923);var r=n(6665),i=n(3029),a=n(2901),o=(n(9379),n(6077)),s=n.n(o),l=n(3672);const u=l.unmountComponentAtNode;var c=n(8168),d=n(3668),f=n(3929),h=r.createContext(null),p=r.forwardRef((function(e,t){var n=e.children,i=e.WrapperComponent,a=r.createElement(f.default,{children:n,key:1,style:m.appContainer});return i&&(a=r.createElement(i,null,a)),r.createElement(h.Provider,{value:e.rootTag},r.createElement(f.default,{ref:t,style:m.appContainer},a))}));p.displayName="AppContainer";const g=p;var m=d.default.create({appContainer:{flex:1,pointerEvents:"box-none"}}),y=n(4657),_=n(6267);function b(e,t){return(0,_.createSheet)(t),(0,y.hydrateRoot)(t,e)}function v(e,t){(0,_.createSheet)(t);var n=(0,y.createRoot)(t);return n.render(e),n}function w(e,t,n){return(0,_.createSheet)(t),(0,l.hydrate)(e,t,n),{unmount:function(){return u(t)}}}function x(e,t,n){return(0,_.createSheet)(t),(0,l.render)(e,t,n),{unmount:function(){return u(t)}}}var k,S={},T={},E=function(e){return e()},A=function(){function e(){(0,i.default)(this,e)}return(0,a.default)(e,null,[{key:"getAppKeys",value:function(){return Object.keys(T)}},{key:"getApplication",value:function(e,t){return s()(T[e]&&T[e].getApplication,"Application "+e+" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent."),T[e].getApplication(t)}},{key:"registerComponent",value:function(e,t){return T[e]={getApplication:function(e){return n=E(t),i=e?e.initialProps:S,a=k&&k(e),{element:r.createElement(g,{WrapperComponent:a,rootTag:{}},r.createElement(n,i)),getStyleElement:function(e){var t=d.default.getSheet();return r.createElement("style",(0,c.default)({},e,{dangerouslySetInnerHTML:{__html:t.textContent},id:t.id}))}};var n,i,a},run:function(e){return function(e,t,n,i){var a=i.hydrate,o=i.initialProps,l=i.mode,u=i.rootTag,c=a?"concurrent"===l?b:w:"concurrent"===l?v:x;return s()(u,"Expect to have a valid rootTag, instead got ",u),c(r.createElement(g,{WrapperComponent:t,ref:n,rootTag:u},r.createElement(e,o)),u)}(E(t),k&&k(e),e.callback,{hydrate:e.hydrate||!1,initialProps:e.initialProps||S,mode:e.mode||"concurrent",rootTag:e.rootTag})}},e}},{key:"registerConfig",value:function(t){t.forEach((function(t){var n=t.appKey,r=t.component,i=t.run;i?e.registerRunnable(n,i):(s()(r,"No component provider passed in"),e.registerComponent(n,r))}))}},{key:"registerRunnable",value:function(e,t){return T[e]={run:t},e}},{key:"runApplication",value:function(e,t){return s()(T[e]&&T[e].run,'Application "'+e+'" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent.'),T[e].run(t)}},{key:"setComponentProviderInstrumentationHook",value:function(e){E=e}},{key:"setWrapperComponentProvider",value:function(e){k=e}},{key:"unmountApplicationComponentAtRootTag",value:function(e){u(e)}}])}(),O=n(5991);function C(e){var t=e;if("web"!==O.default.OS)A.registerComponent("main",(function(){return t}));else if("undefined"!==typeof document){var n=document.getElementById("root");if(n||(n=document.getElementById("main")),!n)throw new Error('Required HTML element with id "root" was not found in the document HTML. This is required for mounting the root React component.');(0,y.createRoot)(n).render(r.createElement(t))}}},530:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(8168),i=n(8587),a=n(6665),o=n(3668),s=n(3929),l=["animating","color","hidesWhenStopped","size","style"],u=function(e){return a.createElement("circle",{cx:"16",cy:"16",fill:"none",r:"14",strokeWidth:"4",style:e})},c=a.forwardRef((function(e,t){var n=e.animating,o=void 0===n||n,c=e.color,h=void 0===c?"#1976D2":c,p=e.hidesWhenStopped,g=void 0===p||p,m=e.size,y=void 0===m?"small":m,_=e.style,b=(0,i.default)(e,l),v=a.createElement("svg",{height:"100%",viewBox:"0 0 32 32",width:"100%"},u({stroke:h,opacity:.2}),u({stroke:h,strokeDasharray:80,strokeDashoffset:60}));return a.createElement(s.default,(0,r.default)({},b,{"aria-valuemax":1,"aria-valuemin":0,ref:t,role:"progressbar",style:[d.container,_]}),a.createElement(s.default,{children:v,style:["number"===typeof y?{height:y,width:y}:f[y],d.animation,!o&&d.animationPause,!o&&g&&d.hidesWhenStopped]}))}));c.displayName="ActivityIndicator";var d=o.default.create({container:{alignItems:"center",justifyContent:"center"},hidesWhenStopped:{visibility:"hidden"},animation:{animationDuration:"0.75s",animationKeyframes:[{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}],animationTimingFunction:"linear",animationIterationCount:"infinite"},animationPause:{animationPlayState:"paused"}}),f=o.default.create({small:{width:20,height:20},large:{width:36,height:36}});const h=c},6725:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(3029),i=n(2901),a=n(6077),o=n.n(a),s=n(8345),l={window:{fontScale:1,height:0,scale:1,width:0},screen:{fontScale:1,height:0,scale:1,width:0}},u={},c=s.default;function d(){if(s.default){var e,t,n=window;if(n.visualViewport){var r=n.visualViewport;e=Math.round(r.height*r.scale),t=Math.round(r.width*r.scale)}else{var i=n.document.documentElement;e=i.clientHeight,t=i.clientWidth}l.window={fontScale:1,height:e,scale:n.devicePixelRatio||1,width:t},l.screen={fontScale:1,height:n.screen.height,scale:n.devicePixelRatio||1,width:n.screen.width}}}function f(){d(),Array.isArray(u.change)&&u.change.forEach((function(e){return e(l)}))}var h=(0,i.default)((function e(){(0,r.default)(this,e)}),null,[{key:"get",value:function(e){return c&&(c=!1,d()),o()(l[e],"No dimension set for key "+e),l[e]}},{key:"set",value:function(e){e&&(s.default?o()(!1,"Dimensions cannot be set in the browser"):(null!=e.screen&&(l.screen=e.screen),null!=e.window&&(l.window=e.window)))}},{key:"addEventListener",value:function(e,t){var n=this;return u[e]=u[e]||[],u[e].push(t),{remove:function(){n.removeEventListener(e,t)}}}},{key:"removeEventListener",value:function(e,t){Array.isArray(u[e])&&(u[e]=u[e].filter((function(e){return e!==t})))}}]);s.default&&(window.visualViewport?window.visualViewport.addEventListener("resize",f,!1):window.addEventListener("resize",f,!1))},3004:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>N});var r=n(9379),i=n(8168),a=n(8587),o=n(6665),s=n(6480),l=[];function u(e){return l[e-1]}var c=n(5568),d=n(3029),f=n(2901),h=/^data:/,p=function(){function e(){(0,d.default)(this,e)}return(0,f.default)(e,null,[{key:"has",value:function(t){var n=e._entries;return h.test(t)||Boolean(n[t])}},{key:"add",value:function(t){var n=e._entries,r=Date.now();n[t]?(n[t].lastUsedTimestamp=r,n[t].refCount+=1):n[t]={lastUsedTimestamp:r,refCount:1}}},{key:"remove",value:function(t){var n=e._entries;n[t]&&(n[t].refCount-=1),e._cleanUpIfNeeded()}},{key:"_cleanUpIfNeeded",value:function(){var t,n,r=e._entries,i=Object.keys(r);i.length+1>e._maximumEntries&&(i.forEach((function(e){var i=r[e];(!n||i.lastUsedTimestamp<n.lastUsedTimestamp)&&0===i.refCount&&(t=e,n=i)})),t&&delete r[t])}}])}();p._maximumEntries=256,p._entries={};var g=0,m={},y={abort:function(e){var t=m[""+e];t&&(t.onerror=null,t.onload=null,t=null,delete m[""+e])},getSize:function(e,t,n){var r=!1,i=setInterval(o,16),a=y.load(e,o,(function(){"function"===typeof n&&n();y.abort(a),clearInterval(i)}));function o(){var e=m[""+a];if(e){var n=e.naturalHeight,o=e.naturalWidth;n&&o&&(t(o,n),r=!0)}r&&(y.abort(a),clearInterval(i))}},has:function(e){return p.has(e)},load:function(e,t,n){g+=1;var r=new window.Image;return r.onerror=n,r.onload=function(e){var n=function(){return t({nativeEvent:e})};"function"===typeof r.decode?r.decode().then(n,n):setTimeout(n,0)},r.src=e,m[""+g]=r,g},prefetch:function(e){return new Promise((function(t,n){y.load(e,(function(){p.add(e),p.remove(e),t()}),n)}))},queryCache:function(e){var t={};return e.forEach((function(e){p.has(e)&&(t[e]="disk/memory")})),Promise.resolve(t)}};const _=y;var b=n(6725),v=function(){function e(){(0,d.default)(this,e)}return(0,f.default)(e,null,[{key:"get",value:function(){return b.default.get("window").scale}},{key:"getFontScale",value:function(){return b.default.get("window").fontScale||e.get()}},{key:"getPixelSizeForLayoutSize",value:function(t){return Math.round(t*e.get())}},{key:"roundToNearestPixel",value:function(t){var n=e.get();return Math.round(t*n)/n}}])}(),w=n(3668),x=n(5730),k=n(3929),S=n(2155),T=["aria-label","accessibilityLabel","blurRadius","defaultSource","draggable","onError","onLayout","onLoad","onLoadEnd","onLoadStart","pointerEvents","source","style"],E="LOADED",A="LOADING",O=0,C=/^(data:image\/svg\+xml;utf8,)(.*)/;function I(e){var t=null;if("number"===typeof e){var n=u(e);if(null==n)throw new Error('Image: asset with ID "'+e+'" could not be found. Please check the image source or packager.');var r=n.scales[0];if(n.scales.length>1){var i=v.get();r=n.scales.reduce((function(e,t){return Math.abs(t-i)<Math.abs(e-i)?t:e}))}var a=1!==r?"@"+r+"x":"";t=n?n.httpServerLocation+"/"+n.name+a+"."+n.type:""}else"string"===typeof e?t=e:e&&"string"===typeof e.uri&&(t=e.uri);if(t){var o=t.match(C);if(o){var s=o[1],l=o[2];return""+s+encodeURIComponent(l)}}return t}var P=o.forwardRef((function(e,t){var n=e["aria-label"],r=e.accessibilityLabel,l=e.blurRadius,d=e.defaultSource,f=e.draggable,h=e.onError,p=e.onLayout,g=e.onLoad,m=e.onLoadEnd,y=e.onLoadStart,b=e.pointerEvents,v=e.source,C=e.style,P=(0,a.default)(e,T),M=n||r;var N=o.useState((function(){var e=I(v);if(null!=e&&_.has(e))return E;return"IDLE"})),D=N[0],j=N[1],F=o.useState({}),B=F[0],z=F[1],$=o.useContext(x.default),U=o.useRef(null),V=o.useRef(O++),W=o.useRef(null),H=D===E||D===A&&null==d,G=function(e,t,n,r){var i=w.default.flatten(e),a=i.filter,o=i.resizeMode,s=i.shadowOffset,l=i.tintColor;i.resizeMode&&(0,S.warnOnce)("Image.style.resizeMode","Image: style.resizeMode is deprecated. Please use props.resizeMode."),i.tintColor&&(0,S.warnOnce)("Image.style.tintColor","Image: style.tintColor is deprecated. Please use props.tintColor.");var u=[],d=null;if(a&&u.push(a),t&&u.push("blur("+t+"px)"),s){var f=(0,c.createBoxShadowValue)(i);f&&u.push("drop-shadow("+f+")")}return(r||l)&&null!=n&&u.push("url(#tint-"+n+")"),u.length>0&&(d=u.join(" ")),[o,d,l]}(C,l,V.current,e.tintColor),q=G[0],K=G[1],Z=G[2],X=e.resizeMode||q||"cover",Y=e.tintColor||Z,J=H?v:d,Q=I(J),ee=function(e){if("number"===typeof e){var t=u(e);return{height:t.height,width:t.width}}if(null!=e&&!Array.isArray(e)&&"object"===typeof e)return{height:e.height,width:e.width}}(J),te=Q?'url("'+Q+'")':null,ne=function(){if(null!=U.current&&("center"===X||"repeat"===X)){var e=U.current,t=e.naturalHeight,n=e.naturalWidth,r=B.height,i=B.width;if(t&&n&&r&&i){var a=Math.min(1,i/n,r/t);return Math.ceil(a*n)+"px "+Math.ceil(a*t)+"px"}}}(),re=Q?(0,s.default)("img",{alt:M||"",style:L.accessibilityImage$raw,draggable:f||!1,ref:U,src:Q}):null;var ie=I(v);return o.useEffect((function(){function e(){null!=W.current&&(_.abort(W.current),W.current=null)}return e(),null!=ie&&(j(A),y&&y(),W.current=_.load(ie,(function(e){j(E),g&&g(e),m&&m()}),(function(){j("ERRORED"),h&&h({nativeEvent:{error:"Failed to load resource "+ie+" (404)"}}),m&&m()}))),e}),[ie,W,j,h,g,m,y]),o.createElement(k.default,(0,i.default)({},P,{"aria-label":M,onLayout:function(e){if("center"===X||"repeat"===X||p){var t=e.nativeEvent.layout;p&&p(e),z(t)}},pointerEvents:b,ref:t,style:[L.root,$&&L.inline,ee,C,L.undo,{boxShadow:null}]}),o.createElement(k.default,{style:[L.image,R[X],{backgroundImage:te,filter:K},null!=ne&&{backgroundSize:ne}],suppressHydrationWarning:!0}),re,function(e,t){return e&&null!=t?o.createElement("svg",{style:{position:"absolute",height:0,visibility:"hidden",width:0}},o.createElement("defs",null,o.createElement("filter",{id:"tint-"+t,suppressHydrationWarning:!0},o.createElement("feFlood",{floodColor:""+e,key:e}),o.createElement("feComposite",{in2:"SourceAlpha",operator:"atop"})))):null}(Y,V.current))}));P.displayName="Image";var M=P;M.getSize=function(e,t,n){_.getSize(e,t,n)},M.prefetch=function(e){return _.prefetch(e)},M.queryCache=function(e){return _.queryCache(e)};var L=w.default.create({root:{flexBasis:"auto",overflow:"hidden",zIndex:0},inline:{display:"inline-flex"},undo:{blurRadius:null,shadowColor:null,shadowOpacity:null,shadowOffset:null,shadowRadius:null,tintColor:null,overlayColor:null,resizeMode:null},image:(0,r.default)((0,r.default)({},w.default.absoluteFillObject),{},{backgroundColor:"transparent",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100%",width:"100%",zIndex:-1}),accessibilityImage$raw:(0,r.default)((0,r.default)({},w.default.absoluteFillObject),{},{height:"100%",opacity:0,width:"100%",zIndex:-1})}),R=w.default.create({center:{backgroundSize:"auto"},contain:{backgroundSize:"contain"},cover:{backgroundSize:"cover"},none:{backgroundPosition:"0",backgroundSize:"auto"},repeat:{backgroundPosition:"0",backgroundRepeat:"repeat",backgroundSize:"auto"},stretch:{backgroundSize:"100% 100%"}});const N=M},5991:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={OS:"web",select:function(e){return"web"in e?e.web:e.default},get isTesting(){return!1}}},6793:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>we});var r=n(8168),i=n(8587),a=n(6665),o=n(769),s=n(8345),l=function(){};var u=function(){var e=!1;if(s.default)try{var t={};Object.defineProperty(t,"passive",{get:function(){return e=!0,!1}}),window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(n){}return e}();function c(){return this.cancelBubble}function d(){return this.defaultPrevented}function f(e,t,n,r){var i=function(e){return null!=e&&(u?e:Boolean(e.capture))}(r),a=function(e){return n(((t=e).nativeEvent=t,t.persist=l,t.isDefaultPrevented=d,t.isPropagationStopped=c,t));var t};return e.addEventListener(t,a,i),function(){null!=e&&e.removeEventListener(t,a,i)}}var h,p,g="keyboard",m="keyboard",y=!1,_=new Set,b="keyboard",v="mouse",w="touch",x="contextmenu",k="mousedown",S="mousemove",T="mouseup",E="pointerdown",A="pointermove",O="scroll",C="selectionchange",I="touchcancel",P="touchmove",M="touchstart",L={passive:!0},R={capture:!0,passive:!0};function N(){null==h&&null==p||(null!=h&&(m=h,h=null),null!=p&&(g=p,p=null),j())}function D(e){var t=e.type;if("undefined"!==typeof window&&null!=window.PointerEvent){if(t===E)return void(g!==e.pointerType&&(m=e.pointerType,g=e.pointerType,j()));if(t===A)return void(m!==e.pointerType&&(m=e.pointerType,j()))}else{if(y||(t===k&&g!==v&&(m=v,g=v,j()),t===S&&m!==v&&(m=v,j())),t===M)return y=!0,e.touches&&e.touches.length>1&&(y=!1),void(g!==w&&(m=w,g=w,j()));t!==x&&t!==T&&t!==C&&t!==O&&t!==I&&t!==P||(y=!1)}}function j(){var e={activeModality:g,modality:m};_.forEach((function(t){t(e)}))}s.default&&(f(window,"blur",(function(){h=m,p=g,g=b,m=b,j(),y=!1}),L),f(window,"focus",(function(){N()}),L),f(document,"keydown",(function(e){e.metaKey||e.altKey||e.ctrlKey||m!==b&&(m=b,g=b,j())}),R),f(document,"visibilitychange",(function(){"hidden"!==document.visibilityState&&N()}),R),f(document,E,D,R),f(document,A,D,R),f(document,x,D,R),f(document,k,D,R),f(document,S,D,R),f(document,T,D,R),f(document,I,D,R),f(document,P,D,R),f(document,M,D,R),f(document,C,D,R),f(document,O,D,R));var F=n(542),B=n(9170);function z(e,t){var n=(0,B.default)((function(){return new Map})),r=(0,B.default)((function(){return function(r,i){var a=n.get(r);null!=a&&a(),null==i&&(n.delete(r),i=function(){});var o=f(r,e,i,t);return n.set(r,o),o}}));return(0,F.default)((function(){return function(){n.forEach((function(e){e()})),n.clear()}}),[n]),r}var $={},U={passive:!0},V="react-gui:hover:lock",W="react-gui:hover:unlock",H=function(){return!("undefined"===typeof window||null==window.PointerEvent)};function G(e,t,n){var r=document.createEvent("CustomEvent"),i=n||$,a=i.bubbles,o=void 0===a||a,s=i.cancelable,l=void 0===s||s,u=i.detail;r.initCustomEvent(t,o,l,u),e.dispatchEvent(r)}function q(e){var t=e.pointerType;return null!=t?t:m}var K=n(3029),Z=n(2901),X="DELAY",Y="ERROR",J="LONG_PRESS_DETECTED",Q="NOT_RESPONDER",ee="RESPONDER_ACTIVE_LONG_PRESS_START",te="RESPONDER_ACTIVE_PRESS_START",ne="RESPONDER_INACTIVE_PRESS_START",re="RESPONDER_RELEASE",ie="RESPONDER_TERMINATED",ae=Object.freeze({NOT_RESPONDER:{DELAY:Y,RESPONDER_GRANT:ne,RESPONDER_RELEASE:Y,RESPONDER_TERMINATED:Y,LONG_PRESS_DETECTED:Y},RESPONDER_INACTIVE_PRESS_START:{DELAY:te,RESPONDER_GRANT:Y,RESPONDER_RELEASE:Q,RESPONDER_TERMINATED:Q,LONG_PRESS_DETECTED:Y},RESPONDER_ACTIVE_PRESS_START:{DELAY:Y,RESPONDER_GRANT:Y,RESPONDER_RELEASE:Q,RESPONDER_TERMINATED:Q,LONG_PRESS_DETECTED:ee},RESPONDER_ACTIVE_LONG_PRESS_START:{DELAY:Y,RESPONDER_GRANT:Y,RESPONDER_RELEASE:Q,RESPONDER_TERMINATED:Q,LONG_PRESS_DETECTED:ee},ERROR:{DELAY:Q,RESPONDER_GRANT:ne,RESPONDER_RELEASE:Q,RESPONDER_TERMINATED:Q,LONG_PRESS_DETECTED:Q}}),oe=function(e){return e.getAttribute("role")},se=function(e){return e.tagName.toLowerCase()},le=function(e){return e===te||e===ee},ue=function(e){return"button"===oe(e)},ce=function(e){return e===ne||e===te||e===ee},de=function(e){var t=e.key,n=e.target,r=" "===t||"Spacebar"===t,i="button"===se(n)||ue(n);return"Enter"===t||r&&i},fe=(0,Z.default)((function e(t){(0,K.default)(this,e),this._eventHandlers=null,this._isPointerTouch=!1,this._longPressDelayTimeout=null,this._longPressDispatched=!1,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._touchState=Q,this._responderElement=null,this.configure(t)}),[{key:"configure",value:function(e){this._config=e}},{key:"reset",value:function(){this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout()}},{key:"getEventHandlers",value:function(){return null==this._eventHandlers&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}},{key:"_createEventHandlers",value:function(){var e=this,t=function(t,n){t.persist(),e._cancelPressOutDelayTimeout(),e._longPressDispatched=!1,e._selectionTerminated=!1,e._touchState=Q,e._isPointerTouch="touchstart"===t.nativeEvent.type,e._receiveSignal("RESPONDER_GRANT",t);var r=he(e._config.delayPressStart,0,50);!1!==n&&r>0?e._pressDelayTimeout=setTimeout((function(){e._receiveSignal(X,t)}),r):e._receiveSignal(X,t);var i=he(e._config.delayLongPress,10,450);e._longPressDelayTimeout=setTimeout((function(){e._handleLongPress(t)}),i+r)},n=function(t){e._receiveSignal(re,t)},r=function t(r){var i=e._config.onPress,a=r.target;if(e._touchState!==Q&&de(r)){n(r),document.removeEventListener("keyup",t);var o=a.getAttribute("role"),s=se(a),l="link"===o||"a"===s||"button"===s||"input"===s||"select"===s||"textarea"===s,u=e._responderElement===a;null!=i&&!l&&u&&i(r),e._responderElement=null}};return{onStartShouldSetResponder:function(t){var n=e._config.disabled;return n&&ue(t.currentTarget)&&t.stopPropagation(),null==n||!n},onKeyDown:function(n){var i=e._config.disabled,a=n.key,o=n.target;if(!i&&de(n)){e._touchState===Q&&(t(n,!1),e._responderElement=o,document.addEventListener("keyup",r));var s=" "===a||"Spacebar"===a,l=oe(o);s&&("button"===l||"menuitem"===l)&&"button"!==se(o)&&n.preventDefault(),n.stopPropagation()}},onResponderGrant:function(e){return t(e)},onResponderMove:function(t){null!=e._config.onPressMove&&e._config.onPressMove(t);var n=pe(t);if(null!=e._touchActivatePosition){var r=e._touchActivatePosition.pageX-n.pageX,i=e._touchActivatePosition.pageY-n.pageY;Math.hypot(r,i)>10&&e._cancelLongPressDelayTimeout()}},onResponderRelease:function(e){return n(e)},onResponderTerminate:function(t){"selectionchange"===t.nativeEvent.type&&(e._selectionTerminated=!0),e._receiveSignal(ie,t)},onResponderTerminationRequest:function(t){var n=e._config,r=n.cancelable,i=n.disabled,a=n.onLongPress;return!(!i&&null!=a&&e._isPointerTouch&&"contextmenu"===t.nativeEvent.type)&&(null==r||r)},onClick:function(t){var n=e._config,r=n.disabled,i=n.onPress;r?ue(t.currentTarget)&&t.stopPropagation():(t.stopPropagation(),e._longPressDispatched||e._selectionTerminated?t.preventDefault():null!=i&&!1===t.altKey&&i(t))},onContextMenu:function(t){var n=e._config,r=n.disabled,i=n.onLongPress;r?ue(t.currentTarget)&&t.stopPropagation():null!=i&&e._isPointerTouch&&!t.defaultPrevented&&(t.preventDefault(),t.stopPropagation())}}}},{key:"_receiveSignal",value:function(e,t){var n=this._touchState,r=null;null!=ae[n]&&(r=ae[n][e]),this._touchState===Q&&e===re||(null==r||r===Y?console.error("PressResponder: Invalid signal "+e+" for state "+n+" on responder"):n!==r&&(this._performTransitionSideEffects(n,r,e,t),this._touchState=r))}},{key:"_performTransitionSideEffects",value:function(e,t,n,r){var i=this;if(function(e){return e===ie||e===re}(n)&&(setTimeout((function(){i._isPointerTouch=!1}),0),this._touchActivatePosition=null,this._cancelLongPressDelayTimeout()),ce(e)&&n===J){var a=this._config.onLongPress;null!=a&&null==r.nativeEvent.key&&(a(r),this._longPressDispatched=!0)}var o=le(e),s=le(t);if(!o&&s?this._activate(r):o&&!s&&this._deactivate(r),ce(e)&&n===re){var l=this._config,u=l.onLongPress;null!=l.onPress&&(null!=u&&e===ee||s||o||(this._activate(r),this._deactivate(r)))}this._cancelPressDelayTimeout()}},{key:"_activate",value:function(e){var t=this._config,n=t.onPressChange,r=t.onPressStart,i=pe(e);this._touchActivatePosition={pageX:i.pageX,pageY:i.pageY},null!=r&&r(e),null!=n&&n(!0)}},{key:"_deactivate",value:function(e){var t=this._config,n=t.onPressChange,r=t.onPressEnd;function i(){null!=r&&r(e),null!=n&&n(!1)}var a=he(this._config.delayPressEnd);a>0?this._pressOutDelayTimeout=setTimeout((function(){i()}),a):i()}},{key:"_handleLongPress",value:function(e){this._touchState!==te&&this._touchState!==ee||this._receiveSignal(J,e)}},{key:"_cancelLongPressDelayTimeout",value:function(){null!=this._longPressDelayTimeout&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}},{key:"_cancelPressDelayTimeout",value:function(){null!=this._pressDelayTimeout&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}},{key:"_cancelPressOutDelayTimeout",value:function(){null!=this._pressOutDelayTimeout&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}]);function he(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=0),Math.max(t,null!==e&&void 0!==e?e:n)}function pe(e){var t=e.nativeEvent,n=t.changedTouches,r=t.touches;return null!=r&&r.length>0?r[0]:null!=n&&n.length>0?n[0]:e.nativeEvent}var ge=n(3668),me=n(3929),ye=["children","delayLongPress","delayPressIn","delayPressOut","disabled","onBlur","onContextMenu","onFocus","onHoverIn","onHoverOut","onKeyDown","onLongPress","onPress","onPressMove","onPressIn","onPressOut","style","tabIndex","testOnly_hovered","testOnly_pressed"];function _e(e){var t=(0,a.useState)(!1);return[t[0]||e,t[1]]}var be=ge.default.create({active:{cursor:"pointer",touchAction:"manipulation"},disabled:{pointerEvents:"box-none"}}),ve=(0,a.memo)((0,a.forwardRef)((function(e,t){var n=e.children,s=e.delayLongPress,l=e.delayPressIn,u=e.delayPressOut,c=e.disabled,d=e.onBlur,f=e.onContextMenu,h=e.onFocus,p=e.onHoverIn,g=e.onHoverOut,m=e.onKeyDown,y=e.onLongPress,_=e.onPress,b=e.onPressMove,v=e.onPressIn,w=e.onPressOut,x=e.style,k=e.tabIndex,S=e.testOnly_hovered,T=e.testOnly_pressed,E=(0,i.default)(e,ye),A=_e(!0===S),O=A[0],C=A[1],I=_e(!1),P=I[0],M=I[1],L=_e(!0===T),R=L[0],N=L[1],D=(0,a.useRef)(null),j=(0,o.default)(t,D),B=function(e,t){var n=(0,a.useRef)(null);null==n.current&&(n.current=new fe(t));var r=n.current;return(0,a.useEffect)((function(){r.configure(t)}),[t,r]),(0,a.useEffect)((function(){return function(){r.reset()}}),[r]),(0,a.useDebugValue)(t),r.getEventHandlers()}(0,(0,a.useMemo)((function(){return{delayLongPress:s,delayPressStart:l,delayPressEnd:u,disabled:c,onLongPress:y,onPress:_,onPressChange:N,onPressStart:v,onPressMove:b,onPressEnd:w}}),[s,l,u,c,y,_,v,b,w,N])),$=B.onContextMenu,K=B.onKeyDown;!function(e,t){var n=t.contain,r=t.disabled,i=t.onHoverStart,a=t.onHoverChange,o=t.onHoverUpdate,s=t.onHoverEnd,l=H(),u=z(l?"pointermove":"mousemove",U),c=z(l?"pointerenter":"mouseenter",U),d=z(l?"pointerleave":"mouseleave",U),f=z(V,U),h=z(W,U);(0,F.default)((function(){var t=e.current;if(null!==t){var l=function(e){null!=s&&s(e),null!=a&&a(!1),u(t,null),d(t,null)},p=function(t){var r=e.current;null!=r&&"touch"!==q(t)&&(n&&G(r,W),l(t))},g=function(e){"touch"!==q(e)&&null!=o&&(null==e.x&&(e.x=e.clientX),null==e.y&&(e.y=e.clientY),o(e))},m=function(e){null!=i&&i(e),null!=a&&a(!0),null!=o&&u(t,r?null:g),d(t,r?null:p)};c(t,r?null:function(t){var i=e.current;null!=i&&"touch"!==q(t)&&(n&&G(i,V),m(t),f(i,r?null:function(e){e.target!==i&&l(t)}),h(i,r?null:function(e){e.target!==i&&m(t)}))})}}),[c,u,d,f,h,n,r,i,a,o,s,e])}(D,{contain:!0,disabled:c,onHoverChange:C,onHoverStart:p,onHoverEnd:g});var Z,X={hovered:O,focused:P,pressed:R},Y=a.useCallback((function(e){e.nativeEvent.target===D.current&&(M(!1),null!=d&&d(e))}),[D,M,d]),J=a.useCallback((function(e){e.nativeEvent.target===D.current&&(M(!0),null!=h&&h(e))}),[D,M,h]),Q=a.useCallback((function(e){null!=$&&$(e),null!=f&&f(e)}),[f,$]),ee=a.useCallback((function(e){null!=K&&K(e),null!=m&&m(e)}),[m,K]);return Z=void 0!==k?k:c?-1:0,a.createElement(me.default,(0,r.default)({},E,B,{"aria-disabled":c,onBlur:Y,onContextMenu:Q,onFocus:J,onKeyDown:ee,ref:j,style:[c?be.disabled:be.active,"function"===typeof x?x(X):x],tabIndex:Z}),"function"===typeof n?n(X):n)})));ve.displayName="Pressable";const we=ve},2197:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});const r=function(e){return"currentcolor"===e||"currentColor"===e||"inherit"===e||0===e.indexOf("var(")};var i=n(5787),a=n.n(i);const o=function(e){if(void 0===e||null===e)return e;var t=a()(e);return void 0!==t&&null!==t?t=(t<<24|t>>>8)>>>0:void 0};const s=function(e,t){if(void 0===t&&(t=1),null!=e){if("string"===typeof e&&r(e))return e;var n=o(e);if(null!=n)return"rgba("+(n>>16&255)+","+(n>>8&255)+","+(255&n)+","+((n>>24&255)/255*t).toFixed(2)+")"}}},9650:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},i=["ms","Moz","O","Webkit"];Object.keys(r).forEach((function(e){i.forEach((function(t){r[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=r[e]}))}));const a=r;var o=n(2197),s={backgroundColor:!0,borderColor:!0,borderTopColor:!0,borderRightColor:!0,borderBottomColor:!0,borderLeftColor:!0,color:!0,shadowColor:!0,textDecorationColor:!0,textShadowColor:!0};function l(e,t){var n=e;return null!=t&&a[t]||"number"!==typeof e?null!=t&&s[t]&&(n=(0,o.default)(e)):n=e+"px",n}},6267:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createSheet:()=>g});var r=n(8345);function i(e,t,n){if(r.default){var i=null!=t?t:document,a=i.getElementById(e);if(null==a)if((a=document.createElement("style")).setAttribute("id",e),"string"===typeof n&&a.appendChild(document.createTextNode(n)),i instanceof ShadowRoot)i.insertBefore(a,i.firstChild);else{var o=i.head;o&&o.insertBefore(a,o.firstChild)}return a.sheet}return null}var a=Array.prototype.slice;function o(e){var t,n={},r={};null!=e&&a.call(e.cssRules).forEach((function(e,i){var a=e.cssText;if(a.indexOf("stylesheet-group")>-1)t=function(e){return Number(e.selectorText.split(s)[1])}(e),n[t]={start:i,rules:[a]};else{var o=c(a);null!=o&&(r[o]=!0,n[t].rules.push(a))}}));function i(e,t,r){var i=l(n),a=i.indexOf(t)+1,o=i[a],s=null!=o&&null!=n[o].start?n[o].start:e.cssRules.length,u=function(e,t,n){try{return e.insertRule(t,n),!0}catch(r){return!1}}(e,r,s);if(u){null==n[t].start&&(n[t].start=s);for(var c=a;c<i.length;c+=1){var d=i[c],f=n[d].start||0;n[d].start=f+1}}return u}var o={getTextContent:function(){return l(n).map((function(e){var t=n[e].rules,r=t.shift();return t.sort(),t.unshift(r),t.join("\n")})).join("\n")},insert:function(t,a){var o=Number(a);if(null==n[o]){var s=function(e){return'[stylesheet-group="'+e+'"]{}'}(o);n[o]={start:null,rules:[s]},null!=e&&i(e,o,s)}var l=c(t);null!=l&&null==r[l]&&(r[l]=!0,n[o].rules.push(t),null!=e&&(i(e,o,t)||n[o].rules.pop()))}};return o}var s=/["']/g;function l(e){return Object.keys(e).map(Number).sort((function(e,t){return e>t?1:-1}))}var u=/\s*([,])\s*/g;function c(e){var t=e.split("{")[0].trim();return""!==t?t.replace(u,"$1"):null}var d="react-native-stylesheet",f=new WeakMap,h=[],p=["html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);}","body{margin:0;}","button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0;}","input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none;}"];function g(e,t){var n;if(void 0===t&&(t=d),r.default){var a=null!=e?e.getRootNode():document;if(0===h.length)n=o(i(t)),p.forEach((function(e){n.insert(e,0)})),f.set(a,h.length),h.push(n);else{var s=f.get(a);if(null==s){var l=h[0],u=null!=l?l.getTextContent():"";n=o(i(t,a,u)),f.set(a,h.length),h.push(n)}else n=h[s]}}else 0===h.length?(n=o(i(t)),p.forEach((function(e){n.insert(e,0)})),h.push(n)):n=h[0];return{getTextContent:function(){return n.getTextContent()},id:t,insert:function(e,t){h.forEach((function(n){n.insert(e,t)}))}}}},3668:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Se});var r=n(9379),i=n(8587),a=n(5458),o=n(4467),s=n(9650),l=n(8345),u={},c=!l.default||null!=window.CSS&&null!=window.CSS.supports&&(window.CSS.supports("text-decoration-line","none")||window.CSS.supports("-webkit-text-decoration-line","none")),d='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif',f={borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderBlockColor:["borderTopColor","borderBottomColor"],borderInlineColor:["borderRightColor","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderStyle:["borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle"],borderBlockStyle:["borderTopStyle","borderBottomStyle"],borderInlineStyle:["borderRightStyle","borderLeftStyle"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],borderBlockWidth:["borderTopWidth","borderBottomWidth"],borderInlineWidth:["borderRightWidth","borderLeftWidth"],insetBlock:["top","bottom"],insetInline:["left","right"],marginBlock:["marginTop","marginBottom"],marginInline:["marginRight","marginLeft"],paddingBlock:["paddingTop","paddingBottom"],paddingInline:["paddingRight","paddingLeft"],overflow:["overflowX","overflowY"],overscrollBehavior:["overscrollBehaviorX","overscrollBehaviorY"],borderBlockStartColor:["borderTopColor"],borderBlockStartStyle:["borderTopStyle"],borderBlockStartWidth:["borderTopWidth"],borderBlockEndColor:["borderBottomColor"],borderBlockEndStyle:["borderBottomStyle"],borderBlockEndWidth:["borderBottomWidth"],borderEndStartRadius:["borderBottomLeftRadius"],borderEndEndRadius:["borderBottomRightRadius"],borderStartStartRadius:["borderTopLeftRadius"],borderStartEndRadius:["borderTopRightRadius"],insetBlockEnd:["bottom"],insetBlockStart:["top"],marginBlockStart:["marginTop"],marginBlockEnd:["marginBottom"],paddingBlockStart:["paddingTop"],paddingBlockEnd:["paddingBottom"]};const h=function(e,t){if(!e)return u;var n={},r=function(){var r=e[i];if(null==r)return"continue";if("backgroundClip"===i)"text"===r&&(n.backgroundClip=r,n.WebkitBackgroundClip=r);else if("flex"===i)-1===r?(n.flexGrow=0,n.flexShrink=1,n.flexBasis="auto"):n.flex=r;else if("font"===i)n[i]=r.replace("System",d);else if("fontFamily"===i)if(r.indexOf("System")>-1){var a=r.split(/,\s*/);a[a.indexOf("System")]=d,n[i]=a.join(",")}else n[i]="monospace"===r?"monospace,monospace":r;else if("textDecorationLine"===i)c?n.textDecorationLine=r:n.textDecoration=r;else if("writingDirection"===i)n.direction=r;else{var o=(0,s.default)(e[i],i),l=f[i];t&&"inset"===i?(null==e.insetInline&&(n.left=o,n.right=o),null==e.insetBlock&&(n.top=o,n.bottom=o)):t&&"margin"===i?(null==e.marginInline&&(n.marginLeft=o,n.marginRight=o),null==e.marginBlock&&(n.marginTop=o,n.marginBottom=o)):t&&"padding"===i?(null==e.paddingInline&&(n.paddingLeft=o,n.paddingRight=o),null==e.paddingBlock&&(n.paddingTop=o,n.paddingBottom=o)):l?l.forEach((function(t,r){null==e[t]&&(n[t]=o)})):n[i]=o}};for(var i in e)r();return n};const p=function(e){return function(e,t){for(var n,r=e.length,i=t^r,a=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++a;switch(r){case 3:i^=(255&e.charCodeAt(a+2))<<16;case 2:i^=(255&e.charCodeAt(a+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(a)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}(e,1).toString(36)};var g=/[A-Z]/g,m=/^ms-/,y={};function _(e){return"-"+e.toLowerCase()}const b=function(e){if(e in y)return y[e];var t=e.replace(g,_);return y[e]=m.test(t)?"-"+t:t};var v=n(218),w=n(2610),x=n(620),k=n(6698),S=n(4206),T=n(4191),E=n(4389),A=n(7007),O=n(6694),C=n(3675),I=["Webkit"],P=["Webkit","ms"];const M={plugins:[w.default,x.default,k.default,S.default,T.default,E.default,A.default,O.default,C.default],prefixMap:{appearance:["Webkit","Moz","ms"],userSelect:["Webkit","Moz"],textEmphasisPosition:P,textEmphasis:P,textEmphasisStyle:P,textEmphasisColor:P,boxDecorationBreak:P,clipPath:I,maskImage:P,maskMode:P,maskRepeat:P,maskPosition:P,maskClip:P,maskOrigin:P,maskSize:P,maskComposite:P,mask:P,maskBorderSource:P,maskBorderMode:P,maskBorderSlice:P,maskBorderWidth:P,maskBorderOutset:P,maskBorderRepeat:P,maskBorder:P,maskType:P,textDecorationStyle:I,textDecorationSkip:I,textDecorationLine:I,textDecorationColor:I,filter:I,breakAfter:I,breakBefore:I,breakInside:I,columnCount:I,columnFill:I,columnGap:I,columnRule:I,columnRuleColor:I,columnRuleStyle:I,columnRuleWidth:I,columns:I,columnSpan:I,columnWidth:I,backdropFilter:I,hyphens:I,flowInto:I,flowFrom:I,regionFragment:I,textOrientation:I,tabSize:["Moz"],fontKerning:I,textSizeAdjust:I}};const L=(0,v.default)(M);var R,N=["animationKeyframes"],D=new Map,j={},F=1,B=3,z={borderColor:2,borderRadius:2,borderStyle:2,borderWidth:2,display:2,flex:2,inset:2,margin:2,overflow:2,overscrollBehavior:2,padding:2,insetBlock:2.1,insetInline:2.1,marginInline:2.1,marginBlock:2.1,paddingInline:2.1,paddingBlock:2.1,borderBlockStartColor:2.2,borderBlockStartStyle:2.2,borderBlockStartWidth:2.2,borderBlockEndColor:2.2,borderBlockEndStyle:2.2,borderBlockEndWidth:2.2,borderInlineStartColor:2.2,borderInlineStartStyle:2.2,borderInlineStartWidth:2.2,borderInlineEndColor:2.2,borderInlineEndStyle:2.2,borderInlineEndWidth:2.2,borderEndStartRadius:2.2,borderEndEndRadius:2.2,borderStartStartRadius:2.2,borderStartEndRadius:2.2,insetBlockEnd:2.2,insetBlockStart:2.2,insetInlineEnd:2.2,insetInlineStart:2.2,marginBlockStart:2.2,marginBlockEnd:2.2,marginInlineStart:2.2,marginInlineEnd:2.2,paddingBlockStart:2.2,paddingBlockEnd:2.2,paddingInlineStart:2.2,paddingInlineEnd:2.2},$="borderTopLeftRadius",U="borderTopRightRadius",V="borderBottomLeftRadius",W="borderBottomRightRadius",H="borderLeftColor",G="borderLeftStyle",q="borderLeftWidth",K="borderRightColor",Z="borderRightStyle",X="borderRightWidth",Y="right",J="marginLeft",Q="marginRight",ee="paddingLeft",te="paddingRight",ne="left",re=(R={},(0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)(R,$,U),U,$),V,W),W,V),H,K),G,Z),q,X),K,H),Z,G),X,q),(0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)(R,ne,Y),J,Q),Q,J),ee,te),te,ee),Y,ne)),ie={borderStartStartRadius:$,borderStartEndRadius:U,borderEndStartRadius:V,borderEndEndRadius:W,borderInlineStartColor:H,borderInlineStartStyle:G,borderInlineStartWidth:q,borderInlineEndColor:K,borderInlineEndStyle:Z,borderInlineEndWidth:X,insetInlineEnd:Y,insetInlineStart:ne,marginInlineStart:J,marginInlineEnd:Q,paddingInlineStart:ee,paddingInlineEnd:te},ae=["clear","float","textAlign"];function oe(e){var t={$$css:!0},n=[];function r(e,t,r){var i,l=function(e,t){var n=(0,s.default)(e,t);return"string"!==typeof n?JSON.stringify(n||""):n}(r,t),u=t+l,c=D.get(u);if(null!=c)i=c[0],n.push(c[1]);else{i=le("r",e,e!==t?u:l);var d=z[e]||B,f=function(e,t,n){var r=[],i="."+e;switch(t){case"animationKeyframes":var s=ue(n),l=s[0],u=s[1],c=se({animationName:l.join(",")});r.push.apply(r,[""+i+c].concat((0,a.default)(u)));break;case"placeholderTextColor":var d=se({color:n,opacity:1});r.push(i+"::-webkit-input-placeholder"+d,i+"::-moz-placeholder"+d,i+":-ms-input-placeholder"+d,i+"::placeholder"+d);break;case"pointerEvents":var f=n;if("auto"===n||"box-only"===n){if(f="auto!important","box-only"===n){var h=se({pointerEvents:"none"});r.push(i+">*"+h)}}else if(("none"===n||"box-none"===n)&&(f="none!important","box-none"===n)){var p=se({pointerEvents:"auto"});r.push(i+">*"+p)}var g=se({pointerEvents:f});r.push(""+i+g);break;case"scrollbarWidth":"none"===n&&r.push(i+"::-webkit-scrollbar{display:none}");var m=se({scrollbarWidth:n});r.push(""+i+m);break;default:var y=se((0,o.default)({},t,n));r.push(""+i+y)}return r}(i,t,r),h=[f,d];n.push(h),D.set(u,[i,h])}return i}return Object.keys(e).sort().forEach((function(n){var i=e[n];if(null!=i){var o;if(ae.indexOf(n)>-1){var s=r(n,n,"left"),l=r(n,n,"right");"start"===i?o=[s,l]:"end"===i&&(o=[l,s])}var u=ie[n];if(null!=u){var c=r(n,u,i),d=r(n,re[u],i);o=[c,d]}if("transitionProperty"===n){for(var f=Array.isArray(i)?i:[i],h=[],p=0;p<f.length;p++){var g=f[p];"string"===typeof g&&null!=ie[g]&&h.push(p)}if(h.length>0){var m=(0,a.default)(f),y=(0,a.default)(f);h.forEach((function(e){var t=m[e];if("string"===typeof t){var i=ie[t],a=re[i];m[e]=i,y[e]=a;var s=r(n,n,m),l=r(n,n,y);o=[s,l]}}))}}null==o?o=r(n,n,i):t.$$css$localize=!0,t[n]=o}})),[t,n]}function se(e){var t=L(h(e));return"{"+Object.keys(t).map((function(e){var n=t[e],r=b(e);return Array.isArray(n)?n.map((function(e){return r+":"+e})).join(";"):r+":"+n})).sort().join(";")+";}"}function le(e,t,n){return e+"-"+p(t+n)}function ue(e){if("number"===typeof e)throw new Error("Invalid CSS keyframes type: "+typeof e);var t=[],n=[];return(Array.isArray(e)?e:[e]).forEach((function(e){if("string"===typeof e)t.push(e);else{var r=function(e){var t=le("r","animation",JSON.stringify(e)),n="{"+Object.keys(e).map((function(t){return""+t+se(e[t])})).join("")+"}",r=["-webkit-",""].map((function(e){return"@"+e+"keyframes "+t+n}));return[t,r]}(e),i=r[0],o=r[1];t.push(i),n.push.apply(n,(0,a.default)(o))}})),[t,n]}var ce=n(6267),de=n(975),fe=n(5568),he=n(7303),pe=["writingDirection"],ge=new WeakMap,me=(0,ce.createSheet)(),ye={shadow:!0,textShadow:!0};function _e(e){e.forEach((function(e){var t=e[0],n=e[1];null!=me&&t.forEach((function(e){me.insert(e,n)}))}))}function be(e,t){var n=function(e,t){var n,o={$$css:!0},s=[],l=e.animationKeyframes,u=(0,i.default)(e,N),c=le("css",t,JSON.stringify(e)),d="."+c;if(null!=l){var f=ue(l),h=f[0],p=f[1];n=h.join(","),s.push.apply(s,(0,a.default)(p))}var g=se((0,r.default)((0,r.default)({},u),{},{animationName:n}));return s.push(""+d+g),o[c]=c,[o,[[s,F]]]}(e,t),o=n[0];return _e(n[1]),o}var ve={position:"absolute",left:0,right:0,top:0,bottom:0},we=xe({x:(0,r.default)({},ve)}).x;function xe(e){return Object.keys(e).forEach((function(t){var n,r=e[t];null!=r&&!0!==r.$$css&&(n=t.indexOf("$raw")>-1?be(r,t.split("$raw")[0]):function(e){var t=oe((0,fe.preprocess)(e,ye)),n=t[0];return _e(t[1]),n}(r),ge.set(r,n))})),e}function ke(e,t){void 0===t&&(t={});var n="rtl"===t.writingDirection,a=function(e,t){void 0===t&&(t={});var n=t,a=n.writingDirection,o=(0,i.default)(n,pe),s="rtl"===a;return he.styleq.factory({transform:function(e){var t=ge.get(e);return null!=t?(0,de.localizeStyle)(t,s):(0,fe.preprocess)(e,(0,r.default)((0,r.default)({},ye),o))}})(e)}(e,t);return Array.isArray(a)&&null!=a[1]&&(a[1]=function(e,t){var n=e||j,r={},i={},a=function(){var e=n[o],a=o,s=e;if(!Object.prototype.hasOwnProperty.call(n,o)||null==e)return"continue";ae.indexOf(o)>-1&&("start"===e?s=t?"right":"left":"end"===e&&(s=t?"left":"right"));var l=ie[o];if(null!=l&&(a=t?re[l]:l),"transitionProperty"===o){var u=Array.isArray(e)?e:[e];u.forEach((function(e,n){if("string"===typeof e){var r=ie[e];null!=r&&(u[n]=t?re[r]:r,s=u.join(" "))}}))}r[a]||(i[a]=s),a===o&&(r[a]=!0)};for(var o in n)a();return h(i,!0)}(a[1],n)),a}ke.absoluteFill=we,ke.absoluteFillObject=ve,ke.create=xe,ke.compose=function(e,t){return[e,t]},ke.flatten=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.flat(1/0),i={},a=0;a<r.length;a++){var o=r[a];null!=o&&"object"===typeof o&&Object.assign(i,o)}return i},ke.getSheet=function(){return{id:me.id,textContent:me.getTextContent()}},ke.hairlineWidth=1,l.default&&window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&(window.__REACT_DEVTOOLS_GLOBAL_HOOK__.resolveRNStyle=ke.flatten);const Se=ke},5568:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createBoxShadowValue:()=>l,createTextShadowValue:()=>u,createTransformValue:()=>d,default:()=>g,preprocess:()=>p});var r=n(2197),i=n(9650),a=n(2155),o={},s={height:0,width:0},l=function(e){var t=e.shadowColor,n=e.shadowOffset,a=e.shadowOpacity,o=e.shadowRadius,l=n||s,u=l.height,c=l.width,d=(0,i.default)(c),f=(0,i.default)(u),h=(0,i.default)(o||0),p=(0,r.default)(t||"black",a);if(null!=p&&null!=d&&null!=f&&null!=h)return d+" "+f+" "+h+" "+p},u=function(e){var t=e.textShadowColor,n=e.textShadowOffset,r=e.textShadowRadius,a=n||s,o=a.height,l=a.width,u=r||0,c=(0,i.default)(l),d=(0,i.default)(o),f=(0,i.default)(u),h=(0,i.default)(t,"textShadowColor");if(h&&(0!==o||0!==l||0!==u)&&null!=c&&null!=d&&null!=f)return c+" "+d+" "+f+" "+h},c=function(e){var t=Object.keys(e)[0],n=e[t];return"matrix"===t||"matrix3d"===t?t+"("+n.join(",")+")":t+"("+(0,i.default)(n,t)+")"},d=function(e){return e.map(c).join(" ")},f={borderBottomEndRadius:"borderEndEndRadius",borderBottomStartRadius:"borderEndStartRadius",borderTopEndRadius:"borderStartEndRadius",borderTopStartRadius:"borderStartStartRadius",borderEndColor:"borderInlineEndColor",borderEndStyle:"borderInlineEndStyle",borderEndWidth:"borderInlineEndWidth",borderStartColor:"borderInlineStartColor",borderStartStyle:"borderInlineStartStyle",borderStartWidth:"borderInlineStartWidth",end:"insetInlineEnd",marginEnd:"marginInlineEnd",marginHorizontal:"marginInline",marginStart:"marginInlineStart",marginVertical:"marginBlock",paddingEnd:"paddingInlineEnd",paddingHorizontal:"paddingInline",paddingStart:"paddingInlineStart",paddingVertical:"paddingBlock",start:"insetInlineStart"},h={elevation:!0,overlayColor:!0,resizeMode:!0,tintColor:!0},p=function(e,t){void 0===t&&(t={});var n=e||o,r={};if(t.shadow,null!=n.shadowColor||null!=n.shadowOffset||null!=n.shadowOpacity||null!=n.shadowRadius){(0,a.warnOnce)("shadowStyles",'"shadow*" style props are deprecated. Use "boxShadow".');var i=l(n);if(null!=i&&null==r.boxShadow){var s=n.boxShadow,c=s?s+", "+i:i;r.boxShadow=c}}if(t.textShadow,null!=n.textShadowColor||null!=n.textShadowOffset||null!=n.textShadowRadius){(0,a.warnOnce)("textShadowStyles",'"textShadow*" style props are deprecated. Use "textShadow".');var p=u(n);if(null!=p&&null==r.textShadow){var g=n.textShadow,m=g?g+", "+p:p;r.textShadow=m}}for(var y in n)if(null==h[y]&&"shadowColor"!==y&&"shadowOffset"!==y&&"shadowOpacity"!==y&&"shadowRadius"!==y&&"textShadowColor"!==y&&"textShadowOffset"!==y&&"textShadowRadius"!==y){var _=n[y],b=f[y]||y,v=_;!Object.prototype.hasOwnProperty.call(n,y)||b!==y&&null!=n[b]||("aspectRatio"===b&&"number"===typeof v?r[b]=v.toString():"fontVariant"===b?(Array.isArray(v)&&v.length>0&&((0,a.warnOnce)("fontVariant",'"fontVariant" style array value is deprecated. Use space-separated values.'),v=v.join(" ")),r[b]=v):"textAlignVertical"===b?((0,a.warnOnce)("textAlignVertical",'"textAlignVertical" style is deprecated. Use "verticalAlign".'),null==n.verticalAlign&&(r.verticalAlign="center"===v?"middle":v)):"transform"===b?(Array.isArray(v)&&(v=d(v)),r.transform=v):r[b]=v)}return r};const g=p},5730:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6665).createContext)(!1)},6283:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var r=n(9379),i=n(8587),a=n(6665),o=n(6480),s=n(8532),l=n(9047),u=n(9965),c=n(769),d=n(332),f=n(6399),h=n(3668),p=n(5730),g=n(5794),m=n(2155),y=["hrefAttrs","numberOfLines","onClick","onLayout","onPress","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture","selectable"],_=Object.assign({},s.defaultProps,s.accessibilityProps,s.clickProps,s.focusProps,s.keyboardProps,s.mouseProps,s.touchProps,s.styleProps,{href:!0,lang:!0,pointerEvents:!0}),b=a.forwardRef((function(e,t){var n=e.hrefAttrs,r=e.numberOfLines,s=e.onClick,h=e.onLayout,b=e.onPress,v=e.onMoveShouldSetResponder,x=e.onMoveShouldSetResponderCapture,k=e.onResponderEnd,S=e.onResponderGrant,T=e.onResponderMove,E=e.onResponderReject,A=e.onResponderRelease,O=e.onResponderStart,C=e.onResponderTerminate,I=e.onResponderTerminationRequest,P=e.onScrollShouldSetResponder,M=e.onScrollShouldSetResponderCapture,L=e.onSelectionChangeShouldSetResponder,R=e.onSelectionChangeShouldSetResponderCapture,N=e.onStartShouldSetResponder,D=e.onStartShouldSetResponderCapture,j=e.selectable,F=(0,i.default)(e,y);null!=j&&(0,m.warnOnce)("selectable","selectable prop is deprecated. Use styles.userSelect.");var B=a.useContext(p.default),z=a.useRef(null),$=(0,g.useLocaleContext)().direction;(0,u.default)(z,h),(0,f.default)(z,{onMoveShouldSetResponder:v,onMoveShouldSetResponderCapture:x,onResponderEnd:k,onResponderGrant:S,onResponderMove:T,onResponderReject:E,onResponderRelease:A,onResponderStart:O,onResponderTerminate:C,onResponderTerminationRequest:I,onScrollShouldSetResponder:P,onScrollShouldSetResponderCapture:M,onSelectionChangeShouldSetResponder:L,onSelectionChangeShouldSetResponderCapture:R,onStartShouldSetResponder:N,onStartShouldSetResponderCapture:D});var U=a.useCallback((function(e){null!=s?s(e):null!=b&&(e.stopPropagation(),b(e))}),[s,b]),V=B?"span":"div",W=null!=e.lang?(0,g.getLocaleDirection)(e.lang):null,H=e.dir||W,G=H||$,q=function(e){return(0,l.default)(e,_)}(F);if(q.dir=H,B||(q.dir=null!=H?H:"auto"),(s||b)&&(q.onClick=U),q.style=[null!=r&&r>1&&{WebkitLineClamp:r},!0===B?w.textHasAncestor$raw:w.text$raw,1===r&&w.textOneLine,null!=r&&r>1&&w.textMultiLine,e.style,!0===j&&w.selectable,!1===j&&w.notSelectable,b&&w.pressable],null!=e.href&&(V="a",null!=n)){var K=n.download,Z=n.rel,X=n.target;null!=K&&(q.download=K),null!=Z&&(q.rel=Z),"string"===typeof X&&(q.target="_"!==X.charAt(0)?"_"+X:X)}var Y=(0,d.default)(q),J=(0,c.default)(z,Y,t);q.ref=J;var Q=(0,o.default)(V,q,{writingDirection:G});return B?Q:a.createElement(p.default.Provider,{value:!0},Q)}));b.displayName="Text";var v={backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",color:"black",display:"inline",font:"14px System",listStyle:"none",margin:0,padding:0,position:"relative",textAlign:"start",textDecoration:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},w=h.default.create({text$raw:v,textHasAncestor$raw:(0,r.default)((0,r.default)({},v),{},{color:"inherit",font:"inherit",textAlign:"inherit",whiteSpace:"inherit"}),textOneLine:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"},textMultiLine:{display:"-webkit-box",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical"},notSelectable:{userSelect:"none"},selectable:{userSelect:"text"},pressable:{cursor:"pointer"}});const x=b},6773:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var r=n(6665),i=n(6480),a=n(8532),o=n(9047),s=n(9965),l=n(542),u=n(769),c=n(332),d=n(6399),f=n(5794),h=n(3668),p=n(2600),g=n(2155),m=function(e,t){if(function(e,t){var n=e.selectionEnd,r=e.selectionStart,i=t.start,a=t.end;return i!==r||a!==n}(e,t)){var n=t.start,r=t.end;try{e.setSelectionRange(n,r||n)}catch(i){}}},y=Object.assign({},a.defaultProps,a.accessibilityProps,a.clickProps,a.focusProps,a.keyboardProps,a.mouseProps,a.touchProps,a.styleProps,{autoCapitalize:!0,autoComplete:!0,autoCorrect:!0,autoFocus:!0,defaultValue:!0,disabled:!0,lang:!0,maxLength:!0,onChange:!0,onScroll:!0,placeholder:!0,pointerEvents:!0,readOnly:!0,rows:!0,spellCheck:!0,value:!0,type:!0});var _=null,b=r.forwardRef((function(e,t){var n,a,h=e.autoCapitalize,b=void 0===h?"sentences":h,w=e.autoComplete,x=e.autoCompleteType,k=e.autoCorrect,S=void 0===k||k,T=e.blurOnSubmit,E=e.caretHidden,A=e.clearTextOnFocus,O=e.dir,C=e.editable,I=e.enterKeyHint,P=e.inputMode,M=e.keyboardType,L=e.multiline,R=void 0!==L&&L,N=e.numberOfLines,D=e.onBlur,j=e.onChange,F=e.onChangeText,B=e.onContentSizeChange,z=e.onFocus,$=e.onKeyPress,U=e.onLayout,V=e.onMoveShouldSetResponder,W=e.onMoveShouldSetResponderCapture,H=e.onResponderEnd,G=e.onResponderGrant,q=e.onResponderMove,K=e.onResponderReject,Z=e.onResponderRelease,X=e.onResponderStart,Y=e.onResponderTerminate,J=e.onResponderTerminationRequest,Q=e.onScrollShouldSetResponder,ee=e.onScrollShouldSetResponderCapture,te=e.onSelectionChange,ne=e.onSelectionChangeShouldSetResponder,re=e.onSelectionChangeShouldSetResponderCapture,ie=e.onStartShouldSetResponder,ae=e.onStartShouldSetResponderCapture,oe=e.onSubmitEditing,se=e.placeholderTextColor,le=e.readOnly,ue=void 0!==le&&le,ce=e.returnKeyType,de=e.rows,fe=e.secureTextEntry,he=void 0!==fe&&fe,pe=e.selection,ge=e.selectTextOnFocus,me=e.showSoftInputOnFocus,ye=e.spellCheck;if(null!=P)a=P,n="email"===P?"email":"tel"===P?"tel":"search"===P?"search":"url"===P?"url":"text";else if(null!=M)switch((0,g.warnOnce)("keyboardType","keyboardType is deprecated. Use inputMode."),M){case"email-address":n="email";break;case"number-pad":case"numeric":a="numeric";break;case"decimal-pad":a="decimal";break;case"phone-pad":n="tel";break;case"search":case"web-search":n="search";break;case"url":n="url";break;default:n="text"}he&&(n="password");var _e=r.useRef({height:null,width:null}),be=r.useRef(null),ve=r.useRef(null),we=r.useRef(!1);r.useEffect((function(){be.current&&ve.current&&m(be.current,ve.current),we.current=he}),[he]);var xe=r.useCallback((function(e){if(R&&B&&null!=e){var t=e.scrollHeight,n=e.scrollWidth;t===_e.current.height&&n===_e.current.width||(_e.current.height=t,_e.current.width=n,B({nativeEvent:{contentSize:{height:_e.current.height,width:_e.current.width}}}))}}),[R,B]),ke=r.useMemo((function(){return function(e){null!=e&&(e.clear=function(){null!=e&&(e.value="")},e.isFocused=function(){return null!=e&&p.default.currentlyFocusedField()===e},xe(e))}}),[xe]);(0,l.default)((function(){var e=be.current;null!=e&&null!=pe&&m(e,pe),document.activeElement===e&&(p.default._currentlyFocusedNode=e)}),[be,pe]);var Se=R?"textarea":"input";(0,s.default)(be,U),(0,d.default)(be,{onMoveShouldSetResponder:V,onMoveShouldSetResponderCapture:W,onResponderEnd:H,onResponderGrant:G,onResponderMove:q,onResponderReject:K,onResponderRelease:Z,onResponderStart:X,onResponderTerminate:Y,onResponderTerminationRequest:J,onScrollShouldSetResponder:Q,onScrollShouldSetResponderCapture:ee,onSelectionChangeShouldSetResponder:ne,onSelectionChangeShouldSetResponderCapture:re,onStartShouldSetResponder:ie,onStartShouldSetResponderCapture:ae});var Te=(0,f.useLocaleContext)().direction,Ee=function(e){return(0,o.default)(e,y)}(e);Ee.autoCapitalize=b,Ee.autoComplete=w||x||"on",Ee.autoCorrect=S?"on":"off",Ee.dir=void 0!==O?O:"auto",null!=ce&&(0,g.warnOnce)("returnKeyType","returnKeyType is deprecated. Use enterKeyHint."),Ee.enterKeyHint=I||ce,Ee.inputMode=a,Ee.onBlur=function(e){p.default._currentlyFocusedNode=null,D&&(e.nativeEvent.text=e.target.value,D(e))},Ee.onChange=function(e){var t=e.target,n=t.value;e.nativeEvent.text=n,xe(t),j&&j(e),F&&F(n)},Ee.onFocus=function(e){var t=e.target;z&&(e.nativeEvent.text=t.value,z(e)),null!=t&&(p.default._currentlyFocusedNode=t,A&&(t.value=""),ge&&(null!=_&&clearTimeout(_),_=setTimeout((function(){null!=t&&t.select()}),0)))},Ee.onKeyDown=function(e){var t=e.target;e.stopPropagation();var n=null==T?!R:T,r=e.nativeEvent,i=function(e){return e.isComposing||229===e.keyCode}(r);$&&$(e),"Enter"!==e.key||e.shiftKey||i||e.isDefaultPrevented()||(!T&&R||!oe||(e.preventDefault(),r.text=e.target.value,oe(e)),n&&null!=t&&setTimeout((function(){return t.blur()}),0))},Ee.onSelect=function(e){try{var t=e.target,n={start:t.selectionStart,end:t.selectionEnd};te&&(e.nativeEvent.selection=n,e.nativeEvent.text=e.target.value,te(e)),we.current===he&&(ve.current=n)}catch(e){}},null!=C&&(0,g.warnOnce)("editable","editable is deprecated. Use readOnly."),Ee.readOnly=!0===ue||!1===C,null!=N&&(0,g.warnOnce)("numberOfLines","TextInput numberOfLines is deprecated. Use rows."),Ee.rows=R?null!=de?de:N:1,Ee.spellCheck=null!=ye?ye:S,Ee.style=[{"--placeholderTextColor":se},v.textinput$raw,v.placeholder,e.style,E&&v.caretHidden],Ee.type=R?void 0:n,Ee.virtualkeyboardpolicy=!1===me?"manual":"auto";var Ae=(0,c.default)(Ee),Oe=(0,u.default)(be,Ae,ke,t);Ee.ref=Oe;var Ce=null!=e.lang?(0,f.getLocaleDirection)(e.lang):null,Ie=e.dir||Ce||Te;return(0,i.default)(Se,Ee,{writingDirection:Ie})}));b.displayName="TextInput",b.State=p.default;var v=h.default.create({textinput$raw:{MozAppearance:"textfield",WebkitAppearance:"none",backgroundColor:"transparent",border:"0 solid black",borderRadius:0,boxSizing:"border-box",font:"14px System",margin:0,padding:0,resize:"none"},placeholder:{placeholderTextColor:"var(--placeholderTextColor)"},caretHidden:{caretColor:"transparent"}});const w=b},7640:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(4047),i={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},a=["ms","Moz","O","Webkit"];Object.keys(i).forEach((function(e){a.forEach((function(t){i[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=i[e]}))}));const o=i;const s=function(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||o.hasOwnProperty(e)&&o[e]?(""+t).trim():t+"px"};const l=function(e,t){var n=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=0===r.indexOf("--"),a=s(r,t[r],i);"float"===r&&(r="cssFloat"),i?n.setProperty(r,a):n[r]=a}};var u=function(e){var t=e.offsetHeight,n=e.offsetWidth,r=e.offsetLeft,i=e.offsetTop;for(e=e.offsetParent;e&&1===e.nodeType;)r+=e.offsetLeft+e.clientLeft-e.scrollLeft,i+=e.offsetTop+e.clientTop-e.scrollTop,e=e.offsetParent;return{width:n,height:t,top:i-=window.scrollY,left:r-=window.scrollX}},c=function(e,t,n){var r=t||e&&e.parentNode;e&&r&&setTimeout((function(){if(e.isConnected&&r.isConnected){var t=u(r),i=u(e),a=i.height,o=i.left,s=i.top,l=i.width,c=o-t.left,d=s-t.top;n(c,d,l,a,o,s)}}),0)},d={A:!0,BODY:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0};const f={blur:function(e){try{e.blur()}catch(t){}},focus:function(e){try{var t=e.nodeName;null==e.getAttribute("tabIndex")&&!0!==e.isContentEditable&&null==d[t]&&e.setAttribute("tabIndex","-1"),e.focus()}catch(n){}},measure:function(e,t){c(e,null,t)},measureInWindow:function(e,t){e&&setTimeout((function(){var n=(0,r.default)(e),i=n.height,a=n.left,o=n.top,s=n.width;t(a,o,s,i)}),0)},measureLayout:function(e,t,n,r){c(e,t,r)},updateView:function(e,t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n];switch(n){case"style":l(e,r);break;case"class":case"className":e.setAttribute("class",r);break;case"text":case"value":e.value=r;break;default:e.setAttribute(n,r)}}},configureNextLayoutAnimation:function(e,t){t()},setLayoutAnimationEnabledExperimental:function(){}}},3929:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var r=n(8587),i=n(6665),a=n(6480),o=n(8532),s=n(9047),l=n(9965),u=n(769),c=n(332),d=n(6399),f=n(3668),h=n(5730),p=n(5794),g=["hrefAttrs","onLayout","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture"],m=Object.assign({},o.defaultProps,o.accessibilityProps,o.clickProps,o.focusProps,o.keyboardProps,o.mouseProps,o.touchProps,o.styleProps,{href:!0,lang:!0,onScroll:!0,onWheel:!0,pointerEvents:!0}),y=i.forwardRef((function(e,t){var n=e.hrefAttrs,o=e.onLayout,f=e.onMoveShouldSetResponder,y=e.onMoveShouldSetResponderCapture,b=e.onResponderEnd,v=e.onResponderGrant,w=e.onResponderMove,x=e.onResponderReject,k=e.onResponderRelease,S=e.onResponderStart,T=e.onResponderTerminate,E=e.onResponderTerminationRequest,A=e.onScrollShouldSetResponder,O=e.onScrollShouldSetResponderCapture,C=e.onSelectionChangeShouldSetResponder,I=e.onSelectionChangeShouldSetResponderCapture,P=e.onStartShouldSetResponder,M=e.onStartShouldSetResponderCapture,L=(0,r.default)(e,g);var R=i.useContext(h.default),N=i.useRef(null),D=(0,p.useLocaleContext)().direction;(0,l.default)(N,o),(0,d.default)(N,{onMoveShouldSetResponder:f,onMoveShouldSetResponderCapture:y,onResponderEnd:b,onResponderGrant:v,onResponderMove:w,onResponderReject:x,onResponderRelease:k,onResponderStart:S,onResponderTerminate:T,onResponderTerminationRequest:E,onScrollShouldSetResponder:A,onScrollShouldSetResponderCapture:O,onSelectionChangeShouldSetResponder:C,onSelectionChangeShouldSetResponderCapture:I,onStartShouldSetResponder:P,onStartShouldSetResponderCapture:M});var j="div",F=null!=e.lang?(0,p.getLocaleDirection)(e.lang):null,B=e.dir||F,z=B||D,$=function(e){return(0,s.default)(e,m)}(L);if($.dir=B,$.style=[_.view$raw,R&&_.inline,e.style],null!=e.href&&(j="a",null!=n)){var U=n.download,V=n.rel,W=n.target;null!=U&&($.download=U),null!=V&&($.rel=V),"string"===typeof W&&($.target="_"!==W.charAt(0)?"_"+W:W)}var H=(0,c.default)($),G=(0,u.default)(N,H,t);return $.ref=G,(0,a.default)(j,$,{writingDirection:z})}));y.displayName="View";var _=f.default.create({view$raw:{alignItems:"stretch",backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",flexShrink:0,listStyle:"none",margin:0,minHeight:0,minWidth:0,padding:0,position:"relative",textDecoration:"none",zIndex:0},inline:{display:"inline-flex"}});const b=y},6480:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var r={adjustable:"slider",button:"button",header:"heading",image:"img",imagebutton:null,keyboardkey:null,label:null,link:"link",none:"presentation",search:"search",summary:"region",text:null};const i=function(e){var t=e.accessibilityRole,n=e.role||t;if(n){var i=r[n];if(null!==i)return i||n}};var a={article:"article",banner:"header",blockquote:"blockquote",button:"button",code:"code",complementary:"aside",contentinfo:"footer",deletion:"del",emphasis:"em",figure:"figure",insertion:"ins",form:"form",list:"ul",listitem:"li",main:"main",navigation:"nav",paragraph:"p",region:"section",strong:"strong"},o={};const s={isDisabled:function(e){return e.disabled||Array.isArray(e.accessibilityStates)&&e.accessibilityStates.indexOf("disabled")>-1},propsToAccessibilityComponent:function(e){if(void 0===e&&(e=o),"label"===(e.role||e.accessibilityRole))return"label";var t=i(e);if(t){if("heading"===t){var n=e.accessibilityLevel||e["aria-level"];return null!=n?"h"+n:"h1"}return a[t]}},propsToAriaRole:i};var l=n(9379),u=n(8587),c=n(3668),d=n(2155),f=["aria-activedescendant","accessibilityActiveDescendant","aria-atomic","accessibilityAtomic","aria-autocomplete","accessibilityAutoComplete","aria-busy","accessibilityBusy","aria-checked","accessibilityChecked","aria-colcount","accessibilityColumnCount","aria-colindex","accessibilityColumnIndex","aria-colspan","accessibilityColumnSpan","aria-controls","accessibilityControls","aria-current","accessibilityCurrent","aria-describedby","accessibilityDescribedBy","aria-details","accessibilityDetails","aria-disabled","accessibilityDisabled","aria-errormessage","accessibilityErrorMessage","aria-expanded","accessibilityExpanded","aria-flowto","accessibilityFlowTo","aria-haspopup","accessibilityHasPopup","aria-hidden","accessibilityHidden","aria-invalid","accessibilityInvalid","aria-keyshortcuts","accessibilityKeyShortcuts","aria-label","accessibilityLabel","aria-labelledby","accessibilityLabelledBy","aria-level","accessibilityLevel","aria-live","accessibilityLiveRegion","aria-modal","accessibilityModal","aria-multiline","accessibilityMultiline","aria-multiselectable","accessibilityMultiSelectable","aria-orientation","accessibilityOrientation","aria-owns","accessibilityOwns","aria-placeholder","accessibilityPlaceholder","aria-posinset","accessibilityPosInSet","aria-pressed","accessibilityPressed","aria-readonly","accessibilityReadOnly","aria-required","accessibilityRequired","role","accessibilityRole","aria-roledescription","accessibilityRoleDescription","aria-rowcount","accessibilityRowCount","aria-rowindex","accessibilityRowIndex","aria-rowspan","accessibilityRowSpan","aria-selected","accessibilitySelected","aria-setsize","accessibilitySetSize","aria-sort","accessibilitySort","aria-valuemax","accessibilityValueMax","aria-valuemin","accessibilityValueMin","aria-valuenow","accessibilityValueNow","aria-valuetext","accessibilityValueText","dataSet","focusable","id","nativeID","pointerEvents","style","tabIndex","testID"],h={},p=Object.prototype.hasOwnProperty,g=Array.isArray,m=/[A-Z]/g;function y(e){return"-"+e.toLowerCase()}function _(e){return g(e)?e.join(" "):e}var b=c.default.create({auto:{pointerEvents:"auto"},"box-none":{pointerEvents:"box-none"},"box-only":{pointerEvents:"box-only"},none:{pointerEvents:"none"}});const v=function(e,t,n){t||(t=h);var r=t,i=r["aria-activedescendant"],a=r.accessibilityActiveDescendant,o=r["aria-atomic"],g=r.accessibilityAtomic,v=r["aria-autocomplete"],w=r.accessibilityAutoComplete,x=r["aria-busy"],k=r.accessibilityBusy,S=r["aria-checked"],T=r.accessibilityChecked,E=r["aria-colcount"],A=r.accessibilityColumnCount,O=r["aria-colindex"],C=r.accessibilityColumnIndex,I=r["aria-colspan"],P=r.accessibilityColumnSpan,M=r["aria-controls"],L=r.accessibilityControls,R=r["aria-current"],N=r.accessibilityCurrent,D=r["aria-describedby"],j=r.accessibilityDescribedBy,F=r["aria-details"],B=r.accessibilityDetails,z=r["aria-disabled"],$=r.accessibilityDisabled,U=r["aria-errormessage"],V=r.accessibilityErrorMessage,W=r["aria-expanded"],H=r.accessibilityExpanded,G=r["aria-flowto"],q=r.accessibilityFlowTo,K=r["aria-haspopup"],Z=r.accessibilityHasPopup,X=r["aria-hidden"],Y=r.accessibilityHidden,J=r["aria-invalid"],Q=r.accessibilityInvalid,ee=r["aria-keyshortcuts"],te=r.accessibilityKeyShortcuts,ne=r["aria-label"],re=r.accessibilityLabel,ie=r["aria-labelledby"],ae=r.accessibilityLabelledBy,oe=r["aria-level"],se=r.accessibilityLevel,le=r["aria-live"],ue=r.accessibilityLiveRegion,ce=r["aria-modal"],de=r.accessibilityModal,fe=r["aria-multiline"],he=r.accessibilityMultiline,pe=r["aria-multiselectable"],ge=r.accessibilityMultiSelectable,me=r["aria-orientation"],ye=r.accessibilityOrientation,_e=r["aria-owns"],be=r.accessibilityOwns,ve=r["aria-placeholder"],we=r.accessibilityPlaceholder,xe=r["aria-posinset"],ke=r.accessibilityPosInSet,Se=r["aria-pressed"],Te=r.accessibilityPressed,Ee=r["aria-readonly"],Ae=r.accessibilityReadOnly,Oe=r["aria-required"],Ce=r.accessibilityRequired,Ie=(r.role,r.accessibilityRole),Pe=r["aria-roledescription"],Me=r.accessibilityRoleDescription,Le=r["aria-rowcount"],Re=r.accessibilityRowCount,Ne=r["aria-rowindex"],De=r.accessibilityRowIndex,je=r["aria-rowspan"],Fe=r.accessibilityRowSpan,Be=r["aria-selected"],ze=r.accessibilitySelected,$e=r["aria-setsize"],Ue=r.accessibilitySetSize,Ve=r["aria-sort"],We=r.accessibilitySort,He=r["aria-valuemax"],Ge=r.accessibilityValueMax,qe=r["aria-valuemin"],Ke=r.accessibilityValueMin,Ze=r["aria-valuenow"],Xe=r.accessibilityValueNow,Ye=r["aria-valuetext"],Je=r.accessibilityValueText,Qe=r.dataSet,et=r.focusable,tt=r.id,nt=r.nativeID,rt=r.pointerEvents,it=r.style,at=r.tabIndex,ot=r.testID,st=(0,u.default)(r,f);null!=$&&(0,d.warnOnce)("accessibilityDisabled","accessibilityDisabled is deprecated.");var lt=z||$,ut=s.propsToAriaRole(t);null!=a&&(0,d.warnOnce)("accessibilityActiveDescendant","accessibilityActiveDescendant is deprecated. Use aria-activedescendant.");var ct=null!=i?i:a;null!=ct&&(st["aria-activedescendant"]=ct),null!=g&&(0,d.warnOnce)("accessibilityAtomic","accessibilityAtomic is deprecated. Use aria-atomic.");var dt=null!=o?i:g;null!=dt&&(st["aria-atomic"]=dt),null!=w&&(0,d.warnOnce)("accessibilityAutoComplete","accessibilityAutoComplete is deprecated. Use aria-autocomplete.");var ft=null!=v?v:w;null!=ft&&(st["aria-autocomplete"]=ft),null!=k&&(0,d.warnOnce)("accessibilityBusy","accessibilityBusy is deprecated. Use aria-busy.");var ht=null!=x?x:k;null!=ht&&(st["aria-busy"]=ht),null!=T&&(0,d.warnOnce)("accessibilityChecked","accessibilityChecked is deprecated. Use aria-checked.");var pt=null!=S?S:T;null!=pt&&(st["aria-checked"]=pt),null!=A&&(0,d.warnOnce)("accessibilityColumnCount","accessibilityColumnCount is deprecated. Use aria-colcount.");var gt=null!=E?E:A;null!=gt&&(st["aria-colcount"]=gt),null!=C&&(0,d.warnOnce)("accessibilityColumnIndex","accessibilityColumnIndex is deprecated. Use aria-colindex.");var mt=null!=O?O:C;null!=mt&&(st["aria-colindex"]=mt),null!=P&&(0,d.warnOnce)("accessibilityColumnSpan","accessibilityColumnSpan is deprecated. Use aria-colspan.");var yt=null!=I?I:P;null!=yt&&(st["aria-colspan"]=yt),null!=L&&(0,d.warnOnce)("accessibilityControls","accessibilityControls is deprecated. Use aria-controls.");var _t=null!=M?M:L;null!=_t&&(st["aria-controls"]=_(_t)),null!=N&&(0,d.warnOnce)("accessibilityCurrent","accessibilityCurrent is deprecated. Use aria-current.");var bt=null!=R?R:N;null!=bt&&(st["aria-current"]=bt),null!=j&&(0,d.warnOnce)("accessibilityDescribedBy","accessibilityDescribedBy is deprecated. Use aria-describedby.");var vt=null!=D?D:j;null!=vt&&(st["aria-describedby"]=_(vt)),null!=B&&(0,d.warnOnce)("accessibilityDetails","accessibilityDetails is deprecated. Use aria-details.");var wt=null!=F?F:B;null!=wt&&(st["aria-details"]=wt),!0===lt&&(st["aria-disabled"]=!0,"button"!==e&&"form"!==e&&"input"!==e&&"select"!==e&&"textarea"!==e||(st.disabled=!0)),null!=V&&(0,d.warnOnce)("accessibilityErrorMessage","accessibilityErrorMessage is deprecated. Use aria-errormessage.");var xt=null!=U?U:V;null!=xt&&(st["aria-errormessage"]=xt),null!=H&&(0,d.warnOnce)("accessibilityExpanded","accessibilityExpanded is deprecated. Use aria-expanded.");var kt=null!=W?W:H;null!=kt&&(st["aria-expanded"]=kt),null!=q&&(0,d.warnOnce)("accessibilityFlowTo","accessibilityFlowTo is deprecated. Use aria-flowto.");var St=null!=G?G:q;null!=St&&(st["aria-flowto"]=_(St)),null!=Z&&(0,d.warnOnce)("accessibilityHasPopup","accessibilityHasPopup is deprecated. Use aria-haspopup.");var Tt=null!=K?K:Z;null!=Tt&&(st["aria-haspopup"]=Tt),null!=Y&&(0,d.warnOnce)("accessibilityHidden","accessibilityHidden is deprecated. Use aria-hidden.");var Et=null!=X?X:Y;!0===Et&&(st["aria-hidden"]=Et),null!=Q&&(0,d.warnOnce)("accessibilityInvalid","accessibilityInvalid is deprecated. Use aria-invalid.");var At=null!=J?J:Q;null!=At&&(st["aria-invalid"]=At),null!=te&&(0,d.warnOnce)("accessibilityKeyShortcuts","accessibilityKeyShortcuts is deprecated. Use aria-keyshortcuts.");var Ot=null!=ee?ee:te;null!=Ot&&(st["aria-keyshortcuts"]=_(Ot)),null!=re&&(0,d.warnOnce)("accessibilityLabel","accessibilityLabel is deprecated. Use aria-label.");var Ct=null!=ne?ne:re;null!=Ct&&(st["aria-label"]=Ct),null!=ae&&(0,d.warnOnce)("accessibilityLabelledBy","accessibilityLabelledBy is deprecated. Use aria-labelledby.");var It=null!=ie?ie:ae;null!=It&&(st["aria-labelledby"]=_(It)),null!=se&&(0,d.warnOnce)("accessibilityLevel","accessibilityLevel is deprecated. Use aria-level.");var Pt=null!=oe?oe:se;null!=Pt&&(st["aria-level"]=Pt),null!=ue&&(0,d.warnOnce)("accessibilityLiveRegion","accessibilityLiveRegion is deprecated. Use aria-live.");var Mt=null!=le?le:ue;null!=Mt&&(st["aria-live"]="none"===Mt?"off":Mt),null!=de&&(0,d.warnOnce)("accessibilityModal","accessibilityModal is deprecated. Use aria-modal.");var Lt=null!=ce?ce:de;null!=Lt&&(st["aria-modal"]=Lt),null!=he&&(0,d.warnOnce)("accessibilityMultiline","accessibilityMultiline is deprecated. Use aria-multiline.");var Rt=null!=fe?fe:he;null!=Rt&&(st["aria-multiline"]=Rt),null!=ge&&(0,d.warnOnce)("accessibilityMultiSelectable","accessibilityMultiSelectable is deprecated. Use aria-multiselectable.");var Nt=null!=pe?pe:ge;null!=Nt&&(st["aria-multiselectable"]=Nt),null!=ye&&(0,d.warnOnce)("accessibilityOrientation","accessibilityOrientation is deprecated. Use aria-orientation.");var Dt=null!=me?me:ye;null!=Dt&&(st["aria-orientation"]=Dt),null!=be&&(0,d.warnOnce)("accessibilityOwns","accessibilityOwns is deprecated. Use aria-owns.");var jt=null!=_e?_e:be;null!=jt&&(st["aria-owns"]=_(jt)),null!=we&&(0,d.warnOnce)("accessibilityPlaceholder","accessibilityPlaceholder is deprecated. Use aria-placeholder.");var Ft=null!=ve?ve:we;null!=Ft&&(st["aria-placeholder"]=Ft),null!=ke&&(0,d.warnOnce)("accessibilityPosInSet","accessibilityPosInSet is deprecated. Use aria-posinset.");var Bt=null!=xe?xe:ke;null!=Bt&&(st["aria-posinset"]=Bt),null!=Te&&(0,d.warnOnce)("accessibilityPressed","accessibilityPressed is deprecated. Use aria-pressed.");var zt=null!=Se?Se:Te;null!=zt&&(st["aria-pressed"]=zt),null!=Ae&&(0,d.warnOnce)("accessibilityReadOnly","accessibilityReadOnly is deprecated. Use aria-readonly.");var $t=null!=Ee?Ee:Ae;null!=$t&&(st["aria-readonly"]=$t,"input"!==e&&"select"!==e&&"textarea"!==e||(st.readOnly=!0)),null!=Ce&&(0,d.warnOnce)("accessibilityRequired","accessibilityRequired is deprecated. Use aria-required.");var Ut=null!=Oe?Oe:Ce;null!=Ut&&(st["aria-required"]=Ut,"input"!==e&&"select"!==e&&"textarea"!==e||(st.required=Ce)),null!=Ie&&(0,d.warnOnce)("accessibilityRole","accessibilityRole is deprecated. Use role."),null!=ut&&(st.role="none"===ut?"presentation":ut),null!=Me&&(0,d.warnOnce)("accessibilityRoleDescription","accessibilityRoleDescription is deprecated. Use aria-roledescription.");var Vt=null!=Pe?Pe:Me;null!=Vt&&(st["aria-roledescription"]=Vt),null!=Re&&(0,d.warnOnce)("accessibilityRowCount","accessibilityRowCount is deprecated. Use aria-rowcount.");var Wt=null!=Le?Le:Re;null!=Wt&&(st["aria-rowcount"]=Wt),null!=De&&(0,d.warnOnce)("accessibilityRowIndex","accessibilityRowIndex is deprecated. Use aria-rowindex.");var Ht=null!=Ne?Ne:De;null!=Ht&&(st["aria-rowindex"]=Ht),null!=Fe&&(0,d.warnOnce)("accessibilityRowSpan","accessibilityRowSpan is deprecated. Use aria-rowspan.");var Gt=null!=je?je:Fe;null!=Gt&&(st["aria-rowspan"]=Gt),null!=ze&&(0,d.warnOnce)("accessibilitySelected","accessibilitySelected is deprecated. Use aria-selected.");var qt=null!=Be?Be:ze;null!=qt&&(st["aria-selected"]=qt),null!=Ue&&(0,d.warnOnce)("accessibilitySetSize","accessibilitySetSize is deprecated. Use aria-setsize.");var Kt=null!=$e?$e:Ue;null!=Kt&&(st["aria-setsize"]=Kt),null!=We&&(0,d.warnOnce)("accessibilitySort","accessibilitySort is deprecated. Use aria-sort.");var Zt=null!=Ve?Ve:We;null!=Zt&&(st["aria-sort"]=Zt),null!=Ge&&(0,d.warnOnce)("accessibilityValueMax","accessibilityValueMax is deprecated. Use aria-valuemax.");var Xt=null!=He?He:Ge;null!=Xt&&(st["aria-valuemax"]=Xt),null!=Ke&&(0,d.warnOnce)("accessibilityValueMin","accessibilityValueMin is deprecated. Use aria-valuemin.");var Yt=null!=qe?qe:Ke;null!=Yt&&(st["aria-valuemin"]=Yt),null!=Xe&&(0,d.warnOnce)("accessibilityValueNow","accessibilityValueNow is deprecated. Use aria-valuenow.");var Jt=null!=Ze?Ze:Xe;null!=Jt&&(st["aria-valuenow"]=Jt),null!=Je&&(0,d.warnOnce)("accessibilityValueText","accessibilityValueText is deprecated. Use aria-valuetext.");var Qt=null!=Ye?Ye:Je;if(null!=Qt&&(st["aria-valuetext"]=Qt),null!=Qe)for(var en in Qe)if(p.call(Qe,en)){var tn=en.replace(m,y),nn=Qe[en];null!=nn&&(st["data-"+tn]=nn)}0===at||"0"===at||-1===at||"-1"===at?st.tabIndex=at:(null!=et&&(0,d.warnOnce)("focusable","focusable is deprecated."),!1===et&&(st.tabIndex="-1"),"a"===e||"button"===e||"input"===e||"select"===e||"textarea"===e?!1!==et&&!0!==$||(st.tabIndex="-1"):"button"===ut||"checkbox"===ut||"link"===ut||"radio"===ut||"textbox"===ut||"switch"===ut?!1!==et&&(st.tabIndex="0"):!0===et&&(st.tabIndex="0")),null!=rt&&(0,d.warnOnce)("pointerEvents","props.pointerEvents is deprecated. Use style.pointerEvents");var rn=(0,c.default)([it,rt&&b[rt]],(0,l.default)({writingDirection:"ltr"},n)),an=rn[0],on=rn[1];an&&(st.className=an),on&&(st.style=on),null!=nt&&(0,d.warnOnce)("nativeID","nativeID is deprecated. Use id.");var sn=null!=tt?tt:nt;return null!=sn&&(st.id=sn),null!=ot&&(st["data-testid"]=ot),null==st.type&&"button"===e&&(st.type="button"),st};var w=n(6665),x=n(5794);const k=function(e,t,n){var r;e&&e.constructor===String&&(r=s.propsToAccessibilityComponent(t));var i=r||e,a=v(i,t,n),o=w.createElement(i,a);return a.dir?w.createElement(x.LocaleProvider,{children:o,direction:a.dir,locale:a.lang}):o}},2600:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(7640);const i={_currentlyFocusedNode:null,currentlyFocusedField:function(){return document.activeElement!==this._currentlyFocusedNode&&(this._currentlyFocusedNode=null),this._currentlyFocusedNode},focusTextInput:function(e){null!==e&&(this._currentlyFocusedNode=e,document.activeElement!==e&&r.default.focus(e))},blurTextInput:function(e){null!==e&&(this._currentlyFocusedNode=null,document.activeElement===e&&r.default.blur(e))}}},8345:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=!("undefined"===typeof window||!window.document||!window.document.createElement)},8532:(e,t,n)=>{"use strict";n.r(t),n.d(t,{accessibilityProps:()=>i,clickProps:()=>a,defaultProps:()=>r,focusProps:()=>o,keyboardProps:()=>s,mouseProps:()=>l,styleProps:()=>c,touchProps:()=>u});var r={children:!0,dataSet:!0,dir:!0,id:!0,ref:!0,suppressHydrationWarning:!0,tabIndex:!0,testID:!0,focusable:!0,nativeID:!0},i={"aria-activedescendant":!0,"aria-atomic":!0,"aria-autocomplete":!0,"aria-busy":!0,"aria-checked":!0,"aria-colcount":!0,"aria-colindex":!0,"aria-colspan":!0,"aria-controls":!0,"aria-current":!0,"aria-describedby":!0,"aria-details":!0,"aria-disabled":!0,"aria-errormessage":!0,"aria-expanded":!0,"aria-flowto":!0,"aria-haspopup":!0,"aria-hidden":!0,"aria-invalid":!0,"aria-keyshortcuts":!0,"aria-label":!0,"aria-labelledby":!0,"aria-level":!0,"aria-live":!0,"aria-modal":!0,"aria-multiline":!0,"aria-multiselectable":!0,"aria-orientation":!0,"aria-owns":!0,"aria-placeholder":!0,"aria-posinset":!0,"aria-pressed":!0,"aria-readonly":!0,"aria-required":!0,role:!0,"aria-roledescription":!0,"aria-rowcount":!0,"aria-rowindex":!0,"aria-rowspan":!0,"aria-selected":!0,"aria-setsize":!0,"aria-sort":!0,"aria-valuemax":!0,"aria-valuemin":!0,"aria-valuenow":!0,"aria-valuetext":!0,accessibilityActiveDescendant:!0,accessibilityAtomic:!0,accessibilityAutoComplete:!0,accessibilityBusy:!0,accessibilityChecked:!0,accessibilityColumnCount:!0,accessibilityColumnIndex:!0,accessibilityColumnSpan:!0,accessibilityControls:!0,accessibilityCurrent:!0,accessibilityDescribedBy:!0,accessibilityDetails:!0,accessibilityDisabled:!0,accessibilityErrorMessage:!0,accessibilityExpanded:!0,accessibilityFlowTo:!0,accessibilityHasPopup:!0,accessibilityHidden:!0,accessibilityInvalid:!0,accessibilityKeyShortcuts:!0,accessibilityLabel:!0,accessibilityLabelledBy:!0,accessibilityLevel:!0,accessibilityLiveRegion:!0,accessibilityModal:!0,accessibilityMultiline:!0,accessibilityMultiSelectable:!0,accessibilityOrientation:!0,accessibilityOwns:!0,accessibilityPlaceholder:!0,accessibilityPosInSet:!0,accessibilityPressed:!0,accessibilityReadOnly:!0,accessibilityRequired:!0,accessibilityRole:!0,accessibilityRoleDescription:!0,accessibilityRowCount:!0,accessibilityRowIndex:!0,accessibilityRowSpan:!0,accessibilitySelected:!0,accessibilitySetSize:!0,accessibilitySort:!0,accessibilityValueMax:!0,accessibilityValueMin:!0,accessibilityValueNow:!0,accessibilityValueText:!0},a={onClick:!0,onAuxClick:!0,onContextMenu:!0,onGotPointerCapture:!0,onLostPointerCapture:!0,onPointerCancel:!0,onPointerDown:!0,onPointerEnter:!0,onPointerMove:!0,onPointerLeave:!0,onPointerOut:!0,onPointerOver:!0,onPointerUp:!0},o={onBlur:!0,onFocus:!0},s={onKeyDown:!0,onKeyDownCapture:!0,onKeyUp:!0,onKeyUpCapture:!0},l={onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOver:!0,onMouseOut:!0,onMouseUp:!0},u={onTouchCancel:!0,onTouchCancelCapture:!0,onTouchEnd:!0,onTouchEndCapture:!0,onTouchMove:!0,onTouchMoveCapture:!0,onTouchStart:!0,onTouchStartCapture:!0},c={style:!0}},4047:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=function(e){if(null!=e&&(1===e.nodeType&&"function"===typeof e.getBoundingClientRect))return e.getBoundingClientRect()}},3768:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});n(6665);function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){null!=t&&("function"!==typeof t?"object"!==typeof t?console.error("mergeRefs cannot handle Refs of type boolean, number or string, received ref "+String(t)):t.current=e:t(e))}))}}},9047:(e,t,n)=>{"use strict";function r(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&!0===t[r]&&(n[r]=e[r]);return n}n.r(t),n.d(t,{default:()=>r})},9965:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(542),i=n(7640),a=n(8345),o="__reactLayoutHandler",s=(a.default,null);function l(e,t){var n=(a.default&&"undefined"!==typeof window.ResizeObserver&&null==s&&(s=new window.ResizeObserver((function(e){e.forEach((function(e){var t=e.target,n=t[o];"function"===typeof n&&i.default.measure(t,(function(t,r,i,a,o,s){var l={nativeEvent:{layout:{x:t,y:r,width:i,height:a,left:o,top:s}},timeStamp:Date.now()};Object.defineProperty(l.nativeEvent,"target",{enumerable:!0,get:function(){return e.target}}),n(l)}))}))}))),s);(0,r.default)((function(){var n=e.current;null!=n&&(n[o]=t)}),[e,t]),(0,r.default)((function(){var t=e.current;return null!=t&&null!=n&&("function"===typeof t[o]?n.observe(t):n.unobserve(t)),function(){null!=t&&null!=n&&n.unobserve(t)}}),[e,n])}},542:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6665);const i=n(8345).default?r.useLayoutEffect:r.useEffect},5794:(e,t,n)=>{"use strict";n.r(t),n.d(t,{LocaleProvider:()=>u,getLocaleDirection:()=>l,useLocaleContext:()=>c});var r=n(6665),i=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),a=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","far","glk","he","iw","khw","ks","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]),o=new Map;var s=(0,r.createContext)({direction:"ltr",locale:"en-US"});function l(e){return function(e){var t=o.get(e);if(t)return t;var n=!1;if(Intl.Locale){var r=new Intl.Locale(e).maximize().script;n=i.has(r)}else{var s=e.split("-")[0];n=a.has(s)}return o.set(e,n),n}(e)?"rtl":"ltr"}function u(e){var t=e.direction,n=e.locale,i=e.children;return t||n?r.createElement(s.Provider,{children:i,value:{direction:n?l(n):t,locale:n}}):i}function c(){return(0,r.useContext)(s)}},769:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(6665),i=n(3768);function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((function(){return i.default.apply(void 0,t)}),[].concat(t))}},332:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(7640),i=n(9170);function a(e){e.pointerEvents,e.style;return(0,i.default)((function(){return function(e){null!=e&&(e.measure=function(t){return r.default.measure(e,t)},e.measureLayout=function(t,n,i){return r.default.measureLayout(e,t,i,n)},e.measureInWindow=function(t){return r.default.measureInWindow(e,t)})}}))}},6399:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>oe});var r=n(6665),i=n(4047),a=function(){},o={},s=[];function l(e){return e>20?e%20:e}function u(e,t){var n,r,u,c=!1,d=e.changedTouches,f=e.type,h=!0===e.metaKey,p=!0===e.shiftKey,g=d&&d[0].force||0,m=l(d&&d[0].identifier||0),y=d&&d[0].clientX||e.clientX,_=d&&d[0].clientY||e.clientY,b=d&&d[0].pageX||e.pageX,v=d&&d[0].pageY||e.pageY,w="function"===typeof e.preventDefault?e.preventDefault.bind(e):a,x=e.timeStamp;function k(e){return Array.prototype.slice.call(e).map((function(e){return{force:e.force,identifier:l(e.identifier),get locationX(){return E(e.clientX)},get locationY(){return A(e.clientY)},pageX:e.pageX,pageY:e.pageY,target:e.target,timestamp:x}}))}if(null!=d)r=k(d),u=k(e.touches);else{var S=[{force:g,identifier:m,get locationX(){return E(y)},get locationY(){return A(_)},pageX:b,pageY:v,target:e.target,timestamp:x}];r=S,u="mouseup"===f||"dragstart"===f?s:S}var T={bubbles:!0,cancelable:!0,currentTarget:null,defaultPrevented:e.defaultPrevented,dispatchConfig:o,eventPhase:e.eventPhase,isDefaultPrevented:function(){return e.defaultPrevented},isPropagationStopped:function(){return c},isTrusted:e.isTrusted,nativeEvent:{altKey:!1,ctrlKey:!1,metaKey:h,shiftKey:p,changedTouches:r,force:g,identifier:m,get locationX(){return E(y)},get locationY(){return A(_)},pageX:b,pageY:v,target:e.target,timestamp:x,touches:u,type:f},persist:a,preventDefault:w,stopPropagation:function(){c=!0},target:e.target,timeStamp:x,touchHistory:t.touchHistory};function E(e){if(n=n||(0,i.default)(T.currentTarget))return e-n.left}function A(e){if(n=n||(0,i.default)(T.currentTarget))return e-n.top}return T}var c="mousedown",d="mousemove",f="mouseup",h="dragstart",p="touchstart",g="touchmove",m="touchend",y="touchcancel",_="scroll",b="select",v="selectionchange";function w(e){return e===p||e===c}function x(e){return e===g||e===d}function k(e){return e===m||e===f||S(e)}function S(e){return e===y||e===h}var T="__reactResponderId";function E(e){for(var t=[];null!=e&&e!==document.body;)t.push(e),e=e.parentNode;return t}function A(e){return null!=e?e[T]:null}function O(e){for(var t=[],n=[],r=function(e){return"selectionchange"===e.type?E(window.getSelection().anchorNode):null!=e.composedPath?e.composedPath():E(e.target)}(e),i=0;i<r.length;i++){var a=r[i],o=A(a);null!=o&&(t.push(o),n.push(a))}return{idPath:t,nodePath:n}}function C(e){return"selectionchange"===e.type?function(){var e=window.getSelection(),t=e.toString(),n=e.anchorNode,r=e.focusNode,i=n&&n.nodeType===window.Node.TEXT_NODE||r&&r.nodeType===window.Node.TEXT_NODE;return t.length>=1&&"\n"!==t&&i}():"select"===e.type}var I=n(3029),P=n(2901),M=!1,L=20;function R(e){return e.timeStamp||e.timestamp}function N(e){var t=e.identifier;return null==t&&console.error("Touch object is missing identifier."),M&&t>L&&console.error("Touch identifier %s is greater than maximum supported %s which causes performance issues backfilling array locations for all of the indices.",t,L),t}function D(e,t){var n=N(e),r=t.touchBank[n];r?function(e,t){e.touchActive=!0,e.startPageX=t.pageX,e.startPageY=t.pageY,e.startTimeStamp=R(t),e.currentPageX=t.pageX,e.currentPageY=t.pageY,e.currentTimeStamp=R(t),e.previousPageX=t.pageX,e.previousPageY=t.pageY,e.previousTimeStamp=R(t)}(r,e):t.touchBank[n]=function(e){return{touchActive:!0,startPageX:e.pageX,startPageY:e.pageY,startTimeStamp:R(e),currentPageX:e.pageX,currentPageY:e.pageY,currentTimeStamp:R(e),previousPageX:e.pageX,previousPageY:e.pageY,previousTimeStamp:R(e)}}(e),t.mostRecentTimeStamp=R(e)}function j(e){return JSON.stringify({identifier:e.identifier,pageX:e.pageX,pageY:e.pageY,timestamp:R(e)})}function F(e){var t=e.touchBank,n=JSON.stringify(t.slice(0,L));return t.length>L&&(n+=" (original size: "+t.length+")"),n}var B=(0,P.default)((function e(){(0,I.default)(this,e),this._touchHistory={touchBank:[],numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0}}),[{key:"recordTouchTrack",value:function(e,t){var n=this._touchHistory;if(x(e))t.changedTouches.forEach((function(e){return function(e,t){var n=t.touchBank[N(e)];n?(n.touchActive=!0,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=R(e),t.mostRecentTimeStamp=R(e)):console.warn("Cannot record touch move without a touch start.\n","Touch Move: "+j(e)+"\n","Touch Bank: "+F(t))}(e,n)}));else if(w(e))t.changedTouches.forEach((function(e){return D(e,n)})),n.numberActiveTouches=t.touches.length,1===n.numberActiveTouches&&(n.indexOfSingleActiveTouch=t.touches[0].identifier);else if(k(e)&&(t.changedTouches.forEach((function(e){return function(e,t){var n=t.touchBank[N(e)];n?(n.touchActive=!1,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=R(e),t.mostRecentTimeStamp=R(e)):console.warn("Cannot record touch end without a touch start.\n","Touch End: "+j(e)+"\n","Touch Bank: "+F(t))}(e,n)})),n.numberActiveTouches=t.touches.length,1===n.numberActiveTouches)){for(var r=n.touchBank,i=0;i<r.length;i++){var a=r[i];if(null!=a&&a.touchActive){n.indexOfSingleActiveTouch=i;break}}if(M){var o=r[n.indexOfSingleActiveTouch];null!=o&&o.touchActive||console.error("Cannot find single active touch.")}}}},{key:"touchHistory",get:function(){return this._touchHistory}}]),z=n(8345),$={},U=["onStartShouldSetResponderCapture","onStartShouldSetResponder",{bubbles:!0}],V=["onMoveShouldSetResponderCapture","onMoveShouldSetResponder",{bubbles:!0}],W={touchstart:U,mousedown:U,touchmove:V,mousemove:V,scroll:["onScrollShouldSetResponderCapture","onScrollShouldSetResponder",{bubbles:!1}]},H={id:null,idPath:null,node:null},G=new Map,q=!1,K=0,Z={id:null,node:null,idPath:null},X=new B;function Y(e){Z=e}function J(e){var t=G.get(e);return null!=t?t:$}function Q(e){var t=e.type,n=e.target;if("touchstart"===t&&(q=!0),("touchmove"===t||K>1)&&(q=!1),!("mousedown"===t&&q||"mousemove"===t&&q||"mousemove"===t&&K<1))if(q&&"mouseup"===t)0===K&&(q=!1);else{var r=w(t)&&function(e){var t=e.altKey,n=e.button,r=e.buttons,i=e.ctrlKey,a=e.type,o=!1===t&&!1===i;return!!("touchstart"===a||"touchmove"===a||"mousedown"===a&&(0===n||1===r)&&o||"mousemove"===a&&1===r&&o)}(e),i=x(t),a=k(t),o=function(e){return e===_}(t),s=function(e){return e===b||e===v}(t),l=u(e,X);(r||i||a)&&(e.touches?K=e.touches.length:r?K=1:a&&(K=0),X.recordTouchTrack(t,l.nativeEvent));var c,d=O(e),f=!1;if(r||i||o&&K>0){var h=Z.idPath,p=d.idPath;if(null!=h&&null!=p){var g=function(e,t){var n=e.length,r=t.length;if(0===n||0===r||e[n-1]!==t[r-1])return null;var i=e[0],a=0,o=t[0],s=0;n-r>0&&(i=e[a=n-r],n=r),r-n>0&&(o=t[s=r-n],r=n);for(var l=n;l--;){if(i===o)return i;i=e[a++],o=t[s++]}return null}(h,p);if(null!=g){var m=p.indexOf(g)+(g===Z.id?1:0);d={idPath:p.slice(m),nodePath:d.nodePath.slice(m)}}else d=null}null!=d&&(c=function(e,t,n){var r=W[t.type];if(null!=r){for(var i=e.idPath,a=e.nodePath,o=r[0],s=r[1],l=r[2].bubbles,u=function(e,t,r){var a=J(e)[r];if(null!=a&&(n.currentTarget=t,!0===a(n)))return{id:e,node:t,idPath:i.slice(i.indexOf(e))}},c=i.length-1;c>=0;c--){var d=u(i[c],a[c],o);if(null!=d)return d;if(!0===n.isPropagationStopped())return}if(l)for(var f=0;f<i.length;f++){var h=u(i[f],a[f],s);if(null!=h)return h;if(!0===n.isPropagationStopped())return}else{var p=i[0],g=a[0];if(t.target===g)return u(p,g,s)}}}(d,e,l),null!=c&&(!function(e,t){var n=Z,r=n.id,i=n.node,a=t.id,o=t.node,s=J(a),l=s.onResponderGrant,u=s.onResponderReject;if(e.bubbles=!1,e.cancelable=!1,e.currentTarget=o,null==r)null!=l&&(e.currentTarget=o,e.dispatchConfig.registrationName="onResponderGrant",l(e)),Y(t);else{var c=J(r),d=c.onResponderTerminate,f=c.onResponderTerminationRequest,h=!0;null!=f&&(e.currentTarget=i,e.dispatchConfig.registrationName="onResponderTerminationRequest",!1===f(e)&&(h=!1)),h?(null!=d&&(e.currentTarget=i,e.dispatchConfig.registrationName="onResponderTerminate",d(e)),null!=l&&(e.currentTarget=o,e.dispatchConfig.registrationName="onResponderGrant",l(e)),Y(t)):null!=u&&(e.currentTarget=o,e.dispatchConfig.registrationName="onResponderReject",u(e))}}(l,c),f=!0))}if(null!=Z.id&&null!=Z.node){var y=Z,T=y.id,E=y.node,A=J(T),I=A.onResponderStart,P=A.onResponderMove,M=A.onResponderEnd,L=A.onResponderRelease,R=A.onResponderTerminate,N=A.onResponderTerminationRequest;if(l.bubbles=!1,l.cancelable=!1,l.currentTarget=E,r)null!=I&&(l.dispatchConfig.registrationName="onResponderStart",I(l));else if(i)null!=P&&(l.dispatchConfig.registrationName="onResponderMove",P(l));else{var D=S(t)||"contextmenu"===t||"blur"===t&&n===window||"blur"===t&&n.contains(E)&&e.relatedTarget!==E||o&&0===K||o&&n.contains(E)&&n!==E||s&&C(e),j=a&&!D&&!function(e,t){if(!t||0===t.length)return!1;for(var n=0;n<t.length;n++){var r=t[n].target;if(null!=r&&e.contains(r))return!0}return!1}(E,e.touches);if(a&&null!=M&&(l.dispatchConfig.registrationName="onResponderEnd",M(l)),j&&(null!=L&&(l.dispatchConfig.registrationName="onResponderRelease",L(l)),Y(H)),D){var F=!0;"contextmenu"!==t&&"scroll"!==t&&"selectionchange"!==t||(f?F=!1:null!=N&&(l.dispatchConfig.registrationName="onResponderTerminationRequest",!1===N(l)&&(F=!1))),F&&(null!=R&&(l.dispatchConfig.registrationName="onResponderTerminate",R(l)),Y(H),q=!1,K=0)}}}}}var ee=["blur","scroll"],te=["mousedown","mousemove","mouseup","dragstart","touchstart","touchmove","touchend","touchcancel","contextmenu","select","selectionchange"];function ne(e,t,n){!function(e,t){null!=e&&(e[T]=t)}(t,e),G.set(e,n)}function re(e){Z.id===e&&function(){var e=Z,t=e.id,n=e.node;if(null!=t&&null!=n){var r=J(t).onResponderTerminate;if(null!=r){var i=u({},X);i.currentTarget=n,r(i)}Y(H)}q=!1,K=0}(),G.has(e)&&G.delete(e)}var ie={},ae=0;function oe(e,t){void 0===t&&(t=ie);var n=function(e){var t=r.useRef(null);return null==t.current&&(t.current=e()),t.current}((function(){return ae++})),i=r.useRef(!1);r.useEffect((function(){return z.default&&null==window.__reactResponderSystemActive&&(window.addEventListener("blur",Q),te.forEach((function(e){document.addEventListener(e,Q)})),ee.forEach((function(e){document.addEventListener(e,Q,!0)})),window.__reactResponderSystemActive=!0),function(){re(n)}}),[n]),r.useEffect((function(){var r=t,a=r.onMoveShouldSetResponder,o=r.onMoveShouldSetResponderCapture,s=r.onScrollShouldSetResponder,l=r.onScrollShouldSetResponderCapture,u=r.onSelectionChangeShouldSetResponder,c=r.onSelectionChangeShouldSetResponderCapture,d=r.onStartShouldSetResponder,f=r.onStartShouldSetResponderCapture,h=null!=a||null!=o||null!=s||null!=l||null!=u||null!=c||null!=d||null!=f,p=e.current;h?(ne(n,p,t),i.current=!0):i.current&&(re(n),i.current=!1)}),[t,e,n]),r.useDebugValue({isResponder:e.current===Z.node}),r.useDebugValue(t)}},9170:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(6665),i="function"===typeof Symbol&&"symbol"===typeof Symbol()?Symbol():Object.freeze({});function a(e){var t=r.useRef(i);return t.current===i&&(t.current=e()),t.current}},2155:(e,t,n)=>{"use strict";function r(e,t){0}n.r(t),n.d(t,{warnOnce:()=>r})},3136:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ei});var r=n(296),i=n(6665),a=n(9379),o=n(5991),s=n(8168),l=n(3029),u=n(2901),c=n(388),d=n(3954),f=n(5361),h=n(8587),p=n(3929),g=n(3668);const m=function e(t,n,r){if(void 0===r&&(r=-1),0===r)return!0;if(t===n)return!1;if("function"===typeof t&&"function"===typeof n)return!1;if("object"!==typeof t||null===t)return t!==n;if("object"!==typeof n||null===n)return!0;if(t.constructor!==n.constructor)return!0;if(Array.isArray(t)){var i=t.length;if(n.length!==i)return!0;for(var a=0;a<i;a++)if(e(t[a],n[a],r-1))return!0}else{for(var o in t)if(e(t[o],n[o],r-1))return!0;for(var s in n)if(void 0===t[s]&&void 0!==n[s])return!0}return!1};var y=n(6077),_=n.n(y),b=n(5458),v=n(4467),w=n(7800);function x(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=(0,w.default)(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var k=["colors","enabled","onRefresh","progressBackgroundColor","progressViewOffset","refreshing","size","tintColor","title","titleColor"];const S=function(e){e.colors,e.enabled,e.onRefresh,e.progressBackgroundColor,e.progressViewOffset,e.refreshing,e.size,e.tintColor,e.title,e.titleColor;var t=(0,h.default)(e,k);return i.createElement(p.default,t)};var T=n(6725),E=n(2600);const A=function(){E.default.blurTextInput(E.default.currentlyFocusedField())};var O=n(3768),C=n(769),I=["onScroll","onTouchMove","onWheel","scrollEnabled","scrollEventThrottle","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","style"];function P(e){return{nativeEvent:{contentOffset:{get x(){return e.target.scrollLeft},get y(){return e.target.scrollTop}},contentSize:{get height(){return e.target.scrollHeight},get width(){return e.target.scrollWidth}},layoutMeasurement:{get height(){return e.target.offsetHeight},get width(){return e.target.offsetWidth}}},timeStamp:Date.now()}}var M=i.forwardRef((function(e,t){var n=e.onScroll,r=e.onTouchMove,a=e.onWheel,o=e.scrollEnabled,l=void 0===o||o,u=e.scrollEventThrottle,c=void 0===u?0:u,d=e.showsHorizontalScrollIndicator,f=e.showsVerticalScrollIndicator,g=e.style,m=(0,h.default)(e,I),y=i.useRef({isScrolling:!1,scrollLastTick:0}),_=i.useRef(null),b=i.useRef(null);function v(e){return function(t){l&&e&&e(t)}}function w(e){y.current.scrollLastTick=Date.now(),n&&n(P(e))}var x=!1===d||!1===f;return i.createElement(p.default,(0,s.default)({},m,{onScroll:function(e){e.stopPropagation(),e.target===b.current&&(e.persist(),null!=_.current&&clearTimeout(_.current),_.current=setTimeout((function(){!function(e){y.current.isScrolling=!1,n&&n(P(e))}(e)}),100),y.current.isScrolling?function(e,t){var n=Date.now()-e;return t>0&&n>=t}(y.current.scrollLastTick,c)&&w(e):function(e){y.current.isScrolling=!0,w(e)}(e))},onTouchMove:v(r),onWheel:v(a),ref:(0,C.default)(b,t),style:[g,!l&&L.scrollDisabled,x&&L.hideScrollbar]}))})),L=g.default.create({scrollDisabled:{overflowX:"hidden",overflowY:"hidden",touchAction:"none"},hideScrollbar:{scrollbarWidth:"none"}});const R=M;var N=n(7640),D=n(7277),j=n.n(D);function F(e,t,n){return t=(0,d.default)(t),(0,c.default)(e,B()?Reflect.construct(t,n||[],(0,d.default)(e).constructor):t.apply(e,n))}function B(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(B=function(){return!!e})()}var z=["contentContainerStyle","horizontal","onContentSizeChange","refreshControl","stickyHeaderIndices","pagingEnabled","forwardedRef","keyboardDismissMode","onScroll","centerContent"],$={},U=function(e){function t(){var e;return(0,l.default)(this,t),(e=F(this,t,arguments))._scrollNodeRef=null,e._innerViewRef=null,e.isTouching=!1,e.lastMomentumScrollBeginTime=0,e.lastMomentumScrollEndTime=0,e.observedScrollSinceBecomingResponder=!1,e.becameResponderWhileAnimating=!1,e.scrollResponderHandleScrollShouldSetResponder=function(){return e.isTouching},e.scrollResponderHandleStartShouldSetResponderCapture=function(t){return e.scrollResponderIsAnimating()},e.scrollResponderHandleTerminationRequest=function(){return!e.observedScrollSinceBecomingResponder},e.scrollResponderHandleTouchEnd=function(t){var n=t.nativeEvent;e.isTouching=0!==n.touches.length,e.props.onTouchEnd&&e.props.onTouchEnd(t)},e.scrollResponderHandleResponderRelease=function(t){e.props.onResponderRelease&&e.props.onResponderRelease(t);var n=E.default.currentlyFocusedField();e.props.keyboardShouldPersistTaps||null==n||t.target===n||e.observedScrollSinceBecomingResponder||e.becameResponderWhileAnimating||(e.props.onScrollResponderKeyboardDismissed&&e.props.onScrollResponderKeyboardDismissed(t),E.default.blurTextInput(n))},e.scrollResponderHandleScroll=function(t){e.observedScrollSinceBecomingResponder=!0,e.props.onScroll&&e.props.onScroll(t)},e.scrollResponderHandleResponderGrant=function(t){e.observedScrollSinceBecomingResponder=!1,e.props.onResponderGrant&&e.props.onResponderGrant(t),e.becameResponderWhileAnimating=e.scrollResponderIsAnimating()},e.scrollResponderHandleScrollBeginDrag=function(t){e.props.onScrollBeginDrag&&e.props.onScrollBeginDrag(t)},e.scrollResponderHandleScrollEndDrag=function(t){e.props.onScrollEndDrag&&e.props.onScrollEndDrag(t)},e.scrollResponderHandleMomentumScrollBegin=function(t){e.lastMomentumScrollBeginTime=Date.now(),e.props.onMomentumScrollBegin&&e.props.onMomentumScrollBegin(t)},e.scrollResponderHandleMomentumScrollEnd=function(t){e.lastMomentumScrollEndTime=Date.now(),e.props.onMomentumScrollEnd&&e.props.onMomentumScrollEnd(t)},e.scrollResponderHandleTouchStart=function(t){e.isTouching=!0,e.props.onTouchStart&&e.props.onTouchStart(t)},e.scrollResponderHandleTouchMove=function(t){e.props.onTouchMove&&e.props.onTouchMove(t)},e.scrollResponderIsAnimating=function(){return Date.now()-e.lastMomentumScrollEndTime<16||e.lastMomentumScrollEndTime<e.lastMomentumScrollBeginTime},e.scrollResponderScrollTo=function(t,n,r){if("number"===typeof t)console.warn("`scrollResponderScrollTo(x, y, animated)` is deprecated. Use `scrollResponderScrollTo({x: 5, y: 5, animated: true})` instead.");else{var i=t||$;t=i.x,n=i.y,r=i.animated}var a=e.getScrollableNode(),o=t||0,s=n||0;null!=a&&("function"===typeof a.scroll?a.scroll({top:s,left:o,behavior:r?"smooth":"auto"}):(a.scrollLeft=o,a.scrollTop=s))},e.scrollResponderZoomTo=function(e,t){"ios"!==o.default.OS&&_()("zoomToRect is not implemented")},e.scrollResponderScrollNativeHandleToKeyboard=function(t,n,r){e.additionalScrollOffset=n||0,e.preventNegativeScrollOffset=!!r,N.default.measureLayout(t,e.getInnerViewNode(),e.scrollResponderTextInputFocusError,e.scrollResponderInputMeasureAndScrollToKeyboard)},e.scrollResponderInputMeasureAndScrollToKeyboard=function(t,n,r,i){var a=T.default.get("window").height;e.keyboardWillOpenTo&&(a=e.keyboardWillOpenTo.endCoordinates.screenY);var o=n-a+i+e.additionalScrollOffset;e.preventNegativeScrollOffset&&(o=Math.max(0,o)),e.scrollResponderScrollTo({x:0,y:o,animated:!0}),e.additionalOffset=0,e.preventNegativeScrollOffset=!1},e.scrollResponderKeyboardWillShow=function(t){e.keyboardWillOpenTo=t,e.props.onKeyboardWillShow&&e.props.onKeyboardWillShow(t)},e.scrollResponderKeyboardWillHide=function(t){e.keyboardWillOpenTo=null,e.props.onKeyboardWillHide&&e.props.onKeyboardWillHide(t)},e.scrollResponderKeyboardDidShow=function(t){t&&(e.keyboardWillOpenTo=t),e.props.onKeyboardDidShow&&e.props.onKeyboardDidShow(t)},e.scrollResponderKeyboardDidHide=function(t){e.keyboardWillOpenTo=null,e.props.onKeyboardDidHide&&e.props.onKeyboardDidHide(t)},e.flashScrollIndicators=function(){e.scrollResponderFlashScrollIndicators()},e.getScrollResponder=function(){return e},e.getScrollableNode=function(){return e._scrollNodeRef},e.getInnerViewRef=function(){return e._innerViewRef},e.getInnerViewNode=function(){return e._innerViewRef},e.getNativeScrollRef=function(){return e._scrollNodeRef},e.scrollTo=function(t,n,r){if("number"===typeof t)console.warn("`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead.");else{var i=t||$;n=i.x,t=i.y,r=i.animated}e.scrollResponderScrollTo({x:n||0,y:t||0,animated:!1!==r})},e.scrollToEnd=function(t){var n=!1!==(t&&t.animated),r=e.props.horizontal,i=e.getScrollableNode(),a=r?i.scrollWidth:0,o=r?0:i.scrollHeight;e.scrollResponderScrollTo({x:a,y:o,animated:n})},e._handleContentOnLayout=function(t){var n=t.nativeEvent.layout,r=n.width,i=n.height;e.props.onContentSizeChange(r,i)},e._handleScroll=function(t){"on-drag"===e.props.keyboardDismissMode&&A(),e.scrollResponderHandleScroll(t)},e._setInnerViewRef=function(t){e._innerViewRef=t},e._setScrollNodeRef=function(t){e._scrollNodeRef=t,null!=t&&(t.getScrollResponder=e.getScrollResponder,t.getInnerViewNode=e.getInnerViewNode,t.getInnerViewRef=e.getInnerViewRef,t.getNativeScrollRef=e.getNativeScrollRef,t.getScrollableNode=e.getScrollableNode,t.scrollTo=e.scrollTo,t.scrollToEnd=e.scrollToEnd,t.flashScrollIndicators=e.flashScrollIndicators,t.scrollResponderZoomTo=e.scrollResponderZoomTo,t.scrollResponderScrollNativeHandleToKeyboard=e.scrollResponderScrollNativeHandleToKeyboard),(0,O.default)(e.props.forwardedRef)(t)},e}return(0,f.default)(t,e),(0,u.default)(t,[{key:"scrollResponderHandleStartShouldSetResponder",value:function(){return!1}},{key:"scrollResponderHandleResponderReject",value:function(){j()(!1,"ScrollView doesn't take rejection well - scrolls anyway")}},{key:"scrollResponderFlashScrollIndicators",value:function(){}},{key:"scrollResponderTextInputFocusError",value:function(e){console.error("Error measuring text field: ",e)}},{key:"render",value:function(){var e=this.props,t=e.contentContainerStyle,n=e.horizontal,r=e.onContentSizeChange,o=e.refreshControl,l=e.stickyHeaderIndices,u=e.pagingEnabled,c=(e.forwardedRef,e.keyboardDismissMode,e.onScroll,e.centerContent),d=(0,h.default)(e,z),f={};r&&(f={onLayout:this._handleContentOnLayout});var g=!n&&Array.isArray(l),m=g||u?i.Children.map(this.props.children,(function(e,t){var n=g&&l.indexOf(t)>-1;return null!=e&&(n||u)?i.createElement(p.default,{style:[n&&W.stickyHeader,u&&W.pagingEnabledChild]},e):e})):this.props.children,y=i.createElement(p.default,(0,s.default)({},f,{children:m,collapsable:!1,ref:this._setInnerViewRef,style:[n&&W.contentContainerHorizontal,c&&W.contentContainerCenterContent,t]})),b=n?W.baseHorizontal:W.baseVertical,v=n?W.pagingEnabledHorizontal:W.pagingEnabledVertical,w=(0,a.default)((0,a.default)({},d),{},{style:[b,u&&v,this.props.style],onTouchStart:this.scrollResponderHandleTouchStart,onTouchMove:this.scrollResponderHandleTouchMove,onTouchEnd:this.scrollResponderHandleTouchEnd,onScrollBeginDrag:this.scrollResponderHandleScrollBeginDrag,onScrollEndDrag:this.scrollResponderHandleScrollEndDrag,onMomentumScrollBegin:this.scrollResponderHandleMomentumScrollBegin,onMomentumScrollEnd:this.scrollResponderHandleMomentumScrollEnd,onStartShouldSetResponder:this.scrollResponderHandleStartShouldSetResponder,onStartShouldSetResponderCapture:this.scrollResponderHandleStartShouldSetResponderCapture,onScrollShouldSetResponder:this.scrollResponderHandleScrollShouldSetResponder,onScroll:this._handleScroll,onResponderGrant:this.scrollResponderHandleResponderGrant,onResponderTerminationRequest:this.scrollResponderHandleTerminationRequest,onResponderTerminate:this.scrollResponderHandleTerminate,onResponderRelease:this.scrollResponderHandleResponderRelease,onResponderReject:this.scrollResponderHandleResponderReject}),x=R;_()(void 0!==x,"ScrollViewClass must not be undefined");var k=i.createElement(x,(0,s.default)({},w,{ref:this._setScrollNodeRef}),y);return o?i.cloneElement(o,{style:w.style},k):k}}])}(i.Component),V={flexGrow:1,flexShrink:1,transform:"translateZ(0)",WebkitOverflowScrolling:"touch"},W=g.default.create({baseVertical:(0,a.default)((0,a.default)({},V),{},{flexDirection:"column",overflowX:"hidden",overflowY:"auto"}),baseHorizontal:(0,a.default)((0,a.default)({},V),{},{flexDirection:"row",overflowX:"auto",overflowY:"hidden"}),contentContainerHorizontal:{flexDirection:"row"},contentContainerCenterContent:{justifyContent:"center",flexGrow:1},stickyHeader:{position:"sticky",top:0,zIndex:10},pagingEnabledHorizontal:{scrollSnapType:"x mandatory"},pagingEnabledVertical:{scrollSnapType:"y mandatory"},pagingEnabledChild:{scrollSnapAlign:"start"}}),H=i.forwardRef((function(e,t){return i.createElement(U,(0,s.default)({},e,{forwardedRef:t}))}));H.displayName="ScrollView";const G=H;var q=(0,u.default)((function e(t){(0,l.default)(this,e);var n=t.onMoreTasks;this._onMoreTasks=n,this._queueStack=[{tasks:[],popable:!0}]}),[{key:"enqueue",value:function(e){this._getCurrentQueue().push(e)}},{key:"enqueueTasks",value:function(e){var t=this;e.forEach((function(e){return t.enqueue(e)}))}},{key:"cancelTasks",value:function(e){this._queueStack=this._queueStack.map((function(t){return(0,a.default)((0,a.default)({},t),{},{tasks:t.tasks.filter((function(t){return-1===e.indexOf(t)}))})})).filter((function(e,t){return e.tasks.length>0||0===t}))}},{key:"hasTasksToProcess",value:function(){return this._getCurrentQueue().length>0}},{key:"processNext",value:function(){var e=this._getCurrentQueue();if(e.length){var t=e.shift();try{"object"===typeof t&&t.gen?this._genPromise(t):"object"===typeof t&&t.run?t.run():(_()("function"===typeof t,"Expected Function, SimpleTask, or PromiseTask, but got:\n"+JSON.stringify(t,null,2)),t())}catch(n){throw n.message="TaskQueue: Error with task "+(t.name||"")+": "+n.message,n}}}},{key:"_getCurrentQueue",value:function(){var e=this._queueStack.length-1,t=this._queueStack[e];return t.popable&&0===t.tasks.length&&e>0?(this._queueStack.pop(),this._getCurrentQueue()):t.tasks}},{key:"_genPromise",value:function(e){var t=this,n=this._queueStack.push({tasks:[],popable:!1})-1,r=this._queueStack[n];e.gen().then((function(){r.popable=!0,t.hasTasksToProcess()&&t._onMoreTasks()})).catch((function(t){setTimeout((function(){throw t.message="TaskQueue: Error resolving Promise in task "+e.name+": "+t.message,t}),0)}))}}]);const K=q;var Z=(0,u.default)((function e(){(0,l.default)(this,e),this._registry={}}),[{key:"addListener",value:function(e,t,n){var r=function(e,t){var n=e[t];return null==n&&(n=new Set,e[t]=n),n}(this._registry,e),i={context:n,listener:t,remove:function(){r.delete(i)}};return r.add(i),i}},{key:"emit",value:function(e){var t=this._registry[e];if(null!=t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=(0,b.default)(t);a<o.length;a++){var s=o[a];s.listener.apply(s.context,r)}}}},{key:"removeAllListeners",value:function(e){null==e?this._registry={}:delete this._registry[e]}},{key:"listenerCount",value:function(e){var t=this._registry[e];return null==t?0:t.size}}]);var X=n(8345).default&&"undefined"!==typeof window.requestIdleCallback,Y=X?window.requestIdleCallback:function(e,t){return setTimeout((function(){var t=Date.now();e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)};X&&window.cancelIdleCallback;const J=Y;var Q=new Z,ee={Events:{interactionStart:"interactionStart",interactionComplete:"interactionComplete"},runAfterInteractions:function(e){var t=[],n=new Promise((function(n){le(),e&&t.push(e),t.push({run:n,name:"resolve "+(e&&e.name||"?")}),ie.enqueueTasks(t)}));return{then:n.then.bind(n),done:n.then.bind(n),cancel:function(){ie.cancelTasks(t)}}},createInteractionHandle:function(){le();var e=++oe;return ne.add(e),e},clearInteractionHandle:function(e){_()(!!e,"Must provide a handle to clear."),le(),ne.delete(e),re.add(e)},addListener:Q.addListener.bind(Q),setDeadline:function(e){se=e}},te=new Set,ne=new Set,re=new Set,ie=new K({onMoreTasks:le}),ae=0,oe=0,se=-1;function le(){ae||(ae=se>0?setTimeout(ue):J(ue))}function ue(){ae=0;var e=te.size;ne.forEach((function(e){return te.add(e)})),re.forEach((function(e){return te.delete(e)}));var t=te.size;if(0!==e&&0===t?Q.emit(ee.Events.interactionComplete):0===e&&0!==t&&Q.emit(ee.Events.interactionStart),0===t)for(var n=Date.now();ie.hasTasksToProcess();)if(ie.processNext(),se>0&&Date.now()-n>=se){le();break}ne.clear(),re.clear()}const ce=ee;const de=(0,u.default)((function e(t,n){(0,l.default)(this,e),this._delay=n,this._callback=t}),[{key:"dispose",value:function(e){void 0===e&&(e={abort:!1}),this._taskHandle&&(this._taskHandle.cancel(),e.abort||this._callback(),this._taskHandle=null)}},{key:"schedule",value:function(){var e=this;if(!this._taskHandle){var t=setTimeout((function(){e._taskHandle=ce.runAfterInteractions((function(){e._taskHandle=null,e._callback()}))}),this._delay);this._taskHandle={cancel:function(){return clearTimeout(t)}}}}}]);const fe=function(e,t,n){return t<e?e:t>n?n:t};const he=function(){var e;return(e=console).log.apply(e,arguments)};var pe=(0,u.default)((function e(t){(0,l.default)(this,e),_()(t>=0,"CellRenderMask must contain a non-negative number os cells"),this._numCells=t,this._regions=0===t?[]:[{first:0,last:t-1,isSpacer:!0}]}),[{key:"enumerateRegions",value:function(){return this._regions}},{key:"addCells",value:function(e){var t;if(_()(e.first>=0&&e.first<this._numCells&&e.last>=-1&&e.last<this._numCells&&e.last>=e.first-1,"CellRenderMask.addCells called with invalid cell range"),!(e.last<e.first)){var n=this._findRegion(e.first),r=n[0],i=n[1],o=this._findRegion(e.last),s=o[0],l=o[1];if(i!==l||r.isSpacer){var u=[],c=[],d=(0,a.default)((0,a.default)({},e),{},{isSpacer:!1});r.first<d.first&&(r.isSpacer?u.push({first:r.first,last:d.first-1,isSpacer:!0}):d.first=r.first),s.last>d.last&&(s.isSpacer?c.push({first:d.last+1,last:s.last,isSpacer:!0}):d.last=s.last);var f=[].concat(u,[d],c),h=l-i+1;(t=this._regions).splice.apply(t,[i,h].concat((0,b.default)(f)))}}}},{key:"numCells",value:function(){return this._numCells}},{key:"equals",value:function(e){return this._numCells===e._numCells&&this._regions.length===e._regions.length&&this._regions.every((function(t,n){return t.first===e._regions[n].first&&t.last===e._regions[n].last&&t.isSpacer===e._regions[n].isSpacer}))}},{key:"_findRegion",value:function(e){for(var t=0,n=this._regions.length-1;t<=n;){var r=Math.floor((t+n)/2),i=this._regions[r];if(e>=i.first&&e<=i.last)return[i,r];e<i.first?n=r-1:e>i.last&&(t=r+1)}_()(!1,"A region was not found containing cellIdx "+e)}}]),ge=(0,u.default)((function e(){(0,l.default)(this,e),this._cellKeyToChildren=new Map,this._childrenToCellKey=new Map}),[{key:"add",value:function(e,t){var n;_()(!this._childrenToCellKey.has(e),"Trying to add already present child list");var r=null!==(n=this._cellKeyToChildren.get(t))&&void 0!==n?n:new Set;r.add(e),this._cellKeyToChildren.set(t,r),this._childrenToCellKey.set(e,t)}},{key:"remove",value:function(e){var t=this._childrenToCellKey.get(e);_()(null!=t,"Trying to remove non-present child list"),this._childrenToCellKey.delete(e);var n=this._cellKeyToChildren.get(t);_()(n,"_cellKeyToChildren should contain cellKey"),n.delete(e),0===n.size&&this._cellKeyToChildren.delete(t)}},{key:"forEach",value:function(e){for(var t,n=x(this._cellKeyToChildren.values());!(t=n()).done;)for(var r,i=x(t.value);!(r=i()).done;)e(r.value)}},{key:"forEachInCell",value:function(e,t){for(var n,r,i=x(null!==(n=this._cellKeyToChildren.get(e))&&void 0!==n?n:[]);!(r=i()).done;)t(r.value)}},{key:"anyInCell",value:function(e,t){for(var n,r,i=x(null!==(n=this._cellKeyToChildren.get(e))&&void 0!==n?n:[]);!(r=i()).done;)if(t(r.value))return!0;return!1}},{key:"size",value:function(){return this._childrenToCellKey.size}}]),me=(0,u.default)((function e(){(0,l.default)(this,e),this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0})),ye=[],_e=10,be=null;const ve=(0,u.default)((function e(t){(0,l.default)(this,e),this._anyBlankStartTime=null,this._enabled=!1,this._info=new me,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=t,this._enabled=(be||0)>Math.random(),this._resetData()}),[{key:"activate",value:function(){this._enabled&&null==this._samplesStartTime&&(this._samplesStartTime=n.g.performance.now())}},{key:"deactivateAndFlush",value:function(){if(this._enabled){var e=this._samplesStartTime;if(null!=e)if(this._info.sample_count<_e)this._resetData();else{var t=n.g.performance.now()-e,r=(0,a.default)((0,a.default)({},this._info),{},{total_time_spent:t});ye.forEach((function(e){return e(r)})),this._resetData()}}}},{key:"computeBlankness",value:function(e,t,r){if(!this._enabled||0===e.getItemCount(e.data)||t.last<t.first||null==this._samplesStartTime)return 0;var i=r.dOffset,a=r.offset,o=r.velocity,s=r.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(s),this._info.pixels_scrolled+=Math.round(Math.abs(i));var l=Math.round(1e3*Math.abs(o)),u=n.g.performance.now();null!=this._anyBlankStartTime&&(this._info.any_blank_ms+=u-this._anyBlankStartTime),this._anyBlankStartTime=null,null!=this._mostlyBlankStartTime&&(this._info.mostly_blank_ms+=u-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var c=0,d=t.first,f=this._getFrameMetrics(d,e);d<=t.last&&(!f||!f.inLayout);)f=this._getFrameMetrics(d,e),d++;f&&d>0&&(c=Math.min(s,Math.max(0,f.offset-a)));for(var h=0,p=t.last,g=this._getFrameMetrics(p,e);p>=t.first&&(!g||!g.inLayout);)g=this._getFrameMetrics(p,e),p--;if(g&&p<e.getItemCount(e.data)-1){var m=g.offset+g.length;h=Math.min(s,Math.max(0,a+s-m))}var y=Math.round(c+h),_=y/s;return _>0?(this._anyBlankStartTime=u,this._info.any_blank_speed_sum+=l,this._info.any_blank_count++,this._info.pixels_blank+=y,_>.5&&(this._mostlyBlankStartTime=u,this._info.mostly_blank_count++)):(l<.01||Math.abs(i)<1)&&this.deactivateAndFlush(),_}},{key:"enabled",value:function(){return this._enabled}},{key:"_resetData",value:function(){this._anyBlankStartTime=null,this._info=new me,this._mostlyBlankStartTime=null,this._samplesStartTime=null}}],[{key:"addListener",value:function(e){return null===be&&console.warn("Call `FillRateHelper.setSampleRate` before `addListener`."),ye.push(e),{remove:function(){ye=ye.filter((function(t){return e!==t}))}}}},{key:"setSampleRate",value:function(e){be=e}},{key:"setMinSampleCount",value:function(e){_e=e}}]);function we(){return we="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=(0,d.default)(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},we.apply(null,arguments)}function xe(e,t,n){return t=(0,d.default)(t),(0,c.default)(e,ke()?Reflect.construct(t,n||[],(0,d.default)(e).constructor):t.apply(e,n))}function ke(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ke=function(){return!!e})()}var Se=function(e){function t(e){var n;return(0,l.default)(this,t),(n=xe(this,t,[e]))._inAsyncStateUpdate=!1,n._installSetStateHooks(),n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"setState",value:function(e,n){var r=this;"function"===typeof e?we((0,d.default)(t.prototype),"setState",this).call(this,(function(t,n){var i;r._inAsyncStateUpdate=!0;try{i=e(t,n)}catch(a){throw a}finally{r._inAsyncStateUpdate=!1}return i}),n):we((0,d.default)(t.prototype),"setState",this).call(this,e,n)}},{key:"_installSetStateHooks",value:function(){var e=this,t=this.props,n=this.state;Object.defineProperty(this,"props",{get:function(){return _()(!e._inAsyncStateUpdate,'"this.props" should not be accessed during state updates'),t},set:function(e){t=e}}),Object.defineProperty(this,"state",{get:function(){return _()(!e._inAsyncStateUpdate,'"this.state" should not be acceessed during state updates'),n},set:function(e){n=e}})}}])}(i.PureComponent);function Te(e,t,n,r,i,a){if(function(e,t,n){return e>=0&&t<=n&&t>e}(n,r,i))return!0;var o=function(e,t,n){var r=Math.min(t,n)-Math.max(e,0);return Math.max(0,r)}(n,r,i);return 100*(e?o/i:o/a)>=t}const Ee=(0,u.default)((function e(t){(0,l.default)(this,e),void 0===t&&(t={viewAreaCoveragePercentThreshold:0}),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=t}),[{key:"dispose",value:function(){this._timers.forEach(clearTimeout)}},{key:"computeViewableItems",value:function(e,t,n,r,i){var a=e.getItemCount(e.data),o=this._config,s=o.itemVisiblePercentThreshold,l=o.viewAreaCoveragePercentThreshold,u=null!=l,c=u?l:s;_()(null!=c&&null!=s!==(null!=l),"Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold");var d=[];if(0===a)return d;var f=-1,h=i||{first:0,last:a-1},p=h.first,g=h.last;if(g>=a)return console.warn("Invalid render range computing viewability "+JSON.stringify({renderRange:i,itemCount:a})),[];for(var m=p;m<=g;m++){var y=r(m,e);if(y){var b=y.offset-t,v=b+y.length;if(b<n&&v>0)f=m,Te(u,c,b,v,n,y.length)&&d.push(m);else if(f>=0)break}}return d}},{key:"onUpdate",value:function(e,t,n,r,i,a,o){var s=this,l=e.getItemCount(e.data);if((!this._config.waitForInteraction||this._hasInteracted)&&0!==l&&r(0,e)){var u=[];if(l&&(u=this.computeViewableItems(e,t,n,r,o)),this._viewableIndices.length!==u.length||!this._viewableIndices.every((function(e,t){return e===u[t]})))if(this._viewableIndices=u,this._config.minimumViewTime){var c=setTimeout((function(){s._timers.delete(c),s._onUpdateSync(e,u,a,i)}),this._config.minimumViewTime);this._timers.add(c)}else this._onUpdateSync(e,u,a,i)}}},{key:"resetViewableIndices",value:function(){this._viewableIndices=[]}},{key:"recordInteraction",value:function(){this._hasInteracted=!0}},{key:"_onUpdateSync",value:function(e,t,n,r){var i=this;t=t.filter((function(e){return i._viewableIndices.includes(e)}));for(var o,s=this._viewableItems,l=new Map(t.map((function(t){var n=r(t,!0,e);return[n.key,n]}))),u=[],c=x(l);!(o=c()).done;){var d=o.value,f=d[0],h=d[1];s.has(f)||u.push(h)}for(var p,g=x(s);!(p=g()).done;){var m=p.value,y=m[0],_=m[1];l.has(y)||u.push((0,a.default)((0,a.default)({},_),{},{isViewable:!1}))}u.length>0&&(this._viewableItems=l,n({viewableItems:Array.from(l.values()),changed:u,viewabilityConfig:this._config}))}}]);var Ae=i.createContext(null);function Oe(e){var t=e.children,n=e.value,r=(0,i.useMemo)((function(){return{cellKey:null,getScrollMetrics:n.getScrollMetrics,horizontal:n.horizontal,getOutermostParentListRef:n.getOutermostParentListRef,registerAsNestedChild:n.registerAsNestedChild,unregisterAsNestedChild:n.unregisterAsNestedChild}}),[n.getScrollMetrics,n.horizontal,n.getOutermostParentListRef,n.registerAsNestedChild,n.unregisterAsNestedChild]);return i.createElement(Ae.Provider,{value:r},t)}function Ce(e){var t=e.cellKey,n=e.children,r=(0,i.useContext)(Ae),o=(0,i.useMemo)((function(){return null==r?null:(0,a.default)((0,a.default)({},r),{},{cellKey:t})}),[r,t]);return i.createElement(Ae.Provider,{value:o},n)}function Ie(e,t,n){return t=(0,d.default)(t),(0,c.default)(e,Pe()?Reflect.construct(t,n||[],(0,d.default)(e).constructor):t.apply(e,n))}function Pe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Pe=function(){return!!e})()}var Me=function(e){function t(){var e;return(0,l.default)(this,t),(e=Ie(this,t,arguments)).state={separatorProps:{highlighted:!1,leadingItem:e.props.item}},e._separators={highlight:function(){var t=e.props,n=t.cellKey,r=t.prevCellKey;e.props.onUpdateSeparators([n,r],{highlighted:!0})},unhighlight:function(){var t=e.props,n=t.cellKey,r=t.prevCellKey;e.props.onUpdateSeparators([n,r],{highlighted:!1})},updateProps:function(t,n){var r=e.props,i=r.cellKey,a=r.prevCellKey;e.props.onUpdateSeparators(["leading"===t?a:i],n)}},e._onLayout=function(t){e.props.onCellLayout&&e.props.onCellLayout(t,e.props.cellKey,e.props.index)},e}return(0,f.default)(t,e),(0,u.default)(t,[{key:"updateSeparatorProps",value:function(e){this.setState((function(t){return{separatorProps:(0,a.default)((0,a.default)({},t.separatorProps),e)}}))}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.props.cellKey)}},{key:"_renderElement",value:function(e,t,n,r){return e&&t&&console.warn("VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take precedence over renderItem."),t?i.createElement(t,{item:n,index:r,separators:this._separators}):e?e({item:n,index:r,separators:this._separators}):void _()(!1,"VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.")}},{key:"render",value:function(){var e=this.props,t=e.CellRendererComponent,n=e.ItemSeparatorComponent,r=e.ListItemComponent,a=e.cellKey,o=e.horizontal,l=e.item,u=e.index,c=e.inversionStyle,d=e.onCellFocusCapture,f=e.onCellLayout,h=e.renderItem,g=this._renderElement(h,r,l,u),m=i.isValidElement(n)?n:n&&i.createElement(n,this.state.separatorProps),y=c?o?[Le.rowReverse,c]:[Le.columnReverse,c]:o?[Le.row,c]:c,_=t?i.createElement(t,(0,s.default)({cellKey:a,index:u,item:l,style:y,onFocusCapture:d},f&&{onLayout:this._onLayout}),g,m):i.createElement(p.default,(0,s.default)({style:y,onFocusCapture:d},f&&{onLayout:this._onLayout}),g,m);return i.createElement(Ce,{cellKey:this.props.cellKey},_)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{separatorProps:(0,a.default)((0,a.default)({},t.separatorProps),{},{leadingItem:e.item})}}}])}(i.Component),Le=g.default.create({row:{flexDirection:"row"},rowReverse:{flexDirection:"row-reverse"},columnReverse:{flexDirection:"column-reverse"}});function Re(e,t,n,r,i,a){var o=e.getItemCount(e.data);if(0===o)return{first:0,last:-1};var s=a.offset,l=a.velocity,u=a.visibleLength,c=a.zoomScale,d=void 0===c?1:c,f=Math.max(0,s),h=f+u,p=(n-1)*u,g=l>1?"after":l<-1?"before":"none",m=Math.max(0,f-.5*p),y=Math.max(0,h+.5*p);if(i(o-1,e).offset*d<m)return{first:Math.max(0,o-1-t),last:o-1};var _=function(e,t,n,r){void 0===r&&(r=1);for(var i=t.getItemCount(t.data),a=[],o=0;o<e.length;o++)for(var s=e[o],l=0,u=i-1;l<=u;){var c=l+(u-l>>>1),d=n(c,t),f=d.offset*r,h=(d.offset+d.length)*r;if(0===c&&s<f||0!==c&&s<=f)u=c-1;else{if(!(s>h)){a[o]=c;break}l=c+1}}return a}([m,f,h,y],e,i,d),b=_[0],v=_[1],w=_[2],x=_[3];b=null==b?0:b,x=null==x?o-1:x;for(var k={first:v=null==v?Math.max(0,b):v,last:w=null==w?Math.min(x,v+t-1):w},S=function(e,t){return t.last-t.first+1-Math.max(0,1+Math.min(t.last,e.last)-Math.max(t.first,e.first))}(r,k);!(v<=b&&w>=x);){var T=S>=t,E=v<=r.first||v>r.last,A=v>b&&(!T||!E),O=w>=r.last||w<r.first,C=w<x&&(!T||!O);if(T&&!A&&!C)break;!A||"after"===g&&C&&O||(E&&S++,v--),!C||"before"===g&&A&&E||(O&&S++,w++)}if(!(w>=v&&v>=0&&w<o&&v>=b&&w<=x&&v<=k.first&&w>=k.last))throw new Error("Bad window calculation "+JSON.stringify({first:v,last:w,itemCount:o,overscanFirst:b,overscanLast:x,visible:k}));return{first:v,last:w}}function Ne(e,t){return"object"===typeof e&&null!=(null==e?void 0:e.key)?e.key:"object"===typeof e&&null!=(null==e?void 0:e.id)?e.id:String(t)}var De=n(6076),je=n.n(De);function Fe(e,t,n){return t=(0,d.default)(t),(0,c.default)(e,Be()?Reflect.construct(t,n||[],(0,d.default)(e).constructor):t.apply(e,n))}function Be(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Be=function(){return!!e})()}var ze=!1,$e="";function Ue(e){return null!==e&&void 0!==e&&e}function Ve(e){return null!==e&&void 0!==e?e:10}function We(e){return null!==e&&void 0!==e?e:2}function He(e,t){return e*t/2}function Ge(e){return null!==e&&void 0!==e?e:21}var qe=function(e){function t(e){var n,r;if((0,l.default)(this,t),(n=Fe(this,t,[e]))._getScrollMetrics=function(){return n._scrollMetrics},n._getOutermostParentListRef=function(){return n._isNestedWithSameOrientation()?n.context.getOutermostParentListRef():n},n._registerAsNestedChild=function(e){n._nestedChildLists.add(e.ref,e.cellKey),n._hasInteracted&&e.ref.recordInteraction()},n._unregisterAsNestedChild=function(e){n._nestedChildLists.remove(e.ref)},n._onUpdateSeparators=function(e,t){e.forEach((function(e){var r=null!=e&&n._cellRefs[e];r&&r.updateSeparatorProps(t)}))},n._getSpacerKey=function(e){return e?"height":"width"},n._averageCellLength=0,n._cellRefs={},n._frames={},n._footerLength=0,n._hasTriggeredInitialScrollToIndex=!1,n._hasInteracted=!1,n._hasMore=!1,n._hasWarned={},n._headerLength=0,n._hiPriInProgress=!1,n._highestMeasuredFrameIndex=0,n._indicesToKeys=new Map,n._lastFocusedCellKey=null,n._nestedChildLists=new ge,n._offsetFromParentVirtualizedList=0,n._prevParentOffset=0,n._scrollMetrics={contentLength:0,dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0,zoomScale:1},n._scrollRef=null,n._sentStartForContentLength=0,n._sentEndForContentLength=0,n._totalCellLength=0,n._totalCellsMeasured=0,n._viewabilityTuples=[],n._captureScrollRef=function(e){n._scrollRef=e},n._defaultRenderScrollComponent=function(e){var t,r=e.onRefresh;return n._isNestedWithSameOrientation()?i.createElement(p.default,e):r?(_()("boolean"===typeof e.refreshing,"`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `"+JSON.stringify(null!==(t=e.refreshing)&&void 0!==t?t:"undefined")+"`"),i.createElement(G,(0,s.default)({},e,{refreshControl:null==e.refreshControl?i.createElement(S,{refreshing:e.refreshing,onRefresh:r,progressViewOffset:e.progressViewOffset}):e.refreshControl}))):i.createElement(G,e)},n._onCellLayout=function(e,t,r){var i=e.nativeEvent.layout,a={offset:n._selectOffset(i),length:n._selectLength(i),index:r,inLayout:!0},o=n._frames[t];o&&a.offset===o.offset&&a.length===o.length&&r===o.index?n._frames[t].inLayout=!0:(n._totalCellLength+=a.length-(o?o.length:0),n._totalCellsMeasured+=o?0:1,n._averageCellLength=n._totalCellLength/n._totalCellsMeasured,n._frames[t]=a,n._highestMeasuredFrameIndex=Math.max(n._highestMeasuredFrameIndex,r),n._scheduleCellsToRenderUpdate()),n._triggerRemeasureForChildListsInCell(t),n._computeBlankness(),n._updateViewableItems(n.props,n.state.cellsAroundViewport)},n._onCellUnmount=function(e){delete n._cellRefs[e];var t=n._frames[e];t&&(n._frames[e]=(0,a.default)((0,a.default)({},t),{},{inLayout:!1}))},n._onLayout=function(e){n._isNestedWithSameOrientation()?n.measureLayoutRelativeToContainingList():n._scrollMetrics.visibleLength=n._selectLength(e.nativeEvent.layout),n.props.onLayout&&n.props.onLayout(e),n._scheduleCellsToRenderUpdate(),n._maybeCallOnEdgeReached()},n._onLayoutEmpty=function(e){n.props.onLayout&&n.props.onLayout(e)},n._onLayoutFooter=function(e){n._triggerRemeasureForChildListsInCell(n._getFooterCellKey()),n._footerLength=n._selectLength(e.nativeEvent.layout)},n._onLayoutHeader=function(e){n._headerLength=n._selectLength(e.nativeEvent.layout)},n._onContentSizeChange=function(e,t){e>0&&t>0&&null!=n.props.initialScrollIndex&&n.props.initialScrollIndex>0&&!n._hasTriggeredInitialScrollToIndex&&(null==n.props.contentOffset&&(n.props.initialScrollIndex<n.props.getItemCount(n.props.data)?n.scrollToIndex({animated:!1,index:je()(n.props.initialScrollIndex)}):n.scrollToEnd({animated:!1})),n._hasTriggeredInitialScrollToIndex=!0),n.props.onContentSizeChange&&n.props.onContentSizeChange(e,t),n._scrollMetrics.contentLength=n._selectLength({height:t,width:e}),n._scheduleCellsToRenderUpdate(),n._maybeCallOnEdgeReached()},n._convertParentScrollMetrics=function(e){var t=e.offset-n._offsetFromParentVirtualizedList,r=e.visibleLength,i=t-n._scrollMetrics.offset;return{visibleLength:r,contentLength:n._scrollMetrics.contentLength,offset:t,dOffset:i}},n._onScroll=function(e){n._nestedChildLists.forEach((function(t){t._onScroll(e)})),n.props.onScroll&&n.props.onScroll(e);var t=e.timeStamp,r=n._selectLength(e.nativeEvent.layoutMeasurement),i=n._selectLength(e.nativeEvent.contentSize),a=n._selectOffset(e.nativeEvent.contentOffset),o=a-n._scrollMetrics.offset;if(n._isNestedWithSameOrientation()){if(0===n._scrollMetrics.contentLength)return;var s=n._convertParentScrollMetrics({visibleLength:r,offset:a});r=s.visibleLength,i=s.contentLength,a=s.offset,o=s.dOffset}var l=n._scrollMetrics.timestamp?Math.max(1,t-n._scrollMetrics.timestamp):1,u=o/l;l>500&&n._scrollMetrics.dt>500&&i>5*r&&!n._hasWarned.perf&&(he("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:l,prevDt:n._scrollMetrics.dt,contentLength:i}),n._hasWarned.perf=!0);var c=e.nativeEvent.zoomScale<0?1:e.nativeEvent.zoomScale;n._scrollMetrics={contentLength:i,dt:l,dOffset:o,offset:a,timestamp:t,velocity:u,visibleLength:r,zoomScale:c},n._updateViewableItems(n.props,n.state.cellsAroundViewport),n.props&&(n._maybeCallOnEdgeReached(),0!==u&&n._fillRateHelper.activate(),n._computeBlankness(),n._scheduleCellsToRenderUpdate())},n._onScrollBeginDrag=function(e){n._nestedChildLists.forEach((function(t){t._onScrollBeginDrag(e)})),n._viewabilityTuples.forEach((function(e){e.viewabilityHelper.recordInteraction()})),n._hasInteracted=!0,n.props.onScrollBeginDrag&&n.props.onScrollBeginDrag(e)},n._onScrollEndDrag=function(e){n._nestedChildLists.forEach((function(t){t._onScrollEndDrag(e)}));var t=e.nativeEvent.velocity;t&&(n._scrollMetrics.velocity=n._selectOffset(t)),n._computeBlankness(),n.props.onScrollEndDrag&&n.props.onScrollEndDrag(e)},n._onMomentumScrollBegin=function(e){n._nestedChildLists.forEach((function(t){t._onMomentumScrollBegin(e)})),n.props.onMomentumScrollBegin&&n.props.onMomentumScrollBegin(e)},n._onMomentumScrollEnd=function(e){n._nestedChildLists.forEach((function(t){t._onMomentumScrollEnd(e)})),n._scrollMetrics.velocity=0,n._computeBlankness(),n.props.onMomentumScrollEnd&&n.props.onMomentumScrollEnd(e)},n._updateCellsToRender=function(){n._updateViewableItems(n.props,n.state.cellsAroundViewport),n.setState((function(e,r){var i=n._adjustCellsAroundViewport(r,e.cellsAroundViewport),a=t._createRenderMask(r,i,n._getNonViewportRenderRegions(r));return i.first===e.cellsAroundViewport.first&&i.last===e.cellsAroundViewport.last&&a.equals(e.renderMask)?null:{cellsAroundViewport:i,renderMask:a}}))},n._createViewToken=function(e,t,r){var i=r.data,a=(0,r.getItem)(i,e);return{index:e,item:a,key:n._keyExtractor(a,e,r),isViewable:t}},n._getOffsetApprox=function(e,t){if(Number.isInteger(e))return n.__getFrameMetricsApprox(e,t).offset;var r=n.__getFrameMetricsApprox(Math.floor(e),t),i=e-Math.floor(e);return r.offset+i*r.length},n.__getFrameMetricsApprox=function(e,t){var r=n._getFrameMetrics(e,t);if(r&&r.index===e)return r;var i=t.data,a=t.getItemCount,o=t.getItemLayout;return _()(e>=0&&e<a(i),"Tried to get frame for out of range index "+e),_()(!o,"Should not have to estimate frames when a measurement metrics function is provided"),{length:n._averageCellLength,offset:n._averageCellLength*e}},n._getFrameMetrics=function(e,t){var r=t.data,i=t.getItem,a=t.getItemCount,o=t.getItemLayout;_()(e>=0&&e<a(r),"Tried to get frame for out of range index "+e);var s=i(r,e),l=n._frames[n._keyExtractor(s,e,t)];return l&&l.index===e||!o?l:o(r,e)},n._getNonViewportRenderRegions=function(e){if(!n._lastFocusedCellKey||!n._cellRefs[n._lastFocusedCellKey])return[];var t=n._cellRefs[n._lastFocusedCellKey].props.index,r=e.getItemCount(e.data);if(t>=r||n._keyExtractor(e.getItem(e.data,t),t,e)!==n._lastFocusedCellKey)return[];for(var i=t,a=0,o=i-1;o>=0&&a<n._scrollMetrics.visibleLength;o--)i--,a+=n.__getFrameMetricsApprox(o,e).length;for(var s=t,l=0,u=s+1;u<r&&l<n._scrollMetrics.visibleLength;u++)s++,l+=n.__getFrameMetricsApprox(u,e).length;return[{first:i,last:s}]},n._checkProps(e),n._fillRateHelper=new ve(n._getFrameMetrics),n._updateCellsToRenderBatcher=new de(n._updateCellsToRender,null!==(r=n.props.updateCellsBatchingPeriod)&&void 0!==r?r:50),n.props.viewabilityConfigCallbackPairs)n._viewabilityTuples=n.props.viewabilityConfigCallbackPairs.map((function(e){return{viewabilityHelper:new Ee(e.viewabilityConfig),onViewableItemsChanged:e.onViewableItemsChanged}}));else{var o=n.props,u=o.onViewableItemsChanged,c=o.viewabilityConfig;u&&n._viewabilityTuples.push({viewabilityHelper:new Ee(c),onViewableItemsChanged:u})}var d=t._initialRenderRegion(e);return n.state={cellsAroundViewport:d,renderMask:t._createRenderMask(e,d)},n.invertedWheelEventHandler=function(e){var t=n.props.horizontal?e.target.scrollLeft:e.target.scrollTop,r=n.props.horizontal?e.target.scrollWidth:e.target.scrollHeight,i=n.props.horizontal?e.target.clientWidth:e.target.clientHeight,a=r>i,o=n.props.horizontal?e.deltaX||e.wheelDeltaX:e.deltaY||e.wheelDeltaY,s=o;a&&(s=o<0?Math.min(o+t,0):Math.max(o-(r-i-t),0));var l=o-s;if(n.props.inverted&&n._scrollRef&&n._scrollRef.getScrollableNode){var u=n._scrollRef.getScrollableNode();if(n.props.horizontal){e.target.scrollLeft+=l;var c=u.scrollLeft-s;u.scrollLeft=n.props.getItemLayout?c:Math.min(c,n._totalCellLength)}else{e.target.scrollTop+=l;var d=u.scrollTop-s;u.scrollTop=n.props.getItemLayout?d:Math.min(d,n._totalCellLength)}e.preventDefault()}},n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"scrollToEnd",value:function(e){var t=!e||e.animated,n=this.props.getItemCount(this.props.data)-1;if(!(n<0)){var r=this.__getFrameMetricsApprox(n,this.props),i=Math.max(0,r.offset+r.length+this._footerLength-this._scrollMetrics.visibleLength);null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(Ue(this.props.horizontal)?{x:i,animated:t}:{y:i,animated:t}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}}},{key:"scrollToIndex",value:function(e){var t=this.props,n=t.data,r=t.horizontal,i=t.getItemCount,a=t.getItemLayout,o=t.onScrollToIndexFailed,s=e.animated,l=e.index,u=e.viewOffset,c=e.viewPosition;if(_()(l>=0,"scrollToIndex out of range: requested index "+l+" but minimum is 0"),_()(i(n)>=1,"scrollToIndex out of range: item length "+i(n)+" but minimum is 1"),_()(l<i(n),"scrollToIndex out of range: requested index "+l+" is out of 0 to "+(i(n)-1)),!a&&l>this._highestMeasuredFrameIndex)return _()(!!o,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),void o({averageItemLength:this._averageCellLength,highestMeasuredFrameIndex:this._highestMeasuredFrameIndex,index:l});var d=this.__getFrameMetricsApprox(Math.floor(l),this.props),f=Math.max(0,this._getOffsetApprox(l,this.props)-(c||0)*(this._scrollMetrics.visibleLength-d.length))-(u||0);null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(r?{x:f,animated:s}:{y:f,animated:s}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}},{key:"scrollToItem",value:function(e){for(var t=e.item,n=this.props,r=n.data,i=n.getItem,o=(0,n.getItemCount)(r),s=0;s<o;s++)if(i(r,s)===t){this.scrollToIndex((0,a.default)((0,a.default)({},e),{},{index:s}));break}}},{key:"scrollToOffset",value:function(e){var t=e.animated,n=e.offset;null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(Ue(this.props.horizontal)?{x:n,animated:t}:{y:n,animated:t}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}},{key:"recordInteraction",value:function(){this._nestedChildLists.forEach((function(e){e.recordInteraction()})),this._viewabilityTuples.forEach((function(e){e.viewabilityHelper.recordInteraction()})),this._updateViewableItems(this.props,this.state.cellsAroundViewport)}},{key:"flashScrollIndicators",value:function(){null!=this._scrollRef&&this._scrollRef.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()}},{key:"getScrollableNode",value:function(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():this._scrollRef}},{key:"getScrollRef",value:function(){return this._scrollRef&&this._scrollRef.getScrollRef?this._scrollRef.getScrollRef():this._scrollRef}},{key:"_getCellKey",value:function(){var e;return(null==(e=this.context)?void 0:e.cellKey)||"rootList"}},{key:"hasMore",value:function(){return this._hasMore}},{key:"_checkProps",value:function(e){var t=e.onScroll,n=e.windowSize,r=e.getItemCount,i=e.data,a=e.initialScrollIndex;_()(!t||!t.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),_()(Ge(n)>0,"VirtualizedList: The windowSize prop must be present and set to a value greater than 0."),_()(r,'VirtualizedList: The "getItemCount" prop must be provided');var o=r(i);null==a||this._hasTriggeredInitialScrollToIndex||!(a<0||o>0&&a>=o)||this._hasWarned.initialScrollIndex||(console.warn('initialScrollIndex "'+a+'" is not valid (list has '+o+" items)"),this._hasWarned.initialScrollIndex=!0)}},{key:"_adjustCellsAroundViewport",value:function(e,n){var r,i=e.data,a=e.getItemCount,o=We(e.onEndReachedThreshold),s=this._scrollMetrics,l=s.contentLength,u=s.offset,c=s.visibleLength,d=l-c-u;if(c<=0||l<=0)return n.last>=a(i)?t._constrainToItemCount(n,e):n;if(e.disableVirtualization){var f=d<o*c?Ve(e.maxToRenderPerBatch):0;r={first:0,last:Math.min(n.last+f,a(i)-1)}}else{if(e.initialScrollIndex&&!this._scrollMetrics.offset&&Math.abs(d)>=Number.EPSILON)return n.last>=a(i)?t._constrainToItemCount(n,e):n;r=Re(e,Ve(e.maxToRenderPerBatch),Ge(e.windowSize),n,this.__getFrameMetricsApprox,this._scrollMetrics),_()(r.last<a(i),"computeWindowedRenderLimits() should return range in-bounds")}if(this._nestedChildLists.size()>0){var h=this._findFirstChildWithMore(r.first,r.last);r.last=null!==h&&void 0!==h?h:r.last}return r}},{key:"_findFirstChildWithMore",value:function(e,t){for(var n=e;n<=t;n++){var r=this._indicesToKeys.get(n);if(null!=r&&this._nestedChildLists.anyInCell(r,(function(e){return e.hasMore()})))return n}return null}},{key:"componentDidMount",value:function(){this._isNestedWithSameOrientation()&&this.context.registerAsNestedChild({ref:this,cellKey:this.context.cellKey}),this.setupWebWheelHandler()}},{key:"componentWillUnmount",value:function(){this._isNestedWithSameOrientation()&&this.context.unregisterAsNestedChild({ref:this}),this._updateCellsToRenderBatcher.dispose({abort:!0}),this._viewabilityTuples.forEach((function(e){e.viewabilityHelper.dispose()})),this._fillRateHelper.deactivateAndFlush(),this.teardownWebWheelHandler()}},{key:"setupWebWheelHandler",value:function(){var e=this;this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode().addEventListener("wheel",this.invertedWheelEventHandler):setTimeout((function(){return e.setupWebWheelHandler()}),50)}},{key:"teardownWebWheelHandler",value:function(){this._scrollRef&&this._scrollRef.getScrollableNode&&this._scrollRef.getScrollableNode().removeEventListener("wheel",this.invertedWheelEventHandler)}},{key:"_pushCells",value:function(e,t,n,r,a,o){var l,u=this,c=this.props,d=c.CellRendererComponent,f=c.ItemSeparatorComponent,h=c.ListHeaderComponent,p=c.ListItemComponent,g=c.data,m=c.debug,y=c.getItem,_=c.getItemCount,b=c.getItemLayout,v=c.horizontal,w=c.renderItem,x=h?1:0,k=_(g)-1;a=Math.min(k,a);for(var S=function(){var r=y(g,T),a=u._keyExtractor(r,T,u.props);u._indicesToKeys.set(T,a),n.has(T+x)&&t.push(e.length);var c=null==b||m||u._fillRateHelper.enabled();e.push(i.createElement(Me,(0,s.default)({CellRendererComponent:d,ItemSeparatorComponent:T<k?f:void 0,ListItemComponent:p,cellKey:a,horizontal:v,index:T,inversionStyle:o,item:r,key:a,prevCellKey:l,onUpdateSeparators:u._onUpdateSeparators,onCellFocusCapture:function(e){return u._onCellFocusCapture(a)},onUnmount:u._onCellUnmount,ref:function(e){u._cellRefs[a]=e},renderItem:w},c&&{onCellLayout:u._onCellLayout}))),l=a},T=r;T<=a;T++)S()}},{key:"_isNestedWithSameOrientation",value:function(){var e=this.context;return!(!e||!!e.horizontal!==Ue(this.props.horizontal))}},{key:"_keyExtractor",value:function(e,t,n){if(null!=n.keyExtractor)return n.keyExtractor(e,t);var r=Ne(e,t);return r===String(t)&&(ze=!0,e.type&&e.type.displayName&&($e=e.type.displayName)),r}},{key:"render",value:function(){var e=this;this._checkProps(this.props);var t=this.props,n=t.ListEmptyComponent,r=t.ListFooterComponent,o=t.ListHeaderComponent,s=this.props,l=s.data,u=s.horizontal,c=this.props.inverted?Ue(this.props.horizontal)?Ke.horizontallyInverted:Ke.verticallyInverted:null,d=[],f=new Set(this.props.stickyHeaderIndices),h=[];if(o){f.has(0)&&h.push(0);var g=i.isValidElement(o)?o:i.createElement(o,null);d.push(i.createElement(Ce,{cellKey:this._getCellKey()+"-header",key:"$header"},i.createElement(p.default,{onLayout:this._onLayoutHeader,style:[c,this.props.ListHeaderComponentStyle]},g)))}var m=this.props.getItemCount(l);if(0===m&&n){var y=i.isValidElement(n)?n:i.createElement(n,null);d.push(i.createElement(Ce,{cellKey:this._getCellKey()+"-empty",key:"$empty"},i.cloneElement(y,{onLayout:function(t){e._onLayoutEmpty(t),y.props.onLayout&&y.props.onLayout(t)},style:[c,y.props.style]})))}if(m>0){ze=!1,$e="";for(var _,b=this._getSpacerKey(!u),w=this.state.renderMask.enumerateRegions(),k=function(e,t){for(var n=e.length-1;n>=0;n--)if(t(e[n]))return e[n];return null}(w,(function(e){return e.isSpacer})),S=x(w);!(_=S()).done;){var T=_.value;if(T.isSpacer){if(this.props.disableVirtualization)continue;var E=T===k&&!this.props.getItemLayout?fe(T.first-1,T.last,this._highestMeasuredFrameIndex):T.last,A=this.__getFrameMetricsApprox(T.first,this.props),O=this.__getFrameMetricsApprox(E,this.props),C=O.offset+O.length-A.offset;d.push(i.createElement(p.default,{key:"$spacer-"+T.first,style:(0,v.default)({},b,C)}))}else this._pushCells(d,h,f,T.first,T.last,c)}!this._hasWarned.keys&&ze&&(console.warn("VirtualizedList: missing keys for items, make sure to specify a key or id property on each item or provide a custom keyExtractor.",$e),this._hasWarned.keys=!0)}if(r){var I=i.isValidElement(r)?r:i.createElement(r,null);d.push(i.createElement(Ce,{cellKey:this._getFooterCellKey(),key:"$footer"},i.createElement(p.default,{onLayout:this._onLayoutFooter,style:[c,this.props.ListFooterComponentStyle]},I)))}var P,M=(0,a.default)((0,a.default)({},this.props),{},{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollBegin:this._onMomentumScrollBegin,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:(P=this.props.scrollEventThrottle,null!==P&&void 0!==P?P:50),invertStickyHeaders:void 0!==this.props.invertStickyHeaders?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:h,style:c?[c,this.props.style]:this.props.style});this._hasMore=this.state.cellsAroundViewport.last<m-1;var L=i.createElement(Oe,{value:{cellKey:null,getScrollMetrics:this._getScrollMetrics,horizontal:Ue(this.props.horizontal),getOutermostParentListRef:this._getOutermostParentListRef,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild}},i.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(M),{ref:this._captureScrollRef},d));return this.props.debug?i.createElement(p.default,{style:Ke.debug},L,this._renderDebugOverlay()):L}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.data,r=t.extraData;n===e.data&&r===e.extraData||this._viewabilityTuples.forEach((function(e){e.viewabilityHelper.resetViewableIndices()}));var i=this._hiPriInProgress;this._scheduleCellsToRenderUpdate(),i&&(this._hiPriInProgress=!1)}},{key:"_computeBlankness",value:function(){this._fillRateHelper.computeBlankness(this.props,this.state.cellsAroundViewport,this._scrollMetrics)}},{key:"_onCellFocusCapture",value:function(e){this._lastFocusedCellKey=e,this._updateCellsToRender()}},{key:"_triggerRemeasureForChildListsInCell",value:function(e){this._nestedChildLists.forEachInCell(e,(function(e){e.measureLayoutRelativeToContainingList()}))}},{key:"measureLayoutRelativeToContainingList",value:function(){var e=this;try{if(!this._scrollRef)return;this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(),(function(t,n,r,i){e._offsetFromParentVirtualizedList=e._selectOffset({x:t,y:n}),e._scrollMetrics.contentLength=e._selectLength({width:r,height:i});var a=e._convertParentScrollMetrics(e.context.getScrollMetrics());(e._scrollMetrics.visibleLength!==a.visibleLength||e._scrollMetrics.offset!==a.offset)&&(e._scrollMetrics.visibleLength=a.visibleLength,e._scrollMetrics.offset=a.offset,e._nestedChildLists.forEach((function(e){e.measureLayoutRelativeToContainingList()})))}),(function(e){console.warn("VirtualizedList: Encountered an error while measuring a list's offset from its containing VirtualizedList.")}))}catch(t){console.warn("measureLayoutRelativeToContainingList threw an error",t.stack)}}},{key:"_getFooterCellKey",value:function(){return this._getCellKey()+"-footer"}},{key:"_renderDebugOverlay",value:function(){for(var e=this._scrollMetrics.visibleLength/(this._scrollMetrics.contentLength||1),t=[],n=this.props.getItemCount(this.props.data),r=0;r<n;r++){var a=this.__getFrameMetricsApprox(r,this.props);a.inLayout&&t.push(a)}var o=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.first,this.props).offset,s=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.last,this.props),l=s.offset+s.length-o,u=this._scrollMetrics.offset,c=this._scrollMetrics.visibleLength;return i.createElement(p.default,{style:[Ke.debugOverlayBase,Ke.debugOverlay]},t.map((function(t,n){return i.createElement(p.default,{key:"f"+n,style:[Ke.debugOverlayBase,Ke.debugOverlayFrame,{top:t.offset*e,height:t.length*e}]})})),i.createElement(p.default,{style:[Ke.debugOverlayBase,Ke.debugOverlayFrameLast,{top:o*e,height:l*e}]}),i.createElement(p.default,{style:[Ke.debugOverlayBase,Ke.debugOverlayFrameVis,{top:u*e,height:c*e}]}))}},{key:"_selectLength",value:function(e){return Ue(this.props.horizontal)?e.width:e.height}},{key:"_selectOffset",value:function(e){return Ue(this.props.horizontal)?e.x:e.y}},{key:"_maybeCallOnEdgeReached",value:function(){var e=this.props,t=e.data,n=e.getItemCount,r=e.onStartReached,i=e.onStartReachedThreshold,a=e.onEndReached,o=e.onEndReachedThreshold,s=e.initialScrollIndex,l=this._scrollMetrics,u=l.contentLength,c=l.visibleLength,d=l.offset,f=d,h=u-c-d;f<.001&&(f=0),h<.001&&(h=0);var p=f<=(null!=i?i*c:2),g=h<=(null!=o?o*c:2);a&&this.state.cellsAroundViewport.last===n(t)-1&&g&&this._scrollMetrics.contentLength!==this._sentEndForContentLength?(this._sentEndForContentLength=this._scrollMetrics.contentLength,a({distanceFromEnd:h})):null!=r&&0===this.state.cellsAroundViewport.first&&p&&this._scrollMetrics.contentLength!==this._sentStartForContentLength?s&&0===this._scrollMetrics.timestamp||(this._sentStartForContentLength=this._scrollMetrics.contentLength,r({distanceFromStart:f})):(this._sentStartForContentLength=p?this._sentStartForContentLength:0,this._sentEndForContentLength=g?this._sentEndForContentLength:0)}},{key:"_scheduleCellsToRenderUpdate",value:function(){var e=this.state.cellsAroundViewport,t=e.first,n=e.last,r=this._scrollMetrics,i=r.offset,a=r.visibleLength,o=r.velocity,s=this.props.getItemCount(this.props.data),l=!1,u=function(e){return null!==e&&void 0!==e?e:2}(this.props.onStartReachedThreshold),c=We(this.props.onEndReachedThreshold);if(t>0){var d=i-this.__getFrameMetricsApprox(t,this.props).offset;l=d<0||o<-2&&d<He(u,a)}if(!l&&n>=0&&n<s-1){var f=this.__getFrameMetricsApprox(n,this.props).offset-(i+a);l=f<0||o>2&&f<He(c,a)}if(l&&(this._averageCellLength||this.props.getItemLayout)&&!this._hiPriInProgress)return this._hiPriInProgress=!0,this._updateCellsToRenderBatcher.dispose({abort:!0}),void this._updateCellsToRender();this._updateCellsToRenderBatcher.schedule()}},{key:"_updateViewableItems",value:function(e,t){var n=this;this._viewabilityTuples.forEach((function(r){r.viewabilityHelper.onUpdate(e,n._scrollMetrics.offset,n._scrollMetrics.visibleLength,n._getFrameMetrics,n._createViewToken,r.onViewableItemsChanged,t)}))}}],[{key:"_createRenderMask",value:function(e,n,r){var i=e.getItemCount(e.data);_()(n.first>=0&&n.last>=n.first-1&&n.last<i,'Invalid cells around viewport "['+n.first+", "+n.last+']" was passed to VirtualizedList._createRenderMask');var a=new pe(i);if(i>0){for(var o=0,s=[n].concat((0,b.default)(null!==r&&void 0!==r?r:[]));o<s.length;o++){var l=s[o];a.addCells(l)}if(null==e.initialScrollIndex||e.initialScrollIndex<=0){var u=t._initialRenderRegion(e);a.addCells(u)}var c=new Set(e.stickyHeaderIndices);t._ensureClosestStickyHeader(e,c,a,n.first)}return a}},{key:"_initialRenderRegion",value:function(e){var t,n,r=e.getItemCount(e.data),i=Math.max(0,Math.min(r-1,Math.floor(null!==(t=e.initialScrollIndex)&&void 0!==t?t:0)));return{first:i,last:Math.min(r,i+(null!==(n=e.initialNumToRender)&&void 0!==n?n:10))-1}}},{key:"_ensureClosestStickyHeader",value:function(e,t,n,r){for(var i=e.ListHeaderComponent?1:0,a=r-1;a>=0;a--)if(t.has(a+i)){n.addCells({first:a,last:a});break}}},{key:"getDerivedStateFromProps",value:function(e,n){if(e.getItemCount(e.data)===n.renderMask.numCells())return n;var r=t._constrainToItemCount(n.cellsAroundViewport,e);return{cellsAroundViewport:r,renderMask:t._createRenderMask(e,r)}}},{key:"_constrainToItemCount",value:function(e,t){var n=t.getItemCount(t.data),r=Math.min(n-1,e.last),i=Ve(t.maxToRenderPerBatch);return{first:fe(0,n-1-i,e.first),last:r}}}])}(Se);qe.contextType=Ae;var Ke=g.default.create({verticallyInverted:{transform:"scaleY(-1)"},horizontallyInverted:{transform:"scaleX(-1)"},debug:{flex:1},debugOverlayBase:{position:"absolute",top:0,right:0},debugOverlay:{bottom:0,width:20,borderColor:"blue",borderWidth:1},debugOverlayFrame:{left:0,backgroundColor:"orange"},debugOverlayFrameLast:{left:0,borderColor:"green",borderWidth:2},debugOverlayFrameVis:{left:0,borderColor:"red",borderWidth:2}});const Ze=qe;var Xe=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function Ye(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||Xe(r)&&Xe(i)))return!1;var r,i;return!0}function Je(e,t,n){return t=(0,d.default)(t),(0,c.default)(e,Qe()?Reflect.construct(t,n||[],(0,d.default)(e).constructor):t.apply(e,n))}function Qe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Qe=function(){return!!e})()}var et=["numColumns","columnWrapperStyle","removeClippedSubviews","strictMode"];function tt(e){return null!==e&&void 0!==e?e:1}var nt=function(e){function t(e){var n;return(0,l.default)(this,t),(n=Je(this,t,[e]))._virtualizedListPairs=[],n._captureRef=function(e){n._listRef=e},n._getItem=function(e,t){var r=tt(n.props.numColumns);if(r>1){for(var i=[],a=0;a<r;a++){var o=t*r+a;if(o<e.length){var s=e[o];i.push(s)}}return i}return e[t]},n._getItemCount=function(e){if(null!=e&&function(e){return"number"===typeof Object(e).length}(e)){var t=tt(n.props.numColumns);return t>1?Math.ceil(e.length/t):e.length}return 0},n._keyExtractor=function(e,t){var r,i=tt(n.props.numColumns),a=null!==(r=n.props.keyExtractor)&&void 0!==r?r:Ne;return i>1?(_()(Array.isArray(e),"FlatList: Encountered internal consistency error, expected each item to consist of an array with 1-%s columns; instead, received a single item.",i),e.map((function(e,n){return a(e,t*i+n)})).join(":")):a(e,t)},n._renderer=function(e,t,n,r,a){var o=tt(r),s=function(n){return e?i.createElement(e,n):t?t(n):null},l=function(e){if(o>1){var t=e.item,r=e.index;return _()(Array.isArray(t),"Expected array of items with numColumns > 1"),i.createElement(p.default,{style:[rt.row,n]},t.map((function(t,n){var a=s({item:t,index:r*o+n,separators:e.separators});return null!=a?i.createElement(i.Fragment,{key:n},a):null})))}return s(e)};return e?{ListItemComponent:l}:{renderItem:l}},n._memoizedRenderer=function(e,t){void 0===t&&(t=Ye);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var a=e.apply(this,r);return n={lastResult:a,lastArgs:r,lastThis:this},a}return r.clear=function(){n=null},r}(n._renderer),n._checkProps(n.props),n.props.viewabilityConfigCallbackPairs?n._virtualizedListPairs=n.props.viewabilityConfigCallbackPairs.map((function(e){return{viewabilityConfig:e.viewabilityConfig,onViewableItemsChanged:n._createOnViewableItemsChanged(e.onViewableItemsChanged)}})):n.props.onViewableItemsChanged&&n._virtualizedListPairs.push({viewabilityConfig:n.props.viewabilityConfig,onViewableItemsChanged:n._createOnViewableItemsChanged(n.props.onViewableItemsChanged)}),n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"scrollToEnd",value:function(e){this._listRef&&this._listRef.scrollToEnd(e)}},{key:"scrollToIndex",value:function(e){this._listRef&&this._listRef.scrollToIndex(e)}},{key:"scrollToItem",value:function(e){this._listRef&&this._listRef.scrollToItem(e)}},{key:"scrollToOffset",value:function(e){this._listRef&&this._listRef.scrollToOffset(e)}},{key:"recordInteraction",value:function(){this._listRef&&this._listRef.recordInteraction()}},{key:"flashScrollIndicators",value:function(){this._listRef&&this._listRef.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){if(this._listRef)return this._listRef.getScrollResponder()}},{key:"getNativeScrollRef",value:function(){if(this._listRef)return this._listRef.getScrollRef()}},{key:"getScrollableNode",value:function(){if(this._listRef)return this._listRef.getScrollableNode()}},{key:"componentDidUpdate",value:function(e){_()(e.numColumns===this.props.numColumns,"Changing numColumns on the fly is not supported. Change the key prop on FlatList when changing the number of columns to force a fresh render of the component."),_()(e.onViewableItemsChanged===this.props.onViewableItemsChanged,"Changing onViewableItemsChanged on the fly is not supported"),_()(!m(e.viewabilityConfig,this.props.viewabilityConfig),"Changing viewabilityConfig on the fly is not supported"),_()(e.viewabilityConfigCallbackPairs===this.props.viewabilityConfigCallbackPairs,"Changing viewabilityConfigCallbackPairs on the fly is not supported"),this._checkProps(this.props)}},{key:"_checkProps",value:function(e){var t=e.getItem,n=e.getItemCount,r=e.horizontal,i=e.columnWrapperStyle,a=e.onViewableItemsChanged,o=e.viewabilityConfigCallbackPairs,s=tt(this.props.numColumns);_()(!t&&!n,"FlatList does not support custom data formats."),s>1?_()(!r,"numColumns does not support horizontal."):_()(!i,"columnWrapperStyle not supported for single column lists"),_()(!(a&&o),"FlatList does not support setting both onViewableItemsChanged and viewabilityConfigCallbackPairs.")}},{key:"_pushMultiColumnViewable",value:function(e,t){var n,r=tt(this.props.numColumns),i=null!==(n=this.props.keyExtractor)&&void 0!==n?n:Ne;t.item.forEach((function(n,o){_()(null!=t.index,"Missing index!");var s=t.index*r+o;e.push((0,a.default)((0,a.default)({},t),{},{item:n,key:i(n,s),index:s}))}))}},{key:"_createOnViewableItemsChanged",value:function(e){var t=this;return function(n){var r=tt(t.props.numColumns);if(e)if(r>1){var i=[],a=[];n.viewableItems.forEach((function(e){return t._pushMultiColumnViewable(a,e)})),n.changed.forEach((function(e){return t._pushMultiColumnViewable(i,e)})),e({viewableItems:a,changed:i})}else e(n)}}},{key:"render",value:function(){var e,t=this.props,n=t.numColumns,r=t.columnWrapperStyle,a=t.removeClippedSubviews,l=t.strictMode,u=void 0!==l&&l,c=(0,h.default)(t,et),d=u?this._memoizedRenderer:this._renderer;return i.createElement(Ze,(0,s.default)({},c,{getItem:this._getItem,getItemCount:this._getItemCount,keyExtractor:this._keyExtractor,ref:this._captureRef,viewabilityConfigCallbackPairs:this._virtualizedListPairs,removeClippedSubviews:(e=a,null!==e&&void 0!==e?e:"android"===o.default.OS)},d(this.props.ListItemComponent,this.props.renderItem,r,n,this.props.extraData)))}}])}(i.PureComponent),rt=g.default.create({row:{flexDirection:"row"}});const it=nt;const at=new Z;var ot=(0,u.default)((function e(t){(0,l.default)(this,e),"ios"===o.default.OS&&(_()(null!=t,"`new NativeEventEmitter()` requires a non-null argument."),this._nativeModule=t)}),[{key:"addListener",value:function(e,t,n){var r,i=this;null==(r=this._nativeModule)||r.addListener(e);var a=at.addListener(e,t,n);return{remove:function(){var e;null!=a&&(null==(e=i._nativeModule)||e.removeListeners(1),a.remove(),a=null)}}}},{key:"removeListener",value:function(e,t){var n;null==(n=this._nativeModule)||n.removeListeners(1),at.removeListener(e,t)}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];at.emit.apply(at,[e].concat(n))}},{key:"removeAllListeners",value:function(e){var t;_()(null!=e,"`NativeEventEmitter.removeAllListener()` requires a non-null argument."),null==(t=this._nativeModule)||t.removeListeners(this.listenerCount(e)),at.removeAllListeners(e)}},{key:"listenerCount",value:function(e){return at.listenerCount(e)}}]);const st=o.default;const lt={isLayoutAnimationEnabled:function(){return!0},shouldEmitW3CPointerEvents:function(){return!1},shouldPressibilityUseW3CPointerEventsForHover:function(){return!1},animatedShouldDebounceQueueFlush:function(){return!1},animatedShouldUseSingleOp:function(){return!1}};var ut,ct=("ios"===st.OS&&n.g.RN$Bridgeless,null),dt=1,ft=1,ht=new Set,pt=!1,gt=[];"android"===st.OS&&null!=ct&&ct.queueAndExecuteBatchedOperations&&lt.animatedShouldUseSingleOp();var mt=null,yt=ct,_t={getValue:function(e,t){_()(yt,"Native animated module is not available"),_t.queueOperation(yt.getValue,e,t)},setWaitingForIdentifier:function(e){ht.add(e),pt=!0,lt.animatedShouldDebounceQueueFlush()&&mt&&clearTimeout(mt)},unsetWaitingForIdentifier:function(e){ht.delete(e),0===ht.size&&(pt=!1,_t.disableQueue())},disableQueue:function(){(_()(yt,"Native animated module is not available"),lt.animatedShouldDebounceQueueFlush())?(clearImmediate(mt),mt=setImmediate(_t.flushQueue)):_t.flushQueue()},flushQueue:function(){},queueOperation:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];pt||0!==gt.length?gt.push((function(){return e.apply(void 0,n)})):e.apply(void 0,n)},createAnimatedNode:function(e,t){_()(yt,"Native animated module is not available"),_t.queueOperation(yt.createAnimatedNode,e,t)},updateAnimatedNodeConfig:function(e,t){_()(yt,"Native animated module is not available")},startListeningToAnimatedNodeValue:function(e){_()(yt,"Native animated module is not available"),_t.queueOperation(yt.startListeningToAnimatedNodeValue,e)},stopListeningToAnimatedNodeValue:function(e){_()(yt,"Native animated module is not available"),_t.queueOperation(yt.stopListeningToAnimatedNodeValue,e)},connectAnimatedNodes:function(e,t){_()(yt,"Native animated module is not available"),_t.queueOperation(yt.connectAnimatedNodes,e,t)},disconnectAnimatedNodes:function(e,t){_()(yt,"Native animated module is not available"),_t.queueOperation(yt.disconnectAnimatedNodes,e,t)},startAnimatingNode:function(e,t,n,r){_()(yt,"Native animated module is not available"),_t.queueOperation(yt.startAnimatingNode,e,t,n,r)},stopAnimation:function(e){_()(yt,"Native animated module is not available"),_t.queueOperation(yt.stopAnimation,e)},setAnimatedNodeValue:function(e,t){_()(yt,"Native animated module is not available"),_t.queueOperation(yt.setAnimatedNodeValue,e,t)},setAnimatedNodeOffset:function(e,t){_()(yt,"Native animated module is not available"),_t.queueOperation(yt.setAnimatedNodeOffset,e,t)},flattenAnimatedNodeOffset:function(e){_()(yt,"Native animated module is not available"),_t.queueOperation(yt.flattenAnimatedNodeOffset,e)},extractAnimatedNodeOffset:function(e){_()(yt,"Native animated module is not available"),_t.queueOperation(yt.extractAnimatedNodeOffset,e)},connectAnimatedNodeToView:function(e,t){_()(yt,"Native animated module is not available"),_t.queueOperation(yt.connectAnimatedNodeToView,e,t)},disconnectAnimatedNodeFromView:function(e,t){_()(yt,"Native animated module is not available"),_t.queueOperation(yt.disconnectAnimatedNodeFromView,e,t)},restoreDefaultValues:function(e){_()(yt,"Native animated module is not available"),null!=yt.restoreDefaultValues&&_t.queueOperation(yt.restoreDefaultValues,e)},dropAnimatedNode:function(e){_()(yt,"Native animated module is not available"),_t.queueOperation(yt.dropAnimatedNode,e)},addAnimatedEventToView:function(e,t,n){_()(yt,"Native animated module is not available"),_t.queueOperation(yt.addAnimatedEventToView,e,t,n)},removeAnimatedEventFromView:function(e,t,n){_()(yt,"Native animated module is not available"),_t.queueOperation(yt.removeAnimatedEventFromView,e,t,n)}};var bt={backgroundColor:!0,borderBottomColor:!0,borderColor:!0,borderEndColor:!0,borderLeftColor:!0,borderRightColor:!0,borderStartColor:!0,borderTopColor:!0,color:!0,tintColor:!0},vt=(0,a.default)((0,a.default)({},bt),{},{borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderRadius:!0,borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,elevation:!0,opacity:!0,transform:!0,zIndex:!0,shadowOpacity:!0,shadowRadius:!0,scaleX:!0,scaleY:!0,translateX:!0,translateY:!0}),wt={translateX:!0,translateY:!0,scale:!0,scaleX:!0,scaleY:!0,rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,perspective:!0},xt={inputRange:!0,outputRange:!0,extrapolate:!0,extrapolateRight:!0,extrapolateLeft:!0};function kt(e){return vt.hasOwnProperty(e)}function St(e){return wt.hasOwnProperty(e)}function Tt(e){return xt.hasOwnProperty(e)}function Et(){return ft++}var At=!1;function Ot(e){return null==e.useNativeDriver&&console.warn("Animated: `useNativeDriver` was not specified. This is a required option and must be explicitly set to `true` or `false`"),!0!==e.useNativeDriver||ct?e.useNativeDriver||!1:(At||(console.warn("Animated: `useNativeDriver` is not supported because the native animated module is missing. Falling back to JS-based animation. To resolve this, add `RCTAnimation` module to this app, or remove `useNativeDriver`. Make sure to run `bundle exec pod install` first. Read more about autolinking: https://github.com/react-native-community/cli/blob/master/docs/autolinking.md"),At=!0),!1)}const Ct={API:_t,isSupportedColorStyleProp:function(e){return bt.hasOwnProperty(e)},isSupportedStyleProp:kt,isSupportedTransformProp:St,isSupportedInterpolationParam:Tt,addWhitelistedStyleProp:function(e){vt[e]=!0},addWhitelistedTransformProp:function(e){wt[e]=!0},addWhitelistedInterpolationParam:function(e){xt[e]=!0},validateStyles:function(e){for(var t in e)if(!kt(t))throw new Error("Style property '"+t+"' is not supported by native animated module")},validateTransform:function(e){e.forEach((function(e){if(!St(e.property))throw new Error("Property '"+e.property+"' is not supported by native animated module")}))},validateInterpolation:function(e){for(var t in e)if(!Tt(t))throw new Error("Interpolation property '"+t+"' is not supported by native animated module")},generateNewNodeTag:function(){return dt++},generateNewAnimationId:Et,assertNativeAnimatedModule:function(){_()(ct,"Native animated module is not available")},shouldUseNativeDriver:Ot,transformDataType:function(e){return"string"!==typeof e?e:/deg$/.test(e)?(parseFloat(e)||0)*Math.PI/180:e},get nativeEventEmitter(){return ut||(ut=new ot("ios"!==st.OS?null:ct)),ut}};var It=Ct.API,Pt=1;const Mt=(0,u.default)((function e(){(0,l.default)(this,e),this._listeners={}}),[{key:"__attach",value:function(){}},{key:"__detach",value:function(){this.__isNative&&null!=this.__nativeTag&&(Ct.API.dropAnimatedNode(this.__nativeTag),this.__nativeTag=void 0)}},{key:"__getValue",value:function(){}},{key:"__getAnimatedValue",value:function(){return this.__getValue()}},{key:"__addChild",value:function(e){}},{key:"__removeChild",value:function(e){}},{key:"__getChildren",value:function(){return[]}},{key:"__makeNative",value:function(e){if(!this.__isNative)throw new Error('This node cannot be made a "native" animated node');this._platformConfig=e,this.hasListeners()&&this._startListeningToNativeValueUpdates()}},{key:"addListener",value:function(e){var t=String(Pt++);return this._listeners[t]=e,this.__isNative&&this._startListeningToNativeValueUpdates(),t}},{key:"removeListener",value:function(e){delete this._listeners[e],this.__isNative&&!this.hasListeners()&&this._stopListeningForNativeValueUpdates()}},{key:"removeAllListeners",value:function(){this._listeners={},this.__isNative&&this._stopListeningForNativeValueUpdates()}},{key:"hasListeners",value:function(){return!!Object.keys(this._listeners).length}},{key:"_startListeningToNativeValueUpdates",value:function(){var e=this;this.__nativeAnimatedValueListener&&!this.__shouldUpdateListenersForNewNativeTag||(this.__shouldUpdateListenersForNewNativeTag&&(this.__shouldUpdateListenersForNewNativeTag=!1,this._stopListeningForNativeValueUpdates()),It.startListeningToAnimatedNodeValue(this.__getNativeTag()),this.__nativeAnimatedValueListener=Ct.nativeEventEmitter.addListener("onAnimatedValueUpdate",(function(t){t.tag===e.__getNativeTag()&&e.__onAnimatedValueUpdateReceived(t.value)})))}},{key:"__onAnimatedValueUpdateReceived",value:function(e){this.__callListeners(e)}},{key:"__callListeners",value:function(e){for(var t in this._listeners)this._listeners[t]({value:e})}},{key:"_stopListeningForNativeValueUpdates",value:function(){this.__nativeAnimatedValueListener&&(this.__nativeAnimatedValueListener.remove(),this.__nativeAnimatedValueListener=null,It.stopListeningToAnimatedNodeValue(this.__getNativeTag()))}},{key:"__getNativeTag",value:function(){var e;Ct.assertNativeAnimatedModule(),_()(this.__isNative,'Attempt to get native tag from node not marked as "native"');var t=null!==(e=this.__nativeTag)&&void 0!==e?e:Ct.generateNewNodeTag();if(null==this.__nativeTag){this.__nativeTag=t;var n=this.__getNativeConfig();this._platformConfig&&(n.platformConfig=this._platformConfig),Ct.API.createAnimatedNode(t,n),this.__shouldUpdateListenersForNewNativeTag=!0}return t}},{key:"__getNativeConfig",value:function(){throw new Error("This JS animated node type cannot be used as native animated node")}},{key:"toJSON",value:function(){return this.__getValue()}},{key:"__getPlatformConfig",value:function(){return this._platformConfig}},{key:"__setPlatformConfig",value:function(e){this._platformConfig=e}}]);function Lt(e,t,n){return t=(0,d.default)(t),(0,c.default)(e,Rt()?Reflect.construct(t,n||[],(0,d.default)(e).constructor):t.apply(e,n))}function Rt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Rt=function(){return!!e})()}const Nt=function(e){function t(){var e;return(0,l.default)(this,t),(e=Lt(this,t))._children=[],e}return(0,f.default)(t,e),(0,u.default)(t,[{key:"__makeNative",value:function(e){if(!this.__isNative){this.__isNative=!0;for(var n,r=x(this._children);!(n=r()).done;){var i=n.value;i.__makeNative(e),Ct.API.connectAnimatedNodes(this.__getNativeTag(),i.__getNativeTag())}}we((0,d.default)(t.prototype),"__makeNative",this).call(this,e)}},{key:"__addChild",value:function(e){0===this._children.length&&this.__attach(),this._children.push(e),this.__isNative&&(e.__makeNative(this.__getPlatformConfig()),Ct.API.connectAnimatedNodes(this.__getNativeTag(),e.__getNativeTag()))}},{key:"__removeChild",value:function(e){var t=this._children.indexOf(e);-1!==t?(this.__isNative&&e.__isNative&&Ct.API.disconnectAnimatedNodes(this.__getNativeTag(),e.__getNativeTag()),this._children.splice(t,1),0===this._children.length&&this.__detach()):console.warn("Trying to remove a child that doesn't exist")}},{key:"__getChildren",value:function(){return this._children}},{key:"__callListeners",value:function(e){if(we((0,d.default)(t.prototype),"__callListeners",this).call(this,e),!this.__isNative)for(var n,r=x(this._children);!(n=r()).done;){var i=n.value;i.__getValue&&i.__callListeners(i.__getValue())}}}])}(Mt);var Dt=n(5787),jt=n.n(Dt);function Ft(e,t,n){return t=(0,d.default)(t),(0,c.default)(e,Bt()?Reflect.construct(t,n||[],(0,d.default)(e).constructor):t.apply(e,n))}function Bt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Bt=function(){return!!e})()}var zt=!1,$t=function(e){return e};function Ut(e){if(e.outputRange&&"string"===typeof e.outputRange[0])return function(e){var t=e.outputRange;_()(t.length>=2,"Bad output range"),t=t.map(Vt),function(e){for(var t=e[0].replace(Wt,""),n=1;n<e.length;++n)_()(t===e[n].replace(Wt,""),"invalid pattern "+e[0]+" and "+e[n])}(t);var n=t[0].match(Wt).map((function(){return[]}));t.forEach((function(e){e.match(Wt).forEach((function(e,t){n[t].push(+e)}))}));var r=t[0].match(Wt).map((function(t,r){return Ut((0,a.default)((0,a.default)({},e),{},{outputRange:n[r]}))})),i=(o=t[0],"string"===typeof o&&o.startsWith("rgb"));var o;return function(e){var n=0;return t[0].replace(Wt,(function(){var t=+r[n++](e);return i&&(t=n<4?Math.round(t):Math.round(1e3*t)/1e3),String(t)}))}}(e);var t=e.outputRange,n=e.inputRange;zt&&(Ht("outputRange",t),Ht("inputRange",n),function(e){_()(e.length>=2,"inputRange must have at least 2 elements");for(var t="inputRange must be monotonically non-decreasing "+String(e),n=1;n<e.length;++n)_()(e[n]>=e[n-1],t)}(n),_()(n.length===t.length,"inputRange ("+n.length+") and outputRange ("+t.length+") must have the same length"));var r=e.easing||$t,i="extend";void 0!==e.extrapolateLeft?i=e.extrapolateLeft:void 0!==e.extrapolate&&(i=e.extrapolate);var o="extend";return void 0!==e.extrapolateRight?o=e.extrapolateRight:void 0!==e.extrapolate&&(o=e.extrapolate),function(e){_()("number"===typeof e,"Cannot interpolation an input which is not a number");var a=function(e,t){var n;for(n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,n);return function(e,t,n,r,i,a,o,s){var l=e;if(l<t){if("identity"===o)return l;"clamp"===o&&(l=t)}if(l>n){if("identity"===s)return l;"clamp"===s&&(l=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?l=-l:n===1/0?l-=t:l=(l-t)/(n-t);l=a(l),r===-1/0?l=-l:i===1/0?l+=r:l=l*(i-r)+r;return l}(e,n[a],n[a+1],t[a],t[a+1],r,i,o)}}function Vt(e){var t=jt()(e);return null===t||"number"!==typeof t?e:"rgba("+((4278190080&(t=t||0))>>>24)+", "+((16711680&t)>>>16)+", "+((65280&t)>>>8)+", "+(255&t)/255+")"}var Wt=/[+-]?(?:\d+\.?\d*|\.\d+)(?:[eE][+-]?\d+)?/g;function Ht(e,t){_()(t.length>=2,e+" must have at least 2 elements"),_()(2!==t.length||t[0]!==-1/0||t[1]!==1/0,e+"cannot be ]-infinity;+infinity[ "+t)}var Gt=function(e){function t(e,n){var r;return(0,l.default)(this,t),(r=Ft(this,t))._parent=e,r._config=n,r._interpolation=Ut(n),r}return(0,f.default)(t,e),(0,u.default)(t,[{key:"__makeNative",value:function(e){this._parent.__makeNative(e),we((0,d.default)(t.prototype),"__makeNative",this).call(this,e)}},{key:"__getValue",value:function(){var e=this._parent.__getValue();return _()("number"===typeof e,"Cannot interpolate an input which is not a number."),this._interpolation(e)}},{key:"interpolate",value:function(e){return new t(this,e)}},{key:"__attach",value:function(){this._parent.__addChild(this)}},{key:"__detach",value:function(){this._parent.__removeChild(this),we((0,d.default)(t.prototype),"__detach",this).call(this)}},{key:"__transformDataType",value:function(e){return e.map(Ct.transformDataType)}},{key:"__getNativeConfig",value:function(){return zt&&Ct.validateInterpolation(this._config),{inputRange:this._config.inputRange,outputRange:this.__transformDataType(this._config.outputRange),extrapolateLeft:this._config.extrapolateLeft||this._config.extrapolate||"extend",extrapolateRight:this._config.extrapolateRight||this._config.extrapolate||"extend",type:"interpolation"}}}])}(Nt);Gt.__createInterpolation=Ut;const qt=Gt;function Kt(e,t,n){return t=(0,d.default)(t),(0,c.default)(e,Zt()?Reflect.construct(t,n||[],(0,d.default)(e).constructor):t.apply(e,n))}function Zt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Zt=function(){return!!e})()}var Xt=Ct.API;const Yt=function(e){function t(e,n){var r;if((0,l.default)(this,t),r=Kt(this,t),"number"!==typeof e)throw new Error("AnimatedValue: Attempting to set value to undefined");return r._startingValue=r._value=e,r._offset=0,r._animation=null,n&&n.useNativeDriver&&r.__makeNative(),r}return(0,f.default)(t,e),(0,u.default)(t,[{key:"__detach",value:function(){var e=this;this.__isNative&&Xt.getValue(this.__getNativeTag(),(function(t){e._value=t-e._offset})),this.stopAnimation(),we((0,d.default)(t.prototype),"__detach",this).call(this)}},{key:"__getValue",value:function(){return this._value+this._offset}},{key:"setValue",value:function(e){var t,n,r=this;this._animation&&(this._animation.stop(),this._animation=null),this._updateValue(e,!this.__isNative),this.__isNative&&(t=this.__getNativeTag().toString(),n=function(){return Xt.setAnimatedNodeValue(r.__getNativeTag(),e)},Xt.setWaitingForIdentifier(t),n(),Xt.unsetWaitingForIdentifier(t))}},{key:"setOffset",value:function(e){this._offset=e,this.__isNative&&Xt.setAnimatedNodeOffset(this.__getNativeTag(),e)}},{key:"flattenOffset",value:function(){this._value+=this._offset,this._offset=0,this.__isNative&&Xt.flattenAnimatedNodeOffset(this.__getNativeTag())}},{key:"extractOffset",value:function(){this._offset+=this._value,this._value=0,this.__isNative&&Xt.extractAnimatedNodeOffset(this.__getNativeTag())}},{key:"stopAnimation",value:function(e){this.stopTracking(),this._animation&&this._animation.stop(),this._animation=null,e&&(this.__isNative?Xt.getValue(this.__getNativeTag(),e):e(this.__getValue()))}},{key:"resetAnimation",value:function(e){this.stopAnimation(e),this._value=this._startingValue,this.__isNative&&Xt.setAnimatedNodeValue(this.__getNativeTag(),this._startingValue)}},{key:"__onAnimatedValueUpdateReceived",value:function(e){this._updateValue(e,!1)}},{key:"interpolate",value:function(e){return new qt(this,e)}},{key:"animate",value:function(e,t){var n=this,r=null;e.__isInteraction&&(r=ce.createInteractionHandle());var i=this._animation;this._animation&&this._animation.stop(),this._animation=e,e.start(this._value,(function(e){n._updateValue(e,!0)}),(function(e){n._animation=null,null!==r&&ce.clearInteractionHandle(r),t&&t(e)}),i,this)}},{key:"stopTracking",value:function(){this._tracking&&this._tracking.__detach(),this._tracking=null}},{key:"track",value:function(e){this.stopTracking(),this._tracking=e,this._tracking&&this._tracking.update()}},{key:"_updateValue",value:function(e,n){if(void 0===e)throw new Error("AnimatedValue: Attempting to set value to undefined");this._value=e,n&&function(e){var t=new Set;!function e(n){"function"===typeof n.update?t.add(n):n.__getChildren().forEach(e)}(e),t.forEach((function(e){return e.update()}))}(this),we((0,d.default)(t.prototype),"__callListeners",this).call(this,this.__getValue())}},{key:"__getNativeConfig",value:function(){return{type:"value",value:this._value,offset:this._offset}}}])}(Nt);function Jt(e,t,n){var r=[];return _()(n[0]&&n[0].nativeEvent,"Native driven events only support animated values contained inside `nativeEvent`."),function e(t,n){if(t instanceof Yt)t.__makeNative(),r.push({nativeEventPath:n,animatedValueTag:t.__getNativeTag()});else if("object"===typeof t)for(var i in t)e(t[i],n.concat(i))}(n[0].nativeEvent,[]),null!=e&&r.forEach((function(n){Ct.API.addAnimatedEventToView(e,t,n)})),{detach:function(){null!=e&&r.forEach((function(n){Ct.API.removeAnimatedEventFromView(e,t,n.animatedValueTag)}))}}}var Qt=(0,u.default)((function e(t,n){(0,l.default)(this,e),this._listeners=[],this._argMapping=t,null==n&&(console.warn("Animated.event now requires a second argument for options"),n={useNativeDriver:!1}),n.listener&&this.__addListener(n.listener),this._callListeners=this._callListeners.bind(this),this._attachedEvent=null,this.__isNative=Ot(n)}),[{key:"__addListener",value:function(e){this._listeners.push(e)}},{key:"__removeListener",value:function(e){this._listeners=this._listeners.filter((function(t){return t!==e}))}},{key:"__attach",value:function(e,t){_()(this.__isNative,"Only native driven events need to be attached."),this._attachedEvent=Jt(e,t,this._argMapping)}},{key:"__detach",value:function(e,t){_()(this.__isNative,"Only native driven events need to be detached."),this._attachedEvent&&this._attachedEvent.detach()}},{key:"__getHandler",value:function(){var e=this;return this.__isNative?this._callListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=function e(t,n,r){if(t instanceof Yt)"number"===typeof n&&t.setValue(n);else if("object"===typeof t)for(var i in t)e(t[i],n[i])};e._argMapping.forEach((function(e,t){i(e,n[t])})),e._callListeners.apply(e,n)}}},{key:"_callListeners",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._listeners.forEach((function(e){return e.apply(void 0,t)}))}}]);function en(e,t,n){return t=(0,d.default)(t),(0,c.default)(e,tn()?Reflect.construct(t,n||[],(0,d.default)(e).constructor):t.apply(e,n))}function tn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(tn=function(){return!!e})()}const nn=function(e){function t(e){var n;return(0,l.default)(this,t),(n=en(this,t))._transforms=e,n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"__makeNative",value:function(){this._transforms.forEach((function(e){for(var t in e){var n=e[t];n instanceof Mt&&n.__makeNative()}})),we((0,d.default)(t.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){return this._transforms.map((function(e){var t={};for(var n in e){var r=e[n];t[n]=r instanceof Mt?r.__getValue():r}return t}))}},{key:"__getAnimatedValue",value:function(){return this._transforms.map((function(e){var t={};for(var n in e){var r=e[n];t[n]=r instanceof Mt?r.__getAnimatedValue():r}return t}))}},{key:"__attach",value:function(){var e=this;this._transforms.forEach((function(t){for(var n in t){var r=t[n];r instanceof Mt&&r.__addChild(e)}}))}},{key:"__detach",value:function(){var e=this;this._transforms.forEach((function(t){for(var n in t){var r=t[n];r instanceof Mt&&r.__removeChild(e)}})),we((0,d.default)(t.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){var e=[];return this._transforms.forEach((function(t){for(var n in t){var r=t[n];r instanceof Mt?e.push({type:"animated",property:n,nodeTag:r.__getNativeTag()}):e.push({type:"static",property:n,value:Ct.transformDataType(r)})}})),Ct.validateTransform(e),{type:"transform",transforms:e}}}])}(Nt);function rn(e,t,n){return t=(0,d.default)(t),(0,c.default)(e,an()?Reflect.construct(t,n||[],(0,d.default)(e).constructor):t.apply(e,n))}function an(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(an=function(){return!!e})()}var on=g.default.flatten;function sn(e){var t=on(e),n={};for(var r in t){var i=t[r];"transform"===r&&Array.isArray(i)?n[r]=new nn(i):i instanceof Mt?n[r]=i:i&&!Array.isArray(i)&&"object"===typeof i&&(n[r]=sn(i))}return n}const ln=function(e){function t(e){var n;return(0,l.default)(this,t),(n=rn(this,t))._inputStyle=e,n._style=sn(e),n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"_walkStyleAndGetValues",value:function(e){var t={};for(var n in e){var r=e[n];r instanceof Mt?r.__isNative||(t[n]=r.__getValue()):r&&!Array.isArray(r)&&"object"===typeof r?t[n]=this._walkStyleAndGetValues(r):t[n]=r}return t}},{key:"__getValue",value:function(){return[this._inputStyle,this._walkStyleAndGetValues(this._style)]}},{key:"_walkStyleAndGetAnimatedValues",value:function(e){var t={};for(var n in e){var r=e[n];r instanceof Mt?t[n]=r.__getAnimatedValue():r&&!Array.isArray(r)&&"object"===typeof r&&(t[n]=this._walkStyleAndGetAnimatedValues(r))}return t}},{key:"__getAnimatedValue",value:function(){return this._walkStyleAndGetAnimatedValues(this._style)}},{key:"__attach",value:function(){for(var e in this._style){var t=this._style[e];t instanceof Mt&&t.__addChild(this)}}},{key:"__detach",value:function(){for(var e in this._style){var n=this._style[e];n instanceof Mt&&n.__removeChild(this)}we((0,d.default)(t.prototype),"__detach",this).call(this)}},{key:"__makeNative",value:function(){for(var e in this._style){var n=this._style[e];n instanceof Mt&&n.__makeNative()}we((0,d.default)(t.prototype),"__makeNative",this).call(this)}},{key:"__getNativeConfig",value:function(){var e={};for(var t in this._style)if(this._style[t]instanceof Mt){var n=this._style[t];n.__makeNative(),e[t]=n.__getNativeTag()}return Ct.validateStyles(e),{type:"style",style:e}}}])}(Nt);function un(e,t,n){return t=(0,d.default)(t),(0,c.default)(e,cn()?Reflect.construct(t,n||[],(0,d.default)(e).constructor):t.apply(e,n))}function cn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(cn=function(){return!!e})()}const dn=function(e){function t(e,n){var r;return(0,l.default)(this,t),r=un(this,t),e.style&&(e=(0,a.default)((0,a.default)({},e),{},{style:new ln(e.style)})),r._props=e,r._callback=n,r.__attach(),r}return(0,f.default)(t,e),(0,u.default)(t,[{key:"__getValue",value:function(){var e={};for(var t in this._props){var n=this._props[t];n instanceof Mt?(!n.__isNative||n instanceof ln)&&(e[t]=n.__getValue()):e[t]=n instanceof Qt?n.__getHandler():n}return e}},{key:"__getAnimatedValue",value:function(){var e={};for(var t in this._props){var n=this._props[t];n instanceof Mt&&(e[t]=n.__getAnimatedValue())}return e}},{key:"__attach",value:function(){for(var e in this._props){var t=this._props[e];t instanceof Mt&&t.__addChild(this)}}},{key:"__detach",value:function(){for(var e in this.__isNative&&this._animatedView&&this.__disconnectAnimatedView(),this._props){var n=this._props[e];n instanceof Mt&&n.__removeChild(this)}we((0,d.default)(t.prototype),"__detach",this).call(this)}},{key:"update",value:function(){this._callback()}},{key:"__makeNative",value:function(){if(!this.__isNative){for(var e in this.__isNative=!0,this._props){var t=this._props[e];t instanceof Mt&&t.__makeNative()}this._animatedView&&this.__connectAnimatedView()}}},{key:"setNativeView",value:function(e){this._animatedView!==e&&(this._animatedView=e,this.__isNative&&this.__connectAnimatedView())}},{key:"__connectAnimatedView",value:function(){_()(this.__isNative,'Expected node to be marked as "native"');var e=this._animatedView;_()(null!=e,"Unable to locate attached view in the native tree"),Ct.API.connectAnimatedNodeToView(this.__getNativeTag(),e)}},{key:"__disconnectAnimatedView",value:function(){_()(this.__isNative,'Expected node to be marked as "native"');var e=this._animatedView;_()(null!=e,"Unable to locate attached view in the native tree"),Ct.API.disconnectAnimatedNodeFromView(this.__getNativeTag(),e)}},{key:"__restoreDefaultValues",value:function(){this.__isNative&&Ct.API.restoreDefaultValues(this.__getNativeTag())}},{key:"__getNativeConfig",value:function(){var e={};for(var t in this._props){var n=this._props[t];n instanceof Mt&&(n.__makeNative(),e[t]=n.__getNativeTag())}return{type:"props",props:e}}}])}(Mt);var fn=n(542);function hn(e){var t=(0,i.useReducer)((function(e){return e+1}),0)[1],n=(0,i.useRef)(null),r=(0,i.useMemo)((function(){return new dn(e,(function(){return null==n.current?void 0:n.current()}))}),[e]);!function(e){var t=(0,i.useRef)(null),n=(0,i.useRef)(!1);(0,i.useEffect)((function(){Ct.API.flushQueue()})),(0,fn.default)((function(){return n.current=!1,function(){n.current=!0}}),[]),(0,fn.default)((function(){if(e.__attach(),null!=t.current){var r=t.current;r.__restoreDefaultValues(),r.__detach(),t.current=null}return function(){n.current?e.__detach():t.current=e}}),[e])}(r);var a=function(e){var t=(0,i.useRef)(void 0);return(0,i.useCallback)((function(n){t.current&&(t.current(),t.current=void 0),null!=n&&(t.current=e(n))}),[e])}((0,i.useCallback)((function(i){r.setNativeView(i),n.current=function(){t()};var a=function(e){return"object"===typeof e&&"function"===typeof(null==e?void 0:e.getScrollableNode)?e.getScrollableNode():e}(i),o=[];for(var s in e){var l=e[s];l instanceof Qt&&l.__isNative&&(l.__attach(a,s),o.push([s,l]))}return function(){n.current=null;for(var e=0,t=o;e<t.length;e++){var r=t[e],i=r[0];r[1].__detach(a,i)}}}),[e,r]));return[pn(r),a]}function pn(e){return(0,a.default)((0,a.default)({},e.__getValue()),{},{collapsable:!1})}var gn=["style"];function mn(e){return i.forwardRef((function(t,n){var r=hn(t),a=r[0],o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.useCallback)((function(e){for(var n=0,r=t;n<r.length;n++){var i=r[n];null!=i&&("function"===typeof i?i(e):i.current=e)}}),[].concat(t))}(r[1],n),l=a.passthroughAnimatedPropExplicitValues,u=a.style,c=null!==l&&void 0!==l?l:{},d=c.style,f=(0,h.default)(c,gn),p=[u,d];return i.createElement(e,(0,s.default)({},a,f,{style:p,ref:o}))}))}const yn=mn(i.forwardRef((function(e,t){return i.createElement(it,(0,s.default)({scrollEventThrottle:1e-4},e,{ref:t}))})));const _n=mn(n(3004).default);const bn=mn(i.forwardRef((function(e,t){return i.createElement(G,(0,s.default)({scrollEventThrottle:1e-4},e,{ref:t}))})));function vn(e,t,n){return t=(0,d.default)(t),(0,c.default)(e,wn()?Reflect.construct(t,n||[],(0,d.default)(e).constructor):t.apply(e,n))}function wn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(wn=function(){return!!e})()}var xn=["ItemSeparatorComponent","SectionSeparatorComponent","renderItem","renderSectionFooter","renderSectionHeader","sections","stickySectionHeadersEnabled"];function kn(e){var t=e.LeadingSeparatorComponent,n=e.SeparatorComponent,r=e.cellKey,o=e.prevCellKey,l=e.setSelfHighlightCallback,u=e.updateHighlightFor,c=e.setSelfUpdatePropsCallback,d=e.updatePropsFor,f=e.item,h=e.index,g=e.section,m=e.inverted,y=i.useState(!1),_=y[0],b=y[1],v=i.useState(!1),w=v[0],x=v[1],k=i.useState({leadingItem:e.leadingItem,leadingSection:e.leadingSection,section:e.section,trailingItem:e.item,trailingSection:e.trailingSection}),S=k[0],T=k[1],E=i.useState({leadingItem:e.item,leadingSection:e.leadingSection,section:e.section,trailingItem:e.trailingItem,trailingSection:e.trailingSection}),A=E[0],O=E[1];i.useEffect((function(){return l(r,x),c(r,O),function(){c(r,null),l(r,null)}}),[r,l,O,c]);var C={highlight:function(){b(!0),x(!0),null!=o&&u(o,!0)},unhighlight:function(){b(!1),x(!1),null!=o&&u(o,!1)},updateProps:function(e,r){"leading"===e?null!=t?T((0,a.default)((0,a.default)({},S),r)):null!=o&&d(o,(0,a.default)((0,a.default)({},S),r)):"trailing"===e&&null!=n&&O((0,a.default)((0,a.default)({},A),r))}},I=e.renderItem({item:f,index:h,section:g,separators:C}),P=null!=t&&i.createElement(t,(0,s.default)({highlighted:_},S)),M=null!=n&&i.createElement(n,(0,s.default)({highlighted:w},A));return P||M?i.createElement(p.default,null,!1===m?P:M,I,!1===m?M:P):I}const Sn=function(e){function t(){var e;return(0,l.default)(this,t),(e=vn(this,t,arguments))._keyExtractor=function(t,n){var r=e._subExtractor(n);return r&&r.key||String(n)},e._convertViewable=function(t){var n;_()(null!=t.index,"Received a broken ViewToken");var r=e._subExtractor(t.index);if(!r)return null;var i=r.section.keyExtractor,o=e.props.keyExtractor||Ne,s=null!=i?i(t.item,r.index):o(t.item,null!==(n=r.index)&&void 0!==n?n:0);return(0,a.default)((0,a.default)({},t),{},{index:r.index,key:s,section:r.section})},e._onViewableItemsChanged=function(t){var n=t.viewableItems,r=t.changed,i=e.props.onViewableItemsChanged;null!=i&&i({viewableItems:n.map(e._convertViewable,e).filter(Boolean),changed:r.map(e._convertViewable,e).filter(Boolean)})},e._renderItem=function(t){return function(n){var r=n.item,a=n.index,o=e._subExtractor(a);if(!o)return null;var s=o.index;if(null==s){var l=o.section;if(!0===o.header){var u=e.props.renderSectionHeader;return u?u({section:l}):null}var c=e.props.renderSectionFooter;return c?c({section:l}):null}var d=o.section.renderItem||e.props.renderItem,f=e._getSeparatorComponent(a,o,t);return _()(d,"no renderItem!"),i.createElement(kn,{SeparatorComponent:f,LeadingSeparatorComponent:0===s?e.props.SectionSeparatorComponent:void 0,cellKey:o.key,index:s,item:r,leadingItem:o.leadingItem,leadingSection:o.leadingSection,prevCellKey:(e._subExtractor(a-1)||{}).key,setSelfHighlightCallback:e._setUpdateHighlightFor,setSelfUpdatePropsCallback:e._setUpdatePropsFor,updateHighlightFor:e._updateHighlightFor,updatePropsFor:e._updatePropsFor,renderItem:d,section:o.section,trailingItem:o.trailingItem,trailingSection:o.trailingSection,inverted:!!e.props.inverted})}},e._updatePropsFor=function(t,n){var r=e._updatePropsMap[t];null!=r&&r(n)},e._updateHighlightFor=function(t,n){var r=e._updateHighlightMap[t];null!=r&&r(n)},e._setUpdateHighlightFor=function(t,n){null!=n?e._updateHighlightMap[t]=n:delete e._updateHighlightFor[t]},e._setUpdatePropsFor=function(t,n){null!=n?e._updatePropsMap[t]=n:delete e._updatePropsMap[t]},e._updateHighlightMap={},e._updatePropsMap={},e._captureRef=function(t){e._listRef=t},e}return(0,f.default)(t,e),(0,u.default)(t,[{key:"scrollToLocation",value:function(e){for(var t=e.itemIndex,n=0;n<e.sectionIndex;n++)t+=this.props.getItemCount(this.props.sections[n].data)+2;var r=e.viewOffset||0;if(null!=this._listRef){if(e.itemIndex>0&&this.props.stickySectionHeadersEnabled)r+=this._listRef.__getFrameMetricsApprox(t-e.itemIndex,this._listRef.props).length;var i=(0,a.default)((0,a.default)({},e),{},{viewOffset:r,index:t});this._listRef.scrollToIndex(i)}}},{key:"getListRef",value:function(){return this._listRef}},{key:"render",value:function(){for(var e,t=this,n=this.props,r=(n.ItemSeparatorComponent,n.SectionSeparatorComponent,n.renderItem,n.renderSectionFooter,n.renderSectionHeader,n.sections,n.stickySectionHeadersEnabled,(0,h.default)(n,xn)),a=this.props.ListHeaderComponent?1:0,o=this.props.stickySectionHeadersEnabled?[]:void 0,l=0,u=x(this.props.sections);!(e=u()).done;){var c=e.value;null!=o&&o.push(l+a),l+=2,l+=this.props.getItemCount(c.data)}var d=this._renderItem(l);return i.createElement(Ze,(0,s.default)({},r,{keyExtractor:this._keyExtractor,stickyHeaderIndices:o,renderItem:d,data:this.props.sections,getItem:function(e,n){return t._getItem(t.props,e,n)},getItemCount:function(){return l},onViewableItemsChanged:this.props.onViewableItemsChanged?this._onViewableItemsChanged:void 0,ref:this._captureRef}))}},{key:"_getItem",value:function(e,t,n){if(!t)return null;for(var r=n-1,i=0;i<t.length;i++){var a=t[i],o=a.data,s=e.getItemCount(o);if(-1===r||r===s)return a;if(r<s)return e.getItem(o,r);r-=s+2}return null}},{key:"_subExtractor",value:function(e){for(var t=e,n=this.props,r=n.getItem,i=n.getItemCount,a=n.keyExtractor,o=n.sections,s=0;s<o.length;s++){var l=o[s],u=l.data,c=l.key||String(s);if(!((t-=1)>=i(u)+1))return-1===t?{section:l,key:c+":header",index:null,header:!0,trailingSection:o[s+1]}:t===i(u)?{section:l,key:c+":footer",index:null,header:!1,trailingSection:o[s+1]}:{section:l,key:c+":"+(l.keyExtractor||a||Ne)(r(u,t),t),index:t,leadingItem:r(u,t-1),leadingSection:o[s-1],trailingItem:r(u,t+1),trailingSection:o[s+1]};t-=i(u)+1}}},{key:"_getSeparatorComponent",value:function(e,t,n){if(!(t=t||this._subExtractor(e)))return null;var r=t.section.ItemSeparatorComponent||this.props.ItemSeparatorComponent,i=this.props.SectionSeparatorComponent,a=e===n-1,o=t.index===this.props.getItemCount(t.section.data)-1;return i&&o?i:!r||o||a?null:r}}])}(i.PureComponent);function Tn(e,t,n){return t=(0,d.default)(t),(0,c.default)(e,En()?Reflect.construct(t,n||[],(0,d.default)(e).constructor):t.apply(e,n))}function En(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(En=function(){return!!e})()}var An=["stickySectionHeadersEnabled"];const On=function(e){function t(){var e;return(0,l.default)(this,t),(e=Tn(this,t,arguments))._captureRef=function(t){e._wrapperListRef=t},e}return(0,f.default)(t,e),(0,u.default)(t,[{key:"scrollToLocation",value:function(e){null!=this._wrapperListRef&&this._wrapperListRef.scrollToLocation(e)}},{key:"recordInteraction",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.recordInteraction()}},{key:"flashScrollIndicators",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollResponder()}},{key:"getScrollableNode",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollableNode()}},{key:"render",value:function(){var e=this.props,t=e.stickySectionHeadersEnabled,n=(0,h.default)(e,An),r=null!==t&&void 0!==t?t:"ios"===o.default.OS;return i.createElement(Sn,(0,s.default)({},n,{stickySectionHeadersEnabled:r,ref:this._captureRef,getItemCount:function(e){return e.length},getItem:function(e,t){return e[t]}}))}}])}(i.PureComponent);const Cn=mn(i.forwardRef((function(e,t){return i.createElement(On,(0,s.default)({scrollEventThrottle:1e-4},e,{ref:t}))})));const In=mn(n(6283).default),Pn=mn(p.default);function Mn(e,t,n){return t=(0,d.default)(t),(0,c.default)(e,Ln()?Reflect.construct(t,n||[],(0,d.default)(e).constructor):t.apply(e,n))}function Ln(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ln=function(){return!!e})()}const Rn=function(e){function t(e,n){var r;return(0,l.default)(this,t),(r=Mn(this,t))._a="number"===typeof e?new Yt(e):e,r._b="number"===typeof n?new Yt(n):n,r}return(0,f.default)(t,e),(0,u.default)(t,[{key:"__makeNative",value:function(e){this._a.__makeNative(e),this._b.__makeNative(e),we((0,d.default)(t.prototype),"__makeNative",this).call(this,e)}},{key:"__getValue",value:function(){return this._a.__getValue()+this._b.__getValue()}},{key:"interpolate",value:function(e){return new qt(this,e)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),we((0,d.default)(t.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:"addition",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}])}(Nt);function Nn(e,t,n){return t=(0,d.default)(t),(0,c.default)(e,Dn()?Reflect.construct(t,n||[],(0,d.default)(e).constructor):t.apply(e,n))}function Dn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Dn=function(){return!!e})()}const jn=function(e){function t(e,n,r){var i;return(0,l.default)(this,t),(i=Nn(this,t))._a=e,i._min=n,i._max=r,i._value=i._lastValue=i._a.__getValue(),i}return(0,f.default)(t,e),(0,u.default)(t,[{key:"__makeNative",value:function(e){this._a.__makeNative(e),we((0,d.default)(t.prototype),"__makeNative",this).call(this,e)}},{key:"interpolate",value:function(e){return new qt(this,e)}},{key:"__getValue",value:function(){var e=this._a.__getValue(),t=e-this._lastValue;return this._lastValue=e,this._value=Math.min(Math.max(this._value+t,this._min),this._max),this._value}},{key:"__attach",value:function(){this._a.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),we((0,d.default)(t.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:"diffclamp",input:this._a.__getNativeTag(),min:this._min,max:this._max}}}])}(Nt);function Fn(e,t,n){return t=(0,d.default)(t),(0,c.default)(e,Bn()?Reflect.construct(t,n||[],(0,d.default)(e).constructor):t.apply(e,n))}function Bn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Bn=function(){return!!e})()}const zn=function(e){function t(e,n){var r;return(0,l.default)(this,t),(r=Fn(this,t))._warnedAboutDivideByZero=!1,(0===n||n instanceof Mt&&0===n.__getValue())&&console.error("Detected potential division by zero in AnimatedDivision"),r._a="number"===typeof e?new Yt(e):e,r._b="number"===typeof n?new Yt(n):n,r}return(0,f.default)(t,e),(0,u.default)(t,[{key:"__makeNative",value:function(e){this._a.__makeNative(e),this._b.__makeNative(e),we((0,d.default)(t.prototype),"__makeNative",this).call(this,e)}},{key:"__getValue",value:function(){var e=this._a.__getValue(),t=this._b.__getValue();return 0===t?(this._warnedAboutDivideByZero||(console.error("Detected division by zero in AnimatedDivision"),this._warnedAboutDivideByZero=!0),0):(this._warnedAboutDivideByZero=!1,e/t)}},{key:"interpolate",value:function(e){return new qt(this,e)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),we((0,d.default)(t.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:"division",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}])}(Nt);function $n(e,t,n){return t=(0,d.default)(t),(0,c.default)(e,Un()?Reflect.construct(t,n||[],(0,d.default)(e).constructor):t.apply(e,n))}function Un(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Un=function(){return!!e})()}const Vn=function(e){function t(e,n){var r;return(0,l.default)(this,t),(r=$n(this,t))._a=e,r._modulus=n,r}return(0,f.default)(t,e),(0,u.default)(t,[{key:"__makeNative",value:function(e){this._a.__makeNative(e),we((0,d.default)(t.prototype),"__makeNative",this).call(this,e)}},{key:"__getValue",value:function(){return(this._a.__getValue()%this._modulus+this._modulus)%this._modulus}},{key:"interpolate",value:function(e){return new qt(this,e)}},{key:"__attach",value:function(){this._a.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),we((0,d.default)(t.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:"modulus",input:this._a.__getNativeTag(),modulus:this._modulus}}}])}(Nt);function Wn(e,t,n){return t=(0,d.default)(t),(0,c.default)(e,Hn()?Reflect.construct(t,n||[],(0,d.default)(e).constructor):t.apply(e,n))}function Hn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Hn=function(){return!!e})()}const Gn=function(e){function t(e,n){var r;return(0,l.default)(this,t),(r=Wn(this,t))._a="number"===typeof e?new Yt(e):e,r._b="number"===typeof n?new Yt(n):n,r}return(0,f.default)(t,e),(0,u.default)(t,[{key:"__makeNative",value:function(e){this._a.__makeNative(e),this._b.__makeNative(e),we((0,d.default)(t.prototype),"__makeNative",this).call(this,e)}},{key:"__getValue",value:function(){return this._a.__getValue()*this._b.__getValue()}},{key:"interpolate",value:function(e){return new qt(this,e)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),we((0,d.default)(t.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:"multiplication",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}])}(Nt);function qn(e,t,n){return t=(0,d.default)(t),(0,c.default)(e,Kn()?Reflect.construct(t,n||[],(0,d.default)(e).constructor):t.apply(e,n))}function Kn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Kn=function(){return!!e})()}const Zn=function(e){function t(e,n){var r;return(0,l.default)(this,t),(r=qn(this,t))._a="number"===typeof e?new Yt(e):e,r._b="number"===typeof n?new Yt(n):n,r}return(0,f.default)(t,e),(0,u.default)(t,[{key:"__makeNative",value:function(e){this._a.__makeNative(e),this._b.__makeNative(e),we((0,d.default)(t.prototype),"__makeNative",this).call(this,e)}},{key:"__getValue",value:function(){return this._a.__getValue()-this._b.__getValue()}},{key:"interpolate",value:function(e){return new qt(this,e)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),we((0,d.default)(t.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:"subtraction",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}])}(Nt);function Xn(e,t,n){return t=(0,d.default)(t),(0,c.default)(e,Yn()?Reflect.construct(t,n||[],(0,d.default)(e).constructor):t.apply(e,n))}function Yn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Yn=function(){return!!e})()}const Jn=function(e){function t(e,n,r,i,a){var o;return(0,l.default)(this,t),(o=Xn(this,t))._value=e,o._parent=n,o._animationClass=r,o._animationConfig=i,o._useNativeDriver=Ot(i),o._callback=a,o.__attach(),o}return(0,f.default)(t,e),(0,u.default)(t,[{key:"__makeNative",value:function(){this.__isNative=!0,this._parent.__makeNative(),we((0,d.default)(t.prototype),"__makeNative",this).call(this),this._value.__makeNative()}},{key:"__getValue",value:function(){return this._parent.__getValue()}},{key:"__attach",value:function(){this._parent.__addChild(this),this._useNativeDriver&&this.__makeNative()}},{key:"__detach",value:function(){this._parent.__removeChild(this),we((0,d.default)(t.prototype),"__detach",this).call(this)}},{key:"update",value:function(){this._value.animate(new this._animationClass((0,a.default)((0,a.default)({},this._animationConfig),{},{toValue:this._animationConfig.toValue.__getValue()})),this._callback)}},{key:"__getNativeConfig",value:function(){var e=new this._animationClass((0,a.default)((0,a.default)({},this._animationConfig),{},{toValue:void 0})).__getNativeAnimationConfig();return{type:"tracking",animationId:Et(),animationConfig:e,toValue:this._parent.__getNativeTag(),value:this._value.__getNativeTag()}}}])}(Mt);function Qn(e,t,n){return t=(0,d.default)(t),(0,c.default)(e,er()?Reflect.construct(t,n||[],(0,d.default)(e).constructor):t.apply(e,n))}function er(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(er=function(){return!!e})()}var tr=1;const nr=function(e){function t(e){var n;(0,l.default)(this,t),n=Qn(this,t);var r=e||{x:0,y:0};return"number"===typeof r.x&&"number"===typeof r.y?(n.x=new Yt(r.x),n.y=new Yt(r.y)):(_()(r.x instanceof Yt&&r.y instanceof Yt,"AnimatedValueXY must be initialized with an object of numbers or AnimatedValues."),n.x=r.x,n.y=r.y),n._listeners={},n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"setValue",value:function(e){this.x.setValue(e.x),this.y.setValue(e.y)}},{key:"setOffset",value:function(e){this.x.setOffset(e.x),this.y.setOffset(e.y)}},{key:"flattenOffset",value:function(){this.x.flattenOffset(),this.y.flattenOffset()}},{key:"extractOffset",value:function(){this.x.extractOffset(),this.y.extractOffset()}},{key:"__getValue",value:function(){return{x:this.x.__getValue(),y:this.y.__getValue()}}},{key:"resetAnimation",value:function(e){this.x.resetAnimation(),this.y.resetAnimation(),e&&e(this.__getValue())}},{key:"stopAnimation",value:function(e){this.x.stopAnimation(),this.y.stopAnimation(),e&&e(this.__getValue())}},{key:"addListener",value:function(e){var t=this,n=String(tr++),r=function(n){n.value;e(t.__getValue())};return this._listeners[n]={x:this.x.addListener(r),y:this.y.addListener(r)},n}},{key:"removeListener",value:function(e){this.x.removeListener(this._listeners[e].x),this.y.removeListener(this._listeners[e].y),delete this._listeners[e]}},{key:"removeAllListeners",value:function(){this.x.removeAllListeners(),this.y.removeAllListeners(),this._listeners={}}},{key:"getLayout",value:function(){return{left:this.x,top:this.y}}},{key:"getTranslateTransform",value:function(){return[{translateX:this.x},{translateY:this.y}]}}])}(Nt);var rr=1;const ir=(0,u.default)((function e(){(0,l.default)(this,e)}),[{key:"start",value:function(e,t,n,r,i){}},{key:"stop",value:function(){this.__nativeId&&Ct.API.stopAnimation(this.__nativeId)}},{key:"__getNativeAnimationConfig",value:function(){throw new Error("This animation type cannot be offloaded to native")}},{key:"__debouncedOnEnd",value:function(e){var t=this.__onEnd;this.__onEnd=null,t&&t(e)}},{key:"__startNativeAnimation",value:function(e){var t=rr+":startAnimation";rr+=1,Ct.API.setWaitingForIdentifier(t);try{var n=this.__getNativeAnimationConfig();e.__makeNative(n.platformConfig),this.__nativeId=Ct.generateNewAnimationId(),Ct.API.startAnimatingNode(this.__nativeId,e.__getNativeTag(),n,this.__debouncedOnEnd.bind(this))}catch(r){throw r}finally{Ct.API.unsetWaitingForIdentifier(t)}}}]);function ar(e,t,n){return t=(0,d.default)(t),(0,c.default)(e,or()?Reflect.construct(t,n||[],(0,d.default)(e).constructor):t.apply(e,n))}function or(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(or=function(){return!!e})()}const sr=function(e){function t(e){var n,r,i,a;return(0,l.default)(this,t),(n=ar(this,t))._deceleration=null!==(r=e.deceleration)&&void 0!==r?r:.998,n._velocity=e.velocity,n._useNativeDriver=Ot(e),n.__isInteraction=null!==(i=e.isInteraction)&&void 0!==i?i:!n._useNativeDriver,n.__iterations=null!==(a=e.iterations)&&void 0!==a?a:1,n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"__getNativeAnimationConfig",value:function(){return{type:"decay",deceleration:this._deceleration,velocity:this._velocity,iterations:this.__iterations}}},{key:"start",value:function(e,t,n,r,i){this.__active=!0,this._lastValue=e,this._fromValue=e,this._onUpdate=t,this.__onEnd=n,this._startTime=Date.now(),this._useNativeDriver?this.__startNativeAnimation(i):this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}},{key:"onUpdate",value:function(){var e=Date.now(),t=this._fromValue+this._velocity/(1-this._deceleration)*(1-Math.exp(-(1-this._deceleration)*(e-this._startTime)));this._onUpdate(t),Math.abs(this._lastValue-t)<.1?this.__debouncedOnEnd({finished:!0}):(this._lastValue=t,this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))))}},{key:"stop",value:function(){we((0,d.default)(t.prototype),"stop",this).call(this),this.__active=!1,n.g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}])}(ir);function lr(e){return 3.62*(e-30)+194}function ur(e){return 3*(e-8)+25}const cr={fromOrigamiTensionAndFriction:function(e,t){return{stiffness:lr(e),damping:ur(t)}},fromBouncinessAndSpeed:function(e,t){function n(e,t,n){return(e-t)/(n-t)}function r(e,t,n){return t+e*(n-t)}var i=n(e/1.7,0,20);i=r(i,0,.8);var a,o,s=r(n(t/1.7,0,20),.5,200),l=(a=i,o=function(e){return e<=18?(t=e,7e-4*Math.pow(t,3)-.031*Math.pow(t,2)+.64*t+1.28):e>18&&e<=44?function(e){return 44e-6*Math.pow(e,3)-.006*Math.pow(e,2)+.36*e+2}(e):function(e){return 45e-8*Math.pow(e,3)-332e-6*Math.pow(e,2)+.1078*e+5.84}(e);var t}(s),function(e,t,n){return e*n+(1-e)*t}(2*a-a*a,o,.01));return{stiffness:lr(s),damping:ur(l)}}};function dr(e,t,n){return t=(0,d.default)(t),(0,c.default)(e,fr()?Reflect.construct(t,n||[],(0,d.default)(e).constructor):t.apply(e,n))}function fr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fr=function(){return!!e})()}const hr=function(e){function t(e){var n,r,i,a,o,s,u,c,d,f,h,p;if((0,l.default)(this,t),(n=dr(this,t))._overshootClamping=null!==(r=e.overshootClamping)&&void 0!==r&&r,n._restDisplacementThreshold=null!==(i=e.restDisplacementThreshold)&&void 0!==i?i:.001,n._restSpeedThreshold=null!==(a=e.restSpeedThreshold)&&void 0!==a?a:.001,n._initialVelocity=null!==(o=e.velocity)&&void 0!==o?o:0,n._lastVelocity=null!==(s=e.velocity)&&void 0!==s?s:0,n._toValue=e.toValue,n._delay=null!==(u=e.delay)&&void 0!==u?u:0,n._useNativeDriver=Ot(e),n._platformConfig=e.platformConfig,n.__isInteraction=null!==(c=e.isInteraction)&&void 0!==c?c:!n._useNativeDriver,n.__iterations=null!==(d=e.iterations)&&void 0!==d?d:1,void 0!==e.stiffness||void 0!==e.damping||void 0!==e.mass)_()(void 0===e.bounciness&&void 0===e.speed&&void 0===e.tension&&void 0===e.friction,"You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one"),n._stiffness=null!==(f=e.stiffness)&&void 0!==f?f:100,n._damping=null!==(h=e.damping)&&void 0!==h?h:10,n._mass=null!==(p=e.mass)&&void 0!==p?p:1;else if(void 0!==e.bounciness||void 0!==e.speed){var g,m;_()(void 0===e.tension&&void 0===e.friction&&void 0===e.stiffness&&void 0===e.damping&&void 0===e.mass,"You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one");var y=cr.fromBouncinessAndSpeed(null!==(g=e.bounciness)&&void 0!==g?g:8,null!==(m=e.speed)&&void 0!==m?m:12);n._stiffness=y.stiffness,n._damping=y.damping,n._mass=1}else{var b,v,w=cr.fromOrigamiTensionAndFriction(null!==(b=e.tension)&&void 0!==b?b:40,null!==(v=e.friction)&&void 0!==v?v:7);n._stiffness=w.stiffness,n._damping=w.damping,n._mass=1}return _()(n._stiffness>0,"Stiffness value must be greater than 0"),_()(n._damping>0,"Damping value must be greater than 0"),_()(n._mass>0,"Mass value must be greater than 0"),n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"__getNativeAnimationConfig",value:function(){var e;return{type:"spring",overshootClamping:this._overshootClamping,restDisplacementThreshold:this._restDisplacementThreshold,restSpeedThreshold:this._restSpeedThreshold,stiffness:this._stiffness,damping:this._damping,mass:this._mass,initialVelocity:null!==(e=this._initialVelocity)&&void 0!==e?e:this._lastVelocity,toValue:this._toValue,iterations:this.__iterations,platformConfig:this._platformConfig}}},{key:"start",value:function(e,n,r,i,a){var o=this;if(this.__active=!0,this._startPosition=e,this._lastPosition=this._startPosition,this._onUpdate=n,this.__onEnd=r,this._lastTime=Date.now(),this._frameTime=0,i instanceof t){var s=i.getInternalState();this._lastPosition=s.lastPosition,this._lastVelocity=s.lastVelocity,this._initialVelocity=this._lastVelocity,this._lastTime=s.lastTime}var l=function(){o._useNativeDriver?o.__startNativeAnimation(a):o.onUpdate()};this._delay?this._timeout=setTimeout(l,this._delay):l()}},{key:"getInternalState",value:function(){return{lastPosition:this._lastPosition,lastVelocity:this._lastVelocity,lastTime:this._lastTime}}},{key:"onUpdate",value:function(){var e=Date.now();e>this._lastTime+64&&(e=this._lastTime+64);var t=(e-this._lastTime)/1e3;this._frameTime+=t;var n=this._damping,r=this._mass,i=this._stiffness,a=-this._initialVelocity,o=n/(2*Math.sqrt(i*r)),s=Math.sqrt(i/r),l=s*Math.sqrt(1-o*o),u=this._toValue-this._startPosition,c=0,d=0,f=this._frameTime;if(o<1){var h=Math.exp(-o*s*f);c=this._toValue-h*((a+o*s*u)/l*Math.sin(l*f)+u*Math.cos(l*f)),d=o*s*h*(Math.sin(l*f)*(a+o*s*u)/l+u*Math.cos(l*f))-h*(Math.cos(l*f)*(a+o*s*u)-l*u*Math.sin(l*f))}else{var p=Math.exp(-s*f);c=this._toValue-p*(u+(a+s*u)*f),d=p*(a*(f*s-1)+f*u*(s*s))}if(this._lastTime=e,this._lastPosition=c,this._lastVelocity=d,this._onUpdate(c),this.__active){var g=!1;this._overshootClamping&&0!==this._stiffness&&(g=this._startPosition<this._toValue?c>this._toValue:c<this._toValue);var m=Math.abs(d)<=this._restSpeedThreshold,y=!0;if(0!==this._stiffness&&(y=Math.abs(this._toValue-c)<=this._restDisplacementThreshold),g||m&&y)return 0!==this._stiffness&&(this._lastPosition=this._toValue,this._lastVelocity=0,this._onUpdate(this._toValue)),void this.__debouncedOnEnd({finished:!0});this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}}},{key:"stop",value:function(){we((0,d.default)(t.prototype),"stop",this).call(this),this.__active=!1,clearTimeout(this._timeout),n.g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}])}(ir);var pr,gr=4,mr=1e-7,yr=10,_r=.1,br="function"===typeof Float32Array;function vr(e,t){return 1-3*t+3*e}function wr(e,t){return 3*t-6*e}function xr(e){return 3*e}function kr(e,t,n){return((vr(t,n)*e+wr(t,n))*e+xr(t))*e}function Sr(e,t,n){return 3*vr(t,n)*e*e+2*wr(t,n)*e+xr(t)}function Tr(e,t,n,r){if(!(e>=0&&e<=1&&n>=0&&n<=1))throw new Error("bezier x values must be in [0, 1] range");var i=br?new Float32Array(11):new Array(11);if(e!==t||n!==r)for(var a=0;a<11;++a)i[a]=kr(a*_r,e,n);function o(t){for(var r=0,a=1;10!==a&&i[a]<=t;++a)r+=_r;--a;var o=r+(t-i[a])/(i[a+1]-i[a])*_r,s=Sr(o,e,n);return s>=.001?function(e,t,n,r){for(var i=t,a=0;a<gr;++a){var o=Sr(i,n,r);if(0===o)return i;i-=(kr(i,n,r)-e)/o}return i}(t,o,e,n):0===s?o:function(e,t,n,r,i){var a,o,s=0,l=t,u=n;do{(a=kr(o=l+(u-l)/2,r,i)-e)>0?u=o:l=o}while(Math.abs(a)>mr&&++s<yr);return o}(t,r,r+_r,e,n)}return function(i){return e===t&&n===r?i:0===i?0:1===i?1:kr(o(i),t,r)}}const Er=function(){function e(){(0,l.default)(this,e)}return(0,u.default)(e,null,[{key:"step0",value:function(e){return e>0?1:0}},{key:"step1",value:function(e){return e>=1?1:0}},{key:"linear",value:function(e){return e}},{key:"ease",value:function(t){return pr||(pr=e.bezier(.42,0,1,1)),pr(t)}},{key:"quad",value:function(e){return e*e}},{key:"cubic",value:function(e){return e*e*e}},{key:"poly",value:function(e){return function(t){return Math.pow(t,e)}}},{key:"sin",value:function(e){return 1-Math.cos(e*Math.PI/2)}},{key:"circle",value:function(e){return 1-Math.sqrt(1-e*e)}},{key:"exp",value:function(e){return Math.pow(2,10*(e-1))}},{key:"elastic",value:function(e){void 0===e&&(e=1);var t=e*Math.PI;return function(e){return 1-Math.pow(Math.cos(e*Math.PI/2),3)*Math.cos(e*t)}}},{key:"back",value:function(e){return void 0===e&&(e=1.70158),function(t){return t*t*((e+1)*t-e)}}},{key:"bounce",value:function(e){if(e<1/2.75)return 7.5625*e*e;if(e<2/2.75){var t=e-1.5/2.75;return 7.5625*t*t+.75}if(e<2.5/2.75){var n=e-2.25/2.75;return 7.5625*n*n+.9375}var r=e-2.625/2.75;return 7.5625*r*r+.984375}},{key:"bezier",value:function(e,t,n,r){return Tr(e,t,n,r)}},{key:"in",value:function(e){return e}},{key:"out",value:function(e){return function(t){return 1-e(1-t)}}},{key:"inOut",value:function(e){return function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2}}}])}();function Ar(e,t,n){return t=(0,d.default)(t),(0,c.default)(e,Or()?Reflect.construct(t,n||[],(0,d.default)(e).constructor):t.apply(e,n))}function Or(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Or=function(){return!!e})()}var Cr;const Ir=function(e){function t(e){var n,r,i,a,o,s;return(0,l.default)(this,t),(n=Ar(this,t))._toValue=e.toValue,n._easing=null!==(r=e.easing)&&void 0!==r?r:(Cr||(Cr=Er.inOut(Er.ease)),Cr),n._duration=null!==(i=e.duration)&&void 0!==i?i:500,n._delay=null!==(a=e.delay)&&void 0!==a?a:0,n.__iterations=null!==(o=e.iterations)&&void 0!==o?o:1,n._useNativeDriver=Ot(e),n._platformConfig=e.platformConfig,n.__isInteraction=null!==(s=e.isInteraction)&&void 0!==s?s:!n._useNativeDriver,n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"__getNativeAnimationConfig",value:function(){for(var e=[],t=Math.round(this._duration/(1e3/60)),n=0;n<t;n++)e.push(this._easing(n/t));return e.push(this._easing(1)),{type:"frames",frames:e,toValue:this._toValue,iterations:this.__iterations,platformConfig:this._platformConfig}}},{key:"start",value:function(e,t,n,r,i){var a=this;this.__active=!0,this._fromValue=e,this._onUpdate=t,this.__onEnd=n;var o=function(){0!==a._duration||a._useNativeDriver?(a._startTime=Date.now(),a._useNativeDriver?a.__startNativeAnimation(i):a._animationFrame=requestAnimationFrame(a.onUpdate.bind(a))):(a._onUpdate(a._toValue),a.__debouncedOnEnd({finished:!0}))};this._delay?this._timeout=setTimeout(o,this._delay):o()}},{key:"onUpdate",value:function(){var e=Date.now();if(e>=this._startTime+this._duration)return 0===this._duration?this._onUpdate(this._toValue):this._onUpdate(this._fromValue+this._easing(1)*(this._toValue-this._fromValue)),void this.__debouncedOnEnd({finished:!0});this._onUpdate(this._fromValue+this._easing((e-this._startTime)/this._duration)*(this._toValue-this._fromValue)),this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this)))}},{key:"stop",value:function(){we((0,d.default)(t.prototype),"stop",this).call(this),this.__active=!1,clearTimeout(this._timeout),n.g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}])}(ir);function Pr(e,t,n){return t=(0,d.default)(t),(0,c.default)(e,Mr()?Reflect.construct(t,n||[],(0,d.default)(e).constructor):t.apply(e,n))}function Mr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Mr=function(){return!!e})()}var Lr=Ct.API,Rr={r:0,g:0,b:0,a:1},Nr=1;function Dr(e){if(void 0===e||null===e)return null;if(jr(e))return e;var t=jt()(e);if(void 0===t||null===t)return null;if("object"===typeof t){if(null!=t)return t}else if("number"===typeof t){return{r:(4278190080&t)>>>24,g:(16711680&t)>>>16,b:(65280&t)>>>8,a:(255&t)/255}}return null}function jr(e){return e&&"number"===typeof e.r&&"number"===typeof e.g&&"number"===typeof e.b&&"number"===typeof e.a}var Fr=function(e){function t(e,n){var r;(0,l.default)(this,t),(r=Pr(this,t))._listeners={};var i=null!==e&&void 0!==e?e:Rr;if(function(e){return e&&e.r instanceof Yt&&e.g instanceof Yt&&e.b instanceof Yt&&e.a instanceof Yt}(i)){var a=i;r.r=a.r,r.g=a.g,r.b=a.b,r.a=a.a}else{var o,s=null!==(o=Dr(i))&&void 0!==o?o:Rr,u=Rr;jr(s)?u=s:r.nativeColor=s,r.r=new Yt(u.r),r.g=new Yt(u.g),r.b=new Yt(u.b),r.a=new Yt(u.a)}return(r.nativeColor||n&&n.useNativeDriver)&&r.__makeNative(),r}return(0,f.default)(t,e),(0,u.default)(t,[{key:"setValue",value:function(e){var t,n=!1;if(this.__isNative){var r=this.__getNativeTag();Lr.setWaitingForIdentifier(r.toString())}var i=null!==(t=Dr(e))&&void 0!==t?t:Rr;if(jr(i)){var a=i;this.r.setValue(a.r),this.g.setValue(a.g),this.b.setValue(a.b),this.a.setValue(a.a),null!=this.nativeColor&&(this.nativeColor=null,n=!0)}else{var o=i;this.nativeColor!==o&&(this.nativeColor=o,n=!0)}if(this.__isNative){var s=this.__getNativeTag();n&&Lr.updateAnimatedNodeConfig(s,this.__getNativeConfig()),Lr.unsetWaitingForIdentifier(s.toString())}}},{key:"setOffset",value:function(e){this.r.setOffset(e.r),this.g.setOffset(e.g),this.b.setOffset(e.b),this.a.setOffset(e.a)}},{key:"flattenOffset",value:function(){this.r.flattenOffset(),this.g.flattenOffset(),this.b.flattenOffset(),this.a.flattenOffset()}},{key:"extractOffset",value:function(){this.r.extractOffset(),this.g.extractOffset(),this.b.extractOffset(),this.a.extractOffset()}},{key:"addListener",value:function(e){var t=this,n=String(Nr++),r=function(n){n.value;e(t.__getValue())};return this._listeners[n]={r:this.r.addListener(r),g:this.g.addListener(r),b:this.b.addListener(r),a:this.a.addListener(r)},n}},{key:"removeListener",value:function(e){this.r.removeListener(this._listeners[e].r),this.g.removeListener(this._listeners[e].g),this.b.removeListener(this._listeners[e].b),this.a.removeListener(this._listeners[e].a),delete this._listeners[e]}},{key:"removeAllListeners",value:function(){this.r.removeAllListeners(),this.g.removeAllListeners(),this.b.removeAllListeners(),this.a.removeAllListeners(),this._listeners={}}},{key:"stopAnimation",value:function(e){this.r.stopAnimation(),this.g.stopAnimation(),this.b.stopAnimation(),this.a.stopAnimation(),e&&e(this.__getValue())}},{key:"resetAnimation",value:function(e){this.r.resetAnimation(),this.g.resetAnimation(),this.b.resetAnimation(),this.a.resetAnimation(),e&&e(this.__getValue())}},{key:"__getValue",value:function(){return null!=this.nativeColor?this.nativeColor:"rgba("+this.r.__getValue()+", "+this.g.__getValue()+", "+this.b.__getValue()+", "+this.a.__getValue()+")"}},{key:"__attach",value:function(){this.r.__addChild(this),this.g.__addChild(this),this.b.__addChild(this),this.a.__addChild(this),we((0,d.default)(t.prototype),"__attach",this).call(this)}},{key:"__detach",value:function(){this.r.__removeChild(this),this.g.__removeChild(this),this.b.__removeChild(this),this.a.__removeChild(this),we((0,d.default)(t.prototype),"__detach",this).call(this)}},{key:"__makeNative",value:function(e){this.r.__makeNative(e),this.g.__makeNative(e),this.b.__makeNative(e),this.a.__makeNative(e),we((0,d.default)(t.prototype),"__makeNative",this).call(this,e)}},{key:"__getNativeConfig",value:function(){return{type:"color",r:this.r.__getNativeTag(),g:this.g.__getNativeTag(),b:this.b.__getNativeTag(),a:this.a.__getNativeTag(),nativeColor:this.nativeColor}}}])}(Nt),Br=function(e,t){return e&&t.onComplete?function(){t.onComplete&&t.onComplete.apply(t,arguments),e&&e.apply(void 0,arguments)}:e||t.onComplete},zr=function(e,t,n){if(e instanceof nr){var r=(0,a.default)({},t),i=(0,a.default)({},t);for(var o in t){var s=t[o],l=s.x,u=s.y;void 0!==l&&void 0!==u&&(r[o]=l,i[o]=u)}var c=n(e.x,r),d=n(e.y,i);return Vr([c,d],{stopTogether:!1})}if(e instanceof Fr){var f=(0,a.default)({},t),h=(0,a.default)({},t),p=(0,a.default)({},t),g=(0,a.default)({},t);for(var m in t){var y=t[m],_=y.r,b=y.g,v=y.b,w=y.a;void 0!==_&&void 0!==b&&void 0!==v&&void 0!==w&&(f[m]=_,h[m]=b,p[m]=v,g[m]=w)}var x=n(e.r,f),k=n(e.g,h),S=n(e.b,p),T=n(e.a,g);return Vr([x,k,S,T],{stopTogether:!1})}return null},$r=function e(t,n){var r=function(e,t,n){n=Br(n,t);var r=e,i=t;r.stopTracking(),t.toValue instanceof Mt?r.track(new Jn(r,t.toValue,Ir,i,n)):r.animate(new Ir(i),n)};return zr(t,n,e)||{start:function(e){r(t,n,e)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(e){var i=(0,a.default)((0,a.default)({},n),{},{iterations:e});r(t,i)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},Ur=function(e){var t=0;return{start:function(n){0===e.length?n&&n({finished:!0}):e[t].start((function r(i){i.finished&&++t!==e.length?e[t].start(r):n&&n(i)}))},stop:function(){t<e.length&&e[t].stop()},reset:function(){e.forEach((function(e,n){n<=t&&e.reset()})),t=0},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.sequence animations")},_isUsingNativeDriver:function(){return!1}}},Vr=function(e,t){var n=0,r={},i=!(t&&!1===t.stopTogether),a={start:function(t){n!==e.length?e.forEach((function(o,s){var l=function(o){if(r[s]=!0,++n===e.length)return n=0,void(t&&t(o));!o.finished&&i&&a.stop()};o?o.start(l):l({finished:!0})})):t&&t({finished:!0})},stop:function(){e.forEach((function(e,t){!r[t]&&e.stop(),r[t]=!0}))},reset:function(){e.forEach((function(e,t){e.reset(),r[t]=!1,n=0}))},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.parallel animations")},_isUsingNativeDriver:function(){return!1}};return a},Wr=function(e){return $r(new Yt(0),{toValue:0,delay:e,duration:0,useNativeDriver:!1})};const Hr={Value:Yt,ValueXY:nr,Color:Fr,Interpolation:qt,Node:Mt,decay:function e(t,n){var r=function(e,t,n){n=Br(n,t);var r=e,i=t;r.stopTracking(),r.animate(new sr(i),n)};return zr(t,n,e)||{start:function(e){r(t,n,e)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(e){var i=(0,a.default)((0,a.default)({},n),{},{iterations:e});r(t,i)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},timing:$r,spring:function e(t,n){var r=function(e,t,n){n=Br(n,t);var r=e,i=t;r.stopTracking(),t.toValue instanceof Mt?r.track(new Jn(r,t.toValue,hr,i,n)):r.animate(new hr(i),n)};return zr(t,n,e)||{start:function(e){r(t,n,e)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(e){var i=(0,a.default)((0,a.default)({},n),{},{iterations:e});r(t,i)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},add:function(e,t){return new Rn(e,t)},subtract:function(e,t){return new Zn(e,t)},divide:function(e,t){return new zn(e,t)},multiply:function(e,t){return new Gn(e,t)},modulo:function(e,t){return new Vn(e,t)},diffClamp:function(e,t,n){return new jn(e,t,n)},delay:Wr,sequence:Ur,parallel:Vr,stagger:function(e,t){return Vr(t.map((function(t,n){return Ur([Wr(e*n),t])})))},loop:function(e,t){var n=void 0===t?{}:t,r=n.iterations,i=void 0===r?-1:r,a=n.resetBeforeIteration,o=void 0===a||a,s=!1,l=0;return{start:function(t){e&&0!==i?e._isUsingNativeDriver()?e._startNativeLoop(i):function n(r){void 0===r&&(r={finished:!0}),s||l===i||!1===r.finished?t&&t(r):(l++,o&&e.reset(),e.start(n))}():t&&t({finished:!0})},stop:function(){s=!0,e.stop()},reset:function(){l=0,s=!1,e.reset()},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.loop animations")},_isUsingNativeDriver:function(){return e._isUsingNativeDriver()}}},event:function(e,t){var n=new Qt(e,t);return n.__isNative?n:n.__getHandler()},createAnimatedComponent:mn,attachNativeEvent:Jt,forkEvent:function(e,t){return e?e instanceof Qt?(e.__addListener(t),e):function(){"function"===typeof e&&e.apply(void 0,arguments),t.apply(void 0,arguments)}:t},unforkEvent:function(e,t){e&&e instanceof Qt&&e.__removeListener(t)},Event:Qt};var Gr=!1;function qr(e){return function(t){var n=null==t?t:function(){if(Gr)console.warn("Ignoring recursive animation callback when running mock animations");else{Gr=!0;try{t.apply(void 0,arguments)}finally{Gr=!1}}};e(n)}}var Kr={start:function(){},stop:function(){},reset:function(){},_startNativeLoop:function(){},_isUsingNativeDriver:function(){return!1}},Zr=function(e){return(0,a.default)((0,a.default)({},Kr),{},{start:qr((function(t){e.forEach((function(e){return e.start()})),null==t||t({finished:!0})}))})};const Xr={Value:Yt,ValueXY:nr,Color:Fr,Interpolation:qt,Node:Mt,decay:function(e,t){return Kr},timing:function(e,t){var n=e;return(0,a.default)((0,a.default)({},Kr),{},{start:qr((function(e){n.setValue(t.toValue),null==e||e({finished:!0})}))})},spring:function(e,t){var n=e;return(0,a.default)((0,a.default)({},Kr),{},{start:qr((function(e){n.setValue(t.toValue),null==e||e({finished:!0})}))})},add:Hr.add,subtract:Hr.subtract,divide:Hr.divide,multiply:Hr.multiply,modulo:Hr.modulo,diffClamp:Hr.diffClamp,delay:function(e){return Kr},sequence:function(e){return Zr(e)},parallel:function(e,t){return Zr(e)},stagger:function(e,t){return Zr(t)},loop:function(e,t){(void 0===t?{}:t).iterations;return Kr},event:Hr.event,createAnimatedComponent:mn,attachNativeEvent:Jt,forkEvent:Hr.forkEvent,unforkEvent:Hr.unforkEvent,Event:Qt};var Yr=o.default.isTesting?Xr:Hr;const Jr=(0,a.default)({FlatList:yn,Image:_n,ScrollView:bn,SectionList:Cn,Text:In,View:Pn},Yr);var Qr=n(397);const ei=i.forwardRef((function(e,t){var n=e.steps,a=e.activeStep,o=void 0===a?0:a,s=e.currentStep,l=void 0===s?function(){}:s,u=e.onNext,c=void 0===u?function(){}:u,d=e.onPrev,f=void 0===d?function(){}:d,h=e.isFirstStep,p=void 0===h?function(){}:h,g=e.isLastStep,m=void 0===g?function(){}:g,y=e.duration,_=void 0===y?500:y,b=e.nextStepAnimation,v=void 0===b?"fade":b,w=e.prevStepAnimation,x=void 0===w?"fade":w,k=e.useNativeDriver,S=void 0===k||k,T=e.contentContainerStyle,E=(0,i.useState)(o),A=(0,r.default)(E,2),O=A[0],C=A[1],I=(0,i.useState)(!0),P=(0,r.default)(I,2),M=P[0],L=P[1];return t.current={next:function(){n.length-1!==O&&(C(O+1),L(!0),l({currentStep:O+1,isFirstStep:O+1===0,isLastStep:O+1===n.length-1}),c())},prev:function(){O>0&&(C(O-1),L(!1),l({currentStep:O-1,isFirstStep:O-1===0,isLastStep:O-1===n.length-1}),f())},goTo:function(e){(n.length-1<=e||e>=0)&&(O>e?(L(!1),f()):(L(!0),c()),l({currentStep:e,isFirstStep:0===e,isLastStep:0!==e}),C(e))}},(0,i.useEffect)((function(){l({currentStep:O,isFirstStep:0===O,isLastStep:O===n.length-1})}),[O,n.length]),(0,i.useEffect)((function(){p(0===O),m(O===n.length-1)}),[O,n.length]),(0,Qr.jsx)(ti,{contentContainerStyle:T,currentStep:O,duration:_,animation:M?v:x,content:n[O].content,useNativeDriver:S})}));var ti=function(e){var t=e.content,n=e.animation,a=e.duration,o=e.currentStep,s=e.useNativeDriver,l=e.contentContainerStyle,u=(0,i.useState)(void 0),c=(0,r.default)(u,2),d=c[0],f=c[1];return(0,i.useEffect)((function(){switch(n){case"slideLeft":var e=new Jr.Value(-T.default.get("window").width);Jr.timing(e,{toValue:0,duration:a,useNativeDriver:s}).start(),f({transform:[{translateX:e}]});break;case"slideRight":var t=new Jr.Value(T.default.get("window").width);Jr.timing(t,{toValue:0,duration:a,useNativeDriver:s}).start(),f({transform:[{translateX:t}]});break;case"slideUp":var r=new Jr.Value(-T.default.get("window").height);Jr.timing(r,{toValue:0,duration:a,useNativeDriver:s}).start(),f({transform:[{translateY:r}]});break;case"slideDown":var i=new Jr.Value(T.default.get("window").height);Jr.timing(i,{toValue:0,duration:a}).start(),f({transform:[{translateY:i}]});break;default:var o=new Jr.Value(0);Jr.timing(o,{toValue:1,duration:a,useNativeDriver:s}).start(),f({opacity:o})}return function(){var e=new Jr.Value(1);Jr.timing(e,{toValue:0,duration:300,useNativeDriver:s}).start(),f({opacity:e})}}),[n,a,f,o]),(0,Qr.jsx)(Jr.View,{style:[d,l],children:t})}},7920:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={}},6353:function(e,t,n){!function(e,t,r){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}e.version="2.4.2";var a=i(t),o=i(r);function s(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=s(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function l(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=s(e))&&(r&&(r+=" "),r+=t);return r}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(e,t,n){return f=d()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&c(i,n.prototype),i},f.apply(null,arguments)}function h(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(){if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=function(e){for(var t=window.document,n=i(t);n;)n=i(t=n.ownerDocument);return t}(),t=[],n=null,r=null;o.prototype.THROTTLE_TIMEOUT=100,o.prototype.POLL_INTERVAL=null,o.prototype.USE_MUTATION_OBSERVER=!0,o._setupCrossOriginUpdater=function(){return n||(n=function(e,n){r=e&&n?d(e,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},t.forEach((function(e){e._checkForIntersections()}))}),n},o._resetCrossOriginUpdater=function(){n=null,r=null},o.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},o.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},o.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},o.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},o.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},o.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},o.prototype._monitorIntersections=function(t){var n=t.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(t)){var r=this._checkForIntersections,a=null,o=null;this.POLL_INTERVAL?a=n.setInterval(r,this.POLL_INTERVAL):(s(n,"resize",r,!0),s(t,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(o=new n.MutationObserver(r)).observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push((function(){var e=t.defaultView;e&&(a&&e.clearInterval(a),l(e,"resize",r,!0)),l(t,"scroll",r,!0),o&&o.disconnect()}));var u=this.root&&(this.root.ownerDocument||this.root)||e;if(t!=u){var c=i(t);c&&this._monitorIntersections(c.ownerDocument)}}},o.prototype._unmonitorIntersections=function(t){var n=this._monitoringDocuments.indexOf(t);if(-1!=n){var r=this.root&&(this.root.ownerDocument||this.root)||e,a=this._observationTargets.some((function(e){var n=e.element.ownerDocument;if(n==t)return!0;for(;n&&n!=r;){var a=i(n);if((n=a&&a.ownerDocument)==t)return!0}return!1}));if(!a){var o=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),o(),t!=r){var s=i(t);s&&this._unmonitorIntersections(s.ownerDocument)}}}},o.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var t=0;t<e.length;t++)e[t]()},o.prototype._checkForIntersections=function(){if(this.root||!n||r){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var i=r.element,o=u(i),s=this._rootContainsTarget(i),l=r.entry,c=e&&s&&this._computeTargetAndRootIntersection(i,o,t),d=null;this._rootContainsTarget(i)?n&&!this.root||(d=t):d={top:0,bottom:0,left:0,right:0,width:0,height:0};var f=r.entry=new a({time:window.performance&&performance.now&&performance.now(),target:i,boundingClientRect:o,rootBounds:d,intersectionRect:c});l?e&&s?this._hasCrossedThreshold(l,f)&&this._queuedEntries.push(f):l&&l.isIntersecting&&this._queuedEntries.push(f):this._queuedEntries.push(f)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},o.prototype._computeTargetAndRootIntersection=function(t,i,a){if("none"!=window.getComputedStyle(t).display){for(var o,s,l,c,f,p,g,m,y=i,_=h(t),b=!1;!b&&_;){var v=null,w=1==_.nodeType?window.getComputedStyle(_):{};if("none"==w.display)return null;if(_==this.root||9==_.nodeType)if(b=!0,_==this.root||_==e)n&&!this.root?!r||0==r.width&&0==r.height?(_=null,v=null,y=null):v=r:v=a;else{var x=h(_),k=x&&u(x),S=x&&this._computeTargetAndRootIntersection(x,k,a);k&&S?(_=x,v=d(k,S)):(_=null,y=null)}else{var T=_.ownerDocument;_!=T.body&&_!=T.documentElement&&"visible"!=w.overflow&&(v=u(_))}if(v&&(o=v,s=y,l=void 0,c=void 0,f=void 0,p=void 0,g=void 0,m=void 0,l=Math.max(o.top,s.top),c=Math.min(o.bottom,s.bottom),f=Math.max(o.left,s.left),m=c-l,y=(g=(p=Math.min(o.right,s.right))-f)>=0&&m>=0&&{top:l,bottom:c,left:f,right:p,width:g,height:m}||null),!y)break;_=_&&h(_)}return y}},o.prototype._getRootRect=function(){var t;if(this.root&&!p(this.root))t=u(this.root);else{var n=p(this.root)?this.root:e,r=n.documentElement,i=n.body;t={top:0,left:0,right:r.clientWidth||i.clientWidth,width:r.clientWidth||i.clientWidth,bottom:r.clientHeight||i.clientHeight,height:r.clientHeight||i.clientHeight}}return this._expandRectByRootMargin(t)},o.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},o.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var a=this.thresholds[i];if(a==n||a==r||a<n!=a<r)return!0}},o.prototype._rootIsInDom=function(){return!this.root||f(e,this.root)},o.prototype._rootContainsTarget=function(t){var n=this.root&&(this.root.ownerDocument||this.root)||e;return f(n,t)&&(!this.root||n==t.ownerDocument)},o.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},o.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=o,window.IntersectionObserverEntry=a}function i(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(e){return null}}function a(e){this.time=e.time,this.target=e.target,this.rootBounds=c(e.rootBounds),this.boundingClientRect=c(e.boundingClientRect),this.intersectionRect=c(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function o(e,t){var n,r,i,a=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(a.root&&1!=a.root.nodeType&&9!=a.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout((function(){n(),i=null}),r))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(a.rootMargin),this.thresholds=this._initThresholds(a.threshold),this.root=a.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function s(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function l(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detachEvent&&e.detachEvent("on"+t,n)}function u(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function c(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function d(e,t){var n=t.top-e.top,r=t.left-e.left;return{top:n,left:r,height:t.height,width:t.width,bottom:n+t.height,right:r+t.width}}function f(e,t){for(var n=t;n;){if(n==e)return!0;n=h(n)}return!1}function h(t){var n=t.parentNode;return 9==t.nodeType&&t!=e?i(t):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&11==n.nodeType&&n.host?n.host:n)}function p(e){return e&&9===e.nodeType}}();var g=Object.hasOwnProperty,m=Object.setPrototypeOf,y=Object.isFrozen,_=Object.getPrototypeOf,b=Object.getOwnPropertyDescriptor,v=Object.freeze,w=Object.seal,x=Object.create,k="undefined"!=typeof Reflect&&Reflect,S=k.apply,T=k.construct;S||(S=function(e,t,n){return e.apply(t,n)}),v||(v=function(e){return e}),w||(w=function(e){return e}),T||(T=function(e,t){return f(e,h(t))});var E,A=j(Array.prototype.forEach),O=j(Array.prototype.pop),C=j(Array.prototype.push),I=j(String.prototype.toLowerCase),P=j(String.prototype.match),M=j(String.prototype.replace),L=j(String.prototype.indexOf),R=j(String.prototype.trim),N=j(RegExp.prototype.test),D=(E=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return T(E,t)});function j(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return S(e,t,r)}}function F(e,t){m&&m(e,null);for(var n=t.length;n--;){var r=t[n];if("string"==typeof r){var i=I(r);i!==r&&(y(t)||(t[n]=i),r=i)}e[r]=!0}return e}function B(e){var t,n=x(null);for(t in e)S(g,e,[t])&&(n[t]=e[t]);return n}function z(e,t){for(;null!==e;){var n=b(e,t);if(n){if(n.get)return j(n.get);if("function"==typeof n.value)return j(n.value)}e=_(e)}return function(e){return null}}var $=v(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),U=v(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),V=v(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),W=v(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),H=v(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),G=v(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),q=v(["#text"]),K=v(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Z=v(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),X=v(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Y=v(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),J=w(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Q=w(/<%[\w\W]*|[\w\W]*%>/gm),ee=w(/^data-[\-\w.\u00B7-\uFFFF]/),te=w(/^aria-[\-\w]+$/),ne=w(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),re=w(/^(?:\w+script|data):/i),ie=w(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ae=w(/^html$/i),oe=function(){return"undefined"==typeof window?null:window},se=function(e,t){if("object"!==u(e)||"function"!=typeof e.createPolicy)return null;var n=null,r="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(r)&&(n=t.currentScript.getAttribute(r));var i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:function(e){return e}})}catch(e){return null}},le=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe(),n=function(t){return e(t)};if(n.version="2.3.8",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var r=t.document,i=t.document,a=t.DocumentFragment,o=t.HTMLTemplateElement,s=t.Node,l=t.Element,c=t.NodeFilter,d=t.NamedNodeMap,f=void 0===d?t.NamedNodeMap||t.MozNamedAttrMap:d,p=t.HTMLFormElement,g=t.DOMParser,m=t.trustedTypes,y=l.prototype,_=z(y,"cloneNode"),b=z(y,"nextSibling"),w=z(y,"childNodes"),x=z(y,"parentNode");if("function"==typeof o){var k=i.createElement("template");k.content&&k.content.ownerDocument&&(i=k.content.ownerDocument)}var S=se(m,r),T=S?S.createHTML(""):"",E=i,j=E.implementation,le=E.createNodeIterator,ue=E.createDocumentFragment,ce=E.getElementsByTagName,de=r.importNode,fe={};try{fe=B(i).documentMode?i.documentMode:{}}catch(e){}var he={};n.isSupported="function"==typeof x&&j&&void 0!==j.createHTMLDocument&&9!==fe;var pe,ge,me=J,ye=Q,_e=ee,be=te,ve=re,we=ie,xe=ne,ke=null,Se=F({},[].concat(h($),h(U),h(V),h(H),h(q))),Te=null,Ee=F({},[].concat(h(K),h(Z),h(X),h(Y))),Ae=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Oe=null,Ce=null,Ie=!0,Pe=!0,Me=!1,Le=!1,Re=!1,Ne=!1,De=!1,je=!1,Fe=!1,Be=!1,ze=!0,$e=!0,Ue=!1,Ve={},We=null,He=F({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ge=null,qe=F({},["audio","video","img","source","image","track"]),Ke=null,Ze=F({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xe="http://www.w3.org/1998/Math/MathML",Ye="http://www.w3.org/2000/svg",Je="http://www.w3.org/1999/xhtml",Qe=Je,et=!1,tt=["application/xhtml+xml","text/html"],nt="text/html",rt=null,it=i.createElement("form"),at=function(e){return e instanceof RegExp||e instanceof Function},ot=function(e){rt&&rt===e||(e&&"object"===u(e)||(e={}),e=B(e),ke="ALLOWED_TAGS"in e?F({},e.ALLOWED_TAGS):Se,Te="ALLOWED_ATTR"in e?F({},e.ALLOWED_ATTR):Ee,Ke="ADD_URI_SAFE_ATTR"in e?F(B(Ze),e.ADD_URI_SAFE_ATTR):Ze,Ge="ADD_DATA_URI_TAGS"in e?F(B(qe),e.ADD_DATA_URI_TAGS):qe,We="FORBID_CONTENTS"in e?F({},e.FORBID_CONTENTS):He,Oe="FORBID_TAGS"in e?F({},e.FORBID_TAGS):{},Ce="FORBID_ATTR"in e?F({},e.FORBID_ATTR):{},Ve="USE_PROFILES"in e&&e.USE_PROFILES,Ie=!1!==e.ALLOW_ARIA_ATTR,Pe=!1!==e.ALLOW_DATA_ATTR,Me=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Le=e.SAFE_FOR_TEMPLATES||!1,Re=e.WHOLE_DOCUMENT||!1,je=e.RETURN_DOM||!1,Fe=e.RETURN_DOM_FRAGMENT||!1,Be=e.RETURN_TRUSTED_TYPE||!1,De=e.FORCE_BODY||!1,ze=!1!==e.SANITIZE_DOM,$e=!1!==e.KEEP_CONTENT,Ue=e.IN_PLACE||!1,xe=e.ALLOWED_URI_REGEXP||xe,Qe=e.NAMESPACE||Je,e.CUSTOM_ELEMENT_HANDLING&&at(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ae.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&at(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ae.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ae.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),pe=pe=-1===tt.indexOf(e.PARSER_MEDIA_TYPE)?nt:e.PARSER_MEDIA_TYPE,ge="application/xhtml+xml"===pe?function(e){return e}:I,Le&&(Pe=!1),Fe&&(je=!0),Ve&&(ke=F({},h(q)),Te=[],!0===Ve.html&&(F(ke,$),F(Te,K)),!0===Ve.svg&&(F(ke,U),F(Te,Z),F(Te,Y)),!0===Ve.svgFilters&&(F(ke,V),F(Te,Z),F(Te,Y)),!0===Ve.mathMl&&(F(ke,H),F(Te,X),F(Te,Y))),e.ADD_TAGS&&(ke===Se&&(ke=B(ke)),F(ke,e.ADD_TAGS)),e.ADD_ATTR&&(Te===Ee&&(Te=B(Te)),F(Te,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&F(Ke,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(We===He&&(We=B(We)),F(We,e.FORBID_CONTENTS)),$e&&(ke["#text"]=!0),Re&&F(ke,["html","head","body"]),ke.table&&(F(ke,["tbody"]),delete Oe.tbody),v&&v(e),rt=e)},st=F({},["mi","mo","mn","ms","mtext"]),lt=F({},["foreignobject","desc","title","annotation-xml"]),ut=F({},["title","style","font","a","script"]),ct=F({},U);F(ct,V),F(ct,W);var dt=F({},H);F(dt,G);var ft=function(e){var t=x(e);t&&t.tagName||(t={namespaceURI:Je,tagName:"template"});var n=I(e.tagName),r=I(t.tagName);return e.namespaceURI===Ye?t.namespaceURI===Je?"svg"===n:t.namespaceURI===Xe?"svg"===n&&("annotation-xml"===r||st[r]):Boolean(ct[n]):e.namespaceURI===Xe?t.namespaceURI===Je?"math"===n:t.namespaceURI===Ye?"math"===n&&lt[r]:Boolean(dt[n]):e.namespaceURI===Je&&!(t.namespaceURI===Ye&&!lt[r])&&!(t.namespaceURI===Xe&&!st[r])&&!dt[n]&&(ut[n]||!ct[n])},ht=function(e){C(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=T}catch(t){e.remove()}}},pt=function(e,t){try{C(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){C(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Te[e])if(je||Fe)try{ht(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},gt=function(e){var t,n;if(De)e="<remove></remove>"+e;else{var r=P(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===pe&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var a=S?S.createHTML(e):e;if(Qe===Je)try{t=(new g).parseFromString(a,pe)}catch(e){}if(!t||!t.documentElement){t=j.createDocument(Qe,"template",null);try{t.documentElement.innerHTML=et?"":a}catch(e){}}var o=t.body||t.documentElement;return e&&n&&o.insertBefore(i.createTextNode(n),o.childNodes[0]||null),Qe===Je?ce.call(t,Re?"html":"body")[0]:Re?t.documentElement:o},mt=function(e){return le.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},yt=function(e){return e instanceof p&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof f)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)},_t=function(e){return"object"===u(s)?e instanceof s:e&&"object"===u(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},bt=function(e,t,r){he[e]&&A(he[e],(function(e){e.call(n,t,r,rt)}))},vt=function(e){var t;if(bt("beforeSanitizeElements",e,null),yt(e))return ht(e),!0;if(N(/[\u0080-\uFFFF]/,e.nodeName))return ht(e),!0;var r=ge(e.nodeName);if(bt("uponSanitizeElement",e,{tagName:r,allowedTags:ke}),e.hasChildNodes()&&!_t(e.firstElementChild)&&(!_t(e.content)||!_t(e.content.firstElementChild))&&N(/<[/\w]/g,e.innerHTML)&&N(/<[/\w]/g,e.textContent))return ht(e),!0;if("select"===r&&N(/<template/i,e.innerHTML))return ht(e),!0;if(!ke[r]||Oe[r]){if(!Oe[r]&&xt(r)){if(Ae.tagNameCheck instanceof RegExp&&N(Ae.tagNameCheck,r))return!1;if(Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(r))return!1}if($e&&!We[r]){var i=x(e)||e.parentNode,a=w(e)||e.childNodes;if(a&&i)for(var o=a.length-1;o>=0;--o)i.insertBefore(_(a[o],!0),b(e))}return ht(e),!0}return e instanceof l&&!ft(e)?(ht(e),!0):"noscript"!==r&&"noembed"!==r||!N(/<\/no(script|embed)/i,e.innerHTML)?(Le&&3===e.nodeType&&(t=e.textContent,t=M(t,me," "),t=M(t,ye," "),e.textContent!==t&&(C(n.removed,{element:e.cloneNode()}),e.textContent=t)),bt("afterSanitizeElements",e,null),!1):(ht(e),!0)},wt=function(e,t,n){if(ze&&("id"===t||"name"===t)&&(n in i||n in it))return!1;if(Pe&&!Ce[t]&&N(_e,t));else if(Ie&&N(be,t));else if(!Te[t]||Ce[t]){if(!(xt(e)&&(Ae.tagNameCheck instanceof RegExp&&N(Ae.tagNameCheck,e)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(e))&&(Ae.attributeNameCheck instanceof RegExp&&N(Ae.attributeNameCheck,t)||Ae.attributeNameCheck instanceof Function&&Ae.attributeNameCheck(t))||"is"===t&&Ae.allowCustomizedBuiltInElements&&(Ae.tagNameCheck instanceof RegExp&&N(Ae.tagNameCheck,n)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(n))))return!1}else if(Ke[t]);else if(N(xe,M(n,we,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==L(n,"data:")||!Ge[e])if(Me&&!N(ve,M(n,we,"")));else if(n)return!1;return!0},xt=function(e){return e.indexOf("-")>0},kt=function(e){var t,r,i,a;bt("beforeSanitizeAttributes",e,null);var o=e.attributes;if(o){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Te};for(a=o.length;a--;){var l=t=o[a],u=l.name,c=l.namespaceURI;if(r="value"===u?t.value:R(t.value),i=ge(u),s.attrName=i,s.attrValue=r,s.keepAttr=!0,s.forceKeepAttr=void 0,bt("uponSanitizeAttribute",e,s),r=s.attrValue,!s.forceKeepAttr&&(pt(u,e),s.keepAttr))if(N(/\/>/i,r))pt(u,e);else{Le&&(r=M(r,me," "),r=M(r,ye," "));var d=ge(e.nodeName);if(wt(d,i,r))try{c?e.setAttributeNS(c,u,r):e.setAttribute(u,r),O(n.removed)}catch(e){}}}bt("afterSanitizeAttributes",e,null)}},St=function e(t){var n,r=mt(t);for(bt("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)bt("uponSanitizeShadowNode",n,null),vt(n)||(n.content instanceof a&&e(n.content),kt(n));bt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,i){var o,l,c,d,f;if((et=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!_t(e)){if("function"!=typeof e.toString)throw D("toString is not a function");if("string"!=typeof(e=e.toString()))throw D("dirty is not a string, aborting")}if(!n.isSupported){if("object"===u(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(_t(e))return t.toStaticHTML(e.outerHTML)}return e}if(Ne||ot(i),n.removed=[],"string"==typeof e&&(Ue=!1),Ue){if(e.nodeName){var h=ge(e.nodeName);if(!ke[h]||Oe[h])throw D("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof s)1===(l=(o=gt("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?o=l:o.appendChild(l);else{if(!je&&!Le&&!Re&&-1===e.indexOf("<"))return S&&Be?S.createHTML(e):e;if(!(o=gt(e)))return je?null:Be?T:""}o&&De&&ht(o.firstChild);for(var p=mt(Ue?e:o);c=p.nextNode();)3===c.nodeType&&c===d||vt(c)||(c.content instanceof a&&St(c.content),kt(c),d=c);if(d=null,Ue)return e;if(je){if(Fe)for(f=ue.call(o.ownerDocument);o.firstChild;)f.appendChild(o.firstChild);else f=o;return Te.shadowroot&&(f=de.call(r,f,!0)),f}var g=Re?o.outerHTML:o.innerHTML;return Re&&ke["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&N(ae,o.ownerDocument.doctype.name)&&(g="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+g),Le&&(g=M(g,me," "),g=M(g,ye," ")),S&&Be?S.createHTML(g):g},n.setConfig=function(e){ot(e),Ne=!0},n.clearConfig=function(){rt=null,Ne=!1},n.isValidAttribute=function(e,t,n){rt||ot({});var r=ge(e),i=ge(t);return wt(r,i,n)},n.addHook=function(e,t){"function"==typeof t&&(he[e]=he[e]||[],C(he[e],t))},n.removeHook=function(e){if(he[e])return O(he[e])},n.removeHooks=function(e){he[e]&&(he[e]=[])},n.removeAllHooks=function(){he={}},n}(),ue="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};function ce(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var de={exports:{}},fe=function(e){return e&&e.Math==Math&&e},he=fe("object"==typeof globalThis&&globalThis)||fe("object"==typeof window&&window)||fe("object"==typeof self&&self)||fe("object"==typeof ue&&ue)||function(){return this}()||Function("return this")(),pe=function(e){try{return!!e()}catch(e){return!0}},ge=!pe((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),me=ge,ye=Function.prototype,_e=ye.apply,be=ye.call,ve="object"==typeof Reflect&&Reflect.apply||(me?be.bind(_e):function(){return be.apply(_e,arguments)}),we=ge,xe=Function.prototype,ke=xe.bind,Se=xe.call,Te=we&&ke.bind(Se,Se),Ee=we?function(e){return e&&Te(e)}:function(e){return e&&function(){return Se.apply(e,arguments)}},Ae=function(e){return"function"==typeof e},Oe={},Ce=!pe((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Ie=ge,Pe=Function.prototype.call,Me=Ie?Pe.bind(Pe):function(){return Pe.apply(Pe,arguments)},Le={},Re={}.propertyIsEnumerable,Ne=Object.getOwnPropertyDescriptor,De=Ne&&!Re.call({1:2},1);Le.f=De?function(e){var t=Ne(this,e);return!!t&&t.enumerable}:Re;var je,Fe,Be=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},ze=Ee,$e=ze({}.toString),Ue=ze("".slice),Ve=function(e){return Ue($e(e),8,-1)},We=pe,He=Ve,Ge=Object,qe=Ee("".split),Ke=We((function(){return!Ge("z").propertyIsEnumerable(0)}))?function(e){return"String"==He(e)?qe(e,""):Ge(e)}:Ge,Ze=TypeError,Xe=function(e){if(null==e)throw Ze("Can't call method on "+e);return e},Ye=Ke,Je=Xe,Qe=function(e){return Ye(Je(e))},et=Ae,tt=function(e){return"object"==typeof e?null!==e:et(e)},nt={},rt=nt,it=he,at=Ae,ot=function(e){return at(e)?e:void 0},st=function(e,t){return arguments.length<2?ot(rt[e])||ot(it[e]):rt[e]&&rt[e][t]||it[e]&&it[e][t]},lt=Ee({}.isPrototypeOf),ut=st("navigator","userAgent")||"",ct=he,dt=ut,ft=ct.process,ht=ct.Deno,pt=ft&&ft.versions||ht&&ht.version,gt=pt&&pt.v8;gt&&(Fe=(je=gt.split("."))[0]>0&&je[0]<4?1:+(je[0]+je[1])),!Fe&&dt&&(!(je=dt.match(/Edge\/(\d+)/))||je[1]>=74)&&(je=dt.match(/Chrome\/(\d+)/))&&(Fe=+je[1]);var mt=Fe,yt=mt,_t=pe,bt=!!Object.getOwnPropertySymbols&&!_t((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&yt&&yt<41})),vt=bt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,wt=st,xt=Ae,kt=lt,St=Object,Tt=vt?function(e){return"symbol"==typeof e}:function(e){var t=wt("Symbol");return xt(t)&&kt(t.prototype,St(e))},Et=String,At=function(e){try{return Et(e)}catch(e){return"Object"}},Ot=Ae,Ct=At,It=TypeError,Pt=function(e){if(Ot(e))return e;throw It(Ct(e)+" is not a function")},Mt=Pt,Lt=function(e,t){var n=e[t];return null==n?void 0:Mt(n)},Rt=Me,Nt=Ae,Dt=tt,jt=TypeError,Ft={exports:{}},Bt=he,zt=Object.defineProperty,$t=function(e,t){try{zt(Bt,e,{value:t,configurable:!0,writable:!0})}catch(r){Bt[e]=t}return t},Ut="__core-js_shared__",Vt=he[Ut]||$t(Ut,{}),Wt=Vt;(Ft.exports=function(e,t){return Wt[e]||(Wt[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.23.1",mode:"pure",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Ht=Xe,Gt=Object,qt=function(e){return Gt(Ht(e))},Kt=qt,Zt=Ee({}.hasOwnProperty),Xt=Object.hasOwn||function(e,t){return Zt(Kt(e),t)},Yt=Ee,Jt=0,Qt=Math.random(),en=Yt(1..toString),tn=function(e){return"Symbol("+(void 0===e?"":e)+")_"+en(++Jt+Qt,36)},nn=he,rn=Ft.exports,an=Xt,on=tn,sn=bt,ln=vt,un=rn("wks"),cn=nn.Symbol,dn=cn&&cn.for,fn=ln?cn:cn&&cn.withoutSetter||on,hn=function(e){if(!an(un,e)||!sn&&"string"!=typeof un[e]){var t="Symbol."+e;sn&&an(cn,e)?un[e]=cn[e]:un[e]=ln&&dn?dn(t):fn(t)}return un[e]},pn=Me,gn=tt,mn=Tt,yn=Lt,_n=function(e,t){var n,r;if("string"===t&&Nt(n=e.toString)&&!Dt(r=Rt(n,e)))return r;if(Nt(n=e.valueOf)&&!Dt(r=Rt(n,e)))return r;if("string"!==t&&Nt(n=e.toString)&&!Dt(r=Rt(n,e)))return r;throw jt("Can't convert object to primitive value")},bn=TypeError,vn=hn("toPrimitive"),wn=function(e,t){if(!gn(e)||mn(e))return e;var n,r=yn(e,vn);if(r){if(void 0===t&&(t="default"),n=pn(r,e,t),!gn(n)||mn(n))return n;throw bn("Can't convert object to primitive value")}return void 0===t&&(t="number"),_n(e,t)},xn=Tt,kn=function(e){var t=wn(e,"string");return xn(t)?t:t+""},Sn=tt,Tn=he.document,En=Sn(Tn)&&Sn(Tn.createElement),An=function(e){return En?Tn.createElement(e):{}},On=An,Cn=!Ce&&!pe((function(){return 7!=Object.defineProperty(On("div"),"a",{get:function(){return 7}}).a})),In=Ce,Pn=Me,Mn=Le,Ln=Be,Rn=Qe,Nn=kn,Dn=Xt,jn=Cn,Fn=Object.getOwnPropertyDescriptor;Oe.f=In?Fn:function(e,t){if(e=Rn(e),t=Nn(t),jn)try{return Fn(e,t)}catch(e){}if(Dn(e,t))return Ln(!Pn(Mn.f,e,t),e[t])};var Bn=pe,zn=Ae,$n=/#|\.prototype\./,Un=function(e,t){var n=Wn[Vn(e)];return n==Gn||n!=Hn&&(zn(t)?Bn(t):!!t)},Vn=Un.normalize=function(e){return String(e).replace($n,".").toLowerCase()},Wn=Un.data={},Hn=Un.NATIVE="N",Gn=Un.POLYFILL="P",qn=Un,Kn=Pt,Zn=ge,Xn=Ee(Ee.bind),Yn=function(e,t){return Kn(e),void 0===t?e:Zn?Xn(e,t):function(){return e.apply(t,arguments)}},Jn={},Qn=Ce&&pe((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),er=tt,tr=String,nr=TypeError,rr=function(e){if(er(e))return e;throw nr(tr(e)+" is not an object")},ir=Ce,ar=Cn,or=Qn,sr=rr,lr=kn,ur=TypeError,cr=Object.defineProperty,dr=Object.getOwnPropertyDescriptor,fr="enumerable",hr="configurable",pr="writable";Jn.f=ir?or?function(e,t,n){if(sr(e),t=lr(t),sr(n),"function"==typeof e&&"prototype"===t&&"value"in n&&pr in n&&!n.writable){var r=dr(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:hr in n?n.configurable:r.configurable,enumerable:fr in n?n.enumerable:r.enumerable,writable:!1})}return cr(e,t,n)}:cr:function(e,t,n){if(sr(e),t=lr(t),sr(n),ar)try{return cr(e,t,n)}catch(e){}if("get"in n||"set"in n)throw ur("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var gr=Jn,mr=Be,yr=Ce?function(e,t,n){return gr.f(e,t,mr(1,n))}:function(e,t,n){return e[t]=n,e},_r=he,br=ve,vr=Ee,wr=Ae,xr=Oe.f,kr=qn,Sr=nt,Tr=Yn,Er=yr,Ar=Xt,Or=function(e){var t=function(n,r,i){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,i)}return br(e,this,arguments)};return t.prototype=e.prototype,t},Cr=function(e,t){var n,r,i,a,o,s,l,u,c=e.target,d=e.global,f=e.stat,h=e.proto,p=d?_r:f?_r[c]:(_r[c]||{}).prototype,g=d?Sr:Sr[c]||Er(Sr,c,{})[c],m=g.prototype;for(i in t)n=!kr(d?i:c+(f?".":"#")+i,e.forced)&&p&&Ar(p,i),o=g[i],n&&(s=e.dontCallGetSet?(u=xr(p,i))&&u.value:p[i]),a=n&&s?s:t[i],n&&typeof o==typeof a||(l=e.bind&&n?Tr(a,_r):e.wrap&&n?Or(a):h&&wr(a)?vr(a):a,(e.sham||a&&a.sham||o&&o.sham)&&Er(l,"sham",!0),Er(g,i,l),h&&(Ar(Sr,r=c+"Prototype")||Er(Sr,r,{}),Er(Sr[r],i,a),e.real&&m&&!m[i]&&Er(m,i,a)))},Ir=Ft.exports,Pr=tn,Mr=Ir("keys"),Lr=function(e){return Mr[e]||(Mr[e]=Pr(e))},Rr=!pe((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Nr=Xt,Dr=Ae,jr=qt,Fr=Rr,Br=Lr("IE_PROTO"),zr=Object,$r=zr.prototype,Ur=Fr?zr.getPrototypeOf:function(e){var t=jr(e);if(Nr(t,Br))return t[Br];var n=t.constructor;return Dr(n)&&t instanceof n?n.prototype:t instanceof zr?$r:null},Vr=Ae,Wr=String,Hr=TypeError,Gr=Ee,qr=rr,Kr=function(e){if("object"==typeof e||Vr(e))return e;throw Hr("Can't set "+Wr(e)+" as a prototype")},Zr=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Gr(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return qr(n),Kr(r),t?e(n,r):n.__proto__=r,n}}():void 0),Xr={},Yr=Math.ceil,Jr=Math.floor,Qr=Math.trunc||function(e){var t=+e;return(t>0?Jr:Yr)(t)},ei=function(e){var t=+e;return t!=t||0===t?0:Qr(t)},ti=ei,ni=Math.max,ri=Math.min,ii=function(e,t){var n=ti(e);return n<0?ni(n+t,0):ri(n,t)},ai=ei,oi=Math.min,si=function(e){return e>0?oi(ai(e),9007199254740991):0},li=function(e){return si(e.length)},ui=Qe,ci=ii,di=li,fi=function(e){return function(t,n,r){var i,a=ui(t),o=di(a),s=ci(r,o);if(e&&n!=n){for(;o>s;)if((i=a[s++])!=i)return!0}else for(;o>s;s++)if((e||s in a)&&a[s]===n)return e||s||0;return!e&&-1}},hi={includes:fi(!0),indexOf:fi(!1)},pi={},gi=Xt,mi=Qe,yi=hi.indexOf,_i=pi,bi=Ee([].push),vi=function(e,t){var n,r=mi(e),i=0,a=[];for(n in r)!gi(_i,n)&&gi(r,n)&&bi(a,n);for(;t.length>i;)gi(r,n=t[i++])&&(~yi(a,n)||bi(a,n));return a},wi=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],xi=vi,ki=wi.concat("length","prototype");Xr.f=Object.getOwnPropertyNames||function(e){return xi(e,ki)};var Si={};Si.f=Object.getOwnPropertySymbols;var Ti=st,Ei=Xr,Ai=Si,Oi=rr,Ci=Ee([].concat),Ii=Ti("Reflect","ownKeys")||function(e){var t=Ei.f(Oi(e)),n=Ai.f;return n?Ci(t,n(e)):t},Pi=Xt,Mi=Ii,Li=Oe,Ri=Jn,Ni={},Di=vi,ji=wi,Fi=Object.keys||function(e){return Di(e,ji)},Bi=Ce,zi=Qn,$i=Jn,Ui=rr,Vi=Qe,Wi=Fi;Ni.f=Bi&&!zi?Object.defineProperties:function(e,t){Ui(e);for(var n,r=Vi(t),i=Wi(t),a=i.length,o=0;a>o;)$i.f(e,n=i[o++],r[n]);return e};var Hi,Gi=st("document","documentElement"),qi=rr,Ki=Ni,Zi=wi,Xi=pi,Yi=Gi,Ji=An,Qi=Lr("IE_PROTO"),ea=function(){},ta=function(e){return"<script>"+e+"<\/script>"},na=function(e){e.write(ta("")),e.close();var t=e.parentWindow.Object;return e=null,t},ra=function(){try{Hi=new ActiveXObject("htmlfile")}catch(e){}var e,t;ra="undefined"!=typeof document?document.domain&&Hi?na(Hi):((t=Ji("iframe")).style.display="none",Yi.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(ta("document.F=Object")),e.close(),e.F):na(Hi);for(var n=Zi.length;n--;)delete ra.prototype[Zi[n]];return ra()};Xi[Qi]=!0;var ia=Object.create||function(e,t){var n;return null!==e?(ea.prototype=qi(e),n=new ea,ea.prototype=null,n[Qi]=e):n=ra(),void 0===t?n:Ki.f(n,t)},aa=Error,oa=Ee("".replace),sa=String(aa("zxcasd").stack),la=/\n\s*at [^:]*:[^\n]*/,ua=la.test(sa),ca=tt,da=yr,fa={},ha=fa,pa=hn("iterator"),ga=Array.prototype,ma=function(e){return void 0!==e&&(ha.Array===e||ga[pa]===e)},ya={};ya[hn("toStringTag")]="z";var _a="[object z]"===String(ya),ba=_a,va=Ae,wa=Ve,xa=hn("toStringTag"),ka=Object,Sa="Arguments"==wa(function(){return arguments}()),Ta=ba?wa:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=ka(e),xa))?n:Sa?wa(t):"Object"==(r=wa(t))&&va(t.callee)?"Arguments":r},Ea=Ta,Aa=Lt,Oa=fa,Ca=hn("iterator"),Ia=function(e){if(null!=e)return Aa(e,Ca)||Aa(e,"@@iterator")||Oa[Ea(e)]},Pa=Me,Ma=Pt,La=rr,Ra=At,Na=Ia,Da=TypeError,ja=function(e,t){var n=arguments.length<2?Na(e):t;if(Ma(n))return La(Pa(n,e));throw Da(Ra(e)+" is not iterable")},Fa=Me,Ba=rr,za=Lt,$a=function(e,t,n){var r,i;Ba(e);try{if(!(r=za(e,"return"))){if("throw"===t)throw n;return n}r=Fa(r,e)}catch(e){i=!0,r=e}if("throw"===t)throw n;if(i)throw r;return Ba(r),n},Ua=Yn,Va=Me,Wa=rr,Ha=At,Ga=ma,qa=li,Ka=lt,Za=ja,Xa=Ia,Ya=$a,Ja=TypeError,Qa=function(e,t){this.stopped=e,this.result=t},eo=Qa.prototype,to=function(e,t,n){var r,i,a,o,s,l,u,c=n&&n.that,d=!(!n||!n.AS_ENTRIES),f=!(!n||!n.IS_ITERATOR),h=!(!n||!n.INTERRUPTED),p=Ua(t,c),g=function(e){return r&&Ya(r,"normal",e),new Qa(!0,e)},m=function(e){return d?(Wa(e),h?p(e[0],e[1],g):p(e[0],e[1])):h?p(e,g):p(e)};if(f)r=e;else{if(!(i=Xa(e)))throw Ja(Ha(e)+" is not iterable");if(Ga(i)){for(a=0,o=qa(e);o>a;a++)if((s=m(e[a]))&&Ka(eo,s))return s;return new Qa(!1)}r=Za(e,i)}for(l=r.next;!(u=Va(l,r)).done;){try{s=m(u.value)}catch(e){Ya(r,"throw",e)}if("object"==typeof s&&s&&Ka(eo,s))return s}return new Qa(!1)},no=Ta,ro=String,io=function(e){if("Symbol"===no(e))throw TypeError("Cannot convert a Symbol value to a string");return ro(e)},ao=io,oo=Be,so=!pe((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",oo(1,7)),7!==e.stack)})),lo=Cr,uo=lt,co=Ur,fo=Zr,ho=function(e,t,n){for(var r=Mi(t),i=Ri.f,a=Li.f,o=0;o<r.length;o++){var s=r[o];Pi(e,s)||n&&Pi(n,s)||i(e,s,a(t,s))}},po=ia,go=yr,mo=Be,yo=function(e,t){if(ua&&"string"==typeof e&&!aa.prepareStackTrace)for(;t--;)e=oa(e,la,"");return e},_o=function(e,t){ca(t)&&"cause"in t&&da(e,"cause",t.cause)},bo=to,vo=function(e,t){return void 0===e?arguments.length<2?"":t:ao(e)},wo=so,xo=hn("toStringTag"),ko=Error,So=[].push,To=function(e,t){var n,r=arguments.length>2?arguments[2]:void 0,i=uo(Eo,this);fo?n=fo(new ko,i?co(this):Eo):(n=i?this:po(Eo),go(n,xo,"Error")),void 0!==t&&go(n,"message",vo(t)),wo&&go(n,"stack",yo(n.stack,1)),_o(n,r);var a=[];return bo(e,So,{that:a}),go(n,"errors",a),n};fo?fo(To,ko):ho(To,ko,{name:!0});var Eo=To.prototype=po(ko.prototype,{constructor:mo(1,To),message:mo(1,""),name:mo(1,"AggregateError")});lo({global:!0,constructor:!0,arity:2},{AggregateError:To});var Ao=Ae,Oo=Vt,Co=Ee(Function.toString);Ao(Oo.inspectSource)||(Oo.inspectSource=function(e){return Co(e)});var Io,Po,Mo,Lo=Oo.inspectSource,Ro=Ae,No=Lo,Do=he.WeakMap,jo=Ro(Do)&&/native code/.test(No(Do)),Fo=he,Bo=Ee,zo=tt,$o=yr,Uo=Xt,Vo=Vt,Wo=Lr,Ho=pi,Go="Object already initialized",qo=Fo.TypeError,Ko=Fo.WeakMap;if(jo||Vo.state){var Zo=Vo.state||(Vo.state=new Ko),Xo=Bo(Zo.get),Yo=Bo(Zo.has),Jo=Bo(Zo.set);Io=function(e,t){if(Yo(Zo,e))throw new qo(Go);return t.facade=e,Jo(Zo,e,t),t},Po=function(e){return Xo(Zo,e)||{}},Mo=function(e){return Yo(Zo,e)}}else{var Qo=Wo("state");Ho[Qo]=!0,Io=function(e,t){if(Uo(e,Qo))throw new qo(Go);return t.facade=e,$o(e,Qo,t),t},Po=function(e){return Uo(e,Qo)?e[Qo]:{}},Mo=function(e){return Uo(e,Qo)}}var es,ts,ns,rs={set:Io,get:Po,has:Mo,enforce:function(e){return Mo(e)?Po(e):Io(e,{})},getterFor:function(e){return function(t){var n;if(!zo(t)||(n=Po(t)).type!==e)throw qo("Incompatible receiver, "+e+" required");return n}}},is=Ce,as=Xt,os=Function.prototype,ss=is&&Object.getOwnPropertyDescriptor,ls=as(os,"name"),us={EXISTS:ls,PROPER:ls&&"something"===function(){}.name,CONFIGURABLE:ls&&(!is||is&&ss(os,"name").configurable)},cs=yr,ds=function(e,t,n,r){return r&&r.enumerable?e[t]=n:cs(e,t,n),e},fs=pe,hs=Ae,ps=ia,gs=Ur,ms=ds,ys=hn("iterator"),_s=!1;[].keys&&("next"in(ns=[].keys())?(ts=gs(gs(ns)))!==Object.prototype&&(es=ts):_s=!0);var bs=null==es||fs((function(){var e={};return es[ys].call(e)!==e}));hs((es=bs?{}:ps(es))[ys])||ms(es,ys,(function(){return this}));var vs={IteratorPrototype:es,BUGGY_SAFARI_ITERATORS:_s},ws=Ta,xs=_a?{}.toString:function(){return"[object "+ws(this)+"]"},ks=_a,Ss=Jn.f,Ts=yr,Es=Xt,As=xs,Os=hn("toStringTag"),Cs=function(e,t,n,r){if(e){var i=n?e:e.prototype;Es(i,Os)||Ss(i,Os,{configurable:!0,value:t}),r&&!ks&&Ts(i,"toString",As)}},Is=vs.IteratorPrototype,Ps=ia,Ms=Be,Ls=Cs,Rs=fa,Ns=function(){return this},Ds=Cr,js=Me,Fs=function(e,t,n,r){var i=t+" Iterator";return e.prototype=Ps(Is,{next:Ms(+!r,n)}),Ls(e,i,!1,!0),Rs[i]=Ns,e},Bs=Ur,zs=Cs,$s=ds,Us=fa,Vs=us.PROPER,Ws=vs.BUGGY_SAFARI_ITERATORS,Hs=hn("iterator"),Gs="keys",qs="values",Ks="entries",Zs=function(){return this},Xs=function(e,t,n,r,i,a,o){Fs(n,t,r);var s,l,u,c=function(e){if(e===i&&g)return g;if(!Ws&&e in h)return h[e];switch(e){case Gs:case qs:case Ks:return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",f=!1,h=e.prototype,p=h[Hs]||h["@@iterator"]||i&&h[i],g=!Ws&&p||c(i),m="Array"==t&&h.entries||p;if(m&&(s=Bs(m.call(new e)))!==Object.prototype&&s.next&&(zs(s,d,!0,!0),Us[d]=Zs),Vs&&i==qs&&p&&p.name!==qs&&(f=!0,g=function(){return js(p,this)}),i)if(l={values:c(qs),keys:a?g:c(Gs),entries:c(Ks)},o)for(u in l)(Ws||f||!(u in h))&&$s(h,u,l[u]);else Ds({target:t,proto:!0,forced:Ws||f},l);return o&&h[Hs]!==g&&$s(h,Hs,g,{name:i}),Us[t]=g,l},Ys=Qe,Js=fa,Qs=rs;Jn.f;var el=Xs,tl="Array Iterator",nl=Qs.set,rl=Qs.getterFor(tl);el(Array,"Array",(function(e,t){nl(this,{type:tl,target:Ys(e),index:0,kind:t})}),(function(){var e=rl(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),Js.Arguments=Js.Array;var il="process"==Ve(he.process),al=st,ol=Jn,sl=Ce,ll=hn("species"),ul=lt,cl=TypeError,dl=Ee,fl=pe,hl=Ae,pl=Ta,gl=Lo,ml=function(){},yl=[],_l=st("Reflect","construct"),bl=/^\s*(?:class|function)\b/,vl=dl(bl.exec),wl=!bl.exec(ml),xl=function(e){if(!hl(e))return!1;try{return _l(ml,yl,e),!0}catch(e){return!1}},kl=function(e){if(!hl(e))return!1;switch(pl(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return wl||!!vl(bl,gl(e))}catch(e){return!0}};kl.sham=!0;var Sl,Tl,El,Al,Ol=!_l||fl((function(){var e;return xl(xl.call)||!xl(Object)||!xl((function(){e=!0}))||e}))?kl:xl,Cl=Ol,Il=At,Pl=TypeError,Ml=function(e){if(Cl(e))return e;throw Pl(Il(e)+" is not a constructor")},Ll=rr,Rl=Ml,Nl=hn("species"),Dl=function(e,t){var n,r=Ll(e).constructor;return void 0===r||null==(n=Ll(r)[Nl])?t:Rl(n)},jl=Ee([].slice),Fl=TypeError,Bl=/(?:ipad|iphone|ipod).*applewebkit/i.test(ut),zl=he,$l=ve,Ul=Yn,Vl=Ae,Wl=Xt,Hl=pe,Gl=Gi,ql=jl,Kl=An,Zl=function(e,t){if(e<t)throw Fl("Not enough arguments");return e},Xl=Bl,Yl=il,Jl=zl.setImmediate,Ql=zl.clearImmediate,eu=zl.process,tu=zl.Dispatch,nu=zl.Function,ru=zl.MessageChannel,iu=zl.String,au=0,ou={},su="onreadystatechange";try{Sl=zl.location}catch(e){}var lu=function(e){if(Wl(ou,e)){var t=ou[e];delete ou[e],t()}},uu=function(e){return function(){lu(e)}},cu=function(e){lu(e.data)},du=function(e){zl.postMessage(iu(e),Sl.protocol+"//"+Sl.host)};Jl&&Ql||(Jl=function(e){Zl(arguments.length,1);var t=Vl(e)?e:nu(e),n=ql(arguments,1);return ou[++au]=function(){$l(t,void 0,n)},Tl(au),au},Ql=function(e){delete ou[e]},Yl?Tl=function(e){eu.nextTick(uu(e))}:tu&&tu.now?Tl=function(e){tu.now(uu(e))}:ru&&!Xl?(Al=(El=new ru).port2,El.port1.onmessage=cu,Tl=Ul(Al.postMessage,Al)):zl.addEventListener&&Vl(zl.postMessage)&&!zl.importScripts&&Sl&&"file:"!==Sl.protocol&&!Hl(du)?(Tl=du,zl.addEventListener("message",cu,!1)):Tl=su in Kl("script")?function(e){Gl.appendChild(Kl("script")).onreadystatechange=function(){Gl.removeChild(this),lu(e)}}:function(e){setTimeout(uu(e),0)});var fu,hu,pu,gu,mu,yu,_u,bu,vu={set:Jl,clear:Ql},wu=he,xu=/ipad|iphone|ipod/i.test(ut)&&void 0!==wu.Pebble,ku=/web0s(?!.*chrome)/i.test(ut),Su=he,Tu=Yn,Eu=Oe.f,Au=vu.set,Ou=Bl,Cu=xu,Iu=ku,Pu=il,Mu=Su.MutationObserver||Su.WebKitMutationObserver,Lu=Su.document,Ru=Su.process,Nu=Su.Promise,Du=Eu(Su,"queueMicrotask"),ju=Du&&Du.value;ju||(fu=function(){var e,t;for(Pu&&(e=Ru.domain)&&e.exit();hu;){t=hu.fn,hu=hu.next;try{t()}catch(e){throw hu?gu():pu=void 0,e}}pu=void 0,e&&e.enter()},Ou||Pu||Iu||!Mu||!Lu?!Cu&&Nu&&Nu.resolve?((_u=Nu.resolve(void 0)).constructor=Nu,bu=Tu(_u.then,_u),gu=function(){bu(fu)}):Pu?gu=function(){Ru.nextTick(fu)}:(Au=Tu(Au,Su),gu=function(){Au(fu)}):(mu=!0,yu=Lu.createTextNode(""),new Mu(fu).observe(yu,{characterData:!0}),gu=function(){yu.data=mu=!mu}));var Fu=ju||function(e){var t={fn:e,next:void 0};pu&&(pu.next=t),hu||(hu=t,gu()),pu=t},Bu=he,zu=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},$u=function(){this.head=null,this.tail=null};$u.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var Uu=$u,Vu=he.Promise,Wu="object"==typeof window&&"object"!=typeof Deno,Hu=he,Gu=Vu,qu=Ae,Ku=qn,Zu=Lo,Xu=hn,Yu=Wu,Ju=mt,Qu=Gu&&Gu.prototype,ec=Xu("species"),tc=!1,nc=qu(Hu.PromiseRejectionEvent),rc=Ku("Promise",(function(){var e=Zu(Gu),t=e!==String(Gu);if(!t&&66===Ju)return!0;if(!Qu.catch||!Qu.finally)return!0;if(Ju>=51&&/native code/.test(e))return!1;var n=new Gu((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[ec]=r,!(tc=n.then((function(){}))instanceof r)||!t&&Yu&&!nc})),ic={CONSTRUCTOR:rc,REJECTION_EVENT:nc,SUBCLASSING:tc},ac={},oc=Pt,sc=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=oc(t),this.reject=oc(n)};ac.f=function(e){return new sc(e)};var lc,uc,cc=Cr,dc=il,fc=he,hc=Me,pc=ds,gc=Cs,mc=function(e){var t=al(e),n=ol.f;sl&&t&&!t[ll]&&n(t,ll,{configurable:!0,get:function(){return this}})},yc=Pt,_c=Ae,bc=tt,vc=function(e,t){if(ul(t,e))return e;throw cl("Incorrect invocation")},wc=Dl,xc=vu.set,kc=Fu,Sc=function(e,t){var n=Bu.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))},Tc=zu,Ec=Uu,Ac=rs,Oc=Vu,Cc=ac,Ic="Promise",Pc=ic.CONSTRUCTOR,Mc=ic.REJECTION_EVENT,Lc=Ac.getterFor(Ic),Rc=Ac.set,Nc=Oc&&Oc.prototype,Dc=Oc,jc=Nc,Fc=fc.TypeError,Bc=fc.document,zc=fc.process,$c=Cc.f,Uc=$c,Vc=!!(Bc&&Bc.createEvent&&fc.dispatchEvent),Wc="unhandledrejection",Hc=function(e){var t;return!(!bc(e)||!_c(t=e.then))&&t},Gc=function(e,t){var n,r,i,a=t.value,o=1==t.state,s=o?e.ok:e.fail,l=e.resolve,u=e.reject,c=e.domain;try{s?(o||(2===t.rejection&&Yc(t),t.rejection=1),!0===s?n=a:(c&&c.enter(),n=s(a),c&&(c.exit(),i=!0)),n===e.promise?u(Fc("Promise-chain cycle")):(r=Hc(n))?hc(r,n,l,u):l(n)):u(a)}catch(e){c&&!i&&c.exit(),u(e)}},qc=function(e,t){e.notified||(e.notified=!0,kc((function(){for(var n,r=e.reactions;n=r.get();)Gc(n,e);e.notified=!1,t&&!e.rejection&&Zc(e)})))},Kc=function(e,t,n){var r,i;Vc?((r=Bc.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),fc.dispatchEvent(r)):r={promise:t,reason:n},!Mc&&(i=fc["on"+e])?i(r):e===Wc&&Sc("Unhandled promise rejection",n)},Zc=function(e){hc(xc,fc,(function(){var t,n=e.facade,r=e.value;if(Xc(e)&&(t=Tc((function(){dc?zc.emit("unhandledRejection",r,n):Kc(Wc,n,r)})),e.rejection=dc||Xc(e)?2:1,t.error))throw t.value}))},Xc=function(e){return 1!==e.rejection&&!e.parent},Yc=function(e){hc(xc,fc,(function(){var t=e.facade;dc?zc.emit("rejectionHandled",t):Kc("rejectionhandled",t,e.value)}))},Jc=function(e,t,n){return function(r){e(t,r,n)}},Qc=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,qc(e,!0))},ed=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw Fc("Promise can't be resolved itself");var r=Hc(t);r?kc((function(){var n={done:!1};try{hc(r,t,Jc(ed,n,e),Jc(Qc,n,e))}catch(t){Qc(n,t,e)}})):(e.value=t,e.state=1,qc(e,!1))}catch(t){Qc({done:!1},t,e)}}};Pc&&(jc=(Dc=function(e){vc(this,jc),yc(e),hc(lc,this);var t=Lc(this);try{e(Jc(ed,t),Jc(Qc,t))}catch(e){Qc(t,e)}}).prototype,(lc=function(e){Rc(this,{type:Ic,done:!1,notified:!1,parent:!1,reactions:new Ec,rejection:!1,state:0,value:void 0})}).prototype=pc(jc,"then",(function(e,t){var n=Lc(this),r=$c(wc(this,Dc));return n.parent=!0,r.ok=!_c(e)||e,r.fail=_c(t)&&t,r.domain=dc?zc.domain:void 0,0==n.state?n.reactions.add(r):kc((function(){Gc(r,n)})),r.promise})),uc=function(){var e=new lc,t=Lc(e);this.promise=e,this.resolve=Jc(ed,t),this.reject=Jc(Qc,t)},Cc.f=$c=function(e){return e===Dc||void 0===e?new uc(e):Uc(e)}),cc({global:!0,constructor:!0,wrap:!0,forced:Pc},{Promise:Dc}),gc(Dc,Ic,!1,!0),mc(Ic);var td=hn("iterator"),nd=!1;try{var rd=0,id={next:function(){return{done:!!rd++}},return:function(){nd=!0}};id[td]=function(){return this},Array.from(id,(function(){throw 2}))}catch(e){}var ad=function(e,t){if(!t&&!nd)return!1;var n=!1;try{var r={};r[td]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},od=Vu,sd=ic.CONSTRUCTOR||!ad((function(e){od.all(e).then(void 0,(function(){}))})),ld=Me,ud=Pt,cd=ac,dd=zu,fd=to;Cr({target:"Promise",stat:!0,forced:sd},{all:function(e){var t=this,n=cd.f(t),r=n.resolve,i=n.reject,a=dd((function(){var n=ud(t.resolve),a=[],o=0,s=1;fd(e,(function(e){var l=o++,u=!1;s++,ld(n,t,e).then((function(e){u||(u=!0,a[l]=e,--s||r(a))}),i)})),--s||r(a)}));return a.error&&i(a.value),n.promise}});var hd=Cr,pd=ic.CONSTRUCTOR;Vu&&Vu.prototype,hd({target:"Promise",proto:!0,forced:pd,real:!0},{catch:function(e){return this.then(void 0,e)}});var gd=Me,md=Pt,yd=ac,_d=zu,bd=to;Cr({target:"Promise",stat:!0,forced:sd},{race:function(e){var t=this,n=yd.f(t),r=n.reject,i=_d((function(){var i=md(t.resolve);bd(e,(function(e){gd(i,t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var vd=Me,wd=ac;Cr({target:"Promise",stat:!0,forced:ic.CONSTRUCTOR},{reject:function(e){var t=wd.f(this);return vd(t.reject,void 0,e),t.promise}});var xd=rr,kd=tt,Sd=ac,Td=function(e,t){if(xd(e),kd(t)&&t.constructor===e)return t;var n=Sd.f(e);return(0,n.resolve)(t),n.promise},Ed=Cr,Ad=Vu,Od=ic.CONSTRUCTOR,Cd=Td,Id=st("Promise"),Pd=!Od;Ed({target:"Promise",stat:!0,forced:!0},{resolve:function(e){return Cd(Pd&&this===Id?Ad:this,e)}});var Md=Me,Ld=Pt,Rd=ac,Nd=zu,Dd=to;Cr({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=Rd.f(t),r=n.resolve,i=n.reject,a=Nd((function(){var n=Ld(t.resolve),i=[],a=0,o=1;Dd(e,(function(e){var s=a++,l=!1;o++,Md(n,t,e).then((function(e){l||(l=!0,i[s]={status:"fulfilled",value:e},--o||r(i))}),(function(e){l||(l=!0,i[s]={status:"rejected",reason:e},--o||r(i))}))})),--o||r(i)}));return a.error&&i(a.value),n.promise}});var jd=Me,Fd=Pt,Bd=st,zd=ac,$d=zu,Ud=to,Vd="No one promise resolved";Cr({target:"Promise",stat:!0},{any:function(e){var t=this,n=Bd("AggregateError"),r=zd.f(t),i=r.resolve,a=r.reject,o=$d((function(){var r=Fd(t.resolve),o=[],s=0,l=1,u=!1;Ud(e,(function(e){var c=s++,d=!1;l++,jd(r,t,e).then((function(e){d||u||(u=!0,i(e))}),(function(e){d||u||(d=!0,o[c]=e,--l||a(new n(o,Vd)))}))})),--l||a(new n(o,Vd))}));return o.error&&a(o.value),r.promise}});var Wd=Cr,Hd=Vu,Gd=pe,qd=st,Kd=Ae,Zd=Dl,Xd=Td,Yd=Hd&&Hd.prototype;Wd({target:"Promise",proto:!0,real:!0,forced:!!Hd&&Gd((function(){Yd.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=Zd(this,qd("Promise")),n=Kd(e);return this.then(n?function(n){return Xd(t,e()).then((function(){return n}))}:e,n?function(n){return Xd(t,e()).then((function(){throw n}))}:e)}});var Jd=Ee,Qd=ei,ef=io,tf=Xe,nf=Jd("".charAt),rf=Jd("".charCodeAt),af=Jd("".slice),of=function(e){return function(t,n){var r,i,a=ef(tf(t)),o=Qd(n),s=a.length;return o<0||o>=s?e?"":void 0:(r=rf(a,o))<55296||r>56319||o+1===s||(i=rf(a,o+1))<56320||i>57343?e?nf(a,o):r:e?af(a,o,o+2):i-56320+(r-55296<<10)+65536}},sf=(of(!1),of(!0)),lf=io,uf=rs,cf=Xs,df="String Iterator",ff=uf.set,hf=uf.getterFor(df);cf(String,"String",(function(e){ff(this,{type:df,string:lf(e),index:0})}),(function(){var e,t=hf(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=sf(n,r),t.index+=e.length,{value:e,done:!1})}));var pf=nt.Promise,gf={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},mf=he,yf=Ta,_f=yr,bf=fa,vf=hn("toStringTag");for(var wf in gf){var xf=mf[wf],kf=xf&&xf.prototype;kf&&yf(kf)!==vf&&_f(kf,vf,wf),bf[wf]=bf.Array}var Sf=pf;!function(e){e.exports=Sf}(de);var Tf=ce(de.exports);function Ef(e,t){return new Tf((function(n,r){var i=document.createElement("script");i.async=!0,i.crossOrigin="anonymous";var a=function(){i.parentNode&&i.parentNode.removeChild(i),t&&window[t]&&delete window[t]};i.onload=function(){n(window[t]),a()},i.onerror=function(){r(new Error("Failed to import: ".concat(e))),a()},i.src=e,document.head.appendChild(i)}))}function Af(e,t,n,r){var i=a.default.lazy((function(){return Ef(e,t).then((function(e){if(!e.default)throw new Error("Failed to import ".concat(t," component: no default export"));return i.WrappedComponent=e.default||e,n&&n(),e})).catch((function(e){return r&&r(e),{default:function(){return a.default.createElement(a.default.Fragment,null)}}}))}));return i}function Of(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,n=document.createElement("div");t.appendChild(n);var r=a.default.cloneElement(e,{onUnmount:function(){o.default.unmountComponentAtNode(n),t.removeChild(n)}});return o.default.render(r,n),n}function Cf(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"click",r=t.useRef();return t.useEffect((function(){var t=function(t){var n=r.current;n&&!n.contains(t.target)&&e&&e(t)};return document.addEventListener(n,t),function(){document.removeEventListener(n,t)}}),[n,e]),r}function If(e){var n=t.useRef(null);return t.useEffect((function(){e&&("function"==typeof e?e(n.current):e.current=n.current)}),[e]),n}var Pf=function(e){return e&&e.Math==Math&&e},Mf=Pf("object"==typeof globalThis&&globalThis)||Pf("object"==typeof window&&window)||Pf("object"==typeof self&&self)||Pf("object"==typeof ue&&ue)||function(){return this}()||Function("return this")(),Lf={exports:{}},Rf=Mf,Nf=Object.defineProperty,Df=function(e,t){try{Nf(Rf,e,{value:t,configurable:!0,writable:!0})}catch(r){Rf[e]=t}return t},jf=Df,Ff="__core-js_shared__",Bf=Mf[Ff]||jf(Ff,{}),zf=Bf;(Lf.exports=function(e,t){return zf[e]||(zf[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.23.1",mode:"global",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.1/LICENSE",source:"https://github.com/zloirock/core-js"});var $f,Uf,Vf=function(e){try{return!!e()}catch(e){return!0}},Wf=!Vf((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),Hf=Wf,Gf=Function.prototype,qf=Gf.bind,Kf=Gf.call,Zf=Hf&&qf.bind(Kf,Kf),Xf=Hf?function(e){return e&&Zf(e)}:function(e){return e&&function(){return Kf.apply(e,arguments)}},Yf=TypeError,Jf=function(e){if(null==e)throw Yf("Can't call method on "+e);return e},Qf=Jf,eh=Object,th=function(e){return eh(Qf(e))},nh=th,rh=Xf({}.hasOwnProperty),ih=Object.hasOwn||function(e,t){return rh(nh(e),t)},ah=Xf,oh=0,sh=Math.random(),lh=ah(1..toString),uh=function(e){return"Symbol("+(void 0===e?"":e)+")_"+lh(++oh+sh,36)},ch=function(e){return"function"==typeof e},dh=Mf,fh=ch,hh=function(e){return fh(e)?e:void 0},ph=function(e,t){return arguments.length<2?hh(dh[e]):dh[e]&&dh[e][t]},gh=ph("navigator","userAgent")||"",mh=Mf,yh=gh,_h=mh.process,bh=mh.Deno,vh=_h&&_h.versions||bh&&bh.version,wh=vh&&vh.v8;wh&&(Uf=($f=wh.split("."))[0]>0&&$f[0]<4?1:+($f[0]+$f[1])),!Uf&&yh&&(!($f=yh.match(/Edge\/(\d+)/))||$f[1]>=74)&&($f=yh.match(/Chrome\/(\d+)/))&&(Uf=+$f[1]);var xh=Uf,kh=xh,Sh=Vf,Th=!!Object.getOwnPropertySymbols&&!Sh((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&kh&&kh<41})),Eh=Th&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ah=Mf,Oh=Lf.exports,Ch=ih,Ih=uh,Ph=Th,Mh=Eh,Lh=Oh("wks"),Rh=Ah.Symbol,Nh=Rh&&Rh.for,Dh=Mh?Rh:Rh&&Rh.withoutSetter||Ih,jh=function(e){if(!Ch(Lh,e)||!Ph&&"string"!=typeof Lh[e]){var t="Symbol."+e;Ph&&Ch(Rh,e)?Lh[e]=Rh[e]:Lh[e]=Mh&&Nh?Nh(t):Dh(t)}return Lh[e]},Fh={};Fh[jh("toStringTag")]="z";var Bh="[object z]"===String(Fh),zh={},$h=!Vf((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Uh=ch,Vh=function(e){return"object"==typeof e?null!==e:Uh(e)},Wh=Vh,Hh=Mf.document,Gh=Wh(Hh)&&Wh(Hh.createElement),qh=function(e){return Gh?Hh.createElement(e):{}},Kh=qh,Zh=!$h&&!Vf((function(){return 7!=Object.defineProperty(Kh("div"),"a",{get:function(){return 7}}).a})),Xh=$h&&Vf((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Yh=Vh,Jh=String,Qh=TypeError,ep=function(e){if(Yh(e))return e;throw Qh(Jh(e)+" is not an object")},tp=Wf,np=Function.prototype.call,rp=tp?np.bind(np):function(){return np.apply(np,arguments)},ip=Xf({}.isPrototypeOf),ap=ph,op=ch,sp=ip,lp=Object,up=Eh?function(e){return"symbol"==typeof e}:function(e){var t=ap("Symbol");return op(t)&&sp(t.prototype,lp(e))},cp=String,dp=function(e){try{return cp(e)}catch(e){return"Object"}},fp=ch,hp=dp,pp=TypeError,gp=function(e){if(fp(e))return e;throw pp(hp(e)+" is not a function")},mp=gp,yp=function(e,t){var n=e[t];return null==n?void 0:mp(n)},_p=rp,bp=ch,vp=Vh,wp=TypeError,xp=rp,kp=Vh,Sp=up,Tp=yp,Ep=function(e,t){var n,r;if("string"===t&&bp(n=e.toString)&&!vp(r=_p(n,e)))return r;if(bp(n=e.valueOf)&&!vp(r=_p(n,e)))return r;if("string"!==t&&bp(n=e.toString)&&!vp(r=_p(n,e)))return r;throw wp("Can't convert object to primitive value")},Ap=TypeError,Op=jh("toPrimitive"),Cp=function(e,t){if(!kp(e)||Sp(e))return e;var n,r=Tp(e,Op);if(r){if(void 0===t&&(t="default"),n=xp(r,e,t),!kp(n)||Sp(n))return n;throw Ap("Can't convert object to primitive value")}return void 0===t&&(t="number"),Ep(e,t)},Ip=Cp,Pp=up,Mp=function(e){var t=Ip(e,"string");return Pp(t)?t:t+""},Lp=$h,Rp=Zh,Np=Xh,Dp=ep,jp=Mp,Fp=TypeError,Bp=Object.defineProperty,zp=Object.getOwnPropertyDescriptor,$p="enumerable",Up="configurable",Vp="writable";zh.f=Lp?Np?function(e,t,n){if(Dp(e),t=jp(t),Dp(n),"function"==typeof e&&"prototype"===t&&"value"in n&&Vp in n&&!n.writable){var r=zp(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:Up in n?n.configurable:r.configurable,enumerable:$p in n?n.enumerable:r.enumerable,writable:!1})}return Bp(e,t,n)}:Bp:function(e,t,n){if(Dp(e),t=jp(t),Dp(n),Rp)try{return Bp(e,t,n)}catch(e){}if("get"in n||"set"in n)throw Fp("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var Wp={exports:{}},Hp=$h,Gp=ih,qp=Function.prototype,Kp=Hp&&Object.getOwnPropertyDescriptor,Zp=Gp(qp,"name"),Xp={EXISTS:Zp,PROPER:Zp&&"something"===function(){}.name,CONFIGURABLE:Zp&&(!Hp||Hp&&Kp(qp,"name").configurable)},Yp=ch,Jp=Bf,Qp=Xf(Function.toString);Yp(Jp.inspectSource)||(Jp.inspectSource=function(e){return Qp(e)});var eg,tg,ng,rg=Jp.inspectSource,ig=ch,ag=rg,og=Mf.WeakMap,sg=ig(og)&&/native code/.test(ag(og)),lg=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},ug=zh,cg=lg,dg=$h?function(e,t,n){return ug.f(e,t,cg(1,n))}:function(e,t,n){return e[t]=n,e},fg=Lf.exports,hg=uh,pg=fg("keys"),gg=function(e){return pg[e]||(pg[e]=hg(e))},mg={},yg=sg,_g=Mf,bg=Xf,vg=Vh,wg=dg,xg=ih,kg=Bf,Sg=gg,Tg=mg,Eg="Object already initialized",Ag=_g.TypeError,Og=_g.WeakMap;if(yg||kg.state){var Cg=kg.state||(kg.state=new Og),Ig=bg(Cg.get),Pg=bg(Cg.has),Mg=bg(Cg.set);eg=function(e,t){if(Pg(Cg,e))throw new Ag(Eg);return t.facade=e,Mg(Cg,e,t),t},tg=function(e){return Ig(Cg,e)||{}},ng=function(e){return Pg(Cg,e)}}else{var Lg=Sg("state");Tg[Lg]=!0,eg=function(e,t){if(xg(e,Lg))throw new Ag(Eg);return t.facade=e,wg(e,Lg,t),t},tg=function(e){return xg(e,Lg)?e[Lg]:{}},ng=function(e){return xg(e,Lg)}}var Rg={set:eg,get:tg,has:ng,enforce:function(e){return ng(e)?tg(e):eg(e,{})},getterFor:function(e){return function(t){var n;if(!vg(t)||(n=tg(t)).type!==e)throw Ag("Incompatible receiver, "+e+" required");return n}}},Ng=Vf,Dg=ch,jg=ih,Fg=$h,Bg=Xp.CONFIGURABLE,zg=rg,$g=Rg.enforce,Ug=Rg.get,Vg=Object.defineProperty,Wg=Fg&&!Ng((function(){return 8!==Vg((function(){}),"length",{value:8}).length})),Hg=String(String).split("String"),Gg=Wp.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!jg(e,"name")||Bg&&e.name!==t)&&Vg(e,"name",{value:t,configurable:!0}),Wg&&n&&jg(n,"arity")&&e.length!==n.arity&&Vg(e,"length",{value:n.arity});try{n&&jg(n,"constructor")&&n.constructor?Fg&&Vg(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=$g(e);return jg(r,"source")||(r.source=Hg.join("string"==typeof t?t:"")),e};Function.prototype.toString=Gg((function(){return Dg(this)&&Ug(this).source||zg(this)}),"toString");var qg=ch,Kg=zh,Zg=Wp.exports,Xg=Df,Yg=function(e,t,n,r){r||(r={});var i=r.enumerable,a=void 0!==r.name?r.name:t;return qg(n)&&Zg(n,a,r),r.global?i?e[t]=n:Xg(t,n):(r.unsafe?e[t]&&(i=!0):delete e[t],i?e[t]=n:Kg.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})),e},Jg=Xf,Qg=Jg({}.toString),em=Jg("".slice),tm=function(e){return em(Qg(e),8,-1)},nm=Bh,rm=ch,im=tm,am=jh("toStringTag"),om=Object,sm="Arguments"==im(function(){return arguments}()),lm=nm?im:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=om(e),am))?n:sm?im(t):"Object"==(r=im(t))&&rm(t.callee)?"Arguments":r},um=lm,cm=Bh?{}.toString:function(){return"[object "+um(this)+"]"};Bh||Yg(Object.prototype,"toString",cm,{unsafe:!0});var dm=qh("span").classList,fm=dm&&dm.constructor&&dm.constructor.prototype,hm=fm===Object.prototype?void 0:fm,pm=gp,gm=Wf,mm=Xf(Xf.bind),ym=function(e,t){return pm(e),void 0===t?e:gm?mm(e,t):function(){return e.apply(t,arguments)}},_m=Vf,bm=tm,vm=Object,wm=Xf("".split),xm=_m((function(){return!vm("z").propertyIsEnumerable(0)}))?function(e){return"String"==bm(e)?wm(e,""):vm(e)}:vm,km=Math.ceil,Sm=Math.floor,Tm=Math.trunc||function(e){var t=+e;return(t>0?Sm:km)(t)},Em=function(e){var t=+e;return t!=t||0===t?0:Tm(t)},Am=Em,Om=Math.min,Cm=function(e){return e>0?Om(Am(e),9007199254740991):0},Im=Cm,Pm=function(e){return Im(e.length)},Mm=tm,Lm=Array.isArray||function(e){return"Array"==Mm(e)},Rm=Xf,Nm=Vf,Dm=ch,jm=lm,Fm=rg,Bm=function(){},zm=[],$m=ph("Reflect","construct"),Um=/^\s*(?:class|function)\b/,Vm=Rm(Um.exec),Wm=!Um.exec(Bm),Hm=function(e){if(!Dm(e))return!1;try{return $m(Bm,zm,e),!0}catch(e){return!1}},Gm=function(e){if(!Dm(e))return!1;switch(jm(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Wm||!!Vm(Um,Fm(e))}catch(e){return!0}};Gm.sham=!0;var qm=!$m||Nm((function(){var e;return Hm(Hm.call)||!Hm(Object)||!Hm((function(){e=!0}))||e}))?Gm:Hm,Km=Lm,Zm=qm,Xm=Vh,Ym=jh("species"),Jm=Array,Qm=function(e){var t;return Km(e)&&(t=e.constructor,(Zm(t)&&(t===Jm||Km(t.prototype))||Xm(t)&&null===(t=t[Ym]))&&(t=void 0)),void 0===t?Jm:t},ey=ym,ty=xm,ny=th,ry=Pm,iy=function(e,t){return new(Qm(e))(0===t?0:t)},ay=Xf([].push),oy=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,a=6==e,o=7==e,s=5==e||a;return function(l,u,c,d){for(var f,h,p=ny(l),g=ty(p),m=ey(u,c),y=ry(g),_=0,b=d||iy,v=t?b(l,y):n||o?b(l,0):void 0;y>_;_++)if((s||_ in g)&&(h=m(f=g[_],_,p),e))if(t)v[_]=h;else if(h)switch(e){case 3:return!0;case 5:return f;case 6:return _;case 2:ay(v,f)}else switch(e){case 4:return!1;case 7:ay(v,f)}return a?-1:r||i?i:v}},sy={forEach:oy(0),map:oy(1),filter:oy(2),some:oy(3),every:oy(4),find:oy(5),findIndex:oy(6),filterReject:oy(7)},ly=Vf,uy=sy.forEach,cy=function(e,t){var n=[][e];return!!n&&ly((function(){n.call(null,t||function(){return 1},1)}))},dy=cy("forEach")?[].forEach:function(e){return uy(this,e,arguments.length>1?arguments[1]:void 0)},fy=Mf,hy={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},py=hm,gy=dy,my=dg,yy=function(e){if(e&&e.forEach!==gy)try{my(e,"forEach",gy)}catch(t){e.forEach=gy}};for(var _y in hy)hy[_y]&&yy(fy[_y]&&fy[_y].prototype);yy(py);var by={exports:{}},vy=qt,wy=Fi;Cr({target:"Object",stat:!0,forced:pe((function(){wy(1)}))},{keys:function(e){return wy(vy(e))}});var xy=nt.Object.keys;!function(e){e.exports=xy}(by);var ky=ce(by.exports),Sy={exports:{}},Ty={},Ey=kn,Ay=Jn,Oy=Be,Cy=function(e,t,n){var r=Ey(t);r in e?Ay.f(e,r,Oy(0,n)):e[r]=n},Iy=ii,Py=li,My=Cy,Ly=Array,Ry=Math.max,Ny=Ve,Dy=Qe,jy=Xr.f,Fy=function(e,t,n){for(var r=Py(e),i=Iy(t,r),a=Iy(void 0===n?r:n,r),o=Ly(Ry(a-i,0)),s=0;i<a;i++,s++)My(o,s,e[i]);return o.length=s,o},By="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Ty.f=function(e){return By&&"Window"==Ny(e)?function(e){try{return jy(e)}catch(e){return Fy(By)}}(e):jy(Dy(e))};var zy={},$y=hn;zy.f=$y;var Uy=nt,Vy=Xt,Wy=zy,Hy=Jn.f,Gy=function(e){var t=Uy.Symbol||(Uy.Symbol={});Vy(t,e)||Hy(t,e,{value:Wy.f(e)})},qy=Me,Ky=st,Zy=hn,Xy=ds,Yy=function(){var e=Ky("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,r=Zy("toPrimitive");t&&!t[r]&&Xy(t,r,(function(e){return qy(n,this)}),{arity:1})},Jy=Ve,Qy=Array.isArray||function(e){return"Array"==Jy(e)},e_=Qy,t_=Ol,n_=tt,r_=hn("species"),i_=Array,a_=function(e){var t;return e_(e)&&(t=e.constructor,(t_(t)&&(t===i_||e_(t.prototype))||n_(t)&&null===(t=t[r_]))&&(t=void 0)),void 0===t?i_:t},o_=function(e,t){return new(a_(e))(0===t?0:t)},s_=Yn,l_=Ke,u_=qt,c_=li,d_=o_,f_=Ee([].push),h_=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,a=6==e,o=7==e,s=5==e||a;return function(l,u,c,d){for(var f,h,p=u_(l),g=l_(p),m=s_(u,c),y=c_(g),_=0,b=d||d_,v=t?b(l,y):n||o?b(l,0):void 0;y>_;_++)if((s||_ in g)&&(h=m(f=g[_],_,p),e))if(t)v[_]=h;else if(h)switch(e){case 3:return!0;case 5:return f;case 6:return _;case 2:f_(v,f)}else switch(e){case 4:return!1;case 7:f_(v,f)}return a?-1:r||i?i:v}},p_={forEach:h_(0),map:h_(1),filter:h_(2),some:h_(3),every:h_(4),find:h_(5),findIndex:h_(6),filterReject:h_(7)},g_=Cr,m_=he,y_=Me,__=Ee,b_=Ce,v_=bt,w_=pe,x_=Xt,k_=lt,S_=rr,T_=Qe,E_=kn,A_=io,O_=Be,C_=ia,I_=Fi,P_=Xr,M_=Ty,L_=Si,R_=Oe,N_=Jn,D_=Ni,j_=Le,F_=ds,B_=Ft.exports,z_=pi,$_=tn,U_=hn,V_=zy,W_=Gy,H_=Yy,G_=Cs,q_=rs,K_=p_.forEach,Z_=Lr("hidden"),X_="Symbol",Y_=q_.set,J_=q_.getterFor(X_),Q_=Object.prototype,eb=m_.Symbol,tb=eb&&eb.prototype,nb=m_.TypeError,rb=m_.QObject,ib=R_.f,ab=N_.f,ob=M_.f,sb=j_.f,lb=__([].push),ub=B_("symbols"),cb=B_("op-symbols"),db=B_("wks"),fb=!rb||!rb.prototype||!rb.prototype.findChild,hb=b_&&w_((function(){return 7!=C_(ab({},"a",{get:function(){return ab(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=ib(Q_,t);r&&delete Q_[t],ab(e,t,n),r&&e!==Q_&&ab(Q_,t,r)}:ab,pb=function(e,t){var n=ub[e]=C_(tb);return Y_(n,{type:X_,tag:e,description:t}),b_||(n.description=t),n},gb=function(e,t,n){e===Q_&&gb(cb,t,n),S_(e);var r=E_(t);return S_(n),x_(ub,r)?(n.enumerable?(x_(e,Z_)&&e[Z_][r]&&(e[Z_][r]=!1),n=C_(n,{enumerable:O_(0,!1)})):(x_(e,Z_)||ab(e,Z_,O_(1,{})),e[Z_][r]=!0),hb(e,r,n)):ab(e,r,n)},mb=function(e,t){S_(e);var n=T_(t),r=I_(n).concat(vb(n));return K_(r,(function(t){b_&&!y_(yb,n,t)||gb(e,t,n[t])})),e},yb=function(e){var t=E_(e),n=y_(sb,this,t);return!(this===Q_&&x_(ub,t)&&!x_(cb,t))&&(!(n||!x_(this,t)||!x_(ub,t)||x_(this,Z_)&&this[Z_][t])||n)},_b=function(e,t){var n=T_(e),r=E_(t);if(n!==Q_||!x_(ub,r)||x_(cb,r)){var i=ib(n,r);return!i||!x_(ub,r)||x_(n,Z_)&&n[Z_][r]||(i.enumerable=!0),i}},bb=function(e){var t=ob(T_(e)),n=[];return K_(t,(function(e){x_(ub,e)||x_(z_,e)||lb(n,e)})),n},vb=function(e){var t=e===Q_,n=ob(t?cb:T_(e)),r=[];return K_(n,(function(e){!x_(ub,e)||t&&!x_(Q_,e)||lb(r,ub[e])})),r};v_||(eb=function(){if(k_(tb,this))throw nb("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?A_(arguments[0]):void 0,t=$_(e),n=function(e){this===Q_&&y_(n,cb,e),x_(this,Z_)&&x_(this[Z_],t)&&(this[Z_][t]=!1),hb(this,t,O_(1,e))};return b_&&fb&&hb(Q_,t,{configurable:!0,set:n}),pb(t,e)},F_(tb=eb.prototype,"toString",(function(){return J_(this).tag})),F_(eb,"withoutSetter",(function(e){return pb($_(e),e)})),j_.f=yb,N_.f=gb,D_.f=mb,R_.f=_b,P_.f=M_.f=bb,L_.f=vb,V_.f=function(e){return pb(U_(e),e)},b_&&ab(tb,"description",{configurable:!0,get:function(){return J_(this).description}})),g_({global:!0,constructor:!0,wrap:!0,forced:!v_,sham:!v_},{Symbol:eb}),K_(I_(db),(function(e){W_(e)})),g_({target:X_,stat:!0,forced:!v_},{useSetter:function(){fb=!0},useSimple:function(){fb=!1}}),g_({target:"Object",stat:!0,forced:!v_,sham:!b_},{create:function(e,t){return void 0===t?C_(e):mb(C_(e),t)},defineProperty:gb,defineProperties:mb,getOwnPropertyDescriptor:_b}),g_({target:"Object",stat:!0,forced:!v_},{getOwnPropertyNames:bb}),H_(),G_(eb,X_),z_[Z_]=!0;var wb=bt&&!!Symbol.for&&!!Symbol.keyFor,xb=Cr,kb=st,Sb=Xt,Tb=io,Eb=Ft.exports,Ab=wb,Ob=Eb("string-to-symbol-registry"),Cb=Eb("symbol-to-string-registry");xb({target:"Symbol",stat:!0,forced:!Ab},{for:function(e){var t=Tb(e);if(Sb(Ob,t))return Ob[t];var n=kb("Symbol")(t);return Ob[t]=n,Cb[n]=t,n}});var Ib=Cr,Pb=Xt,Mb=Tt,Lb=At,Rb=wb,Nb=(0,Ft.exports)("symbol-to-string-registry");Ib({target:"Symbol",stat:!0,forced:!Rb},{keyFor:function(e){if(!Mb(e))throw TypeError(Lb(e)+" is not a symbol");if(Pb(Nb,e))return Nb[e]}});var Db=Cr,jb=st,Fb=ve,Bb=Me,zb=Ee,$b=pe,Ub=Qy,Vb=Ae,Wb=tt,Hb=Tt,Gb=jl,qb=bt,Kb=jb("JSON","stringify"),Zb=zb(/./.exec),Xb=zb("".charAt),Yb=zb("".charCodeAt),Jb=zb("".replace),Qb=zb(1..toString),ev=/[\uD800-\uDFFF]/g,tv=/^[\uD800-\uDBFF]$/,nv=/^[\uDC00-\uDFFF]$/,rv=!qb||$b((function(){var e=jb("Symbol")();return"[null]"!=Kb([e])||"{}"!=Kb({a:e})||"{}"!=Kb(Object(e))})),iv=$b((function(){return'"\\udf06\\ud834"'!==Kb("\udf06\ud834")||'"\\udead"'!==Kb("\udead")})),av=function(e,t){var n=Gb(arguments),r=t;if((Wb(t)||void 0!==e)&&!Hb(e))return Ub(t)||(t=function(e,t){if(Vb(r)&&(t=Bb(r,this,e,t)),!Hb(t))return t}),n[1]=t,Fb(Kb,null,n)},ov=function(e,t,n){var r=Xb(n,t-1),i=Xb(n,t+1);return Zb(tv,e)&&!Zb(nv,i)||Zb(nv,e)&&!Zb(tv,r)?"\\u"+Qb(Yb(e,0),16):e};Kb&&Db({target:"JSON",stat:!0,arity:3,forced:rv||iv},{stringify:function(e,t,n){var r=Gb(arguments),i=Fb(rv?av:Kb,null,r);return iv&&"string"==typeof i?Jb(i,ev,ov):i}});var sv=Si,lv=qt;Cr({target:"Object",stat:!0,forced:!bt||pe((function(){sv.f(1)}))},{getOwnPropertySymbols:function(e){var t=sv.f;return t?t(lv(e)):[]}});var uv=nt.Object.getOwnPropertySymbols;!function(e){e.exports=uv}(Sy);var cv=ce(Sy.exports),dv={exports:{}},fv={exports:{}},hv=Cr,pv=pe,gv=Qe,mv=Oe.f,yv=Ce,_v=pv((function(){mv(1)}));hv({target:"Object",stat:!0,forced:!yv||_v,sham:!yv},{getOwnPropertyDescriptor:function(e,t){return mv(gv(e),t)}});var bv=nt.Object,vv=fv.exports=function(e,t){return bv.getOwnPropertyDescriptor(e,t)};bv.getOwnPropertyDescriptor.sham&&(vv.sham=!0);var wv=fv.exports;!function(e){e.exports=wv}(dv);var xv=ce(dv.exports),kv={exports:{}},Sv=Ii,Tv=Qe,Ev=Oe,Av=Cy;Cr({target:"Object",stat:!0,sham:!Ce},{getOwnPropertyDescriptors:function(e){for(var t,n,r=Tv(e),i=Ev.f,a=Sv(r),o={},s=0;a.length>s;)void 0!==(n=i(r,t=a[s++]))&&Av(o,t,n);return o}});var Ov=nt.Object.getOwnPropertyDescriptors;!function(e){e.exports=Ov}(kv);var Cv=ce(kv.exports),Iv={exports:{}},Pv={exports:{}},Mv=Cr,Lv=Ce,Rv=Ni.f;Mv({target:"Object",stat:!0,forced:Object.defineProperties!==Rv,sham:!Lv},{defineProperties:Rv});var Nv=nt.Object,Dv=Pv.exports=function(e,t){return Nv.defineProperties(e,t)};Nv.defineProperties.sham&&(Dv.sham=!0);var jv=Pv.exports;!function(e){e.exports=jv}(Iv);var Fv=ce(Iv.exports),Bv={exports:{}},zv={exports:{}},$v=Cr,Uv=Ce,Vv=Jn.f;$v({target:"Object",stat:!0,forced:Object.defineProperty!==Vv,sham:!Uv},{defineProperty:Vv});var Wv=nt.Object,Hv=zv.exports=function(e,t,n){return Wv.defineProperty(e,t,n)};Wv.defineProperty.sham&&(Hv.sham=!0);var Gv=zv.exports;!function(e){e.exports=Gv}(Bv);var qv=ce(Bv.exports),Kv={exports:{}},Zv={exports:{}};Cr({target:"Array",stat:!0},{isArray:Qy});var Xv=nt.Array.isArray;!function(e){e.exports=Xv}(Zv),function(e){e.exports=Zv.exports}(Kv);var Yv=ce(Kv.exports);function Jv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qv={exports:{}},ew={exports:{}},tw=TypeError,nw=pe,rw=mt,iw=hn("species"),aw=function(e){return rw>=51||!nw((function(){var t=[];return(t.constructor={})[iw]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},ow=Cr,sw=pe,lw=Qy,uw=tt,cw=qt,dw=li,fw=function(e){if(e>9007199254740991)throw tw("Maximum allowed index exceeded");return e},hw=Cy,pw=o_,gw=aw,mw=mt,yw=hn("isConcatSpreadable"),_w=mw>=51||!sw((function(){var e=[];return e[yw]=!1,e.concat()[0]!==e})),bw=gw("concat"),vw=function(e){if(!uw(e))return!1;var t=e[yw];return void 0!==t?!!t:lw(e)};ow({target:"Array",proto:!0,arity:1,forced:!_w||!bw},{concat:function(e){var t,n,r,i,a,o=cw(this),s=pw(o,0),l=0;for(t=-1,r=arguments.length;t<r;t++)if(vw(a=-1===t?o:arguments[t]))for(i=dw(a),fw(l+i),n=0;n<i;n++,l++)n in a&&hw(s,l,a[n]);else fw(l+1),hw(s,l++,a);return s.length=l,s}}),Gy("asyncIterator"),Gy("hasInstance"),Gy("isConcatSpreadable"),Gy("iterator"),Gy("match"),Gy("matchAll"),Gy("replace"),Gy("search"),Gy("species"),Gy("split");var ww=Yy;Gy("toPrimitive"),ww();var xw=st,kw=Cs;Gy("toStringTag"),kw(xw("Symbol"),"Symbol"),Gy("unscopables"),Cs(he.JSON,"JSON",!0);var Sw=nt.Symbol;Gy("asyncDispose"),Gy("dispose"),Gy("matcher"),Gy("metadataKey"),Gy("observable"),Gy("metadata"),Gy("patternMatch"),Gy("replaceAll");var Tw=Sw;!function(e){e.exports=Tw}(ew),function(e){e.exports=ew.exports}(Qv);var Ew=ce(Qv.exports),Aw={exports:{}},Ow={exports:{}},Cw=Ia;!function(e){e.exports=Cw}(Ow),function(e){e.exports=Ow.exports}(Aw);var Iw=ce(Aw.exports),Pw={exports:{}},Mw={exports:{}},Lw=rr,Rw=$a,Nw=Yn,Dw=Me,jw=qt,Fw=function(e,t,n,r){try{return r?t(Lw(n)[0],n[1]):t(n)}catch(t){Rw(e,"throw",t)}},Bw=ma,zw=Ol,$w=li,Uw=Cy,Vw=ja,Ww=Ia,Hw=Array,Gw=function(e){var t=jw(e),n=zw(this),r=arguments.length,i=r>1?arguments[1]:void 0,a=void 0!==i;a&&(i=Nw(i,r>2?arguments[2]:void 0));var o,s,l,u,c,d,f=Ww(t),h=0;if(!f||this===Hw&&Bw(f))for(o=$w(t),s=n?new this(o):Hw(o);o>h;h++)d=a?i(t[h],h):t[h],Uw(s,h,d);else for(c=(u=Vw(t,f)).next,s=n?new this:[];!(l=Dw(c,u)).done;h++)d=a?Fw(u,i,[l.value,h],!0):l.value,Uw(s,h,d);return s.length=h,s};Cr({target:"Array",stat:!0,forced:!ad((function(e){Array.from(e)}))},{from:Gw});var qw=nt.Array.from;!function(e){e.exports=qw}(Mw),function(e){e.exports=Mw.exports}(Pw);var Kw=ce(Pw.exports),Zw={exports:{}},Xw={exports:{}},Yw=Cr,Jw=Qy,Qw=Ol,ex=tt,tx=ii,nx=li,rx=Qe,ix=Cy,ax=hn,ox=jl,sx=aw("slice"),lx=ax("species"),ux=Array,cx=Math.max;Yw({target:"Array",proto:!0,forced:!sx},{slice:function(e,t){var n,r,i,a=rx(this),o=nx(a),s=tx(e,o),l=tx(void 0===t?o:t,o);if(Jw(a)&&(n=a.constructor,(Qw(n)&&(n===ux||Jw(n.prototype))||ex(n)&&null===(n=n[lx]))&&(n=void 0),n===ux||void 0===n))return ox(a,s,l);for(r=new(void 0===n?ux:n)(cx(l-s,0)),i=0;s<l;s++,i++)s in a&&ix(r,i,a[s]);return r.length=i,r}});var dx=nt,fx=function(e){return dx[e+"Prototype"]},hx=fx("Array").slice,px=lt,gx=hx,mx=Array.prototype,yx=function(e){var t=e.slice;return e===mx||px(mx,e)&&t===mx.slice?gx:t},_x=yx;!function(e){e.exports=_x}(Xw),function(e){e.exports=Xw.exports}(Zw);var bx=ce(Zw.exports);function vx(e,t){var n;if(e){if("string"==typeof e)return Jv(e,t);var r=bx(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Kw(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jv(e,t):void 0}}function wx(e){return function(e){if(Yv(e))return Jv(e)}(e)||function(e){if(void 0!==Ew&&null!=Iw(e)||null!=e["@@iterator"])return Kw(e)}(e)||vx(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xx(e,t){return function(e){if(Yv(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==Ew&&Iw(e)||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||vx(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var kx={exports:{}},Sx={exports:{}},Tx=Gv;!function(e){e.exports=Tx}(Sx),function(e){e.exports=Sx.exports}(kx);var Ex=ce(kx.exports);function Ax(e,t,n){return t in e?Ex(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ox={exports:{}},Cx=p_.map;Cr({target:"Array",proto:!0,forced:!aw("map")},{map:function(e){return Cx(this,e,arguments.length>1?arguments[1]:void 0)}});var Ix=fx("Array").map,Px=lt,Mx=Ix,Lx=Array.prototype,Rx=function(e){var t=e.map;return e===Lx||Px(Lx,e)&&t===Lx.map?Mx:t};!function(e){e.exports=Rx}(Ox);var Nx=ce(Ox.exports),Dx={exports:{}},jx=fx("Array").concat,Fx=lt,Bx=jx,zx=Array.prototype,$x=function(e){var t=e.concat;return e===zx||Fx(zx,e)&&t===zx.concat?Bx:t};!function(e){e.exports=$x}(Dx);var Ux=ce(Dx.exports),Vx={exports:{}},Wx=p_.filter;Cr({target:"Array",proto:!0,forced:!aw("filter")},{filter:function(e){return Wx(this,e,arguments.length>1?arguments[1]:void 0)}});var Hx=fx("Array").filter,Gx=lt,qx=Hx,Kx=Array.prototype,Zx=function(e){var t=e.filter;return e===Kx||Gx(Kx,e)&&t===Kx.filter?qx:t};!function(e){e.exports=Zx}(Vx);var Xx=ce(Vx.exports),Yx=lm,Jx=String,Qx=function(e){if("Symbol"===Yx(e))throw TypeError("Cannot convert a Symbol value to a string");return Jx(e)},ek=ep,tk=function(){var e=ek(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},nk=rp,rk=ih,ik=ip,ak=tk,ok=RegExp.prototype,sk=Xp.PROPER,lk=Yg,uk=ep,ck=Qx,dk=Vf,fk=function(e){var t=e.flags;return void 0!==t||"flags"in ok||rk(e,"flags")||!ik(ok,e)?t:nk(ak,e)},hk="toString",pk=RegExp.prototype.toString,gk=dk((function(){return"/a/b"!=pk.call({source:"a",flags:"b"})})),mk=sk&&pk.name!=hk;function yk(e,t){var n=ky(e);if(cv){var r=cv(e);t&&(r=Xx(r).call(r,(function(t){return xv(e,t).enumerable}))),n.push.apply(n,r)}return n}function _k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yk(Object(n),!0).forEach((function(t){Ax(e,t,n[t])})):Cv?Fv(e,Cv(n)):yk(Object(n)).forEach((function(t){qv(e,t,xv(n,t))}))}return e}(gk||mk)&&lk(RegExp.prototype,hk,(function(){var e=uk(this);return"/"+ck(e.source)+"/"+ck(fk(e))}),{unsafe:!0});var bk=0,vk=function(e,t){var n,r=e.createdAt||Date.now(),i=e.hasTime||r-bk>3e5;return i&&(bk=r),_k(_k({},e),{},{_id:e._id||t||(n=2147483648,Math.floor(Math.random()*n).toString(36)+Math.abs(Math.floor(Math.random()*n)^Date.now()).toString(36)),createdAt:r,position:e.position||"left",hasTime:i})},wk="_TYPING_";function xk(e){var n=e.active,r=void 0!==n&&n,i=e.ref,a=e.delay,o=void 0===a?300:a,s=xx(t.useState(!1),2),l=s[0],u=s[1],c=xx(t.useState(!1),2),d=c[0],f=c[1],h=t.useRef();return t.useEffect((function(){r?(h.current&&clearTimeout(h.current),f(r)):(u(r),h.current=setTimeout((function(){f(r)}),o))}),[r,o]),t.useEffect((function(){i.current&&i.current.offsetHeight,u(d)}),[d,i]),{didMount:d,isShow:l}}var kk={exports:{}},Sk={exports:{}},Tk=Ce,Ek=Ee,Ak=Me,Ok=pe,Ck=Fi,Ik=Si,Pk=Le,Mk=qt,Lk=Ke,Rk=Object.assign,Nk=Object.defineProperty,Dk=Ek([].concat),jk=!Rk||Ok((function(){if(Tk&&1!==Rk({b:1},Rk(Nk({},"a",{enumerable:!0,get:function(){Nk(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=Rk({},e)[n]||Ck(Rk({},t)).join("")!=r}))?function(e,t){for(var n=Mk(e),r=arguments.length,i=1,a=Ik.f,o=Pk.f;r>i;)for(var s,l=Lk(arguments[i++]),u=a?Dk(Ck(l),a(l)):Ck(l),c=u.length,d=0;c>d;)s=u[d++],Tk&&!Ak(o,l,s)||(n[s]=l[s]);return n}:Rk,Fk=jk;Cr({target:"Object",stat:!0,arity:2,forced:Object.assign!==Fk},{assign:Fk});var Bk=nt.Object.assign;!function(e){e.exports=Bk}(Sk),function(e){e.exports=Sk.exports}(kk);var zk=ce(kk.exports),$k={exports:{}},Uk={exports:{}},Vk=Ee,Wk=Pt,Hk=tt,Gk=Xt,qk=jl,Kk=ge,Zk=Function,Xk=Vk([].concat),Yk=Vk([].join),Jk={},Qk=function(e,t,n){if(!Gk(Jk,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";Jk[t]=Zk("C,a","return new C("+Yk(r,",")+")")}return Jk[t](e,n)},eS=Kk?Zk.bind:function(e){var t=Wk(this),n=t.prototype,r=qk(arguments,1),i=function(){var n=Xk(r,qk(arguments));return this instanceof i?Qk(t,n.length,n):t.apply(e,n)};return Hk(n)&&(i.prototype=n),i},tS=eS;Cr({target:"Function",proto:!0,forced:Function.bind!==tS},{bind:tS});var nS=fx("Function").bind,rS=lt,iS=nS,aS=Function.prototype,oS=function(e){var t=e.bind;return e===aS||rS(aS,e)&&t===aS.bind?iS:t};!function(e){e.exports=oS}(Uk),function(e){e.exports=Uk.exports}($k);var sS=ce($k.exports);function lS(){var e;return lS=zk?sS(e=zk).call(e):function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lS.apply(this,arguments)}var uS={exports:{}},cS={exports:{}},dS=uv;!function(e){e.exports=dS}(cS),function(e){e.exports=cS.exports}(uS);var fS=ce(uS.exports),hS={exports:{}},pS={exports:{}},gS=pe,mS=function(e,t){var n=[][e];return!!n&&gS((function(){n.call(null,t||function(){return 1},1)}))},yS=Cr,_S=hi.indexOf,bS=mS,vS=Ee([].indexOf),wS=!!vS&&1/vS([1],1,-0)<0,xS=bS("indexOf");yS({target:"Array",proto:!0,forced:wS||!xS},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return wS?vS(this,e,t)||0:_S(this,e,t)}});var kS=fx("Array").indexOf,SS=lt,TS=kS,ES=Array.prototype,AS=function(e){var t=e.indexOf;return e===ES||SS(ES,e)&&t===ES.indexOf?TS:t},OS=AS;!function(e){e.exports=OS}(pS),function(e){e.exports=pS.exports}(hS);var CS=ce(hS.exports),IS={exports:{}},PS={exports:{}},MS=xy;!function(e){e.exports=MS}(PS),function(e){e.exports=PS.exports}(IS);var LS=ce(IS.exports);function RS(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=LS(e);for(r=0;r<a.length;r++)n=a[r],CS(t).call(t,n)>=0||(i[n]=e[n]);return i}(e,t);if(fS){var a=fS(e);for(r=0;r<a.length;r++)n=a[r],CS(t).call(t,n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var NS={exports:{}},DS=Cr,jS=ve,FS=eS,BS=Ml,zS=rr,$S=tt,US=ia,VS=pe,WS=st("Reflect","construct"),HS=Object.prototype,GS=[].push,qS=VS((function(){function e(){}return!(WS((function(){}),[],e)instanceof e)})),KS=!VS((function(){WS((function(){}))})),ZS=qS||KS;DS({target:"Reflect",stat:!0,forced:ZS,sham:ZS},{construct:function(e,t){BS(e),zS(t);var n=arguments.length<3?e:BS(arguments[2]);if(KS&&!qS)return WS(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return jS(GS,r,t),new(jS(FS,e,r))}var i=n.prototype,a=US($S(i)?i:HS),o=jS(e,a,t);return $S(o)?o:a}});var XS=nt.Reflect.construct;!function(e){e.exports=XS}(NS);var YS=ce(NS.exports);function JS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Ex(e,r.key,r)}}var QS={exports:{}},eT={exports:{}};Cr({target:"Object",stat:!0,sham:!Ce},{create:ia});var tT=nt.Object,nT=function(e,t){return tT.create(e,t)};!function(e){e.exports=nT}(eT),function(e){e.exports=eT.exports}(QS);var rT=ce(QS.exports),iT={exports:{}},aT={exports:{}};Cr({target:"Object",stat:!0},{setPrototypeOf:Zr});var oT=nt.Object.setPrototypeOf;!function(e){e.exports=oT}(aT),function(e){e.exports=aT.exports}(iT);var sT=ce(iT.exports);function lT(e,t){var n;return lT=sT?sS(n=sT).call(n):function(e,t){return e.__proto__=t,e},lT(e,t)}var uT={exports:{}},cT={exports:{}},dT=zy.f("iterator");!function(e){e.exports=dT}(cT),function(e){e.exports=cT.exports}(uT);var fT=ce(uT.exports);function hT(e){return hT="function"==typeof Ew&&"symbol"==typeof fT?function(e){return typeof e}:function(e){return e&&"function"==typeof Ew&&e.constructor===Ew&&e!==Ew.prototype?"symbol":typeof e},hT(e)}function pT(e,t){if(t&&("object"===hT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}var gT={exports:{}},mT={exports:{}},yT=qt,_T=Ur,bT=Rr;Cr({target:"Object",stat:!0,forced:pe((function(){_T(1)})),sham:!bT},{getPrototypeOf:function(e){return _T(yT(e))}});var vT=nt.Object.getPrototypeOf;!function(e){e.exports=vT}(mT),function(e){e.exports=mT.exports}(gT);var wT=ce(gT.exports);function xT(e){var t;return xT=sT?sS(t=wT).call(t):function(e){return e.__proto__||wT(e)},xT(e)}var kT=["FallbackComponent","children"];function ST(e){var t=function(){if("undefined"==typeof Reflect||!YS)return!1;if(YS.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(YS(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xT(e);if(t){var i=xT(this).constructor;n=YS(r,arguments,i)}else n=r.apply(this,arguments);return pT(this,n)}}var TT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=rT(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Ex(e,"prototype",{writable:!1}),t&&lT(e,t)}(o,e);var t,n,r,i=ST(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).state={error:null,errorInfo:null},t}return t=o,(n=[{key:"componentDidCatch",value:function(e,t){var n=this.props.onError;n&&n(e,t),this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){var e=this.props,t=e.FallbackComponent,n=e.children,r=RS(e,kT),i=this.state,o=i.error,s=i.errorInfo;return s?t?a.default.createElement(t,lS({error:o,errorInfo:s},r)):null:n}}])&&JS(t.prototype,n),r&&JS(t,r),Ex(t,"prototype",{writable:!1}),o}(a.default.Component),ET=["component","onError","fallback"],AT=function(e){var n=e.component,r=e.onError,i=e.fallback,o=RS(e,ET);return n?a.default.createElement(TT,{onError:r},a.default.createElement(t.Suspense,{fallback:i||null},a.default.createElement(n,o))):null},OT=a.default.createContext({addComponent:function(){},hasComponent:function(){return!1},getComponent:function(){return null}});function CT(){return a.default.useContext(OT)}var IT=["code","fallback","onLoad","onError"],PT=["component","code","onLoad"],MT=function(e){var t=e.code,n=e.fallback,r=e.onLoad,i=e.onError,o=RS(e,IT),s=(0,CT().getComponent)(t,(function(e){"async"in e&&r?r(e):"errCode"in e&&i&&i(new Error(e.errCode))}));return a.default.createElement(AT,lS({component:s,onError:i,fallback:n},o))};function LT(e,t){var n=ky(e);if(cv){var r=cv(e);t&&(r=Xx(r).call(r,(function(t){return xv(e,t).enumerable}))),n.push.apply(n,r)}return n}function RT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LT(Object(n),!0).forEach((function(t){Ax(e,t,n[t])})):Cv?Fv(e,Cv(n)):LT(Object(n)).forEach((function(t){qv(e,t,xv(n,t))}))}return e}var NT=function(e){var t=e.className,n=e.src,r=e.alt,i=e.url,o=e.size,s=void 0===o?"md":o,u=e.shape,c=void 0===u?"circle":u,d=e.children,f=i?"a":"span";return a.default.createElement(f,{className:l("Avatar","Avatar--".concat(s),"Avatar--".concat(c),t),href:i},n?a.default.createElement("img",{src:n,alt:r}):d)},DT=["className","active","onClick"],jT=function(e){var t=e.className,n=e.active,r=e.onClick,i=RS(e,DT);return a.default.createElement("div",lS({className:l("Backdrop",t,{active:n}),onClick:r,role:"button",tabIndex:-1,"aria-hidden":!0},i))},FT=["type","content","children"],BT=function(e){var t=e.type,n=void 0===t?"text":t,r=e.content,i=e.children,o=RS(e,FT);return a.default.createElement("div",lS({className:"Bubble ".concat(n),"data-type":n},o),r&&a.default.createElement("p",null,r),i)},zT=["type","className","spin","name"],$T=function(e){var t=e.type,n=e.className,r=e.spin,i=e.name,o=RS(e,zT),s="string"==typeof i?{"aria-label":i}:{"aria-hidden":!0};return a.default.createElement("svg",lS({className:l("Icon",{"is-spin":r},n)},s,o),a.default.createElement("use",{xlinkHref:"#icon-".concat(t)}))},UT=["className","label","color","variant","size","icon","loading","block","disabled","children","onClick"];function VT(e){return e&&"Btn--".concat(e)}var WT=function(e){var t=e.className,n=e.label,r=e.color,i=e.variant,o=e.size,s=e.icon,u=e.loading,c=e.block,d=e.disabled,f=e.children,h=e.onClick,p=RS(e,UT),g=s||u&&"spinner",m=o||(c?"lg":"");return a.default.createElement("button",lS({className:l("Btn",VT(r),VT(i),VT(m),{"Btn--block":c},t),type:"button",disabled:d,onClick:function(e){d||u||!h||h(e)}},p),g&&a.default.createElement("span",{className:"Btn-icon"},a.default.createElement($T,{type:g,spin:u})),n||f)},HT=["className","size","fluid","children"],GT=a.default.forwardRef((function(e,t){var n=e.className,r=e.size,i=e.fluid,o=e.children,s=RS(e,HT);return a.default.createElement("div",lS({className:l("Card",r&&"Card--".concat(r),{"Card--fluid":i},n),"data-fluid":i},s,{ref:t}),o)})),qT=["as","className","inline","center","direction","wrap","justifyContent","justify","alignItems","align","children"],KT={row:"Flex--d-r","row-reverse":"Flex--d-rr",column:"Flex--d-c","column-reverse":"Flex--d-cr"},ZT={nowrap:"Flex--w-n",wrap:"Flex--w-w","wrap-reverse":"Flex--w-wr"},XT={"flex-start":"Flex--jc-fs","flex-end":"Flex--jc-fe",center:"Flex--jc-c","space-between":"Flex--jc-sb","space-around":"Flex--jc-sa"},YT={"flex-start":"Flex--ai-fs","flex-end":"Flex--ai-fe",center:"Flex--ai-c"},JT=a.default.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,o=e.inline,s=e.center,u=e.direction,c=e.wrap,d=e.justifyContent,f=e.justify,h=void 0===f?d:f,p=e.alignItems,g=e.align,m=void 0===g?p:g,y=e.children,_=RS(e,qT);return a.default.createElement(r,lS({className:l("Flex",u&&KT[u],h&&XT[h],m&&YT[m],c&&ZT[c],{"Flex--inline":o,"Flex--center":s},i),ref:t},_),y)})),QT=["className","flex","alignSelf","order","style","children"];function eE(e,t){var n=ky(e);if(cv){var r=cv(e);t&&(r=Xx(r).call(r,(function(t){return xv(e,t).enumerable}))),n.push.apply(n,r)}return n}function tE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eE(Object(n),!0).forEach((function(t){Ax(e,t,n[t])})):Cv?Fv(e,Cv(n)):eE(Object(n)).forEach((function(t){qv(e,t,xv(n,t))}))}return e}var nE=function(e){var t=e.className,n=e.flex,r=e.alignSelf,i=e.order,o=e.style,s=e.children,u=RS(e,QT);return a.default.createElement("div",lS({className:l("FlexItem",t),style:tE(tE({},o),{},{flex:n,alignSelf:r,order:i})},u),s)},rE=["className","aspectRatio","color","image","children"],iE=["className","children"],aE=["className","title","subtitle","center","children"],oE=["className","children"],sE=["children","className","direction"],lE={},uE={},cE={}.propertyIsEnumerable,dE=Object.getOwnPropertyDescriptor,fE=dE&&!cE.call({1:2},1);uE.f=fE?function(e){var t=dE(this,e);return!!t&&t.enumerable}:cE;var hE=xm,pE=Jf,gE=function(e){return hE(pE(e))},mE=$h,yE=rp,_E=uE,bE=lg,vE=gE,wE=Mp,xE=ih,kE=Zh,SE=Object.getOwnPropertyDescriptor;lE.f=mE?SE:function(e,t){if(e=vE(e),t=wE(t),kE)try{return SE(e,t)}catch(e){}if(xE(e,t))return bE(!yE(_E.f,e,t),e[t])};var TE={},EE=Em,AE=Math.max,OE=Math.min,CE=function(e,t){var n=EE(e);return n<0?AE(n+t,0):OE(n,t)},IE=gE,PE=CE,ME=Pm,LE=function(e){return function(t,n,r){var i,a=IE(t),o=ME(a),s=PE(r,o);if(e&&n!=n){for(;o>s;)if((i=a[s++])!=i)return!0}else for(;o>s;s++)if((e||s in a)&&a[s]===n)return e||s||0;return!e&&-1}},RE={includes:LE(!0),indexOf:LE(!1)},NE=ih,DE=gE,jE=RE.indexOf,FE=mg,BE=Xf([].push),zE=function(e,t){var n,r=DE(e),i=0,a=[];for(n in r)!NE(FE,n)&&NE(r,n)&&BE(a,n);for(;t.length>i;)NE(r,n=t[i++])&&(~jE(a,n)||BE(a,n));return a},$E=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],UE=zE,VE=$E.concat("length","prototype");TE.f=Object.getOwnPropertyNames||function(e){return UE(e,VE)};var WE={};WE.f=Object.getOwnPropertySymbols;var HE,GE,qE,KE,ZE=ph,XE=TE,YE=WE,JE=ep,QE=Xf([].concat),eA=ZE("Reflect","ownKeys")||function(e){var t=XE.f(JE(e)),n=YE.f;return n?QE(t,n(e)):t},tA=ih,nA=eA,rA=lE,iA=zh,aA=Vf,oA=ch,sA=/#|\.prototype\./,lA=function(e,t){var n=cA[uA(e)];return n==fA||n!=dA&&(oA(t)?aA(t):!!t)},uA=lA.normalize=function(e){return String(e).replace(sA,".").toLowerCase()},cA=lA.data={},dA=lA.NATIVE="N",fA=lA.POLYFILL="P",hA=lA,pA=Mf,gA=lE.f,mA=dg,yA=Yg,_A=Df,bA=function(e,t,n){for(var r=nA(t),i=iA.f,a=rA.f,o=0;o<r.length;o++){var s=r[o];tA(e,s)||n&&tA(n,s)||i(e,s,a(t,s))}},vA=hA,wA=function(e,t){var n,r,i,a,o,s=e.target,l=e.global,u=e.stat;if(n=l?pA:u?pA[s]||_A(s,{}):(pA[s]||{}).prototype)for(r in t){if(a=t[r],i=e.dontCallGetSet?(o=gA(n,r))&&o.value:n[r],!vA(l?r:s+(u?".":"#")+r,e.forced)&&void 0!==i){if(typeof a==typeof i)continue;bA(a,i)}(e.sham||i&&i.sham)&&mA(a,"sham",!0),yA(n,r,a,e)}},xA="process"==tm(Mf.process),kA=ch,SA=String,TA=TypeError,EA=Xf,AA=ep,OA=function(e){if("object"==typeof e||kA(e))return e;throw TA("Can't set "+SA(e)+" as a prototype")},CA=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=EA(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return AA(n),OA(r),t?e(n,r):n.__proto__=r,n}}():void 0),IA=zh.f,PA=ih,MA=jh("toStringTag"),LA=ph,RA=zh,NA=$h,DA=jh("species"),jA=ip,FA=TypeError,BA=qm,zA=dp,$A=TypeError,UA=ep,VA=function(e){if(BA(e))return e;throw $A(zA(e)+" is not a constructor")},WA=jh("species"),HA=function(e,t){var n,r=UA(e).constructor;return void 0===r||null==(n=UA(r)[WA])?t:VA(n)},GA=Wf,qA=Function.prototype,KA=qA.apply,ZA=qA.call,XA="object"==typeof Reflect&&Reflect.apply||(GA?ZA.bind(KA):function(){return ZA.apply(KA,arguments)}),YA=ph("document","documentElement"),JA=Xf([].slice),QA=TypeError,eO=/(?:ipad|iphone|ipod).*applewebkit/i.test(gh),tO=Mf,nO=XA,rO=ym,iO=ch,aO=ih,oO=Vf,sO=YA,lO=JA,uO=qh,cO=function(e,t){if(e<t)throw QA("Not enough arguments");return e},dO=eO,fO=xA,hO=tO.setImmediate,pO=tO.clearImmediate,gO=tO.process,mO=tO.Dispatch,yO=tO.Function,_O=tO.MessageChannel,bO=tO.String,vO=0,wO={},xO="onreadystatechange";try{HE=tO.location}catch(e){}var kO=function(e){if(aO(wO,e)){var t=wO[e];delete wO[e],t()}},SO=function(e){return function(){kO(e)}},TO=function(e){kO(e.data)},EO=function(e){tO.postMessage(bO(e),HE.protocol+"//"+HE.host)};hO&&pO||(hO=function(e){cO(arguments.length,1);var t=iO(e)?e:yO(e),n=lO(arguments,1);return wO[++vO]=function(){nO(t,void 0,n)},GE(vO),vO},pO=function(e){delete wO[e]},fO?GE=function(e){gO.nextTick(SO(e))}:mO&&mO.now?GE=function(e){mO.now(SO(e))}:_O&&!dO?(KE=(qE=new _O).port2,qE.port1.onmessage=TO,GE=rO(KE.postMessage,KE)):tO.addEventListener&&iO(tO.postMessage)&&!tO.importScripts&&HE&&"file:"!==HE.protocol&&!oO(EO)?(GE=EO,tO.addEventListener("message",TO,!1)):GE=xO in uO("script")?function(e){sO.appendChild(uO("script")).onreadystatechange=function(){sO.removeChild(this),kO(e)}}:function(e){setTimeout(SO(e),0)});var AO,OO,CO,IO,PO,MO,LO,RO,NO={set:hO,clear:pO},DO=Mf,jO=/ipad|iphone|ipod/i.test(gh)&&void 0!==DO.Pebble,FO=/web0s(?!.*chrome)/i.test(gh),BO=Mf,zO=ym,$O=lE.f,UO=NO.set,VO=eO,WO=jO,HO=FO,GO=xA,qO=BO.MutationObserver||BO.WebKitMutationObserver,KO=BO.document,ZO=BO.process,XO=BO.Promise,YO=$O(BO,"queueMicrotask"),JO=YO&&YO.value;JO||(AO=function(){var e,t;for(GO&&(e=ZO.domain)&&e.exit();OO;){t=OO.fn,OO=OO.next;try{t()}catch(e){throw OO?IO():CO=void 0,e}}CO=void 0,e&&e.enter()},VO||GO||HO||!qO||!KO?!WO&&XO&&XO.resolve?((LO=XO.resolve(void 0)).constructor=XO,RO=zO(LO.then,LO),IO=function(){RO(AO)}):GO?IO=function(){ZO.nextTick(AO)}:(UO=zO(UO,BO),IO=function(){UO(AO)}):(PO=!0,MO=KO.createTextNode(""),new qO(AO).observe(MO,{characterData:!0}),IO=function(){MO.data=PO=!PO}));var QO=JO||function(e){var t={fn:e,next:void 0};CO&&(CO.next=t),OO||(OO=t,IO()),CO=t},eC=Mf,tC=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},nC=function(){this.head=null,this.tail=null};nC.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var rC=nC,iC=Mf.Promise,aC="object"==typeof window&&"object"!=typeof Deno,oC=Mf,sC=iC,lC=ch,uC=hA,cC=rg,dC=jh,fC=aC,hC=xh;sC&&sC.prototype;var pC=dC("species"),gC=!1,mC=lC(oC.PromiseRejectionEvent),yC=uC("Promise",(function(){var e=cC(sC),t=e!==String(sC);if(!t&&66===hC)return!0;if(hC>=51&&/native code/.test(e))return!1;var n=new sC((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[pC]=r,!(gC=n.then((function(){}))instanceof r)||!t&&fC&&!mC})),_C={CONSTRUCTOR:yC,REJECTION_EVENT:mC,SUBCLASSING:gC},bC={},vC=gp,wC=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=vC(t),this.reject=vC(n)};bC.f=function(e){return new wC(e)};var xC,kC,SC,TC=wA,EC=xA,AC=Mf,OC=rp,CC=Yg,IC=CA,PC=function(e,t,n){e&&!n&&(e=e.prototype),e&&!PA(e,MA)&&IA(e,MA,{configurable:!0,value:t})},MC=function(e){var t=LA(e),n=RA.f;NA&&t&&!t[DA]&&n(t,DA,{configurable:!0,get:function(){return this}})},LC=gp,RC=ch,NC=Vh,DC=function(e,t){if(jA(t,e))return e;throw FA("Incorrect invocation")},jC=HA,FC=NO.set,BC=QO,zC=function(e,t){var n=eC.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))},$C=tC,UC=rC,VC=Rg,WC=iC,HC=bC,GC="Promise",qC=_C.CONSTRUCTOR,KC=_C.REJECTION_EVENT,ZC=_C.SUBCLASSING,XC=VC.getterFor(GC),YC=VC.set,JC=WC&&WC.prototype,QC=WC,eI=JC,tI=AC.TypeError,nI=AC.document,rI=AC.process,iI=HC.f,aI=iI,oI=!!(nI&&nI.createEvent&&AC.dispatchEvent),sI="unhandledrejection",lI=function(e){var t;return!(!NC(e)||!RC(t=e.then))&&t},uI=function(e,t){var n,r,i,a=t.value,o=1==t.state,s=o?e.ok:e.fail,l=e.resolve,u=e.reject,c=e.domain;try{s?(o||(2===t.rejection&&pI(t),t.rejection=1),!0===s?n=a:(c&&c.enter(),n=s(a),c&&(c.exit(),i=!0)),n===e.promise?u(tI("Promise-chain cycle")):(r=lI(n))?OC(r,n,l,u):l(n)):u(a)}catch(e){c&&!i&&c.exit(),u(e)}},cI=function(e,t){e.notified||(e.notified=!0,BC((function(){for(var n,r=e.reactions;n=r.get();)uI(n,e);e.notified=!1,t&&!e.rejection&&fI(e)})))},dI=function(e,t,n){var r,i;oI?((r=nI.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),AC.dispatchEvent(r)):r={promise:t,reason:n},!KC&&(i=AC["on"+e])?i(r):e===sI&&zC("Unhandled promise rejection",n)},fI=function(e){OC(FC,AC,(function(){var t,n=e.facade,r=e.value;if(hI(e)&&(t=$C((function(){EC?rI.emit("unhandledRejection",r,n):dI(sI,n,r)})),e.rejection=EC||hI(e)?2:1,t.error))throw t.value}))},hI=function(e){return 1!==e.rejection&&!e.parent},pI=function(e){OC(FC,AC,(function(){var t=e.facade;EC?rI.emit("rejectionHandled",t):dI("rejectionhandled",t,e.value)}))},gI=function(e,t,n){return function(r){e(t,r,n)}},mI=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,cI(e,!0))},yI=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw tI("Promise can't be resolved itself");var r=lI(t);r?BC((function(){var n={done:!1};try{OC(r,t,gI(yI,n,e),gI(mI,n,e))}catch(t){mI(n,t,e)}})):(e.value=t,e.state=1,cI(e,!1))}catch(t){mI({done:!1},t,e)}}};if(qC&&(eI=(QC=function(e){DC(this,eI),LC(e),OC(xC,this);var t=XC(this);try{e(gI(yI,t),gI(mI,t))}catch(e){mI(t,e)}}).prototype,(xC=function(e){YC(this,{type:GC,done:!1,notified:!1,parent:!1,reactions:new UC,rejection:!1,state:0,value:void 0})}).prototype=CC(eI,"then",(function(e,t){var n=XC(this),r=iI(jC(this,QC));return n.parent=!0,r.ok=!RC(e)||e,r.fail=RC(t)&&t,r.domain=EC?rI.domain:void 0,0==n.state?n.reactions.add(r):BC((function(){uI(r,n)})),r.promise})),kC=function(){var e=new xC,t=XC(e);this.promise=e,this.resolve=gI(yI,t),this.reject=gI(mI,t)},HC.f=iI=function(e){return e===QC||void 0===e?new kC(e):aI(e)},RC(WC)&&JC!==Object.prototype)){SC=JC.then,ZC||CC(JC,"then",(function(e,t){var n=this;return new QC((function(e,t){OC(SC,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete JC.constructor}catch(e){}IC&&IC(JC,eI)}TC({global:!0,constructor:!0,wrap:!0,forced:qC},{Promise:QC}),PC(QC,GC,!1),MC(GC);var _I={},bI=_I,vI=jh("iterator"),wI=Array.prototype,xI=lm,kI=yp,SI=_I,TI=jh("iterator"),EI=function(e){if(null!=e)return kI(e,TI)||kI(e,"@@iterator")||SI[xI(e)]},AI=rp,OI=gp,CI=ep,II=dp,PI=EI,MI=TypeError,LI=rp,RI=ep,NI=yp,DI=ym,jI=rp,FI=ep,BI=dp,zI=function(e){return void 0!==e&&(bI.Array===e||wI[vI]===e)},$I=Pm,UI=ip,VI=function(e,t){var n=arguments.length<2?PI(e):t;if(OI(n))return CI(AI(n,e));throw MI(II(e)+" is not iterable")},WI=EI,HI=function(e,t,n){var r,i;RI(e);try{if(!(r=NI(e,"return"))){if("throw"===t)throw n;return n}r=LI(r,e)}catch(e){i=!0,r=e}if("throw"===t)throw n;if(i)throw r;return RI(r),n},GI=TypeError,qI=function(e,t){this.stopped=e,this.result=t},KI=qI.prototype,ZI=function(e,t,n){var r,i,a,o,s,l,u,c=n&&n.that,d=!(!n||!n.AS_ENTRIES),f=!(!n||!n.IS_ITERATOR),h=!(!n||!n.INTERRUPTED),p=DI(t,c),g=function(e){return r&&HI(r,"normal",e),new qI(!0,e)},m=function(e){return d?(FI(e),h?p(e[0],e[1],g):p(e[0],e[1])):h?p(e,g):p(e)};if(f)r=e;else{if(!(i=WI(e)))throw GI(BI(e)+" is not iterable");if(zI(i)){for(a=0,o=$I(e);o>a;a++)if((s=m(e[a]))&&UI(KI,s))return s;return new qI(!1)}r=VI(e,i)}for(l=r.next;!(u=jI(l,r)).done;){try{s=m(u.value)}catch(e){HI(r,"throw",e)}if("object"==typeof s&&s&&UI(KI,s))return s}return new qI(!1)},XI=jh("iterator"),YI=!1;try{var JI=0,QI={next:function(){return{done:!!JI++}},return:function(){YI=!0}};QI[XI]=function(){return this},Array.from(QI,(function(){throw 2}))}catch(e){}var eP=iC,tP=function(e,t){if(!t&&!YI)return!1;var n=!1;try{var r={};r[XI]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},nP=_C.CONSTRUCTOR||!tP((function(e){eP.all(e).then(void 0,(function(){}))})),rP=rp,iP=gp,aP=bC,oP=tC,sP=ZI;wA({target:"Promise",stat:!0,forced:nP},{all:function(e){var t=this,n=aP.f(t),r=n.resolve,i=n.reject,a=oP((function(){var n=iP(t.resolve),a=[],o=0,s=1;sP(e,(function(e){var l=o++,u=!1;s++,rP(n,t,e).then((function(e){u||(u=!0,a[l]=e,--s||r(a))}),i)})),--s||r(a)}));return a.error&&i(a.value),n.promise}});var lP=wA,uP=_C.CONSTRUCTOR,cP=iC,dP=ph,fP=ch,hP=Yg,pP=cP&&cP.prototype;if(lP({target:"Promise",proto:!0,forced:uP,real:!0},{catch:function(e){return this.then(void 0,e)}}),fP(cP)){var gP=dP("Promise").prototype.catch;pP.catch!==gP&&hP(pP,"catch",gP,{unsafe:!0})}var mP=rp,yP=gp,_P=bC,bP=tC,vP=ZI;wA({target:"Promise",stat:!0,forced:nP},{race:function(e){var t=this,n=_P.f(t),r=n.reject,i=bP((function(){var i=yP(t.resolve);vP(e,(function(e){mP(i,t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var wP=rp,xP=bC;wA({target:"Promise",stat:!0,forced:_C.CONSTRUCTOR},{reject:function(e){var t=xP.f(this);return wP(t.reject,void 0,e),t.promise}});var kP=ep,SP=Vh,TP=bC,EP=wA,AP=_C.CONSTRUCTOR,OP=function(e,t){if(kP(e),SP(t)&&t.constructor===e)return t;var n=TP.f(e);return(0,n.resolve)(t),n.promise};ph("Promise"),EP({target:"Promise",stat:!0,forced:AP},{resolve:function(e){return OP(this,e)}});var CP={exports:{}},IP=hi.includes;Cr({target:"Array",proto:!0,forced:pe((function(){return!Array(1).includes()}))},{includes:function(e){return IP(this,e,arguments.length>1?arguments[1]:void 0)}});var PP=fx("Array").includes,MP=tt,LP=Ve,RP=hn("match"),NP=function(e){var t;return MP(e)&&(void 0!==(t=e[RP])?!!t:"RegExp"==LP(e))},DP=TypeError,jP=hn("match"),FP=Cr,BP=function(e){if(NP(e))throw DP("The method doesn't accept regular expressions");return e},zP=Xe,$P=io,UP=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[jP]=!1,"/./"[e](t)}catch(e){}}return!1},VP=Ee("".indexOf);FP({target:"String",proto:!0,forced:!UP("includes")},{includes:function(e){return!!~VP($P(zP(this)),$P(BP(e)),arguments.length>1?arguments[1]:void 0)}});var WP=fx("String").includes,HP=lt,GP=PP,qP=WP,KP=Array.prototype,ZP=String.prototype,XP=function(e){var t=e.includes;return e===KP||HP(KP,e)&&t===KP.includes?GP:"string"==typeof e||e===ZP||HP(ZP,e)&&t===ZP.includes?qP:t};!function(e){e.exports=XP}(CP);var YP=ce(CP.exports),JP={exports:{}},QP="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",eM=Xe,tM=io,nM=Ee("".replace),rM="[\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]",iM=RegExp("^"+rM+rM+"*"),aM=RegExp(rM+rM+"*$"),oM=function(e){return function(t){var n=tM(eM(t));return 1&e&&(n=nM(n,iM,"")),2&e&&(n=nM(n,aM,"")),n}},sM={start:oM(1),end:oM(2),trim:oM(3)},lM=he,uM=pe,cM=Ee,dM=io,fM=sM.trim,hM=QP,pM=lM.parseInt,gM=lM.Symbol,mM=gM&&gM.iterator,yM=/^[+-]?0x/i,_M=cM(yM.exec),bM=8!==pM(hM+"08")||22!==pM(hM+"0x16")||mM&&!uM((function(){pM(Object(mM))}))?function(e,t){var n=fM(dM(e));return pM(n,t>>>0||(_M(yM,n)?16:10))}:pM;Cr({global:!0,forced:parseInt!=bM},{parseInt:bM});var vM=nt.parseInt;!function(e){e.exports=vM}(JP);var wM=ce(JP.exports),xM=function(e){var t=e.width,n=e.children;return a.default.createElement("div",{className:"Carousel-item",style:{width:t}},n)},kM=function(e,t){e.style.transform=t,e.style.webkitTransform=t},SM=function(e,t){e.style.transition=t,e.style.webkitTransition=t},TM={passiveListener:function(){var e=!1;try{var t=qv({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e},smoothScroll:function(){return"scrollBehavior"in document.documentElement.style},touch:function(){return"ontouchstart"in window}};function EM(e){return TM[e]()}var AM=["TEXTAREA","OPTION","INPUT","SELECT"],OM=EM("touch"),CM=a.default.forwardRef((function(e,n){var r,i,o,s=e.className,u=e.startIndex,c=void 0===u?0:u,d=e.draggable,f=void 0===d||d,h=e.duration,p=void 0===h?300:h,g=e.easing,m=void 0===g?"ease":g,y=e.threshold,_=void 0===y?20:y,b=e.clickDragThreshold,v=void 0===b?10:b,w=e.loop,x=void 0===w||w,k=e.rtl,S=void 0!==k&&k,T=e.autoPlay,E=void 0===T?e.autoplay||!1:T,A=e.interval,O=void 0===A?e.autoplaySpeed||4e3:A,C=e.dots,I=void 0===C?e.indicators||!0:C,P=e.onChange,M=e.children,L=a.default.Children.count(M),R="".concat(100/L,"%"),N=t.useRef(null),D=t.useRef(null),j=t.useRef(null),F=t.useRef({first:!0,wrapWidth:0,hover:!1,startX:0,endX:0,startY:0,canMove:null,pressDown:!1}),B=t.useCallback((function(e){return x?e%L:Math.max(0,Math.min(e,L-1))}),[L,x]),z=xx(t.useState(B(c)),2),$=z[0],U=z[1],V=xx(t.useState(!1),2),W=V[0],H=V[1],G=t.useCallback((function(){var e;SM(D.current,Ux(e="transform ".concat(p,"ms ")).call(e,m))}),[p,m]),q=function(){SM(D.current,"transform 0s")},K=function(e){kM(D.current,"translate3d(".concat(e,"px, 0, 0)"))},Z=t.useCallback((function(e,t){var n=(S?1:-1)*(x?e+1:e)*F.current.wrapWidth;t?requestAnimationFrame((function(){requestAnimationFrame((function(){G(),K(n)}))})):K(n)}),[G,x,S]),X=t.useCallback((function(e){if(!(L<=1)){var t=B(e);t!==$&&U(t)}}),[$,L,B]),Y=t.useCallback((function(){if(!(L<=1)){var e=$-1;if(x){if(e<0){var t=F.current,n=(S?1:-1)*(L+1)*t.wrapWidth,r=f?t.endX-t.startX:0;q(),K(n+r),e=L-1}}else e=Math.max(e,0);e!==$&&U(e)}}),[$,L,f,x,S]),J=t.useCallback((function(){if(!(L<=1)){var e=$+1;if(x){if(e>L-1){e=0;var t=F.current,n=f?t.endX-t.startX:0;q(),K(n)}}else e=Math.min(e,L-1);e!==$&&U(e)}}),[$,L,f,x]),Q=t.useCallback((function(){E&&!F.current.hover&&(j.current=setTimeout((function(){G(),J()}),O))}),[E,O,G,J]),ee=function(){clearTimeout(j.current)},te=function(){Z($,!0),Q()},ne=function(){var e=F.current,t=(S?-1:1)*(e.endX-e.startX),n=Math.abs(t),r=t>0&&$-1<0;r||t<0&&$+1>L-1?x?r?Y():J():te():t>0&&n>_&&L>1?Y():t<0&&n>_&&L>1?J():te()},re=function(){var e=F.current;e.startX=0,e.endX=0,e.startY=0,e.canMove=null,e.pressDown=!1},ie=function(e){if(!YP(AM).call(AM,e.target.nodeName)){e.preventDefault(),e.stopPropagation();var t="touches"in e?e.touches[0]:e,n=F.current;n.pressDown=!0,n.startX=t.pageX,n.startY=t.pageY,ee()}},ae=function(e){e.stopPropagation();var t="touches"in e?e.touches[0]:e,n=F.current;if(n.pressDown){if("touches"in e&&(null===n.canMove&&(n.canMove=Math.abs(n.startY-t.pageY)<Math.abs(n.startX-t.pageX)),!n.canMove))return;e.preventDefault(),q(),n.endX=t.pageX;var r=(x?$+1:$)*n.wrapWidth,i=n.endX-n.startX;!W&&Math.abs(i)>v&&H(!0),K(S?r+i:i-r)}},oe=function(e){e.stopPropagation();var t=F.current;t.pressDown=!1,H(!1),G(),t.endX?ne():Q(),re()},se=function(){F.current.hover=!0,ee()},le=function(e){var t=F.current;t.hover=!1,t.pressDown&&(t.pressDown=!1,t.endX=e.pageX,G(),ne(),re()),Q()},ue=function(e){var t=e.currentTarget.dataset.slideTo;if(t){var n=wM(t,10);X(n)}e.preventDefault()};return t.useImperativeHandle(n,(function(){return{goTo:X,prev:Y,next:J}}),[X,Y,J]),t.useEffect((function(){function e(){F.current.wrapWidth=N.current.offsetWidth,Z($)}return F.current.first&&e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[$,Z]),t.useEffect((function(){P&&!F.current.first&&P($)}),[$,P]),t.useEffect((function(){F.current.first?(Z($),F.current.first=!1):Z($,!0)}),[$,Z]),t.useEffect((function(){return Q(),function(){ee()}}),[E,$,Q]),o=f?OM?{onTouchStart:ie,onTouchMove:ae,onTouchEnd:oe}:{onMouseDown:ie,onMouseMove:ae,onMouseUp:oe,onMouseEnter:se,onMouseLeave:le}:{onMouseEnter:se,onMouseLeave:le},a.default.createElement("div",lS({className:l("Carousel",{"Carousel--draggable":f,"Carousel--rtl":S,"Carousel--dragging":W},s),ref:N},o),a.default.createElement("div",{className:"Carousel-inner",style:{width:"".concat(x?L+2:L,"00%")},ref:D},x&&a.default.createElement(xM,{width:R},a.default.Children.toArray(M)[L-1]),Nx(r=a.default.Children).call(r,M,(function(e,t){return a.default.createElement(xM,{width:R,key:t},e)})),x&&a.default.createElement(xM,{width:R},a.default.Children.toArray(M)[0])),I&&a.default.createElement("ol",{className:"Carousel-dots"},Nx(i=a.default.Children).call(i,M,(function(e,t){return a.default.createElement("li",{key:t},a.default.createElement("button",{className:l("Carousel-dot",{active:$===t}),type:"button","aria-label":"Go to slide ".concat(t+1),"data-slide-to":t,onClick:ue}))}))))})),IM=["className","label","checked","disabled","onChange"],PM=function(e){var t=e.className,n=e.label,r=e.checked,i=e.disabled,o=e.onChange,s=RS(e,IM);return a.default.createElement("label",{className:l("Checkbox",t,{"Checkbox--checked":r,"Checkbox--disabled":i})},a.default.createElement("input",lS({type:"checkbox",className:"Checkbox-input",checked:r,disabled:i,onChange:o},s)),a.default.createElement("span",{className:"Checkbox-text"},n))},MM=["children","onClick","mouseEvent"],LM=document,RM=LM.documentElement,NM=function(e){var n=e.children,r=e.onClick,i=e.mouseEvent,o=void 0===i?"mouseup":i,s=RS(e,MM),l=t.useRef(null);function u(e){l.current&&RM.contains(e.target)&&!l.current.contains(e.target)&&r(e)}return t.useEffect((function(){return o&&LM.addEventListener(o,u),function(){LM.removeEventListener(o,u)}})),a.default.createElement("div",lS({ref:l},s),n)},DM=["className","position","children"],jM=["className","theme","children"],FM=a.default.createContext(""),BM=["children"],zM=function(e){var t=e.children,n=RS(e,BM);return a.default.createElement("label",lS({className:"Label"},n),t)},$M=["children"],UM=function(e){var t=e.children,n=RS(e,$M);return a.default.createElement("div",lS({className:"HelpText"},n),t)},VM=["children"],WM=["className","icon","img"],HM=function(e){var t=e.className,n=e.icon,r=e.img,i=RS(e,WM);return a.default.createElement(WT,lS({className:l("IconBtn",t)},i),n&&a.default.createElement($T,{type:n}),!n&&r&&a.default.createElement("img",{src:r,alt:""}))},GM=["className","src","lazy","fluid","children"],qM=a.default.forwardRef((function(e,n){var r=e.className,i=e.src,o=e.lazy,s=e.fluid;e.children;var u=RS(e,GM),c=xx(t.useState(""),2),d=c[0],f=c[1],h=If(n),p=t.useRef(""),g=t.useRef(!1);return t.useEffect((function(){if(o){var e=new IntersectionObserver((function(t){var n=xx(t,1)[0];n.isIntersecting&&(f(p.current),g.current=!0,e.unobserve(n.target))}));return h.current&&e.observe(h.current),function(){e.disconnect()}}}),[h,o]),t.useEffect((function(){p.current=i,f(o&&!g.current?"":i)}),[o,i]),a.default.createElement("img",lS({className:l("Image",{"Image--fluid":s},r),src:d,alt:"",ref:h},u))}));function KM(e){return e.scrollHeight-e.scrollTop-e.offsetHeight}var ZM=["className","disabled","distance","children","onLoadMore","onScroll"],XM=a.default.forwardRef((function(e,t){var n=e.className,r=e.disabled,i=e.distance,o=void 0===i?0:i,s=e.children,u=e.onLoadMore,c=e.onScroll,d=RS(e,ZM),f=If(t);return a.default.createElement("div",lS({className:l("InfiniteScroll",n),role:"feed",onScroll:r?void 0:function(e){c&&c(e);var t=f.current;t&&KM(t)<=o&&u()},ref:f},d),s)})),YM=ch,JM=Vh,QM=CA,eL=Xf(1..valueOf),tL=Jf,nL=Qx,rL=Xf("".replace),iL="[\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]",aL=RegExp("^"+iL+iL+"*"),oL=RegExp(iL+iL+"*$"),sL=function(e){return function(t){var n=nL(tL(t));return 1&e&&(n=rL(n,aL,"")),2&e&&(n=rL(n,oL,"")),n}},lL={start:sL(1),end:sL(2),trim:sL(3)},uL=$h,cL=Mf,dL=Xf,fL=hA,hL=Yg,pL=ih,gL=function(e,t,n){var r,i;return QM&&YM(r=t.constructor)&&r!==n&&JM(i=r.prototype)&&i!==n.prototype&&QM(e,i),e},mL=ip,yL=up,_L=Cp,bL=Vf,vL=TE.f,wL=lE.f,xL=zh.f,kL=eL,SL=lL.trim,TL="Number",EL=cL.Number,AL=EL.prototype,OL=cL.TypeError,CL=dL("".slice),IL=dL("".charCodeAt),PL=function(e){var t=_L(e,"number");return"bigint"==typeof t?t:ML(t)},ML=function(e){var t,n,r,i,a,o,s,l,u=_L(e,"number");if(yL(u))throw OL("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=SL(u),43===(t=IL(u,0))||45===t){if(88===(n=IL(u,2))||120===n)return NaN}else if(48===t){switch(IL(u,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u}for(o=(a=CL(u,2)).length,s=0;s<o;s++)if((l=IL(a,s))<48||l>i)return NaN;return parseInt(a,r)}return+u};if(fL(TL,!EL(" 0o1")||!EL("0b1")||EL("+0x1"))){for(var LL,RL=function(e){var t=arguments.length<1?0:EL(PL(e)),n=this;return mL(AL,n)&&bL((function(){kL(n)}))?gL(Object(t),n,RL):t},NL=uL?vL(EL):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),DL=0;NL.length>DL;DL++)pL(EL,LL=NL[DL])&&!pL(RL,LL)&&xL(RL,LL,wL(EL,LL));RL.prototype=AL,AL.constructor=RL,hL(cL,TL,RL,{constructor:!0})}var jL=Vf,FL=Mf.RegExp,BL=jL((function(){var e=FL("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),zL=BL||jL((function(){return!FL("a","y").sticky})),$L={BROKEN_CARET:BL||jL((function(){var e=FL("^r","gy");return e.lastIndex=2,null!=e.exec("str")})),MISSED_STICKY:zL,UNSUPPORTED_Y:BL},UL={},VL=zE,WL=$E,HL=Object.keys||function(e){return VL(e,WL)},GL=$h,qL=Xh,KL=zh,ZL=ep,XL=gE,YL=HL;UL.f=GL&&!qL?Object.defineProperties:function(e,t){ZL(e);for(var n,r=XL(t),i=YL(t),a=i.length,o=0;a>o;)KL.f(e,n=i[o++],r[n]);return e};var JL,QL=ep,eR=UL,tR=$E,nR=mg,rR=YA,iR=qh,aR=gg("IE_PROTO"),oR=function(){},sR=function(e){return"<script>"+e+"<\/script>"},lR=function(e){e.write(sR("")),e.close();var t=e.parentWindow.Object;return e=null,t},uR=function(){try{JL=new ActiveXObject("htmlfile")}catch(e){}var e,t;uR="undefined"!=typeof document?document.domain&&JL?lR(JL):((t=iR("iframe")).style.display="none",rR.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(sR("document.F=Object")),e.close(),e.F):lR(JL);for(var n=tR.length;n--;)delete uR.prototype[tR[n]];return uR()};nR[aR]=!0;var cR,dR,fR=Object.create||function(e,t){var n;return null!==e?(oR.prototype=QL(e),n=new oR,oR.prototype=null,n[aR]=e):n=uR(),void 0===t?n:eR.f(n,t)},hR=Vf,pR=Mf.RegExp,gR=hR((function(){var e=pR(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)})),mR=Vf,yR=Mf.RegExp,_R=mR((function(){var e=yR("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})),bR=rp,vR=Xf,wR=Qx,xR=tk,kR=$L,SR=Lf.exports,TR=fR,ER=Rg.get,AR=gR,OR=_R,CR=SR("native-string-replace",String.prototype.replace),IR=RegExp.prototype.exec,PR=IR,MR=vR("".charAt),LR=vR("".indexOf),RR=vR("".replace),NR=vR("".slice),DR=(dR=/b*/g,bR(IR,cR=/a/,"a"),bR(IR,dR,"a"),0!==cR.lastIndex||0!==dR.lastIndex),jR=kR.BROKEN_CARET,FR=void 0!==/()??/.exec("")[1];(DR||FR||jR||AR||OR)&&(PR=function(e){var t,n,r,i,a,o,s,l=this,u=ER(l),c=wR(e),d=u.raw;if(d)return d.lastIndex=l.lastIndex,t=bR(PR,d,c),l.lastIndex=d.lastIndex,t;var f=u.groups,h=jR&&l.sticky,p=bR(xR,l),g=l.source,m=0,y=c;if(h&&(p=RR(p,"y",""),-1===LR(p,"g")&&(p+="g"),y=NR(c,l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==MR(c,l.lastIndex-1))&&(g="(?: "+g+")",y=" "+y,m++),n=new RegExp("^(?:"+g+")",p)),FR&&(n=new RegExp("^"+g+"$(?!\\s)",p)),DR&&(r=l.lastIndex),i=bR(IR,h?n:l,y),h?i?(i.input=NR(i.input,m),i[0]=NR(i[0],m),i.index=l.lastIndex,l.lastIndex+=i[0].length):l.lastIndex=0:DR&&i&&(l.lastIndex=l.global?i.index+i[0].length:r),FR&&i&&i.length>1&&bR(CR,i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&f)for(i.groups=o=TR(null),a=0;a<f.length;a++)o[(s=f[a])[0]]=i[s[1]];return i});var BR=PR;wA({target:"RegExp",proto:!0,forced:/./.exec!==BR},{exec:BR});var zR=Xf,$R=Yg,UR=BR,VR=Vf,WR=jh,HR=dg,GR=WR("species"),qR=RegExp.prototype,KR=function(e,t,n,r){var i=WR(e),a=!VR((function(){var t={};return t[i]=function(){return 7},7!=""[e](t)})),o=a&&!VR((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[GR]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return t=!0,null},n[i](""),!t}));if(!a||!o||n){var s=zR(/./[i]),l=t(i,""[e],(function(e,t,n,r,i){var o=zR(e),l=t.exec;return l===UR||l===qR.exec?a&&!i?{done:!0,value:s(t,n,r)}:{done:!0,value:o(n,t,r)}:{done:!1}}));$R(String.prototype,e,l[0]),$R(qR,i,l[1])}r&&HR(qR[i],"sham",!0)},ZR=Xf,XR=Em,YR=Qx,JR=Jf,QR=ZR("".charAt),eN=ZR("".charCodeAt),tN=ZR("".slice),nN=function(e){return function(t,n){var r,i,a=YR(JR(t)),o=XR(n),s=a.length;return o<0||o>=s?e?"":void 0:(r=eN(a,o))<55296||r>56319||o+1===s||(i=eN(a,o+1))<56320||i>57343?e?QR(a,o):r:e?tN(a,o,o+2):i-56320+(r-55296<<10)+65536}},rN=(nN(!1),nN(!0)),iN=function(e,t,n){return t+(n?rN(e,t).length:1)},aN=Xf,oN=th,sN=Math.floor,lN=aN("".charAt),uN=aN("".replace),cN=aN("".slice),dN=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,fN=/\$([$&'`]|\d{1,2})/g,hN=rp,pN=ep,gN=ch,mN=tm,yN=BR,_N=TypeError,bN=function(e,t){var n=e.exec;if(gN(n)){var r=hN(n,e,t);return null!==r&&pN(r),r}if("RegExp"===mN(e))return hN(yN,e,t);throw _N("RegExp#exec called on incompatible receiver")},vN=XA,wN=rp,xN=Xf,kN=KR,SN=Vf,TN=ep,EN=ch,AN=Em,ON=Cm,CN=Qx,IN=Jf,PN=iN,MN=yp,LN=function(e,t,n,r,i,a){var o=n+e.length,s=r.length,l=fN;return void 0!==i&&(i=oN(i),l=dN),uN(a,l,(function(a,l){var u;switch(lN(l,0)){case"$":return"$";case"&":return e;case"`":return cN(t,0,n);case"'":return cN(t,o);case"<":u=i[cN(l,1,-1)];break;default:var c=+l;if(0===c)return a;if(c>s){var d=sN(c/10);return 0===d?a:d<=s?void 0===r[d-1]?lN(l,1):r[d-1]+lN(l,1):a}u=r[c-1]}return void 0===u?"":u}))},RN=bN,NN=jh("replace"),DN=Math.max,jN=Math.min,FN=xN([].concat),BN=xN([].push),zN=xN("".indexOf),$N=xN("".slice),UN="$0"==="a".replace(/./,"$0"),VN=!!/./[NN]&&""===/./[NN]("a","$0");kN("replace",(function(e,t,n){var r=VN?"$":"$0";return[function(e,n){var r=IN(this),i=null==e?void 0:MN(e,NN);return i?wN(i,e,r,n):wN(t,CN(r),e,n)},function(e,i){var a=TN(this),o=CN(e);if("string"==typeof i&&-1===zN(i,r)&&-1===zN(i,"$<")){var s=n(t,a,o,i);if(s.done)return s.value}var l=EN(i);l||(i=CN(i));var u=a.global;if(u){var c=a.unicode;a.lastIndex=0}for(var d=[];;){var f=RN(a,o);if(null===f)break;if(BN(d,f),!u)break;""===CN(f[0])&&(a.lastIndex=PN(o,ON(a.lastIndex),c))}for(var h,p="",g=0,m=0;m<d.length;m++){for(var y=CN((f=d[m])[0]),_=DN(jN(AN(f.index),o.length),0),b=[],v=1;v<f.length;v++)BN(b,void 0===(h=f[v])?h:String(h));var w=f.groups;if(l){var x=FN([y],b,_,o);void 0!==w&&BN(x,w);var k=CN(vN(i,void 0,x))}else k=LN(y,o,_,b,w,i);_>=g&&(p+=$N(o,g,_)+k,g=_+y.length)}return p+$N(o,g)}]}),!!SN((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!UN||VN);var WN=["className","type","variant","value","placeholder","rows","minRows","maxRows","maxLength","showCount","multiline","autoSize","onChange"],HN=a.default.forwardRef((function(e,n){var r=e.className,i=e.type,o=void 0===i?"text":i,s=e.variant,u=e.value,c=e.placeholder,d=e.rows,f=void 0===d?1:d,h=e.minRows,p=void 0===h?f:h,g=e.maxRows,m=void 0===g?5:g,y=e.maxLength,_=e.showCount,b=void 0===_?!!y:_,v=e.multiline,w=e.autoSize,x=e.onChange,k=RS(e,WN),S=f;S<p?S=p:S>m&&(S=m);var T=xx(t.useState(S),2),E=T[0],A=T[1],O=xx(t.useState(21),2),C=O[0],I=O[1],P=If(n),M=t.useContext(FM),L=s||("light"===M?"flushed":"outline"),R=v||w||f>1?"textarea":"input";t.useEffect((function(){if(P.current){var e=getComputedStyle(P.current,null).lineHeight,t=Number(e.replace("px",""));t!==C&&I(t)}}),[P,C]);var N=t.useCallback((function(){if(w&&P.current){var e=P.current,t=e.rows;e.rows=p,c&&(e.placeholder="");var n=~~(e.scrollHeight/C);n===t&&(e.rows=n),n>=m&&(e.rows=m,e.scrollTop=e.scrollHeight),A(n<m?n:m),c&&(e.placeholder=c)}}),[w,P,C,m,p,c]);t.useEffect((function(){""===u?A(S):N()}),[S,N,u]);var D=t.useCallback((function(e){if(N(),x){var t=e.target.value,n=y&&t.length>y?t.substr(0,y):t;x(n,e)}}),[y,x,N]),j=a.default.createElement(R,lS({className:l("Input","Input--".concat(L),r),type:o,value:u,placeholder:c,maxLength:y,ref:P,rows:E,onChange:D},k));return b?a.default.createElement("div",{className:l("InputWrapper",{"has-counter":b})},j,b&&a.default.createElement("div",{className:"Input-counter"},function(e,t){var n;return Ux(n="".concat("".concat(e).length)).call(n,t?"/".concat(t):"")}(u,y))):j})),GN=["className","as","content","rightIcon","children","onClick"],qN=Vh,KN=tm,ZN=jh("match"),XN=Mp,YN=zh,JN=lg,QN=CE,eD=Pm,tD=function(e,t,n){var r=XN(t);r in e?YN.f(e,r,JN(0,n)):e[r]=n},nD=Array,rD=Math.max,iD=XA,aD=rp,oD=Xf,sD=KR,lD=function(e){var t;return qN(e)&&(void 0!==(t=e[ZN])?!!t:"RegExp"==KN(e))},uD=ep,cD=Jf,dD=HA,fD=iN,hD=Cm,pD=Qx,gD=yp,mD=function(e,t,n){for(var r=eD(e),i=QN(t,r),a=QN(void 0===n?r:n,r),o=nD(rD(a-i,0)),s=0;i<a;i++,s++)tD(o,s,e[i]);return o.length=s,o},yD=bN,_D=BR,bD=Vf,vD=$L.UNSUPPORTED_Y,wD=4294967295,xD=Math.min,kD=[].push,SD=oD(/./.exec),TD=oD(kD),ED=oD("".slice),AD=!bD((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));sD("split",(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=pD(cD(this)),i=void 0===n?wD:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!lD(e))return aD(t,r,e,i);for(var a,o,s,l=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),c=0,d=new RegExp(e.source,u+"g");(a=aD(_D,d,r))&&!((o=d.lastIndex)>c&&(TD(l,ED(r,c,a.index)),a.length>1&&a.index<r.length&&iD(kD,l,mD(a,1)),s=a[0].length,c=o,l.length>=i));)d.lastIndex===a.index&&d.lastIndex++;return c===r.length?!s&&SD(d,"")||TD(l,""):TD(l,ED(r,c)),l.length>i?mD(l,0,i):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:aD(t,this,e,n)}:t,[function(t,n){var i=cD(this),a=null==t?void 0:gD(t,e);return a?aD(a,t,i,n):aD(r,pD(i),t,n)},function(e,i){var a=uD(this),o=pD(e),s=n(r,a,o,i,r!==t);if(s.done)return s.value;var l=dD(a,RegExp),u=a.unicode,c=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(vD?"g":"y"),d=new l(vD?"^(?:"+a.source+")":a,c),f=void 0===i?wD:i>>>0;if(0===f)return[];if(0===o.length)return null===yD(d,o)?[o]:[];for(var h=0,p=0,g=[];p<o.length;){d.lastIndex=vD?0:p;var m,y=yD(d,vD?ED(o,p):o);if(null===y||(m=xD(hD(d.lastIndex+(vD?p:0)),o.length))===h)p=fD(o,p,u);else{if(TD(g,ED(o,h,p)),g.length===f)return g;for(var _=1;_<=y.length-1;_++)if(TD(g,y[_]),g.length===f)return g;p=h=m}}return TD(g,ED(o,h)),g}]}),!AD,vD);var OD={BackBottom:{newMsgOne:"{n} \u0631\u0633\u0627\u0644\u0629 \u062c\u062f\u064a\u062f\u0629",newMsgOther:"{n} \u0631\u0633\u0627\u0644\u0629 \u062c\u062f\u064a\u062f\u0629",bottom:"\u0627\u0644\u0623\u0633\u0641\u0644"},Time:{weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),formats:{LT:"HH:mm",lll:"YYYY/M/D HH:mm",WT:"HH:mm dddd",YT:"HH:mm \u0623\u0645\u0633"}},Composer:{send:"\u0625\u0631\u0633\u0627\u0644"},SendConfirm:{title:"\u0625\u0631\u0633\u0627\u0644 \u0635\u0648\u0631\u0629",send:"\u0623\u0631\u0633\u0644",cancel:"\u0625\u0644\u063a\u0627\u0621"},RateActions:{up:"\u0627\u0644\u062a\u0635\u0648\u064a\u062a",down:"\u062a\u0635\u0648\u064a\u062a \u0633\u0644\u0628\u064a"},Recorder:{hold2talk:"\u0623\u0633\u062a\u0645\u0631 \u0628\u0627\u0644\u0636\u063a\u0637 \u0644\u062a\u062a\u062d\u062f\u062b",release2send:"\u062d\u0631\u0631 \u0644\u0644\u0625\u0631\u0633\u0627\u0644",releaseOrSwipe:"\u062d\u0631\u0631 \u0644\u0644\u0625\u0631\u0633\u0627\u0644 \u060c \u0627\u0633\u062d\u0628 \u0644\u0623\u0639\u0644\u0649 \u0644\u0644\u0625\u0644\u063a\u0627\u0621",release2cancel:"\u062d\u0631\u0631 \u0644\u0644\u0625\u0644\u063a\u0627\u0621"},Search:{search:"\u064a\u0628\u062d\u062b"}},CD={BackBottom:{newMsgOne:"{n} new message",newMsgOther:"{n} new messages",bottom:"Bottom"},Time:{weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),formats:{LT:"HH:mm",lll:"M/D/YYYY HH:mm",WT:"dddd HH:mm",YT:"Yesterday HH:mm"}},Composer:{send:"Send"},SendConfirm:{title:"Send photo",send:"Send",cancel:"Cancel"},RateActions:{up:"Up vote",down:"Down vote"},Recorder:{hold2talk:"Hold to Talk",release2send:"Release to Send",releaseOrSwipe:"Release to send, swipe up to cancel",release2cancel:"Release to cancel"},Search:{search:"Search"}},ID={"ar-EG":OD,"fr-FR":{BackBottom:{newMsgOne:"{n}\xa0nouveau message",newMsgOther:"{n}\xa0nouveau messages",bottom:"Fond"},Time:{weekdays:"Dimanche_Lundi_Mardi_Mercredi_Jeudi_Vendredi_Samedi".split("_"),formats:{LT:"HH:mm",lll:"D/M/YYYY HH:mm",WT:"dddd HH:mm",YT:"Hier HH:mm"}},Composer:{send:"Envoyer"},SendConfirm:{title:"Envoyer une photo",send:"Envoyer",cancel:"Annuler"},RateActions:{up:"Voter pour",down:"Vote n\xe9gatif"},Recorder:{hold2talk:"Tenir pour parler",release2send:"Lib\xe9rer pour envoyer",releaseOrSwipe:"Rel\xe2chez pour envoyer, balayez vers le haut pour annuler",release2cancel:"Rel\xe2cher pour annuler"},Search:{search:"Chercher"}},"en-US":CD,"zh-CN":{BackBottom:{newMsgOne:"{n}\u6761\u65b0\u6d88\u606f",newMsgOther:"{n}\u6761\u65b0\u6d88\u606f",bottom:"\u56de\u5230\u5e95\u90e8"},Time:{weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),formats:{LT:"HH:mm",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",WT:"dddd HH:mm",YT:"\u6628\u5929 HH:mm"}},Composer:{send:"\u53d1\u9001"},SendConfirm:{title:"\u53d1\u9001\u56fe\u7247",send:"\u53d1\u9001",cancel:"\u53d6\u6d88"},RateActions:{up:"\u8d5e\u540c",down:"\u53cd\u5bf9"},Recorder:{hold2talk:"\u6309\u4f4f \u8bf4\u8bdd",release2send:"\u677e\u5f00 \u53d1\u9001",releaseOrSwipe:"\u677e\u5f00\u53d1\u9001\uff0c\u4e0a\u6ed1\u53d6\u6d88",release2cancel:"\u677e\u5f00\u624b\u6307\uff0c\u53d6\u6d88\u53d1\u9001"},Search:{search:"\u641c\u7d22"}}};function PD(e,t){var n=ky(e);if(cv){var r=cv(e);t&&(r=Xx(r).call(r,(function(t){return xv(e,t).enumerable}))),n.push.apply(n,r)}return n}function MD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PD(Object(n),!0).forEach((function(t){Ax(e,t,n[t])})):Cv?Fv(e,Cv(n)):PD(Object(n)).forEach((function(t){qv(e,t,xv(n,t))}))}return e}var LD=a.default.createContext(void 0),RD="en-US",ND=function(e){var t=e.locale,n=e.locales,r=e.children;return a.default.createElement(LD.Provider,{value:{locale:t,locales:n}},r)};ND.defaultProps={locale:RD};var DD=function(e,n){var r=t.useContext(LD),i=r||{},a=i.locale,o=i.locales,s=a&&ID[a]||ID["en-US"],l=o?MD(MD({},s),o):s;return!r&&n?l=n:e&&(l=l[e]||{}),{locale:a,trans:function(e){return e?l[e]:l}}},jD=function(e){var t=e.className,n=e.content,r=e.action;return a.default.createElement("div",{className:l("Message SystemMessage",t)},a.default.createElement("div",{className:"SystemMessage-inner"},a.default.createElement("span",null,n),r&&a.default.createElement("a",{href:"javascript:;",onClick:r.onClick},r.text)))},FD=th,BD=Cp;wA({target:"Date",proto:!0,arity:1,forced:Vf((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(e){var t=FD(this),n=BD(t,"number");return"number"!=typeof n||isFinite(n)?t.toISOString():null}});var zD=rp;wA({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return zD(URL.prototype.toString,this)}});var $D=/YYYY|M|D|dddd|HH|mm/g,UD=864e5,VD=function(e){return(e<=9?"0":"")+e},WD=function(e){var t=new Date((new Date).setHours(0,0,0,0)).getTime()-e.getTime();return t<0?"LT":t<UD?"YT":t<6048e5?"WT":"lll"};function HD(e,t){var n=function(e){return e instanceof Date?e:new Date(e)}(e),r=t.formats[WD(n)],i={YYYY:"".concat(n.getFullYear()),M:"".concat(n.getMonth()+1),D:"".concat(n.getDate()),dddd:t.weekdays[n.getDay()],HH:VD(n.getHours()),mm:VD(n.getMinutes())};return r.replace($D,(function(e){return i[e]}))}var GD=function(e){var t=e.date,n=DD("Time").trans;return a.default.createElement("time",{className:"Time",dateTime:new Date(t).toJSON()},HD(t,n()))};function qD(){return a.default.createElement(BT,{type:"typing"},a.default.createElement("div",{className:"Typing","aria-busy":"true"},a.default.createElement("div",{className:"Typing-dot"}),a.default.createElement("div",{className:"Typing-dot"}),a.default.createElement("div",{className:"Typing-dot"})))}var KD=["renderMessageContent"],ZD=function(e){var t=e.renderMessageContent,n=void 0===t?function(){return null}:t,r=RS(e,KD),i=r.type,o=r.content,s=r.user,u=void 0===s?{}:s,c=r._id,d=r.position,f=void 0===d?"left":d,h=r.hasTime,p=void 0===h||h,g=r.createdAt,m=u.name,y=u.avatar;if("system"===i)return a.default.createElement(jD,{content:o.text,action:o.action});var _="right"===f||"left"===f;return a.default.createElement("div",{className:l("Message",f),"data-id":c,"data-type":i},p&&g&&a.default.createElement("div",{className:"Message-meta"},a.default.createElement(GD,{date:g})),a.default.createElement("div",{className:"Message-main"},_&&y&&a.default.createElement(NT,{src:y,alt:m,url:u.url}),a.default.createElement("div",{className:"Message-inner"},_&&m&&a.default.createElement("div",{className:"Message-author"},m),a.default.createElement("div",{className:"Message-content",role:"alert","aria-live":"assertive","aria-atomic":"false"},"typing"===i?a.default.createElement(qD,null):n(r)))))},XD=a.default.memo(ZD),YD=0,JD=function(){return YD++};function QD(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id-";return t.useRef(Ux(e="".concat(n)).call(e,JD())).current}var ej=function(e,t){(arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.body).classList[t?"add":"remove"](e)};function tj(){document.querySelector(".Modal")||document.querySelector(".Popup")||ej("S--modalOpen",!1)}var nj=function(e){var n,i,o=e.baseClass,s=e.active,u=e.className,c=e.title,d=e.showClose,f=void 0===d||d,h=e.autoFocus,p=void 0===h||h,g=e.backdrop,m=void 0===g||g,y=e.height,_=e.overflow,b=e.actions,v=e.vertical,w=void 0===v||v,x=e.btnVariant,k=e.bgColor,S=e.children,T=e.onBackdropClick,E=e.onClose,A=QD("modal-"),O=e.titleId||A,C=t.useRef(null),I=xk({active:s,ref:C}),P=I.didMount,M=I.isShow;if(t.useEffect((function(){setTimeout((function(){p&&C.current&&C.current.focus()}))}),[p]),t.useEffect((function(){M&&ej("S--modalOpen",M)}),[M]),t.useEffect((function(){s||P||tj()}),[s,P]),t.useEffect((function(){return function(){tj()}}),[]),!P)return null;var L="Popup"===o;return r.createPortal(a.default.createElement("div",{className:l(o,u,{active:M}),ref:C,tabIndex:-1},m&&a.default.createElement(jT,{active:M,onClick:!0===m?T||E:void 0}),a.default.createElement("div",{className:l("".concat(o,"-dialog"),{"pb-safe":L&&!b}),"data-bg-color":k,"data-height":L&&y?y:void 0,role:"dialog","aria-labelledby":O,"aria-modal":!0},a.default.createElement("div",{className:"".concat(o,"-content")},a.default.createElement("div",{className:"".concat(o,"-header")},a.default.createElement("h5",{className:"".concat(o,"-title"),id:O},c),f&&E&&a.default.createElement(HM,{className:"".concat(o,"-close"),icon:"close",size:"lg",onClick:E,"aria-label":"\u5173\u95ed"})),a.default.createElement("div",{className:l("".concat(o,"-body"),{overflow:_})},S),b&&a.default.createElement("div",{className:Ux(n=Ux(i="".concat(o,"-footer ")).call(i,o,"-footer--")).call(n,w?"v":"h"),"data-variant":x||"round"},Nx(b).call(b,(function(e){return a.default.createElement(WT,lS({size:"lg",block:L,variant:x},e,{key:e.label}))})))))),document.body)},rj=function(e){return a.default.createElement(nj,lS({baseClass:"Modal",btnVariant:!1===e.vertical?void 0:"outline"},e))},ij=["className"],aj=function(e){var t=e.className,n=e.title,r=e.logo,i=e.leftContent,o=e.rightContent,s=void 0===o?[]:o;return a.default.createElement("header",{className:l("Navbar",t)},a.default.createElement("div",{className:"Navbar-left"},i&&a.default.createElement(HM,lS({size:"lg"},i))),a.default.createElement("div",{className:"Navbar-main"},r?a.default.createElement("img",{className:"Navbar-logo",src:r,alt:n}):a.default.createElement("h2",{className:"Navbar-title"},n)),a.default.createElement("div",{className:"Navbar-right"},Nx(s).call(s,(function(e){return a.default.createElement(HM,lS({size:"lg"},e,{key:e.icon}))}))))},oj={exports:{}},sj=tt,lj=Math.floor;Cr({target:"Number",stat:!0},{isInteger:Number.isInteger||function(e){return!sj(e)&&isFinite(e)&&lj(e)===e}});var uj=nt.Number.isInteger;!function(e){e.exports=uj}(oj);var cj=ce(oj.exports),dj=["as","className","align","breakWord","truncate","children"],fj=function(e){var t=e.as,n=void 0===t?"div":t,r=e.className,i=e.align,o=e.breakWord,s=e.truncate,u=e.children,c=RS(e,dj),d=cj(s),f=l(i&&"Text--".concat(i),{"Text--break":o,"Text--truncate":!0===s,"Text--ellipsis":d},r),h=d?{WebkitLineClamp:s}:null;return a.default.createElement(n,lS({className:f,style:h},c),u)},hj=["className","price","currency","locale","original"],pj="Intl"in window&&"function"==typeof Intl.NumberFormat.prototype.formatToParts,gj=a.default.forwardRef((function(e,t){var n=e.className,r=e.price,i=e.currency,o=e.locale,s=e.original,u=RS(e,hj),c=[];if(!(c=o&&i&&pj?new Intl.NumberFormat(o,{style:"currency",currency:i}).formatToParts(r):void 0)){var d=xx("".concat(r).split("."),2),f=d[0],h=d[1];c=[{type:"currency",value:i},{type:"integer",value:f},{type:"decimal",value:h&&"."},{type:"fraction",value:h}]}return a.default.createElement("div",lS({className:l("Price",{"Price--original":s},n),ref:t},u),Nx(c).call(c,(function(e,t){return e.value?a.default.createElement("span",{className:"Price-".concat(e.type),key:t},e.value):null})))})),mj=["className","value","status","children"],yj=a.default.forwardRef((function(e,t){var n=e.className,r=e.value,i=e.status,o=e.children,s=RS(e,mj);return a.default.createElement("div",lS({className:l("Progress",i&&"Progress--".concat(i),n),ref:t},s),a.default.createElement("div",{className:"Progress-bar",role:"progressbar",style:{width:"".concat(r,"%")},"aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100},o))})),_j=requestAnimationFrame;function bj(e){var t=e.el,n=e.to,r=e.duration,i=void 0===r?300:r,a=e.x,o=0,s=a?"scrollLeft":"scrollTop",l=t[s],u=Math.round(i/16),c=(n-l)/u;_j?function e(){t[s]+=c,++o<u&&_j(e)}():t[s]=n}var vj=EM("passiveListener"),wj=!!vj&&{passive:!0},xj=!!vj&&{passive:!1},kj=a.default.forwardRef((function(e,n){var r=e.distance,i=void 0===r?30:r,o=e.loadingDistance,s=void 0===o?30:o,u=e.maxDistance,c=e.distanceRatio,d=void 0===c?2:c,f=e.loadMoreText,h=void 0===f?"\u70b9\u51fb\u52a0\u8f7d\u66f4\u591a":f,p=e.children,g=e.onScroll,m=e.onRefresh,y=e.renderIndicator,_=void 0===y?function(e){return"active"===e||"loading"===e?a.default.createElement($T,{className:"PullToRefresh-spinner",type:"spinner",spin:!0}):null}:y,b=t.useRef(null),v=t.useRef(null),w=xx(t.useState(0),2),x=w[0],k=w[1],S=xx(t.useState("pending"),2),T=S[0],E=S[1],A=xx(t.useState(!1),2),O=A[0],C=A[1],I=xx(t.useState(!e.onRefresh),2),P=I[0],M=I[1],L=t.useRef({}),R=t.useRef(T),N=t.useRef(),D=t.useRef(),j=!EM("touch");t.useEffect((function(){R.current=T}),[T]);var F=function(e){var t=v.current;t&&kM(t,"translate3d(0px,".concat(e,"px,0)"))},B=function(e){var t=e.y,n=e.animated,r=void 0===n||n,i=b.current;if(i){var a="100%"===t?i.scrollHeight-i.offsetHeight:t;r?bj({el:i,to:a,x:!1}):i.scrollTop=a}},z=t.useCallback((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).animated;B({y:"100%",animated:void 0===e||e})}),[]),$=t.useCallback((function(){k(0),E("pending"),F(0)}),[]),U=t.useCallback((function(){var e=b.current;if(e){E("loading");try{var t=e.scrollHeight;m().then((function(n){var r=function(){B({y:e.scrollHeight-t-50,animated:!1})};clearTimeout(N.current),clearTimeout(D.current),r(),N.current=setTimeout(r,150),D.current=setTimeout(r,250),$(),n&&n.noMore&&M(!0)}))}catch(e){$()}}}),[m,$]),V=function(e){L.current.startY=e.touches[0].clientY,L.current.canPull=b.current&&b.current.scrollTop<=0,L.current.canPull&&(E("pull"),C(!1))},W=t.useCallback((function(e){var t=e.touches[0].clientY,n=L.current,r=n.canPull,a=n.startY;if(r&&!(t<a)&&"loading"!==R.current){var o=(t-a)/d;u&&o>u&&(o=u),o>0&&(e.cancelable&&e.preventDefault(),e.stopPropagation(),F(o),k(o),E(o>=i?"active":"pull"))}}),[d,u,i]),H=t.useCallback((function(){C(!0),"active"===R.current?U():$()}),[U,$]);return t.useEffect((function(){var e=b.current;e&&!j&&(P?(e.removeEventListener("touchstart",V),e.removeEventListener("touchmove",W),e.removeEventListener("touchend",H),e.removeEventListener("touchcancel",H)):(e.addEventListener("touchstart",V,wj),e.addEventListener("touchmove",W,xj),e.addEventListener("touchend",H),e.addEventListener("touchcancel",H)))}),[P,H,W,j]),t.useEffect((function(){"loading"!==T||j||F(s)}),[s,T,j]),t.useImperativeHandle(n,(function(){return{scrollTo:B,scrollToEnd:z,wrapperRef:b}}),[z]),a.default.createElement("div",{className:"PullToRefresh",ref:b,onScroll:g},a.default.createElement("div",{className:"PullToRefresh-inner"},a.default.createElement("div",{className:l("PullToRefresh-content",{"PullToRefresh-transition":O}),ref:v},a.default.createElement("div",{className:"PullToRefresh-indicator"},_(T,x)),!P&&j&&a.default.createElement(JT,{className:"PullToRefresh-fallback",center:!0},_(T,i),a.default.createElement(WT,{className:"PullToRefresh-loadMore",variant:"text",onClick:U},h)),a.default.Children.only(p))))})),Sj={threshold:[0,.1]},Tj=function(e){var n=e.item,r=e.effect,i=e.children,o=e.onIntersect,s=t.useRef(null);return t.useEffect((function(){if(o){var e=new IntersectionObserver((function(t){var r=xx(t,1)[0];r.intersectionRatio>0&&(o(n,r)||e.unobserve(r.target))}),Sj);return s.current&&e.observe(s.current),function(){e.disconnect()}}}),[n,o]),a.default.createElement("div",{className:l("ScrollView-item",{"slide-in-right-item":"slide"===r,"A-fadeIn":"fade"===r}),ref:s},i)},Ej=["className","fullWidth","scrollX","effect","data","itemKey","renderItem","onIntersect","onScroll","children"],Aj=!EM("touch"),Oj=a.default.forwardRef((function(e,n){var r=e.className,i=e.fullWidth,o=e.scrollX,s=void 0===o||o,u=e.effect,c=void 0===u?"slide":u,d=e.data,f=e.itemKey,h=e.renderItem,p=e.onIntersect,g=e.onScroll,m=e.children,y=RS(e,Ej),_=t.useRef(null),b=t.useCallback((function(e,t){var n;return f&&(n="function"==typeof f?f(e,t):e[f]),n||t}),[f]);return t.useImperativeHandle(n,(function(){return{scrollTo:function(e){var t=e.x,n=e.y;null!=t&&(_.current.scrollLeft=t),null!=n&&(_.current.scrollTop=n)}}})),a.default.createElement("div",lS({className:l("ScrollView",{"ScrollView--fullWidth":i,"ScrollView--x":s,"ScrollView--hasControls":Aj},r),ref:n},y),Aj&&a.default.createElement(HM,{className:"ScrollView-control",icon:"chevron-left","aria-label":"Previous",onClick:function(){var e=_.current;e.scrollLeft-=e.offsetWidth}}),a.default.createElement("div",{className:"ScrollView-scroller",ref:_,onScroll:g},a.default.createElement("div",{className:"ScrollView-inner"},Nx(d).call(d,(function(e,t){return a.default.createElement(Tj,{item:e,effect:e.effect||c,onIntersect:p,key:b(e,t)},h(e,t))})),m?a.default.createElement(Tj,{item:{},effect:c,onIntersect:p},m):null)),Aj&&a.default.createElement(HM,{className:"ScrollView-control",icon:"chevron-right","aria-label":"Next",onClick:function(){var e=_.current;e.scrollLeft+=e.offsetWidth}}))})),Cj=function(e){var t=e.item,n=e.index,r=e.onClick;return a.default.createElement("button",{className:l("QuickReply",{new:t.isNew,highlight:t.isHighlight}),type:"button","data-code":t.code,"aria-label":"\u5feb\u6377\u77ed\u8bed: ".concat(t.name,"\uff0c\u53cc\u51fb\u53d1\u9001"),onClick:function(){r(t,n)}},a.default.createElement("div",{className:"QuickReply-inner"},t.icon&&a.default.createElement($T,{type:t.icon}),t.img&&a.default.createElement("img",{className:"QuickReply-img",src:t.img,alt:""}),a.default.createElement("span",null,t.name)))},Ij=function(e){var n=e.items,r=e.visible,i=e.onClick,o=e.onScroll,s=t.useRef(null),l=xx(t.useState(!!o),2),u=l[0],c=l[1];return t.useLayoutEffect((function(){var e;return s.current&&(c(!1),s.current.scrollTo({x:0,y:0}),e=setTimeout((function(){c(!0)}),500)),function(){clearTimeout(e)}}),[n]),n.length?a.default.createElement(Oj,{className:"QuickReplies",data:n,itemKey:"name",ref:s,"data-visible":r,onScroll:u?o:void 0,renderItem:function(e,t){return a.default.createElement(Cj,{item:e,index:t,onClick:i,key:e.name})}}):null};Ij.defaultProps={items:[],visible:!0};var Pj=a.default.memo(Ij),Mj=["className","label","checked","disabled","onChange"],Lj=function(e){var t=e.className,n=e.label,r=e.checked,i=e.disabled,o=e.onChange,s=RS(e,Mj);return a.default.createElement("label",{className:l("Radio",t,{"Radio--checked":r,"Radio--disabled":i})},a.default.createElement("input",lS({type:"radio",className:"Radio-input",checked:r,disabled:i,onChange:o},s)),a.default.createElement("span",{className:"Radio-text"},n))},Rj="up",Nj="down";le.addHook("beforeSanitizeAttributes",(function(e){if(e instanceof HTMLElement&&e.hasAttribute("href")){var t=e.getAttribute("href");t&&(e.dataset.cuiHref=t),"_blank"===e.getAttribute("target")&&(e.dataset.cuiTarget="1")}})),le.addHook("afterSanitizeAttributes",(function(e){e instanceof HTMLElement&&(e.dataset.cuiHref&&e.hasAttribute("href")&&e.removeAttribute("data-cui-href"),e.dataset.cuiTarget&&(e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer"),e.removeAttribute("data-cui-target")))}));var Dj=["className","content","options"],jj=a.default.forwardRef((function(e,t){var n=e.className,r=e.content,i=e.options,o=void 0===i?{}:i,s=RS(e,Dj),u={__html:le.sanitize(r,o)};return a.default.createElement("div",lS({className:l("RichText",n),dangerouslySetInnerHTML:u,ref:t},s))})),Fj=["className","onSearch","onChange","onClear","value","clearable","showSearch"],Bj=["className","placeholder","variant","children"],zj=a.default.forwardRef((function(e,t){var n=e.className,r=e.placeholder,i=e.variant,o=void 0===i?"outline":i,s=e.children,u=RS(e,Bj);return a.default.createElement("select",lS({className:l("Input Select","Input--".concat(o),n)},u,{ref:t}),r&&a.default.createElement("option",{value:""},r),s)})),$j=["className","current","status","inverted","children"];function Uj(e,t){var n=ky(e);if(cv){var r=cv(e);t&&(r=Xx(r).call(r,(function(t){return xv(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uj(Object(n),!0).forEach((function(t){Ax(e,t,n[t])})):Cv?Fv(e,Cv(n)):Uj(Object(n)).forEach((function(t){qv(e,t,xv(n,t))}))}return e}var Wj=a.default.forwardRef((function(e,t){var n=e.className,r=e.current,i=void 0===r?0:r,o=e.status,s=e.inverted,u=e.children,c=RS(e,$j),d=a.default.Children.toArray(u),f=Nx(d).call(d,(function(e,t){var n={index:t,active:!1,completed:!1,disabled:!1};return i===t?(n.active=!0,n.status=o):i>t?n.completed=!0:(n.disabled=!s,n.completed=s),a.default.isValidElement(e)?a.default.cloneElement(e,Vj(Vj({},n),e.props)):null}));return a.default.createElement("ul",lS({className:l("Stepper",n),ref:t},c),f)})),Hj=["className","active","completed","disabled","status","index","title","subTitle","desc","children"],Gj=a.default.forwardRef((function(e,t){var n=e.className,r=e.active,i=void 0!==r&&r,o=e.completed,s=void 0!==o&&o,u=e.disabled,c=void 0!==u&&u,d=e.status;e.index;var f=e.title,h=e.subTitle,p=e.desc,g=e.children,m=RS(e,Hj);return a.default.createElement("li",lS({className:l("Step",{"Step--active":i,"Step--completed":s,"Step--disabled":c},n),ref:t,"data-status":d},m),a.default.createElement("div",{className:"Step-icon"},function(e){return e?a.default.createElement($T,{type:{success:"check-circle-fill",fail:"warning-circle-fill",abort:"dash-circle-fill"}[e]}):a.default.createElement("div",{className:"Step-dot"})}(d)),a.default.createElement("div",{className:"Step-line"}),a.default.createElement("div",{className:"Step-content"},f&&a.default.createElement("div",{className:"Step-title"},f&&a.default.createElement("span",null,f),h&&a.default.createElement("small",null,h)),p&&a.default.createElement("div",{className:"Step-desc"},p),g))})),qj=["active","index","children","onClick"],Kj=["active","children"],Zj=function(e){var t=e.active,n=e.index,r=e.children,i=e.onClick,o=RS(e,qj);return a.default.createElement("div",{className:"Tabs-navItem"},a.default.createElement("button",lS({className:l("Tabs-navLink",{active:t}),type:"button",role:"tab","aria-selected":t,onClick:function(e){i(n,e)}},o),a.default.createElement("span",null,r)))},Xj=function(e){var t=e.active,n=e.children,r=RS(e,Kj);return a.default.createElement("div",lS({className:l("Tabs-pane",{active:t})},r,{role:"tabpanel"}),n)},Yj=["as","className","color","children"],Jj=a.default.forwardRef((function(e,t){var n=e.as,r=void 0===n?"span":n,i=e.className,o=e.color,s=e.children,u=RS(e,Yj);return a.default.createElement(r,lS({className:l("Tag",o&&"Tag--".concat(o),i),ref:t},u),s)})),Qj=function(e){var n=e.content,r=e.type,i=e.duration,o=e.onUnmount,s=xx(t.useState(!1),2),u=s[0],c=s[1];return t.useEffect((function(){c(!0),-1!==i&&(setTimeout((function(){c(!1)}),i),setTimeout((function(){o&&o()}),i+300))}),[i,o]),a.default.createElement("div",{className:l("Toast",{show:u}),"data-type":r,role:"alert","aria-live":"assertive","aria-atomic":"true"},a.default.createElement("div",{className:"Toast-content",role:"presentation"},function(e){switch(e){case"success":return a.default.createElement($T,{type:"check-circle"});case"error":return a.default.createElement($T,{type:"warning-circle"});case"loading":return a.default.createElement($T,{type:"spinner",spin:!0});default:return null}}(r),a.default.createElement("p",{className:"Toast-message"},n)))};function eF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;Of(a.default.createElement(Qj,{content:e,type:t,duration:n}))}var tF={show:eF,success:function(e,t){eF(e,"success",t)},fail:function(e,t){eF(e,"error",t)},loading:function(e,t){eF(e,"loading",t)}},nF=function(e){var t=e.item,n=e.onClick,r=t.type,i=t.icon,o=t.img,s=t.title;return a.default.createElement("div",{className:"Toolbar-item","data-type":r},a.default.createElement(WT,{className:"Toolbar-btn",onClick:function(e){return n(t,e)}},a.default.createElement("span",{className:"Toolbar-btnIcon"},i&&a.default.createElement($T,{type:i}),o&&a.default.createElement("img",{className:"Toolbar-img",src:o,alt:""})),a.default.createElement("span",{className:"Toolbar-btnText"},s)))},rF=function(e){var t=e.items,n=e.onClick;return a.default.createElement("div",{className:"Toolbar"},Nx(t).call(t,(function(e){return a.default.createElement(nF,{item:e,onClick:n,key:e.type})})))};function iF(e,t){var n=ky(e);if(cv){var r=cv(e);t&&(r=Xx(r).call(r,(function(t){return xv(e,t).enumerable}))),n.push.apply(n,r)}return n}function aF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iF(Object(n),!0).forEach((function(t){Ax(e,t,n[t])})):Cv?Fv(e,Cv(n)):iF(Object(n)).forEach((function(t){qv(e,t,xv(n,t))}))}return e}var oF=["className","src","cover","duration","onClick","onCoverLoad","style","videoRef","children"],sF={position:"absolute",height:"1px",width:"1px",overflow:"hidden",clip:"rect(0 0 0 0)",margin:"-1px",whiteSpace:"nowrap"},lF={exports:{}};!function(e){e.exports=yx}(lF);var uF=ce(lF.exports),cF={exports:{}},dF=ve,fF=Qe,hF=ei,pF=li,gF=mS,mF=Math.min,yF=[].lastIndexOf,_F=!!yF&&1/[1].lastIndexOf(1,-0)<0,bF=gF("lastIndexOf"),vF=_F||!bF?function(e){if(_F)return dF(yF,this,arguments)||0;var t=fF(this),n=pF(t),r=n-1;for(arguments.length>1&&(r=mF(r,hF(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}:yF;Cr({target:"Array",proto:!0,forced:vF!==[].lastIndexOf},{lastIndexOf:vF});var wF=fx("Array").lastIndexOf,xF=lt,kF=wF,SF=Array.prototype,TF=function(e){var t=e.lastIndexOf;return e===SF||xF(SF,e)&&t===SF.lastIndexOf?kF:t};!function(e){e.exports=TF}(cF);var EF=ce(cF.exports),AF={exports:{}},OF=he,CF=pe,IF=io,PF=sM.trim,MF=Ee("".charAt),LF=OF.parseFloat,RF=OF.Symbol,NF=RF&&RF.iterator,DF=1/LF("\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff-0")!=-1/0||NF&&!CF((function(){LF(Object(NF))}))?function(e){var t=PF(IF(e)),n=LF(t);return 0===n&&"-"==MF(t,0)?-0:n}:LF;Cr({global:!0,forced:parseFloat!=DF},{parseFloat:DF});var jF=nt.parseFloat;!function(e){e.exports=jF}(AF);var FF=ce(AF.exports),BF=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],zF=["className","type","img","name","desc","tags","locale","currency","price","count","unit","action","children","originalPrice","meta","status"],$F=a.default.forwardRef((function(e,t){var n=e.className,r=e.type,i=e.img,o=e.name,s=e.desc,u=e.tags,c=void 0===u?[]:u,d=e.locale,f=e.currency,h=e.price,p=e.count,g=e.unit,m=e.action,y=e.children,_=e.originalPrice,b=e.meta,v=e.status,w=RS(e,zF),x="order"===r,k=a.default.createElement(a.default.Fragment,null,a.default.createElement(fj,{as:"h4",truncate:!x||2,className:"Goods-name"},o),a.default.createElement(fj,{className:"Goods-desc"},s),a.default.createElement("div",{className:"Goods-tags"},Nx(c).call(c,(function(e){return a.default.createElement(Jj,{color:"primary",key:e.name},e.name)})))),S={currency:f,locale:d},T=null!=h&&a.default.createElement(gj,lS({price:h},S)),E=a.default.createElement("div",{className:"Goods-countUnit"},p&&a.default.createElement("span",{className:"Goods-count"},"\xd7",p),g&&a.default.createElement("span",{className:"Goods-unit"},g)),A=x?k:a.default.createElement(a.default.Fragment,null,m&&a.default.createElement(HM,lS({className:"Goods-buyBtn",icon:"cart"},m)),k,a.default.createElement(JT,{alignItems:"flex-end"},a.default.createElement(nE,null,T,_&&a.default.createElement(gj,lS({price:_,original:!0},S)),b&&a.default.createElement("span",{className:"Goods-meta"},b)),E));return a.default.createElement(JT,lS({className:l("Goods",n),"data-type":r,ref:t},w),i&&a.default.createElement("img",{className:"Goods-img",src:i,alt:o}),a.default.createElement(nE,{className:"Goods-main"},A,y),x&&a.default.createElement("div",{className:"Goods-aside"},T,E,a.default.createElement("span",{className:"Goods-status"},v),m&&a.default.createElement(WT,lS({className:"Goods-detailBtn"},m))))})),UF=function(e){var n=e.count,r=e.onClick,i=e.onDidMount,o=DD("BackBottom").trans,s=o("bottom");return n&&(s=o(1===n?"newMsgOne":"newMsgOther").replace("{n}",n)),t.useEffect((function(){i&&i()}),[i]),a.default.createElement("div",{className:"BackBottom"},a.default.createElement(WT,{className:"slide-in-right-item",onClick:r},s,a.default.createElement($T,{type:"chevron-double-down"})))},VF=!!EM("passiveListener")&&{passive:!0};function WF(e,t){var n=Math.max(e.offsetHeight,600);return KM(e)<n*t}var HF=a.default.forwardRef((function(e,n){var r=e.messages,i=e.loadMoreText,o=e.onRefresh,s=e.onScroll,l=e.renderBeforeMessageList,u=e.renderMessageContent,c=e.onBackBottomShow,d=e.onBackBottomClick,f=xx(t.useState(!1),2),h=f[0],p=f[1],g=xx(t.useState(0),2),m=g[0],y=g[1],_=t.useRef(h),b=t.useRef(m),v=t.useRef(null),w=t.useRef(null),x=r[r.length-1],k=function(){y(0),p(!1)},S=t.useCallback((function(e){w.current&&(!_.current||e&&e.force)&&(w.current.scrollToEnd(e),_.current&&k())}),[]),T=t.useRef(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=!0;return function(){n&&(n=!1,e.apply(void 0,arguments),setTimeout((function(){n=!0}),t))}}((function(e){WF(e,3)?b.current?WF(e,.5)&&k():p(!1):p(!0)})));return t.useEffect((function(){b.current=m}),[m]),t.useEffect((function(){_.current=h}),[h]),t.useEffect((function(){var e=w.current,t=e&&e.wrapperRef.current;if(t&&x&&"pop"!==x.position)if("right"===x.position)S({force:!0});else if(WF(t,2)){var n=!!t.scrollTop;S({animated:n,force:!0})}else y((function(e){return e+1})),p(!0)}),[x,S]),t.useEffect((function(){var e=v.current,t=!1,n=0;function r(){t=!1,n=0}function i(e){var r=document.activeElement;r&&"TEXTAREA"===r.nodeName&&(t=!0,n=e.touches[0].clientY)}function a(e){t&&Math.abs(e.touches[0].clientY-n)>20&&(document.activeElement.blur(),r())}return e.addEventListener("touchstart",i,VF),e.addEventListener("touchmove",a,VF),e.addEventListener("touchend",r),e.addEventListener("touchcancel",r),function(){e.removeEventListener("touchstart",i),e.removeEventListener("touchmove",a),e.removeEventListener("touchend",r),e.removeEventListener("touchcancel",r)}}),[]),t.useImperativeHandle(n,(function(){return{ref:v,scrollToEnd:S}}),[S]),a.default.createElement("div",{className:"MessageContainer",ref:v,tabIndex:-1},l&&l(),a.default.createElement(kj,{onRefresh:o,onScroll:function(e){T.current(e.target),s&&s(e)},loadMoreText:i,ref:w},a.default.createElement("div",{className:"MessageList"},Nx(r).call(r,(function(e){return a.default.createElement(XD,lS({},e,{renderMessageContent:u,key:e._id}))})))),h&&a.default.createElement(UF,{count:m,onClick:function(){S({animated:!1,force:!0}),d&&d()},onDidMount:c}))})),GF=EM("passiveListener"),qF=!!GF&&{passive:!0},KF=!!GF&&{passive:!1},ZF={inited:"hold2talk",recording:"release2send",willCancel:"release2send"},XF=0,YF=0,JF=a.default.forwardRef((function(e,n){var r=e.volume,i=e.onStart,o=e.onEnd,s=e.onCancel,u=xx(t.useState("inited"),2),c=u[0],d=u[1],f=t.useRef(null),h=DD("Recorder").trans,p=t.useCallback((function(){var e=Date.now()-XF;o&&o({duration:e})}),[o]);t.useImperativeHandle(n,(function(){return{stop:function(){d("inited"),p(),XF=0}}})),t.useEffect((function(){var e=f.current;function t(e){e.cancelable&&e.preventDefault();var t=e.touches[0];YF=t.pageY,XF=Date.now(),d("recording"),i&&i()}function n(e){if(XF){var t=e.touches[0].pageY;d(YF-t>80?"willCancel":"recording")}}function r(e){if(XF){var t=e.changedTouches[0].pageY,n=YF-t<80;d("inited"),n?p():s&&s()}}return e.addEventListener("touchstart",t,KF),e.addEventListener("touchmove",n,qF),e.addEventListener("touchend",r),e.addEventListener("touchcancel",r),function(){e.removeEventListener("touchstart",t),e.removeEventListener("touchmove",n),e.removeEventListener("touchend",r),e.removeEventListener("touchcancel",r)}}),[p,s,i]);var g="willCancel"===c,m={transform:"scale(".concat((r||1)/100+1,")")};return a.default.createElement("div",{className:l("Recorder",{"Recorder--cancel":g}),ref:f},"inited"!==c&&a.default.createElement(JT,{className:"RecorderToast",direction:"column",center:!0},a.default.createElement("div",{className:"RecorderToast-waves",hidden:"recording"!==c,style:m},a.default.createElement($T,{className:"RecorderToast-wave-1",type:"hexagon"}),a.default.createElement($T,{className:"RecorderToast-wave-2",type:"hexagon"}),a.default.createElement($T,{className:"RecorderToast-wave-3",type:"hexagon"})),a.default.createElement($T,{className:"RecorderToast-icon",type:g?"cancel":"mic"}),a.default.createElement("span",null,h(g?"release2cancel":"releaseOrSwipe"))),a.default.createElement("div",{className:"Recorder-btn",role:"button","aria-label":h("hold2talk")},a.default.createElement("span",null,h(ZF[c]))))})),QF=function(e){var t=e.onClickOutside,n=e.children;return a.default.createElement(NM,{onClick:t},n)},eB=function(e){var n,i,o=e.className,s=e.active,u=e.target,c=e.children,d=Cf(e.onClose,"mousedown"),f=xk({active:s,ref:d}),h=f.didMount,p=f.isShow,g=xx(t.useState({}),2),m=g[0],y=g[1],_=t.useCallback((function(){if(d.current){var e=u.getBoundingClientRect(),t=d.current.getBoundingClientRect();y({top:"".concat(e.top-t.height,"px"),left:"".concat(e.left,"px")})}}),[u,d]);return t.useEffect((function(){d.current&&(d.current.focus(),_())}),[h,_,d]),n=_,i=t.useRef(!1),t.useEffect((function(){function e(){n(),i.current=!1}function t(){i.current||(i.current=!0,window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e,66))}return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[n]),h?r.createPortal(a.default.createElement("div",{className:l("Popover",o,{active:p}),ref:d,style:m},a.default.createElement("div",{className:"Popover-body"},c),a.default.createElement("svg",{className:"Popover-arrow",viewBox:"0 0 9 5"},a.default.createElement("polygon",{points:"0,0 5,5, 9,0"}))),document.body):null},tB=function(e){return a.default.createElement("div",{className:"Composer-actions","data-action-icon":e.icon},a.default.createElement(HM,lS({size:"lg"},e)))},nB=function(e){var t=e.item,n=e.onClick;return a.default.createElement(tB,{icon:t.icon,img:t.img,"data-icon":t.icon,"data-tooltip":t.title||null,"aria-label":t.title,onClick:n})},rB=function(e){var n=e.file,r=e.onCancel,i=e.onSend,o=xx(t.useState(""),2),s=o[0],l=o[1],u=DD("SendConfirm").trans;return t.useEffect((function(){var e=new FileReader;e.onload=function(e){e.target&&l(e.target.result)},e.readAsDataURL(n)}),[n]),a.default.createElement(rj,{className:"SendConfirm",title:u("title"),active:!!s,vertical:!1,actions:[{label:u("cancel"),onClick:r},{label:u("send"),color:"primary",onClick:i}]},a.default.createElement(JT,{className:"SendConfirm-inner",center:!0},a.default.createElement("img",{src:s,alt:""})))},iB={exports:{}};!function(e){e.exports=AS}(iB);var aB=ce(iB.exports),oB=navigator.userAgent,sB=/iPad|iPhone|iPod/.test(oB);function lB(){return sB?(e="Safari/",-1!==aB(oB).call(oB,e)||/OS 11_[0-3]\D/.test(oB)?0:1):2;var e}var uB=["inputRef","invisible","onImageSend"],cB=EM("touch"),dB=function(e){var n=e.inputRef,r=e.invisible,i=e.onImageSend,o=RS(e,uB),s=xx(t.useState(null),2),u=s[0],c=s[1],d=t.useRef(null),f=t.useCallback((function(e){!function(e,t){var n=e.clipboardData.items;if(n&&n.length)for(var r=0;r<n.length;r++){var i,a=n[r];if(-1!==aB(i=a.type).call(i,"image")){var o=a.getAsFile();o&&t(o),e.preventDefault();break}}}(e,c)}),[]),h=t.useCallback((function(){c(null)}),[]),p=t.useCallback((function(){i&&u&&Tf.resolve(i(u)).then((function(){c(null)}))}),[i,u]);return t.useEffect((function(){cB&&n.current&&d.current&&function(e,t){var n,r=lB();t||(t=e);var i=function(){0!==r&&(1===r?document.body.scrollTop=document.body.scrollHeight:t.scrollIntoView(!1))};e.addEventListener("focus",(function(){setTimeout(i,300),n=setTimeout(i,1e3)})),e.addEventListener("blur",(function(){clearTimeout(n),r&&sB&&setTimeout((function(){document.body.scrollIntoView()}))}))}(n.current,d.current)}),[n]),a.default.createElement("div",{className:l({"S--invisible":r}),ref:d},a.default.createElement(HN,lS({className:"Composer-input",rows:1,autoSize:!0,enterKeyHint:"send",onPaste:i?f:void 0,ref:n},o)),u&&a.default.createElement(rB,{file:u,onCancel:h,onSend:p}))},fB=function(e){var t=e.disabled,n=e.onClick,r=DD("Composer").trans;return a.default.createElement("div",{className:"Composer-actions"},a.default.createElement(WT,{className:"Composer-sendBtn",disabled:t,onMouseDown:n,color:"primary"},r("send")))};function hB(e,t){var n=ky(e);if(cv){var r=cv(e);t&&(r=Xx(r).call(r,(function(t){return xv(e,t).enumerable}))),n.push.apply(n,r)}return n}function pB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hB(Object(n),!0).forEach((function(t){Ax(e,t,n[t])})):Cv?Fv(e,Cv(n)):hB(Object(n)).forEach((function(t){qv(e,t,xv(n,t))}))}return e}var gB="S--focusing",mB=a.default.forwardRef((function(e,n){var r=e.text,i=void 0===r?"":r,o=e.inputType,s=void 0===o?"text":o,u=e.wideBreakpoint,c=e.placeholder,d=void 0===c?"\u8bf7\u8f93\u5165...":c,f=e.recorder,h=void 0===f?{}:f,p=e.onInputTypeChange,g=e.onFocus,m=e.onBlur,y=e.onChange,_=e.onSend,b=e.onImageSend,v=e.onAccessoryToggle,w=e.toolbar,x=void 0===w?[]:w,k=e.onToolbarClick,S=e.rightAction,T=e.inputOptions,E=xx(t.useState(i),2),A=E[0],O=E[1],C=xx(t.useState(s||"text"),2),I=C[0],P=C[1],M=xx(t.useState(!1),2),L=M[0],R=M[1],N=xx(t.useState(""),2),D=N[0],j=N[1],F=t.useRef(null),B=t.useRef(!1),z=t.useRef(),$=t.useRef(),U=t.useRef(!1),V=xx(t.useState(!1),2),W=V[0],H=V[1];t.useEffect((function(){var e=!(!u||!window.matchMedia)&&window.matchMedia("(min-width: ".concat(u,")"));function t(e){H(e.matches)}return H(e&&e.matches),e&&e.addListener(t),function(){e&&e.removeListener(t)}}),[u]),t.useEffect((function(){ej("S--wide",W),W||j("")}),[W]),t.useEffect((function(){U.current&&v&&v(L)}),[L,v]),t.useEffect((function(){U.current=!0}),[]),t.useImperativeHandle(n,(function(){return{setText:O}}));var G=t.useCallback((function(){var e="voice"===I,t=e?"text":"voice";if(P(t),e){var n=F.current;n.focus(),n.selectionStart=n.selectionEnd=n.value.length}p&&p(t)}),[I,p]),q=t.useCallback((function(e){clearTimeout(z.current),ej(gB,!0),B.current=!0,g&&g(e)}),[g]),K=t.useCallback((function(e){z.current=setTimeout((function(){ej(gB,!1),B.current=!1}),0),m&&m(e)}),[m]),Z=t.useCallback((function(){_("text",A),O(""),B.current&&F.current.focus()}),[_,A]),X=t.useCallback((function(e){e.shiftKey||13!==e.keyCode||(Z(),e.preventDefault())}),[Z]),Y=t.useCallback((function(e,t){O(e),y&&y(e,t)}),[y]),J=t.useCallback((function(e){Z(),e.preventDefault()}),[Z]),Q=t.useCallback((function(){R(!L)}),[L]),ee=t.useCallback((function(){setTimeout((function(){R(!1),j("")}))}),[]),te=t.useCallback((function(e,t){k&&k(e,t),e.render&&($.current=t.currentTarget,j(e.render))}),[k]),ne=t.useCallback((function(){j("")}),[]),re="text"===I,ie=re?"volume-circle":"keyboard-circle",ae=x.length>0,oe=pB(pB({},T),{},{value:A,inputRef:F,placeholder:d,onFocus:q,onBlur:K,onKeyDown:X,onChange:Y,onImageSend:b});return W?a.default.createElement("div",{className:"Composer Composer--lg"},ae&&Nx(x).call(x,(function(e){return a.default.createElement(nB,{item:e,onClick:function(t){return te(e,t)},key:e.type})})),D&&a.default.createElement(eB,{active:!!D,target:$.current,onClose:ne},D),a.default.createElement("div",{className:"Composer-inputWrap"},a.default.createElement(dB,lS({invisible:!1},oe))),a.default.createElement(fB,{onClick:J,disabled:!A})):a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"Composer"},h.canRecord&&a.default.createElement(tB,{className:"Composer-inputTypeBtn","data-icon":ie,icon:ie,onClick:G,"aria-label":re?"\u5207\u6362\u5230\u8bed\u97f3\u8f93\u5165":"\u5207\u6362\u5230\u952e\u76d8\u8f93\u5165"}),a.default.createElement("div",{className:"Composer-inputWrap"},a.default.createElement(dB,lS({invisible:!re},oe)),!re&&a.default.createElement(JF,h)),!A&&S&&a.default.createElement(tB,S),ae&&a.default.createElement(tB,{className:l("Composer-toggleBtn",{active:L}),icon:"plus-circle",onClick:Q,"aria-label":L?"\u5173\u95ed\u5de5\u5177\u680f":"\u5c55\u5f00\u5de5\u5177\u680f"}),A&&a.default.createElement(fB,{onClick:J,disabled:!1})),L&&a.default.createElement(QF,{onClickOutside:ee},D||a.default.createElement(rF,{items:x,onClick:te})))})),yB=a.default.forwardRef((function(e,n){var r=e.wideBreakpoint,i=e.locale,o=void 0===i?"zh-CN":i,s=e.locales,l=e.navbar,u=e.renderNavbar,c=e.loadMoreText,d=e.renderBeforeMessageList,f=e.messagesRef,h=e.onRefresh,p=e.onScroll,g=e.messages,m=void 0===g?[]:g,y=e.renderMessageContent,_=e.onBackBottomShow,b=e.onBackBottomClick,v=e.quickReplies,w=void 0===v?[]:v,x=e.quickRepliesVisible,k=e.onQuickReplyClick,S=void 0===k?function(){}:k,T=e.onQuickReplyScroll,E=e.renderQuickReplies,A=e.text,O=e.placeholder,C=e.onInputFocus,I=e.onInputChange,P=e.onInputBlur,M=e.onSend,L=e.onImageSend,R=e.inputOptions,N=e.composerRef,D=e.inputType,j=e.onInputTypeChange,F=e.recorder,B=e.toolbar,z=e.onToolbarClick,$=e.onAccessoryToggle,U=e.rightAction,V=e.Composer,W=void 0===V?mB:V;return t.useEffect((function(){/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)&&(document.documentElement.dataset.safari="")}),[]),a.default.createElement(ND,{locale:o,locales:s},a.default.createElement("div",{className:"ChatApp",ref:n},u?u():l&&a.default.createElement(aj,l),a.default.createElement(HF,{ref:f,loadMoreText:c,messages:m,renderBeforeMessageList:d,renderMessageContent:y,onRefresh:h,onScroll:p,onBackBottomShow:_,onBackBottomClick:b}),a.default.createElement("div",{className:"ChatFooter"},E?E():a.default.createElement(Pj,{items:w,visible:x,onClick:S,onScroll:T}),a.default.createElement(W,{wideBreakpoint:r,ref:N,inputType:D,text:A,inputOptions:R,placeholder:O,onAccessoryToggle:$,recorder:F,toolbar:B,onToolbarClick:z,onInputTypeChange:j,onFocus:function(e){f&&f.current&&f.current.scrollToEnd({animated:!1,force:!0}),C&&C(e)},onChange:I,onBlur:P,onSend:M,onImageSend:L,rightAction:U}))))}));e.Avatar=NT,e.Backdrop=jT,e.Bubble=BT,e.Button=WT,e.Card=GT,e.CardActions=function(e){var t=e.children,n=e.className,r=e.direction,i=RS(e,sE);return a.default.createElement("div",lS({className:l("CardActions",n,r&&"CardActions--".concat(r))},i),t)},e.CardContent=function(e){var t=e.className,n=e.children,r=RS(e,iE);return a.default.createElement("div",lS({className:l("CardContent",t)},r),n)},e.CardMedia=function(e){var t=e.className,n=e.aspectRatio,r=void 0===n?"square":n,i=e.color,o=e.image,s=e.children,u=RS(e,rE),c={backgroundColor:i||void 0,backgroundImage:"string"==typeof o?"url('".concat(o,"')"):void 0};return a.default.createElement("div",lS({className:l("CardMedia",{"CardMedia--wide":"wide"===r,"CardMedia--square":"square"===r},t),style:c},u),s&&a.default.createElement(JT,{className:"CardMedia-content",direction:"column",center:!0},s))},e.CardText=function(e){var t=e.className,n=e.children,r=RS(e,oE);return a.default.createElement("div",lS({className:l("CardText",t)},r),"string"==typeof n?a.default.createElement("p",null,n):n)},e.CardTitle=function(e){var t=e.className,n=e.title,r=e.subtitle,i=e.center,o=e.children,s=RS(e,aE);return a.default.createElement("div",lS({className:l("CardTitle",{"CardTitle--center":i},t)},s),n&&a.default.createElement("h5",{className:"CardTitle-title"},n),o&&"string"==typeof o&&a.default.createElement("h5",{className:"CardTitle-title"},o),r&&a.default.createElement("p",{className:"CardTitle-subtitle"},r),o&&"string"!=typeof o&&o)},e.Carousel=CM,e.Checkbox=PM,e.CheckboxGroup=function(e){var t=e.className,n=e.options,r=e.value,i=e.name,o=e.disabled,s=e.block,u=e.onChange;function c(e,t){var n=t.target.checked?Ux(r).call(r,e):Xx(r).call(r,(function(t){return t!==e}));u(n,t)}return a.default.createElement("div",{className:l("CheckboxGroup",{"CheckboxGroup--block":s},t)},Nx(n).call(n,(function(e){return a.default.createElement(PM,{label:e.label||e.value,value:e.value,name:i,checked:YP(r).call(r,e.value),disabled:"disabled"in e?e.disabled:o,onChange:function(t){c(e.value,t)},key:e.value})})))},e.ClickOutside=NM,e.ComponentsProvider=function(e){var n=e.components,r=e.children,i=a.default.useRef(RT({},n));return t.useEffect((function(){i.current=RT(RT({},n),i.current)}),[n]),a.default.createElement(OT.Provider,{value:{addComponent:function(e,t){i.current[e]=t},hasComponent:function(e){return i.current.hasOwnProperty(e)},getComponent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=i.current[e];if(!n)return t({code:e,errCode:"NO_CODE"}),null;if("component"in n)return"decorator"!==n.type&&t({code:e,async:!1,component:n.component}),n.component;if("decorator"in n){var r=function(e){return a.default.createElement(MT,lS({code:n.decorator,decoratorData:n.data,onLoad:t},e))};return i.current[e]={component:r,type:"decorator"},r}if("url"in n){var o=Af(n.url,n.name,(function(){i.current[e]={component:o},t({code:e,async:!0,component:o})}),(function(){t({code:e,errCode:"ERR_IMPORT_SCRIPT"})}));return o}return t({code:e,errCode:"NO_HANDLER"}),null}}},r)},e.Confirm=function(e){var t=e.className,n=RS(e,ij);return a.default.createElement(nj,lS({baseClass:"Modal",className:l("Confirm",t),showClose:!1,btnVariant:"outline"},n))},e.DOMPurify=le,e.Divider=function(e){var t=e.className,n=e.position,r=void 0===n?"center":n,i=e.children,o=RS(e,DM);return a.default.createElement("div",lS({className:l("Divider",!!i&&"Divider--text-".concat(r),t),role:"separator"},o),i)},e.Empty=function(e){var t=e.className,n=e.type,r=e.image,i=e.tip,o=e.children,s=r||("error"===n?"//gw.alicdn.com/tfs/TB1lRjJRbvpK1RjSZPiXXbmwXXa-300-250.svg":"//gw.alicdn.com/tfs/TB1fnnLRkvoK1RjSZFDXXXY3pXa-300-250.svg");return a.default.createElement(JT,{className:l("Empty",t),direction:"column",center:!0},a.default.createElement("img",{className:"Empty-img",src:s,alt:i}),i&&a.default.createElement("p",{className:"Empty-tip"},i),o)},e.ErrorBoundary=TT,e.FileCard=function(e){var t,n=e.className,r=e.file,i=e.extension,o=e.children,s=r.name,u=r.size,c=i||uF(t=s).call(t,2+(EF(t).call(t,".")-1>>>0));return a.default.createElement(GT,{className:l("FileCard",n),size:"xl"},a.default.createElement(JT,null,a.default.createElement("div",{className:"FileCard-icon","data-type":c},a.default.createElement($T,{type:"file"}),a.default.createElement(fj,{truncate:!0,as:"span",className:"FileCard-ext"},c)),a.default.createElement(nE,null,a.default.createElement(fj,{truncate:2,breakWord:!0,className:"FileCard-name"},s),a.default.createElement("div",{className:"FileCard-meta"},null!=u&&a.default.createElement("span",{className:"FileCard-size"},function(e,t){var n,r;if(e<1)return Ux(r="".concat(e," ")).call(r,BF[0]);var i=t||2,a=Math.floor(Math.log(e)/Math.log(1024));return Ux(n="".concat(FF((e/Math.pow(1024,a)).toFixed(i))," ")).call(n,BF[a])}(u)),o))))},e.Flex=JT,e.FlexItem=nE,e.Form=function(e){var t=e.className,n=e.theme,r=void 0===n?"":n,i=e.children,o=RS(e,jM);return a.default.createElement(FM.Provider,{value:r},a.default.createElement("form",lS({className:l("Form",{"is-light":"light"===r},t)},o),i))},e.FormActions=function(e){var t=e.children,n=RS(e,VM);return a.default.createElement("div",lS({className:l("FormActions")},n),t)},e.FormItem=function(e){var t=e.label,n=e.help,r=e.required,i=e.invalid,o=e.hidden,s=e.children;return a.default.createElement("div",{className:l("FormItem",{required:r,"is-invalid":i}),hidden:o},t&&a.default.createElement(zM,null,t),s,n&&a.default.createElement(UM,null,n))},e.Goods=$F,e.Icon=$T,e.IconButton=HM,e.Image=qM,e.InfiniteScroll=XM,e.Input=HN,e.LazyComponent=function(e){var t=e.component,n=e.code,r=e.onLoad,i=RS(e,PT);return t?(r&&r({async:!1,component:t}),a.default.createElement(AT,lS({component:t},i))):a.default.createElement(MT,lS({code:n,onLoad:r},i))},e.List=function(e){var t=e.bordered,n=void 0!==t&&t,r=e.className,i=e.children;return a.default.createElement("div",{className:l("List",{"List--bordered":n},r),role:"list"},i)},e.ListItem=function(e){var t=e.className,n=e.as,r=void 0===n?"div":n,i=e.content,o=e.rightIcon,s=e.children,u=e.onClick,c=RS(e,GN);return a.default.createElement(r,lS({className:l("ListItem",t),onClick:u,role:"listitem"},c),a.default.createElement("div",{className:"ListItem-content"},i||s),o&&a.default.createElement($T,{type:o}))},e.Loading=function(e){var t=e.tip,n=e.children;return a.default.createElement(JT,{className:"Loading",center:!0},a.default.createElement($T,{type:"spinner",spin:!0}),t&&a.default.createElement("p",{className:"Loading-tip"},t),n)},e.LocaleContext=LD,e.LocaleProvider=ND,e.MediaObject=function(e){var t=e.className,n=e.picUrl,r=e.picSize,i=e.title,o=e.picAlt,s=e.meta;return a.default.createElement("div",{className:l("MediaObject",t)},n&&a.default.createElement("div",{className:l("MediaObject-pic",r&&"MediaObject-pic--".concat(r))},a.default.createElement("img",{src:n,alt:o||i})),a.default.createElement("div",{className:"MediaObject-info"},a.default.createElement("h3",{className:"MediaObject-title"},i),a.default.createElement("div",{className:"MediaObject-meta"},s)))},e.Message=XD,e.MessageStatus=function(e){var n=e.status,r=e.delay,i=void 0===r?1500:r,o=e.maxDelay,s=void 0===o?5e3:o,l=e.onRetry,u=e.onChange,c=xx(t.useState(""),2),d=c[0],f=c[1],h=t.useRef(),p=t.useRef(),g=t.useCallback((function(){h.current=setTimeout((function(){f("loading")}),i),p.current=setTimeout((function(){f("fail")}),s)}),[i,s]);function m(){h.current&&clearTimeout(h.current),p.current&&clearTimeout(p.current)}function y(){f("loading"),g(),l&&l()}return t.useEffect((function(){return m(),"pending"===n?g():"sent"===n?f(""):"fail"===n&&f("fail"),m}),[n,g]),t.useEffect((function(){u&&u(d)}),[u,d]),d?a.default.createElement("div",{className:"MessageStatus","data-status":d},"fail"===d?a.default.createElement(HM,{icon:"warning-circle-fill",onClick:y}):a.default.createElement($T,{type:"spinner",spin:!0,onClick:y})):null},e.Modal=rj,e.Navbar=aj,e.Notice=function(e){var t=e.content,n=e.closable,r=void 0===n||n,i=e.leftIcon,o=void 0===i?"bullhorn":i,s=e.onClick,l=e.onClose;return a.default.createElement("div",{className:"Notice",role:"alert","aria-atomic":!0,"aria-live":"assertive"},o&&a.default.createElement($T,{className:"Notice-icon",type:o}),a.default.createElement("div",{className:"Notice-content",onClick:s},a.default.createElement(fj,{className:"Notice-text",truncate:!0},t)),r&&a.default.createElement(HM,{className:"Notice-close",icon:"close",onClick:l,"aria-label":"\u5173\u95ed\u901a\u77e5"}))},e.Popup=function(e){return a.default.createElement(nj,lS({baseClass:"Popup",overflow:!0},e))},e.Portal=function(e){var n=e.children,i=e.container,a=void 0===i?document.body:i,o=e.onRendered,s=xx(t.useState(null),2),l=s[0],u=s[1];return t.useEffect((function(){var e;u((e=a)?e instanceof Element?e:"function"==typeof e?e():e.current||e:null)}),[a]),t.useLayoutEffect((function(){o&&l&&o()}),[l,o]),l?r.createPortal(n,l):l},e.Price=gj,e.Progress=yj,e.PullToRefresh=kj,e.QuickReplies=Pj,e.Radio=Lj,e.RadioGroup=function(e){var t=e.className,n=e.options,r=e.value,i=e.name,o=e.disabled,s=e.block,u=e.onChange;return a.default.createElement("div",{className:l("RadioGroup",{"RadioGroup--block":s},t)},Nx(n).call(n,(function(e){return a.default.createElement(Lj,{label:e.label||e.value,value:e.value,name:i,checked:r===e.value,disabled:"disabled"in e?e.disabled:o,onChange:function(t){u(e.value,t)},key:e.value})})))},e.RateActions=function(e){var n=DD("RateActions",{up:"\u8d5e\u540c",down:"\u53cd\u5bf9"}).trans,r=e.upTitle,i=void 0===r?n("up"):r,o=e.downTitle,s=void 0===o?n("down"):o,u=e.onClick,c=xx(t.useState(""),2),d=c[0],f=c[1];function h(e){d||(f(e),u(e))}return a.default.createElement("div",{className:"RateActions"},d!==Nj&&a.default.createElement(HM,{className:l("RateBtn",{active:d===Rj}),title:i,"data-type":Rj,icon:"thumbs-up",onClick:function(){h(Rj)}}),d!==Rj&&a.default.createElement(HM,{className:l("RateBtn",{active:d===Nj}),title:s,"data-type":Nj,icon:"thumbs-down",onClick:function(){h(Nj)}}))},e.RichText=jj,e.ScrollView=Oj,e.Search=function(e){var n=e.className,r=e.onSearch,i=e.onChange,o=e.onClear,s=e.value,u=e.clearable,c=void 0===u||u,d=e.showSearch,f=void 0===d||d,h=RS(e,Fj),p=xx(t.useState(s||""),2),g=p[0],m=p[1],y=DD("Search").trans;return a.default.createElement("div",{className:l("Search",n)},a.default.createElement($T,{className:"Search-icon",type:"search"}),a.default.createElement(HN,lS({className:"Search-input",type:"search",value:g,enterKeyHint:"search",onChange:function(e){m(e),i&&i(e)},onKeyDown:function(e){13===e.keyCode&&(r&&r(g,e),e.preventDefault())}},h)),c&&g&&a.default.createElement(HM,{className:"Search-clear",icon:"x-circle-fill",onClick:function(){m(""),o&&o()}}),f&&a.default.createElement(WT,{className:"Search-btn",color:"primary",onClick:function(e){r&&r(g,e)}},y("search")))},e.Select=zj,e.Step=Gj,e.Stepper=Wj,e.SystemMessage=jD,e.Tab=function(e){var t=e.children;return a.default.createElement("div",null,t)},e.Tabs=function(e){var n=e.className,r=e.index,i=void 0===r?0:r,o=e.scrollable,s=e.hideNavIfOnlyOne,u=e.children,c=e.onChange,d=xx(t.useState({}),2),f=d[0],h=d[1],p=xx(t.useState(i||0),2),g=p[0],m=p[1],y=t.useRef(g),_=t.useRef(null),b=[],v=[],w=QD("tabs-");function x(e,t){m(e),c&&c(e,t)}a.default.Children.forEach(u,(function(e,t){var n;if(e){var r=g===t,i=Ux(n="".concat(w,"-")).call(n,t);b.push(a.default.createElement(Zj,{active:r,index:t,key:i,onClick:x,"aria-controls":i,tabIndex:r?-1:0},e.props.label)),e.props.children&&v.push(a.default.createElement(Xj,{active:r,key:i,id:i},e.props.children))}})),t.useEffect((function(){m(i)}),[i]);var k=t.useCallback((function(){var e=_.current;if(e){var t=e.children[y.current];if(t){var n=t.querySelector("span");if(n){var r=t,i=r.offsetWidth,a=r.offsetLeft,s=n.getBoundingClientRect().width,l=Math.max(s-16,26),u=a+i/2;h({transform:"translateX(".concat(u-l/2,"px)"),width:"".concat(l,"px")}),o&&bj({el:e,to:u-e.offsetWidth/2,x:!0})}}}}),[o]);t.useEffect((function(){var e,t=_.current;return t&&"ResizeObserver"in window&&(e=new ResizeObserver(k)).observe(t),function(){e&&t&&e.unobserve(t)}}),[k]),t.useEffect((function(){y.current=g,k()}),[g,k]);var S=b.length>(s?1:0);return a.default.createElement("div",{className:l("Tabs",{"Tabs--scrollable":o},n)},S&&a.default.createElement("div",{className:"Tabs-nav",role:"tablist",ref:_},b,a.default.createElement("span",{className:"Tabs-navPointer",style:f})),a.default.createElement("div",{className:"Tabs-content"},v))},e.Tag=Jj,e.Text=fj,e.Time=GD,e.Toast=Qj,e.Toolbar=rF,e.Tree=function(e){var t=e.className,n=e.children;return a.default.createElement("div",{className:l("Tree",t),role:"tree"},n)},e.TreeNode=function(e){var n=e.title,r=e.content,i=e.link,o=e.children,s=void 0===o?[]:o,u=e.onClick,c=e.onExpand,d=xx(t.useState(!1),2),f=d[0],h=d[1],p=s.length>0;return a.default.createElement("div",{className:"TreeNode",role:"treeitem","aria-expanded":f},a.default.createElement("div",{className:"TreeNode-title",onClick:function(){p?(h(!f),c(n,!f)):u({title:n,content:r,link:i})},role:"treeitem","aria-expanded":f,tabIndex:0},a.default.createElement("span",{className:"TreeNode-title-text"},n),p?a.default.createElement($T,{className:"TreeNode-title-icon",type:f?"chevron-up":"chevron-down"}):null),p?Nx(s).call(s,(function(e,t){return a.default.createElement("div",{className:l("TreeNode-children",{"TreeNode-children-active":f}),key:t},a.default.createElement("div",{className:"TreeNode-title TreeNode-children-title",onClick:function(){return u(aF(aF({},e),{index:t}))},role:"treeitem"},a.default.createElement("span",{className:"TreeNode-title-text"},e.title)))})):null)},e.Typing=qD,e.Video=function(e){var n=e.className,r=e.src,i=e.cover,o=e.duration,s=e.onClick,u=e.onCoverLoad,c=e.style,d=e.videoRef,f=e.children,h=RS(e,oF),p=t.useRef(null),g=d||p,m=xx(t.useState(!1),2),y=m[0],_=m[1],b=xx(t.useState(!0),2),v=b[0],w=b[1];function x(){w(!0)}var k=!y&&!!i,S=k&&!!o;return a.default.createElement("div",{className:l("Video","Video--".concat(v?"paused":"playing"),n),style:c},k&&a.default.createElement("img",{className:"Video-cover",src:i,onLoad:u,alt:""}),S&&a.default.createElement("span",{className:"Video-duration"},o),a.default.createElement("video",lS({className:"Video-video",src:r,ref:g,hidden:k,controls:!0,onPlay:function(){w(!1)},onPause:x,onEnded:x},h),f),k&&a.default.createElement("button",{className:l("Video-playBtn",{paused:v}),type:"button",onClick:function(e){_(!0);var t=g.current;t&&(t.ended||t.paused?t.play():t.pause()),s&&s(v,e)}},a.default.createElement("span",{className:"Video-playIcon"})))},e.VisuallyHidden=function(e){return a.default.createElement("span",lS({style:sF},e))},e.clsx=l,e.default=yB,e.importScript=Ef,e.lazyComponent=Af,e.mountComponent=Of,e.toast=tF,e.useClickOutside=Cf,e.useComponents=CT,e.useForwardRef=If,e.useLocale=DD,e.useMessages=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=t.useMemo((function(){return Nx(e).call(e,(function(e){return vk(e)}))}),[e]),r=xx(t.useState(n),2),i=r[0],a=r[1],o=t.useRef(!1),s=t.useCallback((function(e){a((function(t){var n;return Ux(n=[]).call(n,wx(e),wx(t))}))}),[]),l=t.useCallback((function(e,t){a((function(n){return Nx(n).call(n,(function(n){return n._id===e?vk(t,e):n}))}))}),[]),u=t.useCallback((function(e){var t=vk(e);o.current?(o.current=!1,l(wk,t)):a((function(e){var n;return Ux(n=[]).call(n,wx(e),[t])}))}),[l]),c=t.useCallback((function(e){a((function(t){return Xx(t).call(t,(function(t){return t._id!==e}))}))}),[]),d=t.useCallback((function(){a(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])}),[]),f=t.useCallback((function(e){e!==o.current&&(e?u({_id:wk,type:"typing"}):c(wk),o.current=e)}),[u,c]);return{messages:i,prependMsgs:s,appendMsg:u,updateMsg:l,deleteMsg:c,resetList:d,setTyping:f}},e.useMount=xk,e.useQuickReplies=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=xx(t.useState(e),2),r=n[0],i=n[1],a=xx(t.useState(!0),2),o=a[0],s=a[1],l=t.useRef(),u=t.useRef();t.useEffect((function(){l.current=r}),[r]);var c=function(e){i((function(t){var n;return Ux(n=[]).call(n,wx(e),wx(t))}))},d=function(){u.current&&i(u.current)};return{quickReplies:r,prepend:c,replace:i,visible:o,setVisible:s,save:function(){u.current=l.current},pop:d}},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(6665),n(3672))},5133:(e,t,n)=>{"use strict";e=n.nmd(e);const r=(e=0)=>t=>`\x1b[${38+e};5;${t}m`,i=(e=0)=>(t,n,r)=>`\x1b[${38+e};2;${t};${n};${r}m`;Object.defineProperty(e,"exports",{enumerable:!0,get:function(){const e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(const[n,r]of Object.entries(t)){for(const[n,i]of Object.entries(r))t[n]={open:`\x1b[${i[0]}m`,close:`\x1b[${i[1]}m`},r[n]=t[n],e.set(i[0],i[1]);Object.defineProperty(t,n,{value:r,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1b[39m",t.bgColor.close="\x1b[49m",t.color.ansi256=r(),t.color.ansi16m=i(),t.bgColor.ansi256=r(10),t.bgColor.ansi16m=i(10),Object.defineProperties(t,{rgbToAnsi256:{value:(e,t,n)=>e===t&&t===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value:e=>{const t=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(e.toString(16));if(!t)return[0,0,0];let{colorString:n}=t.groups;3===n.length&&(n=n.split("").map((e=>e+e)).join(""));const r=Number.parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},enumerable:!1},hexToAnsi256:{value:e=>t.rgbToAnsi256(...t.hexToRgb(e)),enumerable:!1}}),t}})},159:e=>{"use strict";const t=/[\p{Lu}]/u,n=/[\p{Ll}]/u,r=/^[\p{Lu}](?![\p{Lu}])/gu,i=/([\p{Alpha}\p{N}_]|$)/u,a=/[_.\- ]+/,o=new RegExp("^"+a.source),s=new RegExp(a.source+i.source,"gu"),l=new RegExp("\\d+"+i.source,"gu"),u=(e,i)=>{if("string"!==typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");if(i={pascalCase:!1,preserveConsecutiveUppercase:!1,...i},0===(e=Array.isArray(e)?e.map((e=>e.trim())).filter((e=>e.length)).join("-"):e.trim()).length)return"";const a=!1===i.locale?e=>e.toLowerCase():e=>e.toLocaleLowerCase(i.locale),u=!1===i.locale?e=>e.toUpperCase():e=>e.toLocaleUpperCase(i.locale);if(1===e.length)return i.pascalCase?u(e):a(e);return e!==a(e)&&(e=((e,r,i)=>{let a=!1,o=!1,s=!1;for(let l=0;l<e.length;l++){const u=e[l];a&&t.test(u)?(e=e.slice(0,l)+"-"+e.slice(l),a=!1,s=o,o=!0,l++):o&&s&&n.test(u)?(e=e.slice(0,l-1)+"-"+e.slice(l-1),s=o,o=!1,a=!0):(a=r(u)===u&&i(u)!==u,s=o,o=i(u)===u&&r(u)!==u)}return e})(e,a,u)),e=e.replace(o,""),e=i.preserveConsecutiveUppercase?((e,t)=>(r.lastIndex=0,e.replace(r,(e=>t(e)))))(e,a):a(e),i.pascalCase&&(e=u(e.charAt(0))+e.slice(1)),((e,t)=>(s.lastIndex=0,l.lastIndex=0,e.replace(s,((e,n)=>t(n))).replace(l,(e=>t(e)))))(e,u)};e.exports=u,e.exports.default=u},3421:(e,t,n)=>{"use strict";const{fromCallback:r}=n(6511),i=n(8393),{getCallback:a,getOptions:o}=n(2526),s=Symbol("promise"),l=Symbol("status"),u=Symbol("operations"),c=Symbol("finishClose"),d=Symbol("closeCallbacks");t.AbstractChainedBatch=class{constructor(e){if("object"!==typeof e||null===e){throw new TypeError(`The first argument must be an abstract-level database, received ${null===e?"null":typeof e}`)}this[u]=[],this[d]=[],this[l]="open",this[c]=this[c].bind(this),this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get length(){return this[u].length}put(e,t,n){if("open"!==this[l])throw new i("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const r=this.db._checkKey(e)||this.db._checkValue(t);if(r)throw r;const a=n&&null!=n.sublevel?n.sublevel:this.db,o=n,s=a.keyEncoding(n&&n.keyEncoding),c=a.valueEncoding(n&&n.valueEncoding),d=s.format;n={...n,keyEncoding:d,valueEncoding:c.format},a!==this.db&&(n.sublevel=null);const f=a.prefixKey(s.encode(e),d),h=c.encode(t);return this._put(f,h,n),this[u].push({...o,type:"put",key:e,value:t}),this}_put(e,t,n){}del(e,t){if("open"!==this[l])throw new i("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const n=this.db._checkKey(e);if(n)throw n;const r=t&&null!=t.sublevel?t.sublevel:this.db,a=t,o=r.keyEncoding(t&&t.keyEncoding),s=o.format;return t={...t,keyEncoding:s},r!==this.db&&(t.sublevel=null),this._del(r.prefixKey(o.encode(e),s),t),this[u].push({...a,type:"del",key:e}),this}_del(e,t){}clear(){if("open"!==this[l])throw new i("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[u]=[],this}_clear(){}write(e,t){return t=a(e,t),t=r(t,s),e=o(e),"open"!==this[l]?this.nextTick(t,new i("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):0===this.length?this.close(t):(this[l]="writing",this._write(e,(e=>{this[l]="closing",this[d].push((()=>t(e))),e||this.db.emit("batch",this[u]),this._close(this[c])}))),t[s]}_write(e,t){}close(e){return e=r(e,s),"closing"===this[l]?this[d].push(e):"closed"===this[l]?this.nextTick(e):(this[d].push(e),"writing"!==this[l]&&(this[l]="closing",this._close(this[c]))),e[s]}_close(e){this.nextTick(e)}[c](){this[l]="closed",this.db.detachResource(this);const e=this[d];this[d]=[];for(const t of e)t()}}},3452:(e,t,n)=>{"use strict";const{fromCallback:r}=n(6511),i=n(8393),{getOptions:a,getCallback:o}=n(2526),s=Symbol("promise"),l=Symbol("callback"),u=Symbol("working"),c=Symbol("handleOne"),d=Symbol("handleMany"),f=Symbol("autoClose"),h=Symbol("finishWork"),p=Symbol("returnMany"),g=Symbol("closing"),m=Symbol("handleClose"),y=Symbol("closed"),_=Symbol("closeCallbacks"),b=Symbol("keyEncoding"),v=Symbol("valueEncoding"),w=Symbol("abortOnClose"),x=Symbol("legacy"),k=Symbol("keys"),S=Symbol("values"),T=Symbol("limit"),E=Symbol("count"),A=Object.freeze({}),O=()=>{};let C=!1;class I{constructor(e,t,n){if("object"!==typeof e||null===e){throw new TypeError(`The first argument must be an abstract-level database, received ${null===e?"null":typeof e}`)}if("object"!==typeof t||null===t)throw new TypeError("The second argument must be an options object");this[y]=!1,this[_]=[],this[u]=!1,this[g]=!1,this[f]=!1,this[l]=null,this[c]=this[c].bind(this),this[d]=this[d].bind(this),this[m]=this[m].bind(this),this[b]=t[b],this[v]=t[v],this[x]=n,this[T]=Number.isInteger(t.limit)&&t.limit>=0?t.limit:1/0,this[E]=0,this[w]=!!t.abortOnClose,this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get count(){return this[E]}get limit(){return this[T]}next(e){let t;if(void 0===e)t=new Promise(((t,n)=>{e=(e,r,i)=>{e?n(e):this[x]?void 0===r&&void 0===i?t():t([r,i]):t(r)}}));else if("function"!==typeof e)throw new TypeError("Callback must be a function");return this[g]?this.nextTick(e,new i("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[u]?this.nextTick(e,new i("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[u]=!0,this[l]=e,this[E]>=this[T]?this.nextTick(this[c],null):this._next(this[c])),t}_next(e){this.nextTick(e)}nextv(e,t,n){return n=o(t,n),n=r(n,s),t=a(t,A),Number.isInteger(e)?(this[g]?this.nextTick(n,new i("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[u]?this.nextTick(n,new i("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(e<1&&(e=1),this[T]<1/0&&(e=Math.min(e,this[T]-this[E])),this[u]=!0,this[l]=n,e<=0?this.nextTick(this[d],null,[]):this._nextv(e,t,this[d])),n[s]):(this.nextTick(n,new TypeError("The first argument 'size' must be an integer")),n[s])}_nextv(e,t,n){const r=[],i=(t,a,o)=>t?n(t):(this[x]?void 0===a&&void 0===o:void 0===a)?n(null,r):(r.push(this[x]?[a,o]:a),void(r.length===e?n(null,r):this._next(i)));this._next(i)}all(e,t){return t=o(e,t),t=r(t,s),e=a(e,A),this[g]?this.nextTick(t,new i("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[u]?this.nextTick(t,new i("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[u]=!0,this[l]=t,this[f]=!0,this[E]>=this[T]?this.nextTick(this[d],null,[]):this._all(e,this[d])),t[s]}_all(e,t){let n=this[E];const r=[],i=()=>{const e=this[T]<1/0?Math.min(1e3,this[T]-n):1e3;e<=0?this.nextTick(t,null,r):this._nextv(e,A,a)},a=(e,a)=>{e?t(e):0===a.length?t(null,r):(r.push.apply(r,a),n+=a.length,i())};i()}[h](){const e=this[l];return this[w]&&null===e?O:(this[u]=!1,this[l]=null,this[g]&&this._close(this[m]),e)}[p](e,t,n){this[f]?this.close(e.bind(null,t,n)):e(t,n)}seek(e,t){if(t=a(t,A),this[g]);else{if(this[u])throw new i("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{const n=this.db.keyEncoding(t.keyEncoding||this[b]),r=n.format;t.keyEncoding!==r&&(t={...t,keyEncoding:r});const i=this.db.prefixKey(n.encode(e),r);this._seek(i,t)}}}_seek(e,t){throw new i("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(e){if(e=r(e,s),this[y])this.nextTick(e);else if(this[g])this[_].push(e);else if(this[g]=!0,this[_].push(e),this[u]){if(this[w]){this[h]()(new i("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))}}else this._close(this[m]);return e[s]}_close(e){this.nextTick(e)}[m](){this[y]=!0,this.db.detachResource(this);const e=this[_];this[_]=[];for(const t of e)t()}async*[Symbol.asyncIterator](){try{let e;for(;void 0!==(e=await this.next());)yield e}finally{this[y]||await this.close()}}}class P extends I{constructor(e,t){super(e,t,!0),this[k]=!1!==t.keys,this[S]=!1!==t.values}[c](e,t,n){const r=this[h]();if(e)return r(e);try{t=this[k]&&void 0!==t?this[b].decode(t):void 0,n=this[S]&&void 0!==n?this[v].decode(n):void 0}catch(e){return r(new M("entry",e))}void 0===t&&void 0===n||this[E]++,r(null,t,n)}[d](e,t){const n=this[h]();if(e)return this[p](n,e);try{for(const e of t){const t=e[0],n=e[1];e[0]=this[k]&&void 0!==t?this[b].decode(t):void 0,e[1]=this[S]&&void 0!==n?this[v].decode(n):void 0}}catch(e){return this[p](n,new M("entries",e))}this[E]+=t.length,this[p](n,null,t)}end(e){return C||"undefined"===typeof console||(C=!0,console.warn(new i("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(e)}}class M extends i{constructor(e,t){super(`Iterator could not decode ${e}`,{code:"LEVEL_DECODE_ERROR",cause:t})}}for(const L of["_ended property","_nexting property","_end method"])Object.defineProperty(P.prototype,L.split(" ")[0],{get(){throw new i(`The ${L} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new i(`The ${L} has been removed`,{code:"LEVEL_LEGACY"})}});P.keyEncoding=b,P.valueEncoding=v,t.AbstractIterator=P,t.AbstractKeyIterator=class extends I{constructor(e,t){super(e,t,!1)}[c](e,t){const n=this[h]();if(e)return n(e);try{t=void 0!==t?this[b].decode(t):void 0}catch(e){return n(new M("key",e))}void 0!==t&&this[E]++,n(null,t)}[d](e,t){const n=this[h]();if(e)return this[p](n,e);try{for(let e=0;e<t.length;e++){const n=t[e];t[e]=void 0!==n?this[b].decode(n):void 0}}catch(e){return this[p](n,new M("keys",e))}this[E]+=t.length,this[p](n,null,t)}},t.AbstractValueIterator=class extends I{constructor(e,t){super(e,t,!1)}[c](e,t){const n=this[h]();if(e)return n(e);try{t=void 0!==t?this[v].decode(t):void 0}catch(e){return n(new M("value",e))}void 0!==t&&this[E]++,n(null,t)}[d](e,t){const n=this[h]();if(e)return this[p](n,e);try{for(let e=0;e<t.length;e++){const n=t[e];t[e]=void 0!==n?this[v].decode(n):void 0}}catch(e){return this[p](n,new M("values",e))}this[E]+=t.length,this[p](n,null,t)}}},4942:(e,t,n)=>{"use strict";const{supports:r}=n(8315),{Transcoder:i}=n(836),{EventEmitter:a}=n(5070),{fromCallback:o}=n(6511),s=n(8393),{AbstractIterator:l}=n(3452),{DefaultKeyIterator:u,DefaultValueIterator:c}=n(8609),{DeferredIterator:d,DeferredKeyIterator:f,DeferredValueIterator:h}=n(547),{DefaultChainedBatch:p}=n(3550),{getCallback:g,getOptions:m}=n(2526),y=n(6349),_=Symbol("promise"),b=Symbol("landed"),v=Symbol("resources"),w=Symbol("closeResources"),x=Symbol("operations"),k=Symbol("undefer"),S=Symbol("deferOpen"),T=Symbol("options"),E=Symbol("status"),A=Symbol("defaultOptions"),O=Symbol("transcoder"),C=Symbol("keyEncoding"),I=Symbol("valueEncoding"),P=()=>{};class M extends a{constructor(e,t){if(super(),"object"!==typeof e||null===e)throw new TypeError("The first argument 'manifest' must be an object");t=m(t);const{keyEncoding:n,valueEncoding:a,passive:o,...s}=t;this[v]=new Set,this[x]=[],this[S]=!0,this[T]=s,this[E]="opening",this.supports=r(e,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:!1!==e.snapshots,permanence:!1!==e.permanence,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:e.encodings||{},events:Object.assign({},e.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[O]=new i(N(this)),this[C]=this[O].encoding(n||"utf8"),this[I]=this[O].encoding(a||"utf8");for(const r of this[O].encodings())this.supports.encodings[r.commonName]||(this.supports.encodings[r.commonName]=!0);this[A]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[C].commonName,valueEncoding:this[I].commonName}),key:Object.freeze({keyEncoding:this[C].commonName})},this.nextTick((()=>{this[S]&&this.open({passive:!1},P)}))}get status(){return this[E]}keyEncoding(e){return this[O].encoding(null!=e?e:this[C])}valueEncoding(e){return this[O].encoding(null!=e?e:this[I])}open(e,t){t=g(e,t),t=o(t,_),(e={...this[T],...m(e)}).createIfMissing=!1!==e.createIfMissing,e.errorIfExists=!!e.errorIfExists;const n=e=>{"closing"===this[E]||"opening"===this[E]?this.once(b,e?()=>n(e):n):"open"!==this[E]?t(new s("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:e})):t()};return e.passive?"opening"===this[E]?this.once(b,n):this.nextTick(n):"closed"===this[E]||this[S]?(this[S]=!1,this[E]="opening",this.emit("opening"),this._open(e,(e=>{if(e)return this[E]="closed",this[w]((()=>{this.emit(b),n(e)})),void this[k]();this[E]="open",this[k](),this.emit(b),"open"===this[E]&&this.emit("open"),"open"===this[E]&&this.emit("ready"),n()}))):"open"===this[E]?this.nextTick(n):this.once(b,(()=>this.open(e,t))),t[_]}_open(e,t){this.nextTick(t)}close(e){e=o(e,_);const t=n=>{"opening"===this[E]||"closing"===this[E]?this.once(b,n?t(n):t):"closed"!==this[E]?e(new s("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:n})):e()};if("open"===this[E]){this[E]="closing",this.emit("closing");const e=e=>{this[E]="open",this[k](),this.emit(b),t(e)};this[w]((()=>{this._close((n=>{if(n)return e(n);this[E]="closed",this[k](),this.emit(b),"closed"===this[E]&&this.emit("closed"),t()}))}))}else"closed"===this[E]?this.nextTick(t):this.once(b,(()=>this.close(e)));return e[_]}[w](e){if(0===this[v].size)return this.nextTick(e);let t=this[v].size,n=!0;const r=()=>{0===--t&&(n?this.nextTick(e):e())};for(const i of this[v])i.close(r);n=!1,this[v].clear()}_close(e){this.nextTick(e)}get(e,t,n){if(n=g(t,n),n=o(n,_),t=m(t,this[A].entry),"opening"===this[E])return this.defer((()=>this.get(e,t,n))),n[_];if(R(this,n))return n[_];const r=this._checkKey(e);if(r)return this.nextTick(n,r),n[_];const i=this.keyEncoding(t.keyEncoding),a=this.valueEncoding(t.valueEncoding),l=i.format,u=a.format;return t.keyEncoding===l&&t.valueEncoding===u||(t=Object.assign({},t,{keyEncoding:l,valueEncoding:u})),this._get(this.prefixKey(i.encode(e),l),t,((e,t)=>{if(e)return("LEVEL_NOT_FOUND"===e.code||e.notFound||/NotFound/i.test(e))&&(e.code||(e.code="LEVEL_NOT_FOUND"),e.notFound||(e.notFound=!0),e.status||(e.status=404)),n(e);try{t=a.decode(t)}catch(e){return n(new s("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:e}))}n(null,t)})),n[_]}_get(e,t,n){this.nextTick(n,new Error("NotFound"))}getMany(e,t,n){if(n=g(t,n),n=o(n,_),t=m(t,this[A].entry),"opening"===this[E])return this.defer((()=>this.getMany(e,t,n))),n[_];if(R(this,n))return n[_];if(!Array.isArray(e))return this.nextTick(n,new TypeError("The first argument 'keys' must be an array")),n[_];if(0===e.length)return this.nextTick(n,null,[]),n[_];const r=this.keyEncoding(t.keyEncoding),i=this.valueEncoding(t.valueEncoding),a=r.format,l=i.format;t.keyEncoding===a&&t.valueEncoding===l||(t=Object.assign({},t,{keyEncoding:a,valueEncoding:l}));const u=new Array(e.length);for(let o=0;o<e.length;o++){const t=e[o],i=this._checkKey(t);if(i)return this.nextTick(n,i),n[_];u[o]=this.prefixKey(r.encode(t),a)}return this._getMany(u,t,((e,t)=>{if(e)return n(e);try{for(let e=0;e<t.length;e++)void 0!==t[e]&&(t[e]=i.decode(t[e]))}catch(e){return n(new s(`Could not decode one or more of ${t.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:e}))}n(null,t)})),n[_]}_getMany(e,t,n){this.nextTick(n,null,new Array(e.length).fill(void 0))}put(e,t,n,r){if(r=g(n,r),r=o(r,_),n=m(n,this[A].entry),"opening"===this[E])return this.defer((()=>this.put(e,t,n,r))),r[_];if(R(this,r))return r[_];const i=this._checkKey(e)||this._checkValue(t);if(i)return this.nextTick(r,i),r[_];const a=this.keyEncoding(n.keyEncoding),s=this.valueEncoding(n.valueEncoding),l=a.format,u=s.format;n.keyEncoding===l&&n.valueEncoding===u||(n=Object.assign({},n,{keyEncoding:l,valueEncoding:u}));const c=this.prefixKey(a.encode(e),l),d=s.encode(t);return this._put(c,d,n,(n=>{if(n)return r(n);this.emit("put",e,t),r()})),r[_]}_put(e,t,n,r){this.nextTick(r)}del(e,t,n){if(n=g(t,n),n=o(n,_),t=m(t,this[A].key),"opening"===this[E])return this.defer((()=>this.del(e,t,n))),n[_];if(R(this,n))return n[_];const r=this._checkKey(e);if(r)return this.nextTick(n,r),n[_];const i=this.keyEncoding(t.keyEncoding),a=i.format;return t.keyEncoding!==a&&(t=Object.assign({},t,{keyEncoding:a})),this._del(this.prefixKey(i.encode(e),a),t,(t=>{if(t)return n(t);this.emit("del",e),n()})),n[_]}_del(e,t,n){this.nextTick(n)}batch(e,t,n){if(!arguments.length){if("opening"===this[E])return new p(this);if("open"!==this[E])throw new s("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(n="function"===typeof e?e:g(t,n),n=o(n,_),t=m(t,this[A].empty),"opening"===this[E])return this.defer((()=>this.batch(e,t,n))),n[_];if(R(this,n))return n[_];if(!Array.isArray(e))return this.nextTick(n,new TypeError("The first argument 'operations' must be an array")),n[_];if(0===e.length)return this.nextTick(n),n[_];const r=new Array(e.length),{keyEncoding:i,valueEncoding:a,...l}=t;for(let o=0;o<e.length;o++){if("object"!==typeof e[o]||null===e[o])return this.nextTick(n,new TypeError("A batch operation must be an object")),n[_];const t=Object.assign({},e[o]);if("put"!==t.type&&"del"!==t.type)return this.nextTick(n,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),n[_];const s=this._checkKey(t.key);if(s)return this.nextTick(n,s),n[_];const l=null!=t.sublevel?t.sublevel:this,u=l.keyEncoding(t.keyEncoding||i),c=u.format;if(t.key=l.prefixKey(u.encode(t.key),c),t.keyEncoding=c,"put"===t.type){const e=this._checkValue(t.value);if(e)return this.nextTick(n,e),n[_];const r=l.valueEncoding(t.valueEncoding||a);t.value=r.encode(t.value),t.valueEncoding=r.format}l!==this&&(t.sublevel=null),r[o]=t}return this._batch(r,l,(t=>{if(t)return n(t);this.emit("batch",e),n()})),n[_]}_batch(e,t,n){this.nextTick(n)}sublevel(e,t){return this._sublevel(e,L.defaults(t))}_sublevel(e,t){return new L(this,e,t)}prefixKey(e,t){return e}clear(e,t){if(t=g(e,t),t=o(t,_),e=m(e,this[A].empty),"opening"===this[E])return this.defer((()=>this.clear(e,t))),t[_];if(R(this,t))return t[_];const n=e,r=this.keyEncoding(e.keyEncoding);return(e=y(e,r)).keyEncoding=r.format,0===e.limit?this.nextTick(t):this._clear(e,(e=>{if(e)return t(e);this.emit("clear",n),t()})),t[_]}_clear(e,t){this.nextTick(t)}iterator(e){const t=this.keyEncoding(e&&e.keyEncoding),n=this.valueEncoding(e&&e.valueEncoding);if((e=y(e,t)).keys=!1!==e.keys,e.values=!1!==e.values,e[l.keyEncoding]=t,e[l.valueEncoding]=n,e.keyEncoding=t.format,e.valueEncoding=n.format,"opening"===this[E])return new d(this,e);if("open"!==this[E])throw new s("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(e)}_iterator(e){return new l(this,e)}keys(e){const t=this.keyEncoding(e&&e.keyEncoding),n=this.valueEncoding(e&&e.valueEncoding);if((e=y(e,t))[l.keyEncoding]=t,e[l.valueEncoding]=n,e.keyEncoding=t.format,e.valueEncoding=n.format,"opening"===this[E])return new f(this,e);if("open"!==this[E])throw new s("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(e)}_keys(e){return new u(this,e)}values(e){const t=this.keyEncoding(e&&e.keyEncoding),n=this.valueEncoding(e&&e.valueEncoding);if((e=y(e,t))[l.keyEncoding]=t,e[l.valueEncoding]=n,e.keyEncoding=t.format,e.valueEncoding=n.format,"opening"===this[E])return new h(this,e);if("open"!==this[E])throw new s("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(e)}_values(e){return new c(this,e)}defer(e){if("function"!==typeof e)throw new TypeError("The first argument must be a function");this[x].push(e)}[k](){if(0===this[x].length)return;const e=this[x];this[x]=[];for(const t of e)t()}attachResource(e){if("object"!==typeof e||null===e||"function"!==typeof e.close)throw new TypeError("The first argument must be a resource object");this[v].add(e)}detachResource(e){this[v].delete(e)}_chainedBatch(){return new p(this)}_checkKey(e){if(null===e||void 0===e)return new s("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(e){if(null===e||void 0===e)return new s("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}}M.prototype.nextTick=n(167);const{AbstractSublevel:L}=n(334)({AbstractLevel:M});t.AbstractLevel=M,t.AbstractSublevel=L;const R=function(e,t){return"open"!==e[E]&&(e.nextTick(t,new s("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0)},N=function(e){return Object.keys(e.supports.encodings).filter((t=>!!e.supports.encodings[t]))}},4863:(e,t,n)=>{"use strict";t.AbstractLevel=n(4942).AbstractLevel,t.AbstractSublevel=n(4942).AbstractSublevel,t.AbstractIterator=n(3452).AbstractIterator,t.AbstractKeyIterator=n(3452).AbstractKeyIterator,t.AbstractValueIterator=n(3452).AbstractValueIterator,t.AbstractChainedBatch=n(3421).AbstractChainedBatch},1437:(e,t,n)=>{"use strict";const{AbstractIterator:r,AbstractKeyIterator:i,AbstractValueIterator:a}=n(3452),o=Symbol("unfix"),s=Symbol("iterator"),l=Symbol("handleOne"),u=Symbol("handleMany"),c=Symbol("callback");class d extends r{constructor(e,t,n,r){super(e,t),this[s]=n,this[o]=r,this[l]=this[l].bind(this),this[u]=this[u].bind(this),this[c]=null}[l](e,t,n){const r=this[c];if(e)return r(e);void 0!==t&&(t=this[o](t)),r(e,t,n)}[u](e,t){const n=this[c];if(e)return n(e);for(const r of t){const e=r[0];void 0!==e&&(r[0]=this[o](e))}n(e,t)}}class f extends i{constructor(e,t,n,r){super(e,t),this[s]=n,this[o]=r,this[l]=this[l].bind(this),this[u]=this[u].bind(this),this[c]=null}[l](e,t){const n=this[c];if(e)return n(e);void 0!==t&&(t=this[o](t)),n(e,t)}[u](e,t){const n=this[c];if(e)return n(e);for(let r=0;r<t.length;r++){const e=t[r];void 0!==e&&(t[r]=this[o](e))}n(e,t)}}class h extends a{constructor(e,t,n){super(e,t),this[s]=n}}for(const p of[d,f])p.prototype._next=function(e){this[c]=e,this[s].next(this[l])},p.prototype._nextv=function(e,t,n){this[c]=n,this[s].nextv(e,t,this[u])},p.prototype._all=function(e,t){this[c]=t,this[s].all(e,this[u])};for(const p of[h])p.prototype._next=function(e){this[s].next(e)},p.prototype._nextv=function(e,t,n){this[s].nextv(e,t,n)},p.prototype._all=function(e,t){this[s].all(e,t)};for(const p of[d,f,h])p.prototype._seek=function(e,t){this[s].seek(e,t)},p.prototype._close=function(e){this[s].close(e)};t.AbstractSublevelIterator=d,t.AbstractSublevelKeyIterator=f,t.AbstractSublevelValueIterator=h},334:(e,t,n)=>{"use strict";const r=n(8393),{Buffer:i}=n(3880)||{},{AbstractSublevelIterator:a,AbstractSublevelKeyIterator:o,AbstractSublevelValueIterator:s}=n(1437),l=Symbol("prefix"),u=Symbol("upperBound"),c=Symbol("prefixRange"),d=Symbol("parent"),f=Symbol("unfix"),h=new TextEncoder,p={separator:"!"};e.exports=function({AbstractLevel:e}){class t extends e{static defaults(e){if("string"===typeof e)throw new r("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(e&&e.open)throw new r("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return null==e?p:e.separator?e:{...e,separator:"!"}}constructor(e,n,i){const{separator:a,manifest:o,...s}=t.defaults(i);n=b(n,a);const c=a.charCodeAt(0)+1,p=e[d]||e;if(!h.encode(n).every((e=>e>c&&e<127)))throw new r(`Prefix must use bytes > ${c} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(g(p,o),s);const m=(e.prefix||"")+a+n+a,v=m.slice(0,-1)+String.fromCharCode(c);this[d]=p,this[l]=new y(m),this[u]=new y(v),this[f]=new _,this.nextTick=p.nextTick}prefixKey(e,t){if("utf8"===t)return this[l].utf8+e;if(0===e.byteLength)return this[l][t];if("view"===t){const t=this[l].view,n=new Uint8Array(t.byteLength+e.byteLength);return n.set(t,0),n.set(e,t.byteLength),n}{const t=this[l].buffer;return i.concat([t,e],t.byteLength+e.byteLength)}}[c](e,t){void 0!==e.gte?e.gte=this.prefixKey(e.gte,t):void 0!==e.gt?e.gt=this.prefixKey(e.gt,t):e.gte=this[l][t],void 0!==e.lte?e.lte=this.prefixKey(e.lte,t):void 0!==e.lt?e.lt=this.prefixKey(e.lt,t):e.lte=this[u][t]}get prefix(){return this[l].utf8}get db(){return this[d]}_open(e,t){this[d].open({passive:!0},t)}_put(e,t,n,r){this[d].put(e,t,n,r)}_get(e,t,n){this[d].get(e,t,n)}_getMany(e,t,n){this[d].getMany(e,t,n)}_del(e,t,n){this[d].del(e,t,n)}_batch(e,t,n){this[d].batch(e,t,n)}_clear(e,t){this[c](e,e.keyEncoding),this[d].clear(e,t)}_iterator(e){this[c](e,e.keyEncoding);const t=this[d].iterator(e),n=this[f].get(this[l].utf8.length,e.keyEncoding);return new a(this,e,t,n)}_keys(e){this[c](e,e.keyEncoding);const t=this[d].keys(e),n=this[f].get(this[l].utf8.length,e.keyEncoding);return new o(this,e,t,n)}_values(e){this[c](e,e.keyEncoding);const t=this[d].values(e);return new s(this,e,t)}}return{AbstractSublevel:t}};const g=function(e,t){return{...e.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...t,encodings:{utf8:m(e,"utf8"),buffer:m(e,"buffer"),view:m(e,"view")}}},m=function(e,t){return!!e.supports.encodings[t]&&e.keyEncoding(t).name===t};class y{constructor(e){this.utf8=e,this.view=h.encode(e),this.buffer=i?i.from(this.view.buffer,0,this.view.byteLength):{}}}class _{constructor(){this.cache=new Map}get(e,t){let n=this.cache.get(t);return void 0===n&&(n="view"===t?function(e,t){return t.subarray(e)}.bind(null,e):function(e,t){return t.slice(e)}.bind(null,e),this.cache.set(t,n)),n}}const b=function(e,t){let n=0,r=e.length;for(;n<r&&e[n]===t;)n++;for(;r>n&&e[r-1]===t;)r--;return e.slice(n,r)}},2526:(e,t)=>{"use strict";t.getCallback=function(e,t){return"function"===typeof e?e:t},t.getOptions=function(e,t){return"object"===typeof e&&null!==e?e:void 0!==t?t:{}}},3550:(e,t,n)=>{"use strict";const{AbstractChainedBatch:r}=n(3421),i=n(8393),a=Symbol("encoded");t.DefaultChainedBatch=class extends r{constructor(e){super(e),this[a]=[]}_put(e,t,n){this[a].push({...n,type:"put",key:e,value:t})}_del(e,t){this[a].push({...t,type:"del",key:e})}_clear(){this[a]=[]}_write(e,t){"opening"===this.db.status?this.db.defer((()=>this._write(e,t))):"open"===this.db.status?0===this[a].length?this.nextTick(t):this.db._batch(this[a],e,t):this.nextTick(t,new i("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}}},8609:(e,t,n)=>{"use strict";const{AbstractKeyIterator:r,AbstractValueIterator:i}=n(3452),a=Symbol("iterator"),o=Symbol("callback"),s=Symbol("handleOne"),l=Symbol("handleMany");class u extends r{constructor(e,t){super(e,t),this[a]=e.iterator({...t,keys:!0,values:!1}),this[s]=this[s].bind(this),this[l]=this[l].bind(this)}}class c extends i{constructor(e,t){super(e,t),this[a]=e.iterator({...t,keys:!1,values:!0}),this[s]=this[s].bind(this),this[l]=this[l].bind(this)}}for(const d of[u,c]){const e=d===u,t=e?e=>e[0]:e=>e[1];d.prototype._next=function(e){this[o]=e,this[a].next(this[s])},d.prototype[s]=function(t,n,r){const i=this[o];t?i(t):i(null,e?n:r)},d.prototype._nextv=function(e,t,n){this[o]=n,this[a].nextv(e,t,this[l])},d.prototype._all=function(e,t){this[o]=t,this[a].all(e,this[l])},d.prototype[l]=function(e,n){const r=this[o];e?r(e):r(null,n.map(t))},d.prototype._seek=function(e,t){this[a].seek(e,t)},d.prototype._close=function(e){this[a].close(e)}}t.DefaultKeyIterator=u,t.DefaultValueIterator=c},547:(e,t,n)=>{"use strict";const{AbstractIterator:r,AbstractKeyIterator:i,AbstractValueIterator:a}=n(3452),o=n(8393),s=Symbol("nut"),l=Symbol("undefer"),u=Symbol("factory");class c extends r{constructor(e,t){super(e,t),this[s]=null,this[u]=()=>e.iterator(t),this.db.defer((()=>this[l]()))}}class d extends i{constructor(e,t){super(e,t),this[s]=null,this[u]=()=>e.keys(t),this.db.defer((()=>this[l]()))}}class f extends a{constructor(e,t){super(e,t),this[s]=null,this[u]=()=>e.values(t),this.db.defer((()=>this[l]()))}}for(const h of[c,d,f])h.prototype[l]=function(){"open"===this.db.status&&(this[s]=this[u]())},h.prototype._next=function(e){null!==this[s]?this[s].next(e):"opening"===this.db.status?this.db.defer((()=>this._next(e))):this.nextTick(e,new o("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},h.prototype._nextv=function(e,t,n){null!==this[s]?this[s].nextv(e,t,n):"opening"===this.db.status?this.db.defer((()=>this._nextv(e,t,n))):this.nextTick(n,new o("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},h.prototype._all=function(e,t){null!==this[s]?this[s].all(t):"opening"===this.db.status?this.db.defer((()=>this._all(e,t))):this.nextTick(t,new o("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},h.prototype._seek=function(e,t){null!==this[s]?this[s]._seek(e,t):"opening"===this.db.status&&this.db.defer((()=>this._seek(e,t)))},h.prototype._close=function(e){null!==this[s]?this[s].close(e):"opening"===this.db.status?this.db.defer((()=>this._close(e))):this.nextTick(e)};t.DeferredIterator=c,t.DeferredKeyIterator=d,t.DeferredValueIterator=f},167:(e,t,n)=>{"use strict";const r=n(165);e.exports=function(e,...t){0===t.length?r(e):r((()=>e(...t)))}},6349:(e,t,n)=>{"use strict";const r=n(8393),i=Object.prototype.hasOwnProperty,a=new Set(["lt","lte","gt","gte"]);e.exports=function(e,t){const n={};for(const o in e)if(i.call(e,o)&&"keyEncoding"!==o&&"valueEncoding"!==o){if("start"===o||"end"===o)throw new r(`The legacy range option '${o}' has been removed`,{code:"LEVEL_LEGACY"});if("encoding"===o)throw new r("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});a.has(o)?n[o]=t.encode(e[o]):n[o]=e[o]}return n.reverse=!!n.reverse,n.limit=Number.isInteger(n.limit)&&n.limit>=0?n.limit:-1,n}},6127:e=>{function t(e,t,n){for(var r=0;r<n.length;r++)e.setUint8(t+r,n.charCodeAt(r))}e.exports=function(e,n){n=n||{};var r,i=e.numberOfChannels,a=e.sampleRate,o=n.float32?3:1,s=3===o?32:16;r=2===i?function(e,t){var n=e.length+t.length,r=new Float32Array(n),i=0,a=0;for(;i<n;)r[i++]=e[a],r[i++]=t[a],a++;return r}(e.getChannelData(0),e.getChannelData(1)):e.getChannelData(0);return function(e,n,r,i,a){var o=a/8,s=i*o,l=new ArrayBuffer(44+e.length*o),u=new DataView(l);t(u,0,"RIFF"),u.setUint32(4,36+e.length*o,!0),t(u,8,"WAVE"),t(u,12,"fmt "),u.setUint32(16,16,!0),u.setUint16(20,n,!0),u.setUint16(22,i,!0),u.setUint32(24,r,!0),u.setUint32(28,r*s,!0),u.setUint16(32,s,!0),u.setUint16(34,a,!0),t(u,36,"data"),u.setUint32(40,e.length*o,!0),1===n?function(e,t,n){for(var r=0;r<n.length;r++,t+=2){var i=Math.max(-1,Math.min(1,n[r]));e.setInt16(t,i<0?32768*i:32767*i,!0)}}(u,44,e):function(e,t,n){for(var r=0;r<n.length;r++,t+=4)e.setFloat32(t,n[r],!0)}(u,44,e);return l}(r,o,a,i,s)}},8040:e=>{e.exports=class{constructor(e){e=e||{},this.aContext=this._getContext(),this.sampleRate=this.aContext.sampleRate,this.outputType=e.type||"wav"}_getContext(){return window.AudioContext=window.AudioContext||window.webkitAudioContext||window.mozAudioContext,new AudioContext}_getArrayBuffer(e){let t;return t=e&&e instanceof Blob?e.arrayBuffer():fetch(e,{mode:"no-cors"}).then((e=>e.arrayBuffer())),t}trim(e,t,n){return new Promise((async r=>{let i=this;i._getArrayBuffer(e).then((async e=>{await i.aContext.decodeAudioData(e).then((e=>{let a,o=e.sampleRate*t,s=n?e.sampleRate*n:e.sampleRate*e.duration;a=2===e.numberOfChannels?i.interleave(e.getChannelData(0).slice(o,s),e.getChannelData(1).slice(o,s)):e.getChannelData(0).slice(o,s),r(i._exportAudio(a,e.numberOfChannels))}))}))}))}add(e){return new Promise((async t=>{let n=this,r=e.map((async e=>await n._getArrayBuffer(e).then((e=>n.aContext.decodeAudioData(e)))));Promise.all(r).then((e=>{let r=[];e.forEach((e=>{2===e.numberOfChannels?r.push(Array.from(n.interleave(e.getChannelData(0),e.getChannelData(1)))):r.push(Array.from(e.getChannelData(0)))}));let i=r.flat();t(n._exportAudio(new Float32Array(i),e[0].numberOfChannels))}))}))}merge(e){return new Promise((async t=>{let n=this,r=e.map((async e=>await n._getArrayBuffer(e).then((e=>n.aContext.decodeAudioData(e)))));Promise.all(r).then((e=>{let r=Math.max(...e.map((e=>e.numberOfChannels)),0),i=Math.max(...e.map((e=>e.duration)),0);var a=n.aContext.createBuffer(r,n.aContext.sampleRate*i,n.aContext.sampleRate);let o;e.forEach((e=>{for(var t=0;t<e.numberOfChannels;t++)for(var n=a.getChannelData(t),r=e.getChannelData(t),i=0;i<r.length;i++)n[i]+=r[i]})),o=2===r?n.interleave(a.getChannelData(0),a.getChannelData(1)):a.getChannelData(0),t(n._exportAudio(o,r))}))}))}loop(e,t=0){return new Promise((async n=>{let r=this,i=[],a=await r._getArrayBuffer(e).then((e=>r.aContext.decodeAudioData(e)));for(let e=0;e<=t;e++)2===a.numberOfChannels?i.push(Array.from(r.interleave(a.getChannelData(0),a.getChannelData(1)))):i.push(Array.from(a.getChannelData(0)));n(r._exportAudio(new Float32Array(i.flat()),a.numberOfChannels))}))}reverse(e){return new Promise((async t=>{let n=this,r=[],i=await n._getArrayBuffer(e).then((e=>n.aContext.decodeAudioData(e)));r=2===i.numberOfChannels?Array.from(n.interleave(i.getChannelData(0),i.getChannelData(1))).reverse():Array.from(i.getChannelData(0)).reverse(),t(n._exportAudio(new Float32Array(r),i.numberOfChannels))}))}timeline(e){return new Promise((async t=>{let n=this,r=[...e],i=[],a=e=>{let o;n._getArrayBuffer(r[e].audio).then((s=>{n.aContext.decodeAudioData(s).then((s=>{if(r[e].audioBuffer=s,r[e].trim&&r[e].trim instanceof Array){let t=r[e].trim[0],i=r[e].trim[1]?r[e].trim[1]:s.duration;o=2===s.numberOfChannels?Array.from(n.interleave(s.getChannelData(0).slice(s.sampleRate*t,s.sampleRate*i),s.getChannelData(1).slice(s.sampleRate*t,s.sampleRate*i))):Array.from(s.getChannelData(0).slice(s.sampleRate*t,s.sampleRate*i))}else o=2===s.numberOfChannels?Array.from(n.interleave(s.getChannelData(0),s.getChannelData(1))):Array.from(s.getChannelData(0));if(r[e].reverse&&(o=o.reverse()),r[e].loop&&"number"==typeof r[e].loop)for(let t=0;t<r[e].loop;t++)o.push(o);if(r[e].modifedArray=o.flat(),i.push(r[e].modifedArray),r.length===i.length){let e=Math.max(...r.map((e=>e.audioBuffer.numberOfChannels)),0);t(n._exportAudio(new Float32Array(i.flat()),e))}else o=null,a(e+1)}))}))};a(0)}))}_exportAudio(e,t){let n,r,i=this;if("wav"==i.outputType){let a=3,o=32;n=i.encodeWAV(e,a,i.sampleRate,t,o),r=new Blob([new Uint8Array(n)],{type:"audio/wav"})}return r}interleave(e,t){let n=e.length+t.length,r=new Float32Array(n),i=0,a=0;for(;i<n;)r[i++]=e[a],r[i++]=t[a],a++;return r}writeString(e,t,n){for(var r=0;r<n.length;r++)e.setUint8(t+r,n.charCodeAt(r))}writeFloat32(e,t,n){for(var r=0;r<n.length;r++,t+=4)e.setFloat32(t,n[r],!0)}floatTo16BitPCM(e,t,n){for(var r=0;r<n.length;r++,t+=2){var i=Math.max(-1,Math.min(1,n[r]));e.setInt16(t,i<0?32768*i:32767*i,!0)}}encodeWAV(e,t,n,r,i){let a=this,o=i/8,s=r*o,l=new ArrayBuffer(44+e.length*o),u=new DataView(l);return a.writeString(u,0,"RIFF"),u.setUint32(4,36+e.length*o,!0),a.writeString(u,8,"WAVE"),a.writeString(u,12,"fmt "),u.setUint32(16,16,!0),u.setUint16(20,t,!0),u.setUint16(22,r,!0),u.setUint32(24,n,!0),u.setUint32(28,n*s,!0),u.setUint16(32,s,!0),u.setUint16(34,i,!0),a.writeString(u,36,"data"),u.setUint32(40,e.length*o,!0),a.writeFloat32(u,44,e),l}}},3703:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,a=s(e),o=a[0],l=a[1],u=new i(function(e,t,n){return 3*(t+n)/4-n}(0,o,l)),c=0,d=l>0?o-4:o;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;2===l&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[c++]=255&t);1===l&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=[],o=16383,s=0,u=r-i;s<u;s+=o)a.push(l(e,s,s+o>u?u:s+o));1===i?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return a.join("")};for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)n[o]=a[o],r[a.charCodeAt(o)]=o;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var i,a,o=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[(a=i)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},2253:(e,t,n)=>{"use strict";const{AbstractLevel:r}=n(4863),i=n(8393),a=n(4323),{fromCallback:o}=n(6511),{Iterator:s}=n(3155),l=n(6517),u=n(4023),c=n(665),d="level-js-",f=Symbol("idb"),h=Symbol("namePrefix"),p=Symbol("location"),g=Symbol("version"),m=Symbol("store"),y=Symbol("onComplete"),_=Symbol("promise");class b extends r{constructor(e,t,n){if("function"===typeof t||"function"===typeof n)throw new i("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});const{prefix:r,version:a,...o}=t||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},o),"string"!==typeof e)throw new Error("constructor requires a location string argument");this[p]=e,this[h]=null==r?d:r,this[g]=parseInt(a||1,10),this[f]=null}get location(){return this[p]}get namePrefix(){return this[h]}get version(){return this[g]}get db(){return this[f]}get type(){return"browser-level"}_open(e,t){const n=indexedDB.open(this[h]+this[p],this[g]);n.onerror=function(){t(n.error||new Error("unknown error"))},n.onsuccess=()=>{this[f]=n.result,t()},n.onupgradeneeded=e=>{const t=e.target.result;t.objectStoreNames.contains(this[p])||t.createObjectStore(this[p])}}[m](e){return this[f].transaction([this[p]],e).objectStore(this[p])}[y](e,t){const n=e.transaction;n.onabort=function(){t(n.error||new Error("aborted by user"))},n.oncomplete=function(){t(null,e.result)}}_get(e,t,n){const r=this[m]("readonly");let a;try{a=r.get(e)}catch(o){return this.nextTick(n,o)}this[y](a,(function(e,t){return e?n(e):void 0===t?n(new i("Entry not found",{code:"LEVEL_NOT_FOUND"})):void n(null,l(t))}))}_getMany(e,t,n){const r=this[m]("readonly"),i=e.map((e=>t=>{let n;try{n=r.get(e)}catch(i){return t(i)}n.onsuccess=()=>{const e=n.result;t(null,void 0===e?e:l(e))},n.onerror=e=>{e.stopPropagation(),t(n.error)}}));a(i,16,n)}_del(e,t,n){const r=this[m]("readwrite");let i;try{i=r.delete(e)}catch(a){return this.nextTick(n,a)}this[y](i,n)}_put(e,t,n,r){const i=this[m]("readwrite");let a;try{a=i.put(t,e)}catch(o){return this.nextTick(r,o)}this[y](a,r)}_iterator(e){return new s(this,this[p],e)}_batch(e,t,n){const r=this[m]("readwrite"),i=r.transaction;let a,o=0;i.onabort=function(){n(a||i.error||new Error("aborted by user"))},i.oncomplete=function(){n()},function t(){const n=e[o++],s=n.key;let l;try{l="del"===n.type?r.delete(s):r.put(n.value,s)}catch(u){return a=u,void i.abort()}o<e.length?l.onsuccess=t:"function"===typeof i.commit&&i.commit()}()}_clear(e,t){let n,r;try{n=c(e)}catch(i){return this.nextTick(t)}if(e.limit>=0)return u(this,this[p],n,e,t);try{const e=this[m]("readwrite");r=n?e.delete(n):e.clear()}catch(a){return this.nextTick(t,a)}this[y](r,t)}_close(e){this[f].close(),this.nextTick(e)}}b.destroy=function(e,t,n){"function"===typeof t&&(n=t,t=d),n=o(n,_);const r=indexedDB.deleteDatabase(t+e);return r.onsuccess=function(){n()},r.onerror=function(e){n(e)},n[_]},t.BrowserLevel=b},3155:(e,t,n)=>{"use strict";const{AbstractIterator:r}=n(4863),i=n(665),a=n(6517),o=Symbol("cache"),s=Symbol("finished"),l=Symbol("options"),u=Symbol("currentOptions"),c=Symbol("position"),d=Symbol("location"),f=Symbol("first"),h={};function p(e){"function"===typeof e.commit&&e.commit()}t.Iterator=class extends r{constructor(e,t,n){super(e,n),this[o]=[],this[s]=0===this.limit,this[l]=n,this[u]={...n},this[c]=void 0,this[d]=t,this[f]=!0}_nextv(e,t,n){if(this[f]=!1,this[s])return this.nextTick(n,null,[]);if(this[o].length>0)return e=Math.min(e,this[o].length),this.nextTick(n,null,this[o].splice(0,e));let r;void 0!==this[c]&&(this[l].reverse?(this[u].lt=this[c],this[u].lte=void 0):(this[u].gt=this[c],this[u].gte=void 0));try{r=i(this[u])}catch(y){return this[s]=!0,this.nextTick(n,null,[])}const h=this.db.db.transaction([this[d]],"readonly"),g=h.objectStore(this[d]),m=[];if(this[l].reverse){g[!this[l].values&&g.openKeyCursor?"openKeyCursor":"openCursor"](r,"prev").onsuccess=t=>{const n=t.target.result;if(n){const{key:t,value:r}=n;this[c]=t,m.push([this[l].keys&&void 0!==t?a(t):void 0,this[l].values&&void 0!==r?a(r):void 0]),m.length<e?n.continue():p(h)}else this[s]=!0}}else{let t,n;const i=()=>{if(void 0===t||void 0===n)return;const r=Math.max(t.length,n.length);0===r||e===1/0?this[s]=!0:this[c]=t[r-1],m.length=r;for(let e=0;e<r;e++){const r=t[e],i=n[e];m[e]=[this[l].keys&&void 0!==r?a(r):void 0,this[l].values&&void 0!==i?a(i):void 0]}p(h)};this[l].keys||e<1/0?g.getAllKeys(r,e<1/0?e:void 0).onsuccess=e=>{t=e.target.result,i()}:(t=[],this.nextTick(i)),this[l].values?g.getAll(r,e<1/0?e:void 0).onsuccess=e=>{n=e.target.result,i()}:(n=[],this.nextTick(i))}h.onabort=()=>{n(h.error||new Error("aborted by user")),n=null},h.oncomplete=()=>{n(null,m),n=null}}_next(e){if(this[o].length>0){const[t,n]=this[o].shift();this.nextTick(e,null,t,n)}else if(this[s])this.nextTick(e);else{let t=Math.min(100,this.limit-this.count);this[f]&&(this[f]=!1,t=1),this._nextv(t,h,((t,n)=>{if(t)return e(t);this[o]=n,this._next(e)}))}}_all(e,t){this[f]=!1;const n=this[o].splice(0,this[o].length),r=this.limit-this.count-n.length;if(r<=0)return this.nextTick(t,null,n);this._nextv(r,h,((e,r)=>{if(e)return t(e);n.length>0&&(r=n.concat(r)),t(null,r)}))}_seek(e,t){let n;this[f]=!0,this[o]=[],this[s]=!1,this[c]=void 0,this[u]={...this[l]};try{n=i(this[l])}catch(r){return void(this[s]=!0)}null===n||n.includes(e)?this[l].reverse?this[u].lte=e:this[u].gte=e:this[s]=!0}}},4023:e=>{"use strict";e.exports=function(e,t,n,r,i){if(0===r.limit)return e.nextTick(i);const a=e.db.transaction([t],"readwrite"),o=a.objectStore(t);let s=0;a.oncomplete=function(){i()},a.onabort=function(){i(a.error||new Error("aborted by user"))};const l=o.openKeyCursor?"openKeyCursor":"openCursor",u=r.reverse?"prev":"next";o[l](n,u).onsuccess=function(e){const t=e.target.result;t&&(o.delete(t.key).onsuccess=function(){(r.limit<=0||++s<r.limit)&&t.continue()})}}},6517:e=>{"use strict";const t=new TextEncoder;e.exports=function(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):t.encode(e)}},665:e=>{"use strict";e.exports=function(e){const t=void 0!==e.gte?e.gte:void 0!==e.gt?e.gt:void 0,n=void 0!==e.lte?e.lte:void 0!==e.lt?e.lt:void 0,r=void 0===e.gte,i=void 0===e.lte;return void 0!==t&&void 0!==n?IDBKeyRange.bound(t,n,r,i):void 0!==t?IDBKeyRange.lowerBound(t,r):void 0!==n?IDBKeyRange.upperBound(n,i):null}},3880:(e,t,n)=>{"use strict";const r=n(3703),i=n(9782),a="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50;const o=2147483647;function s(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return u(e,t,n)}function u(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|g(e,t);let r=s(n);const i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Z(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Z(e,ArrayBuffer)||e&&Z(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(Z(e,SharedArrayBuffer)||e&&Z(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);const i=function(e){if(l.isBuffer(e)){const t=0|p(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||X(e.length)?s(0):f(e);if("Buffer"===e.type&&Array.isArray(e.data))return f(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return c(e),s(e<0?0:0|p(e))}function f(e){const t=e.length<0?0:0|p(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function p(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function g(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Z(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(i)return r?-1:G(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function _(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),X(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){let a,o=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,n/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let r=-1;for(a=n;a<s;a++)if(u(e,a)===u(t,-1===r?0:a-r)){if(-1===r&&(r=a),a-r+1===l)return r*o}else-1!==r&&(a-=a-r),r=-1}else for(n+l>s&&(n=s-l),a=n;a>=0;a--){let n=!0;for(let r=0;r<l;r++)if(u(e,a+r)!==u(t,r)){n=!1;break}if(n)return a}return-1}function v(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const a=t.length;let o;for(r>a/2&&(r=a/2),o=0;o<r;++o){const r=parseInt(t.substr(2*o,2),16);if(X(r))return o;e[n+o]=r}return o}function w(e,t,n,r){return K(G(t,e.length-n),e,n,r)}function x(e,t,n,r){return K(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function k(e,t,n,r){return K(q(t),e,n,r)}function S(e,t,n,r){return K(function(e,t){let n,r,i;const a=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let a=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=n){let n,r,s,l;switch(o){case 1:t<128&&(a=t);break;case 2:n=e[i+1],128===(192&n)&&(l=(31&t)<<6|63&n,l>127&&(a=l));break;case 3:n=e[i+1],r=e[i+2],128===(192&n)&&128===(192&r)&&(l=(15&t)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(a=l));break;case 4:n=e[i+1],r=e[i+2],s=e[i+3],128===(192&n)&&128===(192&r)&&128===(192&s)&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,l>65535&&l<1114112&&(a=l))}}null===a?(a=65533,o=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=o}return function(e){const t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}(r)}t.kMaxLength=o,l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return c(e),e<=0?s(e):void 0!==t?"string"===typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},l.allocUnsafe=function(e){return d(e)},l.allocUnsafeSlow=function(e){return d(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(Z(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),Z(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=l.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(Z(t,Uint8Array))i+t.length>r.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},l.byteLength=g,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?E(this,0,e):m.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},a&&(l.prototype[a]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,i){if(Z(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0);const s=Math.min(a,o),u=this.slice(r,i),c=e.slice(t,n);for(let l=0;l<s;++l)if(u[l]!==c[l]){a=u[l],o=c[l];break}return a<o?-1:o<a?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return _(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return _(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let a=!1;for(;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return x(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const A=4096;function O(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function C(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function I(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let a=t;a<n;++a)i+=Y[e[a]];return i}function P(e,t,n){const r=e.slice(t,n);let i="";for(let a=0;a<r.length-1;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function M(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,i,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r,i){U(t,r,i,e,n,7);let a=Number(t&BigInt(4294967295));e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,n}function N(e,t,n,r,i){U(t,r,i,e,n,7);let a=Number(t&BigInt(4294967295));e[n+7]=a,a>>=8,e[n+6]=a,a>>=8,e[n+5]=a,a>>=8,e[n+4]=a;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=o,o>>=8,e[n+2]=o,o>>=8,e[n+1]=o,o>>=8,e[n]=o,n+8}function D(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,r,a){return t=+t,n>>>=0,a||D(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,a){return t=+t,n>>>=0,a||D(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);let r=this[e],i=1,a=0;for(;++a<t&&(i*=256);)r+=this[e+a]*i;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=J((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),l.prototype.readBigUInt64BE=J((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);let r=this[e],i=1,a=0;for(;++a<t&&(i*=256);)r+=this[e+a]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);let r=t,i=1,a=this[e+--r];for(;r>0&&(i*=256);)a+=this[e+--r]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||M(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||M(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=J((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=J((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||M(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||M(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||M(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||M(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){L(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){L(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=J((function(e,t=0){return R(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=J((function(e,t=0){return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);L(this,e,t,n,r-1,-r)}let i=0,a=1,o=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/a|0)-o&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);L(this,e,t,n,r-1,-r)}let i=n-1,a=1,o=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/a|0)-o&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=J((function(e,t=0){return R(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=J((function(e,t=0){return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},l.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{const a=l.isBuffer(e)?e:l.from(e,r),o=a.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=a[i%o]}return this};const B={};function z(e,t,n){B[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function $(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function U(e,t,n,r,i,a){if(e>n||e<t){const r="bigint"===typeof t?"n":"";let i;throw i=a>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(a+1)}${r}`:`>= -(2${r} ** ${8*(a+1)-1}${r}) and < 2 ** ${8*(a+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new B.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){V(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||W(t,e.length-(n+1))}(r,i,a)}function V(e,t){if("number"!==typeof e)throw new B.ERR_INVALID_ARG_TYPE(t,"number",e)}function W(e,t,n){if(Math.floor(e)!==e)throw V(e,n),new B.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new B.ERR_BUFFER_OUT_OF_BOUNDS;throw new B.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),z("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=$(String(n)):"bigint"===typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=$(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function G(e,t){let n;t=t||1/0;const r=e.length;let i=null;const a=[];for(let o=0;o<r;++o){if(n=e.charCodeAt(o),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function q(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function K(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function X(e){return e!==e}const Y=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function J(e){return"undefined"===typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},6511:(e,t,n)=>{"use strict";var r=n(247);t.fromCallback=function(e,t){if(void 0===e){var n=new Promise((function(t,n){e=function(e,r){e?n(e):t(r)}}));e[void 0!==t?t:"promise"]=n}else if("function"!==typeof e)throw new TypeError("Callback must be a function");return e},t.fromPromise=function(e,t){if(void 0===t)return e;e.then((function(e){r((()=>t(null,e)))})).catch((function(e){r((()=>t(e)))}))}},247:e=>{e.exports="function"===typeof queueMicrotask?queueMicrotask:e=>Promise.resolve().then(e)},4600:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){return e.filter((function(t,n){return e.lastIndexOf(t)===n}))}function s(e){for(var t=0,n=arguments.length<=1?0:arguments.length-1;t<n;++t){var a=t+1<1||arguments.length<=t+1?void 0:arguments[t+1];for(var l in a){var u=a[l],c=e[l];if(c&&u){if(Array.isArray(c)){e[l]=o(c.concat(u));continue}if(Array.isArray(u)){e[l]=o([c].concat(i(u)));continue}if("object"===r(u)){e[l]=s({},c,u);continue}}e[l]=u}}return e}n.r(t),n.d(t,{assignStyle:()=>s,camelCaseProperty:()=>f,cssifyDeclaration:()=>g,cssifyObject:()=>m,hyphenateProperty:()=>p,isPrefixedProperty:()=>_,isPrefixedValue:()=>v,isUnitlessProperty:()=>P,normalizeProperty:()=>R,resolveArrayValue:()=>N,unprefixProperty:()=>L,unprefixValue:()=>j});var l=/-([a-z])/g,u=/^Ms/g,c={};function d(e){return e[1].toUpperCase()}function f(e){if(c.hasOwnProperty(e))return c[e];var t=e.replace(l,d).replace(u,"ms");return c[e]=t,t}var h=n(5190);function p(e){return(0,h.default)(e)}function g(e,t){return p(e)+":"+t}function m(e){var t="";for(var n in e){var r=e[n];"string"!==typeof r&&"number"!==typeof r||(t&&(t+=";"),t+=g(n,r))}return t}var y=/^(Webkit|Moz|O|ms)/;function _(e){return y.test(e)}var b=/-webkit-|-moz-|-ms-/;function v(e){return"string"===typeof e&&b.test(e)}var w={borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x=["animationIterationCount","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineClamp","order"],k=["Webkit","ms","Moz","O"];function S(e,t){return e+t.charAt(0).toUpperCase()+t.slice(1)}for(var T=0,E=x.length;T<E;++T){var A=x[T];w[A]=!0;for(var O=0,C=k.length;O<C;++O)w[S(k[O],A)]=!0}for(var I in w)w[p(I)]=!0;function P(e){return w.hasOwnProperty(e)}var M=/^(ms|Webkit|Moz|O)/;function L(e){var t=e.replace(M,"");return t.charAt(0).toLowerCase()+t.slice(1)}function R(e){return L(f(e))}function N(e,t){return t.join(";"+p(e)+":")}var D=/(-ms-|-webkit-|-moz-|-o-)/g;function j(e){return"string"===typeof e?e.replace(D,""):e}},4644:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e)};var r,i=n(5190),a=(r=i)&&r.__esModule?r:{default:r}},2123:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"===typeof e&&n.test(e)};var n=/-webkit-|-moz-|-ms-/},5977:e=>{"use strict";e.exports=function(e,t){if("string"!==typeof e)throw new TypeError("Expected a string");return t="undefined"===typeof t?"_":t,e.replace(/([a-z\d])([A-Z])/g,"$1"+t+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+t+"$2").toLowerCase()}},2985:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,a||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,o=new Array(a);i<a;i++)o[i]=r[i].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,a,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,a),!0;case 6:return c.fn.call(c.context,t,r,i,a,o),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,i);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||o(this,a);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&u.push(s[l]);u.length?this._events[a]=1===u.length?u[0]:u:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},5070:e=>{"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,a),r(n)}function a(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&g(e,"error",t,n)}(e,i,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function s(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var i,a,o,u;if(s(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=l(e))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,u=c,console&&console.warn&&console.warn(u)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=c.bind(r);return i.listener=n,r.wrapFn=i,i}function f(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(a){r.once&&e.removeEventListener(t,i),n(a)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var l=a[e];if(void 0===l)return!1;if("function"===typeof l)r(l,this,t);else{var u=l.length,c=p(l,u);for(n=0;n<u;++n)r(c[n],this,t)}return!0},a.prototype.addListener=function(e,t){return u(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return u(this,e,t,!0)},a.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,a,o;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return f(this,e,!0)},a.prototype.rawListeners=function(e){return f(this,e,!1)},a.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},a.prototype.listenerCount=h,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},1400:e=>{"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},6077:e=>{"use strict";var t=function(e){};e.exports=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(t(n),!e){var o;if(void 0===n)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;(o=new Error(n.replace(/%s/g,(function(){return String(i[s++])})))).name="Invariant Violation"}throw o.framesToPop=1,o}}},7277:(e,t,n)=>{"use strict";var r=n(1400);e.exports=r},6893:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.r(t),n.d(t,{Back:()=>Vn,Bounce:()=>Hn,CSSPlugin:()=>ai,Circ:()=>Kn,Cubic:()=>Fn,Elastic:()=>Un,Expo:()=>qn,Linear:()=>Dn,Power0:()=>Pn,Power1:()=>Mn,Power2:()=>Ln,Power3:()=>Rn,Power4:()=>Nn,Quad:()=>jn,Quart:()=>Bn,Quint:()=>zn,Sine:()=>Gn,SteppedEase:()=>Wn,Strong:()=>$n,TimelineLite:()=>jt,TimelineMax:()=>jt,TweenLite:()=>Kt,TweenMax:()=>si,default:()=>oi,gsap:()=>oi});var a,o,s,l,u,c,d,f,h,p,g,m={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},y={duration:.5,overwrite:!1,delay:0},_=1e8,b=1e-8,v=2*Math.PI,w=v/4,x=0,k=Math.sqrt,S=Math.cos,T=Math.sin,E=function(e){return"string"===typeof e},A=function(e){return"function"===typeof e},O=function(e){return"number"===typeof e},C=function(e){return"undefined"===typeof e},I=function(e){return"object"===typeof e},P=function(e){return!1!==e},M=function(){return"undefined"!==typeof window},L=function(e){return A(e)||E(e)},R="function"===typeof ArrayBuffer&&ArrayBuffer.isView||function(){},N=Array.isArray,D=/(?:-?\.?\d|\.)+/gi,j=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,F=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,B=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,z=/[+-]=-?[.\d]+/,$=/[^,'"\[\]\s]+/gi,U=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,V={},W={},H=function(e){return(W=ve(e,V))&&xn},G=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},q=function(e,t){return!t&&console.warn(e)},K=function(e,t){return e&&(V[e]=t)&&W&&(W[e]=t)||V},Z=function(){return 0},X={suppressEvents:!0,isStart:!0,kill:!1},Y={suppressEvents:!0,kill:!1},J={suppressEvents:!0},Q={},ee=[],te={},ne={},re={},ie=30,ae=[],oe="",se=function(e){var t,n,r=e[0];if(I(r)||A(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(n=ae.length;n--&&!ae[n].targetTest(r););t=ae[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new Nt(e[n],t)))||e.splice(n,1);return e},le=function(e){return e._gsap||se(Je(e))[0]._gsap},ue=function(e,t,n){return(n=e[t])&&A(n)?e[t]():C(n)&&e.getAttribute&&e.getAttribute(t)||n},ce=function(e,t){return(e=e.split(",")).forEach(t)||e},de=function(e){return Math.round(1e5*e)/1e5||0},fe=function(e){return Math.round(1e7*e)/1e7||0},he=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===n?e+r:"-"===n?e-r:"*"===n?e*r:e/r},pe=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},ge=function(){var e,t,n=ee.length,r=ee.slice(0);for(te={},ee.length=0,e=0;e<n;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},me=function(e,t,n,r){ee.length&&!o&&ge(),e.render(t,n,r||o&&t<0&&(e._initted||e._startAt)),ee.length&&!o&&ge()},ye=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match($).length<2?t:E(e)?e.trim():e},_e=function(e){return e},be=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},ve=function(e,t){for(var n in t)e[n]=t[n];return e},we=function e(t,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=I(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},xe=function(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r},ke=function(e){var t,n=e.parent||l,r=e.keyframes?(t=N(e.keyframes),function(e,n){for(var r in n)r in e||"duration"===r&&t||"ease"===r||(e[r]=n[r])}):be;if(P(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},Se=function(e,t,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var a,o=e[r];if(i)for(a=t[i];o&&o[i]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},Te=function(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=t._prev,a=t._next;i?i._next=a:e[n]===t&&(e[n]=a),a?a._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null},Ee=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Ae=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},Oe=function(e,t,n,r){return e._startAt&&(o?e._startAt.revert(Y):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},Ce=function e(t){return!t||t._ts&&e(t.parent)},Ie=function(e){return e._repeat?Pe(e._tTime,e=e.duration()+e._rDelay)*e:0},Pe=function(e,t){var n=Math.floor(e/=t);return e&&n===e?n-1:n},Me=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Le=function(e){return e._end=fe(e._start+(e._tDur/Math.abs(e._ts||e._rts||b)||0))},Re=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=fe(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Le(e),n._dirty||Ae(n,e)),e},Ne=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=Me(e.rawTime(),t),(!t._dur||qe(0,t.totalDuration(),n)-t._tTime>b)&&t.render(n,!0)),Ae(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},De=function(e,t,n,r){return t.parent&&Ee(t),t._start=fe((O(n)?n:n||e!==l?We(e,n,t):e._time)+t._delay),t._end=fe(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Se(e,t,"_first","_last",e._sort?"_start":0),ze(t)||(e._recent=t),r||Ne(e,t),e._ts<0&&Re(e,e._tTime),e},je=function(e,t){return(V.ScrollTrigger||G("scrollTrigger",t))&&V.ScrollTrigger.create(t,e)},Fe=function(e,t,n,r,i){return Vt(e,t,i),e._initted?!n&&e._pt&&!o&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&h!==xt.frame?(ee.push(e),e._lazy=[i,r],1):void 0:1},Be=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},ze=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},$e=function(e,t,n,r){var i=e._repeat,a=fe(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=a/e._dur),e._dur=a,e._tDur=i?i<0?1e10:fe(a*(i+1)+e._rDelay*i):a,o>0&&!r&&Re(e,e._tTime=e._tDur*o),e.parent&&Le(e),n||Ae(e.parent,e),e},Ue=function(e){return e instanceof jt?Ae(e):$e(e,e._dur)},Ve={_start:0,endTime:Z,totalDuration:Z},We=function e(t,n,r){var i,a,o,s=t.labels,l=t._recent||Ve,u=t.duration()>=_?l.endTime(!1):t._dur;return E(n)&&(isNaN(n)||n in s)?(a=n.charAt(0),o="%"===n.substr(-1),i=n.indexOf("="),"<"===a||">"===a?(i>=0&&(n=n.replace(/=/,"")),("<"===a?l._start:l.endTime(l._repeat>=0))+(parseFloat(n.substr(1))||0)*(o?(i<0?l:r).totalDuration()/100:1)):i<0?(n in s||(s[n]=u),s[n]):(a=parseFloat(n.charAt(i-1)+n.substr(i+1)),o&&r&&(a=a/100*(N(r)?r[0]:r).totalDuration()),i>1?e(t,n.substr(0,i-1),r)+a:u+a)):null==n?u:+n},He=function(e,t,n){var r,i,a=O(t[1]),o=(a?2:1)+(e<2?0:1),s=t[o];if(a&&(s.duration=t[1]),s.parent=n,e){for(r=s,i=n;i&&!("immediateRender"in r);)r=i.vars.defaults||{},i=P(i.vars.inherit)&&i.parent;s.immediateRender=P(r.immediateRender),e<2?s.runBackwards=1:s.startAt=t[o-1]}return new Kt(t[0],s,t[o+1])},Ge=function(e,t){return e||0===e?t(e):t},qe=function(e,t,n){return n<e?e:n>t?t:n},Ke=function(e,t){return E(e)&&(t=U.exec(e))?t[1]:""},Ze=[].slice,Xe=function(e,t){return e&&I(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&I(e[0]))&&!e.nodeType&&e!==u},Ye=function(e,t,n){return void 0===n&&(n=[]),e.forEach((function(e){var r;return E(e)&&!t||Xe(e,1)?(r=n).push.apply(r,Je(e)):n.push(e)}))||n},Je=function(e,t,n){return s&&!t&&s.selector?s.selector(e):!E(e)||n||!c&&kt()?N(e)?Ye(e,n):Xe(e)?Ze.call(e,0):e?[e]:[]:Ze.call((t||d).querySelectorAll(e),0)},Qe=function(e){return e=Je(e)[0]||q("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return Je(t,n.querySelectorAll?n:n===e?q("Invalid scope")||d.createElement("div"):e)}},et=function(e){return e.sort((function(){return.5-Math.random()}))},tt=function(e){if(A(e))return e;var t=I(e)?e:{each:e},n=It(t.ease),r=t.from||0,i=parseFloat(t.base)||0,a={},o=r>0&&r<1,s=isNaN(r)||o,l=t.axis,u=r,c=r;return E(r)?u=c={center:.5,edges:.5,end:1}[r]||0:!o&&s&&(u=r[0],c=r[1]),function(e,o,d){var f,h,p,g,m,y,b,v,w,x=(d||t).length,S=a[x];if(!S){if(!(w="auto"===t.grid?0:(t.grid||[1,_])[1])){for(b=-_;b<(b=d[w++].getBoundingClientRect().left)&&w<x;);w<x&&w--}for(S=a[x]=[],f=s?Math.min(w,x)*u-.5:r%w,h=w===_?0:s?x*c/w-.5:r/w|0,b=0,v=_,y=0;y<x;y++)p=y%w-f,g=h-(y/w|0),S[y]=m=l?Math.abs("y"===l?g:p):k(p*p+g*g),m>b&&(b=m),m<v&&(v=m);"random"===r&&et(S),S.max=b-v,S.min=v,S.v=x=(parseFloat(t.amount)||parseFloat(t.each)*(w>x?x-1:l?"y"===l?x/w:w:Math.max(w,x/w))||0)*("edges"===r?-1:1),S.b=x<0?i-x:i,S.u=Ke(t.amount||t.each)||0,n=n&&x<0?Ot(n):n}return x=(S[e]-S.min)/S.max||0,fe(S.b+(n?n(x):x)*S.v)+S.u}},nt=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=fe(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(O(n)?0:Ke(n))}},rt=function(e,t){var n,r,i=N(e);return!i&&I(e)&&(n=i=e.radius||_,e.values?(e=Je(e.values),(r=!O(e[0]))&&(n*=n)):e=nt(e.increment)),Ge(t,i?A(e)?function(t){return r=e(t),Math.abs(r-t)<=n?r:t}:function(t){for(var i,a,o=parseFloat(r?t.x:t),s=parseFloat(r?t.y:0),l=_,u=0,c=e.length;c--;)(i=r?(i=e[c].x-o)*i+(a=e[c].y-s)*a:Math.abs(e[c]-o))<l&&(l=i,u=c);return u=!n||l<=n?e[u]:t,r||u===t||O(t)?u:u+Ke(t)}:nt(e))},it=function(e,t,n,r){return Ge(N(e)?!t:!0===n?!!(n=0):!r,(function(){return N(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+.99*n))/n)*n*r)/r}))},at=function(e,t,n){return Ge(n,(function(n){return e[~~t(n)]}))},ot=function(e){for(var t,n,r,i,a=0,o="";~(t=e.indexOf("random(",a));)r=e.indexOf(")",t),i="["===e.charAt(t+7),n=e.substr(t+7,r-t-7).match(i?$:D),o+=e.substr(a,t-a)+it(i?n:+n[0],i?0:+n[1],+n[2]||1e-5),a=r+1;return o+e.substr(a,e.length-a)},st=function(e,t,n,r,i){var a=t-e,o=r-n;return Ge(i,(function(t){return n+((t-e)/a*o||0)}))},lt=function(e,t,n){var r,i,a,o=e.labels,s=_;for(r in o)(i=o[r]-t)<0===!!n&&i&&s>(i=Math.abs(i))&&(a=r,s=i);return a},ut=function(e,t,n){var r,i,a,o=e.vars,l=o[t],u=s,c=e._ctx;if(l)return r=o[t+"Params"],i=o.callbackScope||e,n&&ee.length&&ge(),c&&(s=c),a=r?l.apply(i,r):l.call(i),s=u,a},ct=function(e){return Ee(e),e.scrollTrigger&&e.scrollTrigger.kill(!!o),e.progress()<1&&ut(e,"onInterrupt"),e},dt=[],ft=function(e){if(e)if(e=!e.name&&e.default||e,M()||e.headless){var t=e.name,n=A(e),r=t&&!n&&e.init?function(){this._props=[]}:e,i={init:Z,render:rn,add:$t,kill:on,modifier:an,rawVars:0},a={targetTest:0,get:0,getSetter:Qt,aliases:{},register:0};if(kt(),e!==r){if(ne[t])return;be(r,be(xe(e,i),a)),ve(r.prototype,ve(i,xe(e,a))),ne[r.prop=t]=r,e.targetTest&&(ae.push(r),Q[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}K(t,r),e.register&&e.register(xn,r,un)}else dt.push(e)},ht=255,pt={aqua:[0,ht,ht],lime:[0,ht,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,ht],navy:[0,0,128],white:[ht,ht,ht],olive:[128,128,0],yellow:[ht,ht,0],orange:[ht,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[ht,0,0],pink:[ht,192,203],cyan:[0,ht,ht],transparent:[ht,ht,ht,0]},gt=function(e,t,n){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)*ht+.5|0},mt=function(e,t,n){var r,i,a,o,s,l,u,c,d,f,h=e?O(e)?[e>>16,e>>8&ht,e&ht]:0:pt.black;if(!h){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),pt[e])h=pt[e];else if("#"===e.charAt(0)){if(e.length<6&&(r=e.charAt(1),i=e.charAt(2),a=e.charAt(3),e="#"+r+r+i+i+a+a+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(h=parseInt(e.substr(1,6),16))>>16,h>>8&ht,h&ht,parseInt(e.substr(7),16)/255];h=[(e=parseInt(e.substr(1),16))>>16,e>>8&ht,e&ht]}else if("hsl"===e.substr(0,3))if(h=f=e.match(D),t){if(~e.indexOf("="))return h=e.match(j),n&&h.length<4&&(h[3]=1),h}else o=+h[0]%360/360,s=+h[1]/100,r=2*(l=+h[2]/100)-(i=l<=.5?l*(s+1):l+s-l*s),h.length>3&&(h[3]*=1),h[0]=gt(o+1/3,r,i),h[1]=gt(o,r,i),h[2]=gt(o-1/3,r,i);else h=e.match(D)||pt.transparent;h=h.map(Number)}return t&&!f&&(r=h[0]/ht,i=h[1]/ht,a=h[2]/ht,l=((u=Math.max(r,i,a))+(c=Math.min(r,i,a)))/2,u===c?o=s=0:(d=u-c,s=l>.5?d/(2-u-c):d/(u+c),o=u===r?(i-a)/d+(i<a?6:0):u===i?(a-r)/d+2:(r-i)/d+4,o*=60),h[0]=~~(o+.5),h[1]=~~(100*s+.5),h[2]=~~(100*l+.5)),n&&h.length<4&&(h[3]=1),h},yt=function(e){var t=[],n=[],r=-1;return e.split(bt).forEach((function(e){var i=e.match(F)||[];t.push.apply(t,i),n.push(r+=i.length+1)})),t.c=n,t},_t=function(e,t,n){var r,i,a,o,s="",l=(e+s).match(bt),u=t?"hsla(":"rgba(",c=0;if(!l)return e;if(l=l.map((function(e){return(e=mt(e,t,1))&&u+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),n&&(a=yt(e),(r=n.c).join(s)!==a.c.join(s)))for(o=(i=e.replace(bt,"1").split(F)).length-1;c<o;c++)s+=i[c]+(~r.indexOf(c)?l.shift()||u+"0,0,0,0)":(a.length?a:l.length?l:n).shift());if(!i)for(o=(i=e.split(bt)).length-1;c<o;c++)s+=i[c]+l[c];return s+i[o]},bt=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in pt)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),vt=/hsl[a]?\(/,wt=function(e){var t,n=e.join(" ");if(bt.lastIndex=0,bt.test(n))return t=vt.test(n),e[1]=_t(e[1],t),e[0]=_t(e[0],t,yt(e[1])),!0},xt=function(){var e,t,n,r,i,a,o=Date.now,s=500,l=33,h=o(),p=h,m=1e3/240,y=m,_=[],b=function n(u){var c,d,f,g,b=o()-p,v=!0===u;if((b>s||b<0)&&(h+=b-l),((c=(f=(p+=b)-h)-y)>0||v)&&(g=++r.frame,i=f-1e3*r.time,r.time=f/=1e3,y+=c+(c>=m?4:m-c),d=1),v||(e=t(n)),d)for(a=0;a<_.length;a++)_[a](f,i,g,u)};return r={time:0,frame:0,tick:function(){b(!0)},deltaRatio:function(e){return i/(1e3/(e||60))},wake:function(){f&&(!c&&M()&&(u=c=window,d=u.document||{},V.gsap=xn,(u.gsapVersions||(u.gsapVersions=[])).push(xn.version),H(W||u.GreenSockGlobals||!u.gsap&&u||{}),dt.forEach(ft)),n="undefined"!==typeof requestAnimationFrame&&requestAnimationFrame,e&&r.sleep(),t=n||function(e){return setTimeout(e,y-1e3*r.time+1|0)},g=1,b(2))},sleep:function(){(n?cancelAnimationFrame:clearTimeout)(e),g=0,t=Z},lagSmoothing:function(e,t){s=e||1/0,l=Math.min(t||33,s)},fps:function(e){m=1e3/(e||240),y=1e3*r.time+m},add:function(e,t,n){var i=t?function(t,n,a,o){e(t,n,a,o),r.remove(i)}:e;return r.remove(e),_[n?"unshift":"push"](i),kt(),i},remove:function(e,t){~(t=_.indexOf(e))&&_.splice(t,1)&&a>=t&&a--},_listeners:_}}(),kt=function(){return!g&&xt.wake()},St={},Tt=/^[\d.\-M][\d.\-,\s]/,Et=/["']/g,At=function(e){for(var t,n,r,i={},a=e.substr(1,e.length-3).split(":"),o=a[0],s=1,l=a.length;s<l;s++)n=a[s],t=s!==l-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),i[o]=isNaN(r)?r.replace(Et,"").trim():+r,o=n.substr(t+1).trim();return i},Ot=function(e){return function(t){return 1-e(1-t)}},Ct=function e(t,n){for(var r,i=t._first;i;)i instanceof jt?e(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?e(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},It=function(e,t){return e&&(A(e)?e:St[e]||function(e){var t=(e+"").split("("),n=St[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[At(t[1])]:function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)}(e).split(",").map(ye)):St._CE&&Tt.test(e)?St._CE("",e):n}(e))||t},Pt=function(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,a={easeIn:t,easeOut:n,easeInOut:r};return ce(e,(function(e){for(var t in St[e]=V[e]=a,St[i=e.toLowerCase()]=n,a)St[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=St[e+"."+t]=a[t]})),a},Mt=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},Lt=function e(t,n,r){var i=n>=1?n:1,a=(r||(t?.3:.45))/(n<1?n:1),o=a/v*(Math.asin(1/i)||0),s=function(e){return 1===e?1:i*Math.pow(2,-10*e)*T((e-o)*a)+1},l="out"===t?s:"in"===t?function(e){return 1-s(1-e)}:Mt(s);return a=v/a,l.config=function(n,r){return e(t,n,r)},l},Rt=function e(t,n){void 0===n&&(n=1.70158);var r=function(e){return e?--e*e*((n+1)*e+n)+1:0},i="out"===t?r:"in"===t?function(e){return 1-r(1-e)}:Mt(r);return i.config=function(n){return e(t,n)},i};ce("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var n=t<5?t+1:t;Pt(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},(function(e){return 1-Math.pow(1-e,n)}),(function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2}))})),St.Linear.easeNone=St.none=St.Linear.easeIn,Pt("Elastic",Lt("in"),Lt("out"),Lt()),function(e,t){var n=1/t,r=2*n,i=2.5*n,a=function(a){return a<n?e*a*a:a<r?e*Math.pow(a-1.5/t,2)+.75:a<i?e*(a-=2.25/t)*a+.9375:e*Math.pow(a-2.625/t,2)+.984375};Pt("Bounce",(function(e){return 1-a(1-e)}),a)}(7.5625,2.75),Pt("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),Pt("Circ",(function(e){return-(k(1-e*e)-1)})),Pt("Sine",(function(e){return 1===e?1:1-S(e*w)})),Pt("Back",Rt("in"),Rt("out"),Rt()),St.SteppedEase=St.steps=V.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+(t?0:1),i=t?1:0;return function(e){return((r*qe(0,.99999999,e)|0)+i)*n}}},y.ease=St["quad.out"],ce("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return oe+=e+","+e+"Params,"}));var Nt=function(e,t){this.id=x++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:ue,this.set=t?t.getSetter:Qt},Dt=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,$e(this,+e.duration,1,1),this.data=e.data,s&&(this._ctx=s,s.data.push(this)),g||xt.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,$e(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(kt(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(Re(this,e),!n._dp||n.parent||Ne(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&De(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===b||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),me(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+Ie(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+Ie(this),t):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?Pe(this._tTime,n)+1:1},t.timeScale=function(e,t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var n=this.parent&&this._ts?Me(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime(qe(-Math.abs(this._delay),this._tDur,n),!1!==t),Le(this),function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(kt(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==b&&(this._tTime-=b)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&De(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(P(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Me(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){void 0===e&&(e=J);var t=o;return o=e,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),o=t,this},t.globalTime=function(e){for(var t=this,n=arguments.length?e:t.rawTime();t;)n=t._start+n/(Math.abs(t._ts)||1),t=t._dp;return!this.parent&&this._sat?this._sat.globalTime(e):n},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,Ue(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,Ue(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(We(this,e),P(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,P(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,n=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<this.endTime(!0)-b))},t.eventCallback=function(e,t,n){var r=this.vars;return arguments.length>1?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},t.then=function(e){var t=this;return new Promise((function(n){var r=A(e)?e:_e,i=function(){var e=t.then;t.then=null,A(r)&&(r=r(t))&&(r.then||r===t)&&(t.then=e),n(r),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?i():t._prom=i}))},t.kill=function(){ct(this)},e}();be(Dt.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var jt=function(e){function t(t,n){var i;return void 0===t&&(t={}),(i=e.call(this,t)||this).labels={},i.smoothChildTiming=!!t.smoothChildTiming,i.autoRemoveChildren=!!t.autoRemoveChildren,i._sort=P(t.sortChildren),l&&De(t.parent||l,r(i),n),t.reversed&&i.reverse(),t.paused&&i.paused(!0),t.scrollTrigger&&je(r(i),t.scrollTrigger),i}i(t,e);var n=t.prototype;return n.to=function(e,t,n){return He(0,arguments,this),this},n.from=function(e,t,n){return He(1,arguments,this),this},n.fromTo=function(e,t,n,r){return He(2,arguments,this),this},n.set=function(e,t,n){return t.duration=0,t.parent=this,ke(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new Kt(e,t,We(this,n),1),this},n.call=function(e,t,n){return De(this,Kt.delayedCall(0,e,t),n)},n.staggerTo=function(e,t,n,r,i,a,o){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=a,n.onCompleteParams=o,n.parent=this,new Kt(e,n,We(this,i)),this},n.staggerFrom=function(e,t,n,r,i,a,o){return n.runBackwards=1,ke(n).immediateRender=P(n.immediateRender),this.staggerTo(e,t,n,r,i,a,o)},n.staggerFromTo=function(e,t,n,r,i,a,o,s){return r.startAt=n,ke(r).immediateRender=P(r.immediateRender),this.staggerTo(e,t,r,i,a,o,s)},n.render=function(e,t,n){var r,i,a,s,u,c,d,f,h,p,g,m,y=this._time,_=this._dirty?this.totalDuration():this._tDur,v=this._dur,w=e<=0?0:fe(e),x=this._zTime<0!==e<0&&(this._initted||!v);if(this!==l&&w>_&&e>=0&&(w=_),w!==this._tTime||n||x){if(y!==this._time&&v&&(w+=this._time-y,e+=this._time-y),r=w,h=this._start,c=!(f=this._ts),x&&(v||(y=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(g=this._yoyo,u=v+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*u+e,t,n);if(r=fe(w%u),w===_?(s=this._repeat,r=v):((s=~~(w/u))&&s===w/u&&(r=v,s--),r>v&&(r=v)),p=Pe(this._tTime,u),!y&&this._tTime&&p!==s&&this._tTime-p*u-this._dur<=0&&(p=s),g&&1&s&&(r=v-r,m=1),s!==p&&!this._lock){var k=g&&1&p,S=k===(g&&1&s);if(s<p&&(k=!k),y=k?0:w%v?v:w,this._lock=1,this.render(y||(m?0:fe(s*u)),t,!v)._lock=0,this._tTime=w,!t&&this.parent&&ut(this,"onRepeat"),this.vars.repeatRefresh&&!m&&(this.invalidate()._lock=1),y&&y!==this._time||c!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(v=this._dur,_=this._tDur,S&&(this._lock=2,y=k?v:-1e-4,this.render(y,!0),this.vars.repeatRefresh&&!m&&this.invalidate()),this._lock=0,!this._ts&&!c)return this;Ct(this,m)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(d=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,fe(y),fe(r)),d&&(w-=r-(r=d._start))),this._tTime=w,this._time=r,this._act=!f,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,y=0),!y&&r&&!t&&!s&&(ut(this,"onStart"),this._tTime!==w))return this;if(r>=y&&e>=0)for(i=this._first;i;){if(a=i._next,(i._act||r>=i._start)&&i._ts&&d!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!c){d=0,a&&(w+=this._zTime=-1e-8);break}}i=a}else{i=this._last;for(var T=e<0?e:r;i;){if(a=i._prev,(i._act||T<=i._end)&&i._ts&&d!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(T-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(T-i._start)*i._ts,t,n||o&&(i._initted||i._startAt)),r!==this._time||!this._ts&&!c){d=0,a&&(w+=this._zTime=T?-1e-8:b);break}}i=a}}if(d&&!t&&(this.pause(),d.render(r>=y?0:-1e-8)._zTime=r>=y?1:-1,this._ts))return this._start=h,Le(this),this.render(e,t,n);this._onUpdate&&!t&&ut(this,"onUpdate",!0),(w===_&&this._tTime>=this.totalDuration()||!w&&y)&&(h!==this._start&&Math.abs(f)===Math.abs(this._ts)||this._lock||((e||!v)&&(w===_&&this._ts>0||!w&&this._ts<0)&&Ee(this,1),t||e<0&&!y||!w&&!y&&_||(ut(this,w===_&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(w<_&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(e,t){var n=this;if(O(t)||(t=We(this,t,e)),!(e instanceof Dt)){if(N(e))return e.forEach((function(e){return n.add(e,t)})),this;if(E(e))return this.addLabel(e,t);if(!A(e))return this;e=Kt.delayedCall(0,e)}return this!==e?De(this,e,t):this},n.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-_);for(var i=[],a=this._first;a;)a._start>=r&&(a instanceof Kt?t&&i.push(a):(n&&i.push(a),e&&i.push.apply(i,a.getChildren(!0,t,n)))),a=a._next;return i},n.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},n.remove=function(e){return E(e)?this.removeLabel(e):A(e)?this.killTweensOf(e):(Te(this,e),e===this._recent&&(this._recent=this._last),Ae(this))},n.totalTime=function(t,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=fe(xt.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},n.addLabel=function(e,t){return this.labels[e]=We(this,t),this},n.removeLabel=function(e){return delete this.labels[e],this},n.addPause=function(e,t,n){var r=Kt.delayedCall(0,t||Z,n);return r.data="isPause",this._hasPause=1,De(this,r,We(this,e))},n.removePause=function(e){var t=this._first;for(e=We(this,e);t;)t._start===e&&"isPause"===t.data&&Ee(t),t=t._next},n.killTweensOf=function(e,t,n){for(var r=this.getTweensOf(e,n),i=r.length;i--;)Ft!==r[i]&&r[i].kill(e,t);return this},n.getTweensOf=function(e,t){for(var n,r=[],i=Je(e),a=this._first,o=O(t);a;)a instanceof Kt?pe(a._targets,i)&&(o?(!Ft||a._initted&&a._ts)&&a.globalTime(0)<=t&&a.globalTime(a.totalDuration())>t:!t||a.isActive())&&r.push(a):(n=a.getTweensOf(i,t)).length&&r.push.apply(r,n),a=a._next;return r},n.tweenTo=function(e,t){t=t||{};var n,r=this,i=We(r,e),a=t,o=a.startAt,s=a.onStart,l=a.onStartParams,u=a.immediateRender,c=Kt.to(r,be({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:t.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale())||b,onStart:function(){if(r.pause(),!n){var e=t.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale());c._dur!==e&&$e(c,e,0,1).render(c._time,!0,!0),n=1}s&&s.apply(c,l||[])}},t));return u?c.render(0):c},n.tweenFromTo=function(e,t,n){return this.tweenTo(t,be({startAt:{time:We(this,e)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(e){return void 0===e&&(e=this._time),lt(this,We(this,e))},n.previousLabel=function(e){return void 0===e&&(e=this._time),lt(this,We(this,e),1)},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+b)},n.shiftChildren=function(e,t,n){void 0===n&&(n=0);for(var r,i=this._first,a=this.labels;i;)i._start>=n&&(i._start+=e,i._end+=e),i=i._next;if(t)for(r in a)a[r]>=n&&(a[r]+=e);return Ae(this)},n.invalidate=function(t){var n=this._first;for(this._lock=0;n;)n.invalidate(t),n=n._next;return e.prototype.invalidate.call(this,t)},n.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),Ae(this)},n.totalDuration=function(e){var t,n,r,i=0,a=this,o=a._last,s=_;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-e:e));if(a._dirty){for(r=a.parent;o;)t=o._prev,o._dirty&&o.totalDuration(),(n=o._start)>s&&a._sort&&o._ts&&!a._lock?(a._lock=1,De(a,o,n-o._delay,1)._lock=0):s=n,n<0&&o._ts&&(i-=n,(!r&&!a._dp||r&&r.smoothChildTiming)&&(a._start+=n/a._ts,a._time-=n,a._tTime-=n),a.shiftChildren(-n,!1,-Infinity),s=0),o._end>i&&o._ts&&(i=o._end),o=t;$e(a,a===l&&a._time>i?a._time:i,1,1),a._dirty=0}return a._tDur},t.updateRoot=function(e){if(l._ts&&(me(l,Me(e,l)),h=xt.frame),xt.frame>=ie){ie+=m.autoSleep||120;var t=l._first;if((!t||!t._ts)&&m.autoSleep&&xt._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||xt.sleep()}}},t}(Dt);be(jt.prototype,{_lock:0,_hasPause:0,_forcing:0});var Ft,Bt,zt=function(e,t,n,r,i,a,o){var s,l,u,c,d,f,h,p,g=new un(this._pt,e,t,0,1,nn,null,i),m=0,y=0;for(g.b=n,g.e=r,n+="",(h=~(r+="").indexOf("random("))&&(r=ot(r)),a&&(a(p=[n,r],e,t),n=p[0],r=p[1]),l=n.match(B)||[];s=B.exec(r);)c=s[0],d=r.substring(m,s.index),u?u=(u+1)%5:"rgba("===d.substr(-5)&&(u=1),c!==l[y++]&&(f=parseFloat(l[y-1])||0,g._pt={_next:g._pt,p:d||1===y?d:",",s:f,c:"="===c.charAt(1)?he(f,c)-f:parseFloat(c)-f,m:u&&u<4?Math.round:0},m=B.lastIndex);return g.c=m<r.length?r.substring(m,r.length):"",g.fp=o,(z.test(r)||h)&&(g.e=0),this._pt=g,g},$t=function(e,t,n,r,i,a,o,s,l,u){A(r)&&(r=r(i||0,e,a));var c,d=e[t],f="get"!==n?n:A(d)?l?e[t.indexOf("set")||!A(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():d,h=A(d)?l?Yt:Xt:Zt;if(E(r)&&(~r.indexOf("random(")&&(r=ot(r)),"="===r.charAt(1)&&((c=he(f,r)+(Ke(f)||0))||0===c)&&(r=c)),!u||f!==r||Bt)return isNaN(f*r)||""===r?(!d&&!(t in e)&&G(t,r),zt.call(this,e,t,f,r,h,s||m.stringFilter,l)):(c=new un(this._pt,e,t,+f||0,r-(f||0),"boolean"===typeof d?tn:en,0,h),l&&(c.fp=l),o&&c.modifier(o,this,e),this._pt=c)},Ut=function(e,t,n,r,i,a){var o,s,l,u;if(ne[e]&&!1!==(o=new ne[e]).init(i,o.rawVars?t[e]:function(e,t,n,r,i){if(A(e)&&(e=Ht(e,i,t,n,r)),!I(e)||e.style&&e.nodeType||N(e)||R(e))return E(e)?Ht(e,i,t,n,r):e;var a,o={};for(a in e)o[a]=Ht(e[a],i,t,n,r);return o}(t[e],r,i,a,n),n,r,a)&&(n._pt=s=new un(n._pt,i,e,0,1,o.render,o,0,o.priority),n!==p))for(l=n._ptLookup[n._targets.indexOf(i)],u=o._props.length;u--;)l[o._props[u]]=s;return o},Vt=function e(t,n,r){var i,s,u,c,d,f,h,p,g,m,v,w,x,k=t.vars,S=k.ease,T=k.startAt,E=k.immediateRender,A=k.lazy,O=k.onUpdate,C=k.runBackwards,I=k.yoyoEase,M=k.keyframes,L=k.autoRevert,R=t._dur,N=t._startAt,D=t._targets,j=t.parent,F=j&&"nested"===j.data?j.vars.targets:D,B="auto"===t._overwrite&&!a,z=t.timeline;if(z&&(!M||!S)&&(S="none"),t._ease=It(S,y.ease),t._yEase=I?Ot(It(!0===I?S:I,y.ease)):0,I&&t._yoyo&&!t._repeat&&(I=t._yEase,t._yEase=t._ease,t._ease=I),t._from=!z&&!!k.runBackwards,!z||M&&!k.stagger){if(w=(p=D[0]?le(D[0]).harness:0)&&k[p.prop],i=xe(k,Q),N&&(N._zTime<0&&N.progress(1),n<0&&C&&E&&!L?N.render(-1,!0):N.revert(C&&R?Y:X),N._lazy=0),T){if(Ee(t._startAt=Kt.set(D,be({data:"isStart",overwrite:!1,parent:j,immediateRender:!0,lazy:!N&&P(A),startAt:null,delay:0,onUpdate:O&&function(){return ut(t,"onUpdate")},stagger:0},T))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(o||!E&&!L)&&t._startAt.revert(Y),E&&R&&n<=0&&r<=0)return void(n&&(t._zTime=n))}else if(C&&R&&!N)if(n&&(E=!1),u=be({overwrite:!1,data:"isFromStart",lazy:E&&!N&&P(A),immediateRender:E,stagger:0,parent:j},i),w&&(u[p.prop]=w),Ee(t._startAt=Kt.set(D,u)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(o?t._startAt.revert(Y):t._startAt.render(-1,!0)),t._zTime=n,E){if(!n)return}else e(t._startAt,b,b);for(t._pt=t._ptCache=0,A=R&&P(A)||A&&!R,s=0;s<D.length;s++){if(h=(d=D[s])._gsap||se(D)[s]._gsap,t._ptLookup[s]=m={},te[h.id]&&ee.length&&ge(),v=F===D?s:F.indexOf(d),p&&!1!==(g=new p).init(d,w||i,t,v,F)&&(t._pt=c=new un(t._pt,d,g.name,0,1,g.render,g,0,g.priority),g._props.forEach((function(e){m[e]=c})),g.priority&&(f=1)),!p||w)for(u in i)ne[u]&&(g=Ut(u,i,t,v,d,F))?g.priority&&(f=1):m[u]=c=$t.call(t,d,u,"get",i[u],v,F,0,k.stringFilter);t._op&&t._op[s]&&t.kill(d,t._op[s]),B&&t._pt&&(Ft=t,l.killTweensOf(d,m,t.globalTime(n)),x=!t.parent,Ft=0),t._pt&&A&&(te[h.id]=1)}f&&ln(t),t._onInit&&t._onInit(t)}t._onUpdate=O,t._initted=(!t._op||t._pt)&&!x,M&&n<=0&&z.render(_,!0,!0)},Wt=function(e,t,n,r){var i,a,o=t.ease||r||"power1.inOut";if(N(t))a=n[e]||(n[e]=[]),t.forEach((function(e,n){return a.push({t:n/(t.length-1)*100,v:e,e:o})}));else for(i in t)a=n[i]||(n[i]=[]),"ease"===i||a.push({t:parseFloat(e),v:t[i],e:o})},Ht=function(e,t,n,r,i){return A(e)?e.call(t,n,r,i):E(e)&&~e.indexOf("random(")?ot(e):e},Gt=oe+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",qt={};ce(Gt+",id,stagger,delay,duration,paused,scrollTrigger",(function(e){return qt[e]=1}));var Kt=function(e){function t(t,n,i,o){var s;"number"===typeof n&&(i.duration=n,n=i,i=null);var u,c,d,f,h,p,g,y,_=(s=e.call(this,o?n:ke(n))||this).vars,b=_.duration,v=_.delay,w=_.immediateRender,x=_.stagger,k=_.overwrite,S=_.keyframes,T=_.defaults,E=_.scrollTrigger,A=_.yoyoEase,C=n.parent||l,M=(N(t)||R(t)?O(t[0]):"length"in n)?[t]:Je(t);if(s._targets=M.length?se(M):q("GSAP target "+t+" not found. https://gsap.com",!m.nullTargetWarn)||[],s._ptLookup=[],s._overwrite=k,S||x||L(b)||L(v)){if(n=s.vars,(u=s.timeline=new jt({data:"nested",defaults:T||{},targets:C&&"nested"===C.data?C.vars.targets:M})).kill(),u.parent=u._dp=r(s),u._start=0,x||L(b)||L(v)){if(f=M.length,g=x&&tt(x),I(x))for(h in x)~Gt.indexOf(h)&&(y||(y={}),y[h]=x[h]);for(c=0;c<f;c++)(d=xe(n,qt)).stagger=0,A&&(d.yoyoEase=A),y&&ve(d,y),p=M[c],d.duration=+Ht(b,r(s),c,p,M),d.delay=(+Ht(v,r(s),c,p,M)||0)-s._delay,!x&&1===f&&d.delay&&(s._delay=v=d.delay,s._start+=v,d.delay=0),u.to(p,d,g?g(c,p,M):0),u._ease=St.none;u.duration()?b=v=0:s.timeline=0}else if(S){ke(be(u.vars.defaults,{ease:"none"})),u._ease=It(S.ease||n.ease||"none");var D,j,F,B=0;if(N(S))S.forEach((function(e){return u.to(M,e,">")})),u.duration();else{for(h in d={},S)"ease"===h||"easeEach"===h||Wt(h,S[h],d,S.easeEach);for(h in d)for(D=d[h].sort((function(e,t){return e.t-t.t})),B=0,c=0;c<D.length;c++)(F={ease:(j=D[c]).e,duration:(j.t-(c?D[c-1].t:0))/100*b})[h]=j.v,u.to(M,F,B),B+=F.duration;u.duration()<b&&u.to({},{duration:b-u.duration()})}}b||s.duration(b=u.duration())}else s.timeline=0;return!0!==k||a||(Ft=r(s),l.killTweensOf(M),Ft=0),De(C,r(s),i),n.reversed&&s.reverse(),n.paused&&s.paused(!0),(w||!b&&!S&&s._start===fe(C._time)&&P(w)&&Ce(r(s))&&"nested"!==C.data)&&(s._tTime=-1e-8,s.render(Math.max(0,-v)||0)),E&&je(r(s),E),s}i(t,e);var n=t.prototype;return n.render=function(e,t,n){var r,i,a,s,l,u,c,d,f,h=this._time,p=this._tDur,g=this._dur,m=e<0,y=e>p-b&&!m?p:e<b?0:e;if(g){if(y!==this._tTime||!e||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m){if(r=y,d=this.timeline,this._repeat){if(s=g+this._rDelay,this._repeat<-1&&m)return this.totalTime(100*s+e,t,n);if(r=fe(y%s),y===p?(a=this._repeat,r=g):((a=~~(y/s))&&a===fe(y/s)&&(r=g,a--),r>g&&(r=g)),(u=this._yoyo&&1&a)&&(f=this._yEase,r=g-r),l=Pe(this._tTime,s),r===h&&!n&&this._initted&&a===l)return this._tTime=y,this;a!==l&&(d&&this._yEase&&Ct(d,u),this.vars.repeatRefresh&&!u&&!this._lock&&this._time!==s&&this._initted&&(this._lock=n=1,this.render(fe(s*a),!0).invalidate()._lock=0))}if(!this._initted){if(Fe(this,m?e:r,n,t,y))return this._tTime=0,this;if(h!==this._time&&(!n||!this.vars.repeatRefresh||a===l))return this;if(g!==this._dur)return this.render(e,t,n)}if(this._tTime=y,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(f||this._ease)(r/g),this._from&&(this.ratio=c=1-c),r&&!h&&!t&&!a&&(ut(this,"onStart"),this._tTime!==y))return this;for(i=this._pt;i;)i.r(c,i.d),i=i._next;d&&d.render(e<0?e:d._dur*d._ease(r/this._dur),t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(m&&Oe(this,e,0,n),ut(this,"onUpdate")),this._repeat&&a!==l&&this.vars.onRepeat&&!t&&this.parent&&ut(this,"onRepeat"),y!==this._tDur&&y||this._tTime!==y||(m&&!this._onUpdate&&Oe(this,e,0,!0),(e||!g)&&(y===this._tDur&&this._ts>0||!y&&this._ts<0)&&Ee(this,1),t||m&&!h||!(y||h||u)||(ut(this,y===p?"onComplete":"onReverseComplete",!0),this._prom&&!(y<p&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,n,r){var i,a,s,l=e.ratio,u=t<0||!t&&(!e._start&&Be(e)&&(e._initted||!ze(e))||(e._ts<0||e._dp._ts<0)&&!ze(e))?0:1,c=e._rDelay,d=0;if(c&&e._repeat&&(d=qe(0,e._tDur,t),a=Pe(d,c),e._yoyo&&1&a&&(u=1-u),a!==Pe(e._tTime,c)&&(l=1-u,e.vars.repeatRefresh&&e._initted&&e.invalidate())),u!==l||o||r||e._zTime===b||!t&&e._zTime){if(!e._initted&&Fe(e,t,r,n,d))return;for(s=e._zTime,e._zTime=t||(n?b:0),n||(n=t&&!s),e.ratio=u,e._from&&(u=1-u),e._time=0,e._tTime=d,i=e._pt;i;)i.r(u,i.d),i=i._next;t<0&&Oe(e,t,0,!0),e._onUpdate&&!n&&ut(e,"onUpdate"),d&&e._repeat&&!n&&e.parent&&ut(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===u&&(u&&Ee(e,1),n||o||(ut(e,u?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,n);return this},n.targets=function(){return this._targets},n.invalidate=function(t){return(!t||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},n.resetTo=function(e,t,n,r,i){g||xt.wake(),this._ts||this.play();var a=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||Vt(this,a),function(e,t,n,r,i,a,o,s){var l,u,c,d,f=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!f)for(f=e._ptCache[t]=[],c=e._ptLookup,d=e._targets.length;d--;){if((l=c[d][t])&&l.d&&l.d._pt)for(l=l.d._pt;l&&l.p!==t&&l.fp!==t;)l=l._next;if(!l)return Bt=1,e.vars[t]="+=0",Vt(e,o),Bt=0,s?q(t+" not eligible for reset"):1;f.push(l)}for(d=f.length;d--;)(l=(u=f[d])._pt||u).s=!r&&0!==r||i?l.s+(r||0)+a*l.c:r,l.c=n-l.s,u.e&&(u.e=de(n)+Ke(u.e)),u.b&&(u.b=l.s+Ke(u.b))}(this,e,t,n,r,this._ease(a/this._dur),a,i)?this.resetTo(e,t,n,r,1):(Re(this,0),this.parent||Se(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(e,t){if(void 0===t&&(t="all"),!e&&(!t||"all"===t))return this._lazy=this._pt=0,this.parent?ct(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,Ft&&!0!==Ft.vars.overwrite)._first||ct(this),this.parent&&n!==this.timeline.totalDuration()&&$e(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,a,o,s,l,u,c=this._targets,d=e?Je(e):c,f=this._ptLookup,h=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0}(c,d))return"all"===t&&(this._pt=0),ct(this);for(r=this._op=this._op||[],"all"!==t&&(E(t)&&(s={},ce(t,(function(e){return s[e]=1})),t=s),t=function(e,t){var n,r,i,a,o=e[0]?le(e[0]).harness:0,s=o&&o.aliases;if(!s)return t;for(r in n=ve({},t),s)if(r in n)for(i=(a=s[r].split(",")).length;i--;)n[a[i]]=n[r];return n}(c,t)),u=c.length;u--;)if(~d.indexOf(c[u]))for(s in i=f[u],"all"===t?(r[u]=t,o=i,a={}):(a=r[u]=r[u]||{},o=t),o)(l=i&&i[s])&&("kill"in l.d&&!0!==l.d.kill(s)||Te(this,l,"_pt"),delete i[s]),"all"!==a&&(a[s]=1);return this._initted&&!this._pt&&h&&ct(this),this},t.to=function(e,n){return new t(e,n,arguments[2])},t.from=function(e,t){return He(1,arguments)},t.delayedCall=function(e,n,r,i){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},t.fromTo=function(e,t,n){return He(2,arguments)},t.set=function(e,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(e,n)},t.killTweensOf=function(e,t,n){return l.killTweensOf(e,t,n)},t}(Dt);be(Kt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),ce("staggerTo,staggerFrom,staggerFromTo",(function(e){Kt[e]=function(){var t=new jt,n=Ze.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}}));var Zt=function(e,t,n){return e[t]=n},Xt=function(e,t,n){return e[t](n)},Yt=function(e,t,n,r){return e[t](r.fp,n)},Jt=function(e,t,n){return e.setAttribute(t,n)},Qt=function(e,t){return A(e[t])?Xt:C(e[t])&&e.setAttribute?Jt:Zt},en=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},tn=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},nn=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},rn=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},an=function(e,t,n,r){for(var i,a=this._pt;a;)i=a._next,a.p===r&&a.modifier(e,t,n),a=i},on=function(e){for(var t,n,r=this._pt;r;)n=r._next,r.p===e&&!r.op||r.op===e?Te(this,r,"_pt"):r.dep||(t=1),r=n;return!t},sn=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},ln=function(e){for(var t,n,r,i,a=e._pt;a;){for(t=a._next,n=r;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:i)?a._prev._next=a:r=a,(a._next=n)?n._prev=a:i=a,a=t}e._pt=r},un=function(){function e(e,t,n,r,i,a,o,s,l){this.t=t,this.s=r,this.c=i,this.p=n,this.r=a||en,this.d=o||this,this.set=s||Zt,this.pr=l||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=sn,this.m=e,this.mt=n,this.tween=t},e}();ce(oe+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return Q[e]=1})),V.TweenMax=V.TweenLite=Kt,V.TimelineLite=V.TimelineMax=jt,l=new jt({sortChildren:!1,defaults:y,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),m.stringFilter=wt;var cn=[],dn={},fn=[],hn=0,pn=0,gn=function(e){return(dn[e]||fn).map((function(e){return e()}))},mn=function(){var e=Date.now(),t=[];e-hn>2&&(gn("matchMediaInit"),cn.forEach((function(e){var n,r,i,a,o=e.queries,s=e.conditions;for(r in o)(n=u.matchMedia(o[r]).matches)&&(i=1),n!==s[r]&&(s[r]=n,a=1);a&&(e.revert(),i&&t.push(e))})),gn("matchMediaRevert"),t.forEach((function(e){return e.onMatch(e,(function(t){return e.add(null,t)}))})),hn=e,gn("matchMedia"))},yn=function(){function e(e,t){this.selector=t&&Qe(t),this.data=[],this._r=[],this.isReverted=!1,this.id=pn++,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,n){A(e)&&(n=t,t=e,e=A);var r=this,i=function(){var e,i=s,a=r.selector;return i&&i!==r&&i.data.push(r),n&&(r.selector=Qe(n)),s=r,e=t.apply(r,arguments),A(e)&&r._r.push(e),s=i,r.selector=a,r.isReverted=!1,e};return r.last=i,e===A?i(r,(function(e){return r.add(null,e)})):e?r[e]=i:i},t.ignore=function(e){var t=s;s=null,e(this),s=t},t.getTweens=function(){var t=[];return this.data.forEach((function(n){return n instanceof e?t.push.apply(t,n.getTweens()):n instanceof Kt&&!(n.parent&&"nested"===n.parent.data)&&t.push(n)})),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var n=this;if(e?function(){for(var t,r=n.getTweens(),i=n.data.length;i--;)"isFlip"===(t=n.data[i]).data&&(t.revert(),t.getChildren(!0,!0,!1).forEach((function(e){return r.splice(r.indexOf(e),1)})));for(r.map((function(e){return{g:e._dur||e._delay||e._sat&&!e._sat.vars.immediateRender?e.globalTime(0):-1/0,t:e}})).sort((function(e,t){return t.g-e.g||-1/0})).forEach((function(t){return t.t.revert(e)})),i=n.data.length;i--;)(t=n.data[i])instanceof jt?"nested"!==t.data&&(t.scrollTrigger&&t.scrollTrigger.revert(),t.kill()):!(t instanceof Kt)&&t.revert&&t.revert(e);n._r.forEach((function(t){return t(e,n)})),n.isReverted=!0}():this.data.forEach((function(e){return e.kill&&e.kill()})),this.clear(),t)for(var r=cn.length;r--;)cn[r].id===this.id&&cn.splice(r,1)},t.revert=function(e){this.kill(e||{})},e}(),_n=function(){function e(e){this.contexts=[],this.scope=e,s&&s.data.push(this)}var t=e.prototype;return t.add=function(e,t,n){I(e)||(e={matches:e});var r,i,a,o=new yn(0,n||this.scope),l=o.conditions={};for(i in s&&!o.selector&&(o.selector=s.selector),this.contexts.push(o),t=o.add("onMatch",t),o.queries=e,e)"all"===i?a=1:(r=u.matchMedia(e[i]))&&(cn.indexOf(o)<0&&cn.push(o),(l[i]=r.matches)&&(a=1),r.addListener?r.addListener(mn):r.addEventListener("change",mn));return a&&t(o,(function(e){return o.add(null,e)})),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach((function(t){return t.kill(e,!0)}))},e}(),bn={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){return ft(e)}))},timeline:function(e){return new jt(e)},getTweensOf:function(e,t){return l.getTweensOf(e,t)},getProperty:function(e,t,n,r){E(e)&&(e=Je(e)[0]);var i=le(e||{}).get,a=n?_e:ye;return"native"===n&&(n=""),e?t?a((ne[t]&&ne[t].get||i)(e,t,n,r)):function(t,n,r){return a((ne[t]&&ne[t].get||i)(e,t,n,r))}:e},quickSetter:function(e,t,n){if((e=Je(e)).length>1){var r=e.map((function(e){return xn.quickSetter(e,t,n)})),i=r.length;return function(e){for(var t=i;t--;)r[t](e)}}e=e[0]||{};var a=ne[t],o=le(e),s=o.harness&&(o.harness.aliases||{})[t]||t,l=a?function(t){var r=new a;p._pt=0,r.init(e,n?t+n:t,p,0,[e]),r.render(1,r),p._pt&&rn(1,p)}:o.set(e,s);return a?l:function(t){return l(e,s,n?t+n:t,o,1)}},quickTo:function(e,t,n){var r,i=xn.to(e,ve(((r={})[t]="+=0.1",r.paused=!0,r),n||{})),a=function(e,n,r){return i.resetTo(t,e,n,r)};return a.tween=i,a},isTweening:function(e){return l.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=It(e.ease,y.ease)),we(y,e||{})},config:function(e){return we(m,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,a=e.extendTimeline;(r||"").split(",").forEach((function(e){return e&&!ne[e]&&!V[e]&&q(t+" effect requires "+e+" plugin.")})),re[t]=function(e,t,r){return n(Je(e),be(t||{},i),r)},a&&(jt.prototype[t]=function(e,n,r){return this.add(re[t](e,I(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){St[e]=It(t)},parseEase:function(e,t){return arguments.length?It(e,t):St},getById:function(e){return l.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,i=new jt(e);for(i.smoothChildTiming=P(e.smoothChildTiming),l.remove(i),i._dp=0,i._time=i._tTime=l._time,n=l._first;n;)r=n._next,!t&&!n._dur&&n instanceof Kt&&n.vars.onComplete===n._targets[0]||De(i,n,n._start-n._delay),n=r;return De(l,i,0),i},context:function(e,t){return e?new yn(e,t):s},matchMedia:function(e){return new _n(e)},matchMediaRefresh:function(){return cn.forEach((function(e){var t,n,r=e.conditions;for(n in r)r[n]&&(r[n]=!1,t=1);t&&e.revert()}))||mn()},addEventListener:function(e,t){var n=dn[e]||(dn[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=dn[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:function e(t,n,r){var i=n-t;return N(t)?at(t,e(0,t.length),n):Ge(r,(function(e){return(i+(e-t)%i)%i+t}))},wrapYoyo:function e(t,n,r){var i=n-t,a=2*i;return N(t)?at(t,e(0,t.length-1),n):Ge(r,(function(e){return t+((e=(a+(e-t)%a)%a||0)>i?a-e:e)}))},distribute:tt,random:it,snap:rt,normalize:function(e,t,n){return st(e,t,0,1,n)},getUnit:Ke,clamp:function(e,t,n){return Ge(n,(function(n){return qe(e,t,n)}))},splitColor:mt,toArray:Je,selector:Qe,mapRange:st,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||Ke(n))}},interpolate:function e(t,n,r,i){var a=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!a){var o,s,l,u,c,d=E(t),f={};if(!0===r&&(i=1)&&(r=null),d)t={p:t},n={p:n};else if(N(t)&&!N(n)){for(l=[],u=t.length,c=u-2,s=1;s<u;s++)l.push(e(t[s-1],t[s]));u--,a=function(e){e*=u;var t=Math.min(c,~~e);return l[t](e-t)},r=n}else i||(t=ve(N(t)?[]:{},t));if(!l){for(o in n)$t.call(f,t,o,"get",n[o]);a=function(e){return rn(e,f)||(d?t.p:t)}}}return Ge(r,a)},shuffle:et},install:H,effects:re,ticker:xt,updateRoot:jt.updateRoot,plugins:ne,globalTimeline:l,core:{PropTween:un,globals:K,Tween:Kt,Timeline:jt,Animation:Dt,getCache:le,_removeLinkedListItem:Te,reverting:function(){return o},context:function(e){return e&&s&&(s.data.push(e),e._ctx=s),s},suppressOverwrites:function(e){return a=e}}};ce("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return bn[e]=Kt[e]})),xt.add(jt.updateRoot),p=bn.to({},{duration:0});var vn=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},wn=function(e,t){return{name:e,rawVars:1,init:function(e,n,r){r._onInit=function(e){var r,i;if(E(n)&&(r={},ce(n,(function(e){return r[e]=1})),n=r),t){for(i in r={},n)r[i]=t(n[i]);n=r}!function(e,t){var n,r,i,a=e._targets;for(n in t)for(r=a.length;r--;)(i=e._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=vn(i,n)),i&&i.modifier&&i.modifier(t[n],e,a[r],n))}(e,n)}}}},xn=bn.registerPlugin({name:"attr",init:function(e,t,n,r,i){var a,o,s;for(a in this.tween=n,t)s=e.getAttribute(a)||"",(o=this.add(e,"setAttribute",(s||0)+"",t[a],r,i,0,0,a)).op=a,o.b=s,this._props.push(a)},render:function(e,t){for(var n=t._pt;n;)o?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},wn("roundProps",nt),wn("modifiers"),wn("snap",rt))||bn;Kt.version=jt.version=xn.version="3.12.5",f=1,M()&&kt();var kn,Sn,Tn,En,An,On,Cn,In,Pn=St.Power0,Mn=St.Power1,Ln=St.Power2,Rn=St.Power3,Nn=St.Power4,Dn=St.Linear,jn=St.Quad,Fn=St.Cubic,Bn=St.Quart,zn=St.Quint,$n=St.Strong,Un=St.Elastic,Vn=St.Back,Wn=St.SteppedEase,Hn=St.Bounce,Gn=St.Sine,qn=St.Expo,Kn=St.Circ,Zn={},Xn=180/Math.PI,Yn=Math.PI/180,Jn=Math.atan2,Qn=/([A-Z])/g,er=/(left|right|width|margin|padding|x)/i,tr=/[\s,\(]\S/,nr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},rr=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},ir=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},ar=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},or=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},sr=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},lr=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},ur=function(e,t,n){return e.style[t]=n},cr=function(e,t,n){return e.style.setProperty(t,n)},dr=function(e,t,n){return e._gsap[t]=n},fr=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},hr=function(e,t,n,r,i){var a=e._gsap;a.scaleX=a.scaleY=n,a.renderTransform(i,a)},pr=function(e,t,n,r,i){var a=e._gsap;a[t]=n,a.renderTransform(i,a)},gr="transform",mr=gr+"Origin",yr=function e(t,n){var r=this,i=this.target,a=i.style,o=i._gsap;if(t in Zn&&a){if(this.tfm=this.tfm||{},"transform"===t)return nr.transform.split(",").forEach((function(t){return e.call(r,t,n)}));if(~(t=nr[t]||t).indexOf(",")?t.split(",").forEach((function(e){return r.tfm[e]=Nr(i,e)})):this.tfm[t]=o.x?o[t]:Nr(i,t),t===mr&&(this.tfm.zOrigin=o.zOrigin),this.props.indexOf(gr)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(mr,n,"")),t=gr}(a||n)&&this.props.push(t,n,a[t])},_r=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},br=function(){var e,t,n=this.props,r=this.target,i=r.style,a=r._gsap;for(e=0;e<n.length;e+=3)n[e+1]?r[n[e]]=n[e+2]:n[e+2]?i[n[e]]=n[e+2]:i.removeProperty("--"===n[e].substr(0,2)?n[e]:n[e].replace(Qn,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)a[t]=this.tfm[t];a.svg&&(a.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(e=Cn())&&e.isStart||i[gr]||(_r(i),a.zOrigin&&i[mr]&&(i[mr]+=" "+a.zOrigin+"px",a.zOrigin=0,a.renderTransform()),a.uncache=1)}},vr=function(e,t){var n={target:e,props:[],revert:br,save:yr};return e._gsap||xn.core.getCache(e),t&&t.split(",").forEach((function(e){return n.save(e)})),n},wr=function(e,t){var n=Sn.createElementNS?Sn.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Sn.createElement(e);return n&&n.style?n:Sn.createElement(e)},xr=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(Qn,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,Sr(n)||n,1)||""},kr="O,Moz,ms,Ms,Webkit".split(","),Sr=function(e,t,n){var r=(t||An).style,i=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(kr[i]+e in r););return i<0?null:(3===i?"ms":i>=0?kr[i]:"")+e},Tr=function(){"undefined"!==typeof window&&window.document&&(kn=window,Sn=kn.document,Tn=Sn.documentElement,An=wr("div")||{style:{}},wr("div"),gr=Sr(gr),mr=gr+"Origin",An.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",In=!!Sr("perspective"),Cn=xn.core.reverting,En=1)},Er=function e(t){var n,r=wr("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,a=this.nextSibling,o=this.style.cssText;if(Tn.appendChild(r),r.appendChild(this),this.style.display="block",t)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(s){}else this._gsapBBox&&(n=this._gsapBBox());return i&&(a?i.insertBefore(this,a):i.appendChild(this)),Tn.removeChild(r),this.style.cssText=o,n},Ar=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},Or=function(e){var t;try{t=e.getBBox()}catch(n){t=Er.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===Er||(t=Er.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+Ar(e,["x","cx","x1"])||0,y:+Ar(e,["y","cy","y1"])||0,width:0,height:0}},Cr=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!Or(e))},Ir=function(e,t){if(t){var n,r=e.style;t in Zn&&t!==mr&&(t=gr),r.removeProperty?("ms"!==(n=t.substr(0,2))&&"webkit"!==t.substr(0,6)||(t="-"+t),r.removeProperty("--"===n?t:t.replace(Qn,"-$1").toLowerCase())):r.removeAttribute(t)}},Pr=function(e,t,n,r,i,a){var o=new un(e._pt,t,n,0,1,a?lr:sr);return e._pt=o,o.b=r,o.e=i,e._props.push(n),o},Mr={deg:1,rad:1,turn:1},Lr={grid:1,flex:1},Rr=function e(t,n,r,i){var a,o,s,l,u=parseFloat(r)||0,c=(r+"").trim().substr((u+"").length)||"px",d=An.style,f=er.test(n),h="svg"===t.tagName.toLowerCase(),p=(h?"client":"offset")+(f?"Width":"Height"),g=100,m="px"===i,y="%"===i;if(i===c||!u||Mr[i]||Mr[c])return u;if("px"!==c&&!m&&(u=e(t,n,r,"px")),l=t.getCTM&&Cr(t),(y||"%"===c)&&(Zn[n]||~n.indexOf("adius")))return a=l?t.getBBox()[f?"width":"height"]:t[p],de(y?u/a*g:u/100*a);if(d[f?"width":"height"]=g+(m?c:i),o=~n.indexOf("adius")||"em"===i&&t.appendChild&&!h?t:t.parentNode,l&&(o=(t.ownerSVGElement||{}).parentNode),o&&o!==Sn&&o.appendChild||(o=Sn.body),(s=o._gsap)&&y&&s.width&&f&&s.time===xt.time&&!s.uncache)return de(u/s.width*g);if(!y||"height"!==n&&"width"!==n)(y||"%"===c)&&!Lr[xr(o,"display")]&&(d.position=xr(t,"position")),o===t&&(d.position="static"),o.appendChild(An),a=An[p],o.removeChild(An),d.position="absolute";else{var _=t.style[n];t.style[n]=g+i,a=t[p],_?t.style[n]=_:Ir(t,n)}return f&&y&&((s=le(o)).time=xt.time,s.width=o[p]),de(m?a*u/g:a&&u?g/a*u:0)},Nr=function(e,t,n,r){var i;return En||Tr(),t in nr&&"transform"!==t&&~(t=nr[t]).indexOf(",")&&(t=t.split(",")[0]),Zn[t]&&"transform"!==t?(i=qr(e,r),i="transformOrigin"!==t?i[t]:i.svg?i.origin:Kr(xr(e,mr))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=zr[t]&&zr[t](e,t,n)||xr(e,t)||ue(e,t)||("opacity"===t?1:0)),n&&!~(i+"").trim().indexOf(" ")?Rr(e,t,i,n)+n:i},Dr=function(e,t,n,r){if(!n||"none"===n){var i=Sr(t,e,1),a=i&&xr(e,i,1);a&&a!==n?(t=i,n=a):"borderColor"===t&&(n=xr(e,"borderTopColor"))}var o,s,l,u,c,d,f,h,p,g,y,_=new un(this._pt,e.style,t,0,1,nn),b=0,v=0;if(_.b=n,_.e=r,n+="","auto"===(r+="")&&(d=e.style[t],e.style[t]=r,r=xr(e,t)||r,d?e.style[t]=d:Ir(e,t)),wt(o=[n,r]),r=o[1],l=(n=o[0]).match(F)||[],(r.match(F)||[]).length){for(;s=F.exec(r);)f=s[0],p=r.substring(b,s.index),c?c=(c+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(c=1),f!==(d=l[v++]||"")&&(u=parseFloat(d)||0,y=d.substr((u+"").length),"="===f.charAt(1)&&(f=he(u,f)+y),h=parseFloat(f),g=f.substr((h+"").length),b=F.lastIndex-g.length,g||(g=g||m.units[t]||y,b===r.length&&(r+=g,_.e+=g)),y!==g&&(u=Rr(e,t,d,g)||0),_._pt={_next:_._pt,p:p||1===v?p:",",s:u,c:h-u,m:c&&c<4||"zIndex"===t?Math.round:0});_.c=b<r.length?r.substring(b,r.length):""}else _.r="display"===t&&"none"===r?lr:sr;return z.test(r)&&(_.e=0),this._pt=_,_},jr={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Fr=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(e=n,n=r,r=e),t[0]=jr[n]||n,t[1]=jr[r]||r,t.join(" ")},Br=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,a=t.t,o=a.style,s=t.u,l=a._gsap;if("all"===s||!0===s)o.cssText="",r=1;else for(i=(s=s.split(",")).length;--i>-1;)n=s[i],Zn[n]&&(r=1,n="transformOrigin"===n?mr:gr),Ir(a,n);r&&(Ir(a,gr),l&&(l.svg&&a.removeAttribute("transform"),qr(a,1),l.uncache=1,_r(o)))}},zr={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var a=e._pt=new un(e._pt,t,n,0,0,Br);return a.u=r,a.pr=-10,a.tween=i,e._props.push(n),1}}},$r=[1,0,0,1,0,0],Ur={},Vr=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},Wr=function(e){var t=xr(e,gr);return Vr(t)?$r:t.substr(7).match(j).map(de)},Hr=function(e,t){var n,r,i,a,o=e._gsap||le(e),s=e.style,l=Wr(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?$r:l:(l!==$r||e.offsetParent||e===Tn||o.svg||(i=s.display,s.display="block",(n=e.parentNode)&&e.offsetParent||(a=1,r=e.nextElementSibling,Tn.appendChild(e)),l=Wr(e),i?s.display=i:Ir(e,"display"),a&&(r?n.insertBefore(e,r):n?n.appendChild(e):Tn.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},Gr=function(e,t,n,r,i,a){var o,s,l,u=e._gsap,c=i||Hr(e,!0),d=u.xOrigin||0,f=u.yOrigin||0,h=u.xOffset||0,p=u.yOffset||0,g=c[0],m=c[1],y=c[2],_=c[3],b=c[4],v=c[5],w=t.split(" "),x=parseFloat(w[0])||0,k=parseFloat(w[1])||0;n?c!==$r&&(s=g*_-m*y)&&(l=x*(-m/s)+k*(g/s)-(g*v-m*b)/s,x=x*(_/s)+k*(-y/s)+(y*v-_*b)/s,k=l):(x=(o=Or(e)).x+(~w[0].indexOf("%")?x/100*o.width:x),k=o.y+(~(w[1]||w[0]).indexOf("%")?k/100*o.height:k)),r||!1!==r&&u.smooth?(b=x-d,v=k-f,u.xOffset=h+(b*g+v*y)-b,u.yOffset=p+(b*m+v*_)-v):u.xOffset=u.yOffset=0,u.xOrigin=x,u.yOrigin=k,u.smooth=!!r,u.origin=t,u.originIsAbsolute=!!n,e.style[mr]="0px 0px",a&&(Pr(a,u,"xOrigin",d,x),Pr(a,u,"yOrigin",f,k),Pr(a,u,"xOffset",h,u.xOffset),Pr(a,u,"yOffset",p,u.yOffset)),e.setAttribute("data-svg-origin",x+" "+k)},qr=function(e,t){var n=e._gsap||new Nt(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,a,o,s,l,u,c,d,f,h,p,g,y,_,b,v,w,x,k,S,T,E,A,O,C,I,P,M,L,R,N,D=e.style,j=n.scaleX<0,F="px",B="deg",z=getComputedStyle(e),$=xr(e,mr)||"0";return r=i=a=l=u=c=d=f=h=0,o=s=1,n.svg=!(!e.getCTM||!Cr(e)),z.translate&&("none"===z.translate&&"none"===z.scale&&"none"===z.rotate||(D[gr]=("none"!==z.translate?"translate3d("+(z.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==z.rotate?"rotate("+z.rotate+") ":"")+("none"!==z.scale?"scale("+z.scale.split(" ").join(",")+") ":"")+("none"!==z[gr]?z[gr]:"")),D.scale=D.rotate=D.translate="none"),y=Hr(e,n.svg),n.svg&&(n.uncache?(O=e.getBBox(),$=n.xOrigin-O.x+"px "+(n.yOrigin-O.y)+"px",A=""):A=!t&&e.getAttribute("data-svg-origin"),Gr(e,A||$,!!A||n.originIsAbsolute,!1!==n.smooth,y)),p=n.xOrigin||0,g=n.yOrigin||0,y!==$r&&(w=y[0],x=y[1],k=y[2],S=y[3],r=T=y[4],i=E=y[5],6===y.length?(o=Math.sqrt(w*w+x*x),s=Math.sqrt(S*S+k*k),l=w||x?Jn(x,w)*Xn:0,(d=k||S?Jn(k,S)*Xn+l:0)&&(s*=Math.abs(Math.cos(d*Yn))),n.svg&&(r-=p-(p*w+g*k),i-=g-(p*x+g*S))):(N=y[6],L=y[7],I=y[8],P=y[9],M=y[10],R=y[11],r=y[12],i=y[13],a=y[14],u=(_=Jn(N,M))*Xn,_&&(A=T*(b=Math.cos(-_))+I*(v=Math.sin(-_)),O=E*b+P*v,C=N*b+M*v,I=T*-v+I*b,P=E*-v+P*b,M=N*-v+M*b,R=L*-v+R*b,T=A,E=O,N=C),c=(_=Jn(-k,M))*Xn,_&&(b=Math.cos(-_),R=S*(v=Math.sin(-_))+R*b,w=A=w*b-I*v,x=O=x*b-P*v,k=C=k*b-M*v),l=(_=Jn(x,w))*Xn,_&&(A=w*(b=Math.cos(_))+x*(v=Math.sin(_)),O=T*b+E*v,x=x*b-w*v,E=E*b-T*v,w=A,T=O),u&&Math.abs(u)+Math.abs(l)>359.9&&(u=l=0,c=180-c),o=de(Math.sqrt(w*w+x*x+k*k)),s=de(Math.sqrt(E*E+N*N)),_=Jn(T,E),d=Math.abs(_)>2e-4?_*Xn:0,h=R?1/(R<0?-R:R):0),n.svg&&(A=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!Vr(xr(e,gr)),A&&e.setAttribute("transform",A))),Math.abs(d)>90&&Math.abs(d)<270&&(j?(o*=-1,d+=l<=0?180:-180,l+=l<=0?180:-180):(s*=-1,d+=d<=0?180:-180)),t=t||n.uncache,n.x=r-((n.xPercent=r&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+F,n.y=i-((n.yPercent=i&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+F,n.z=a+F,n.scaleX=de(o),n.scaleY=de(s),n.rotation=de(l)+B,n.rotationX=de(u)+B,n.rotationY=de(c)+B,n.skewX=d+B,n.skewY=f+B,n.transformPerspective=h+F,(n.zOrigin=parseFloat($.split(" ")[2])||!t&&n.zOrigin||0)&&(D[mr]=Kr($)),n.xOffset=n.yOffset=0,n.force3D=m.force3D,n.renderTransform=n.svg?ti:In?ei:Xr,n.uncache=0,n},Kr=function(e){return(e=e.split(" "))[0]+" "+e[1]},Zr=function(e,t,n){var r=Ke(t);return de(parseFloat(t)+parseFloat(Rr(e,"x",n+"px",r)))+r},Xr=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,ei(e,t)},Yr="0deg",Jr="0px",Qr=") ",ei=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,a=n.x,o=n.y,s=n.z,l=n.rotation,u=n.rotationY,c=n.rotationX,d=n.skewX,f=n.skewY,h=n.scaleX,p=n.scaleY,g=n.transformPerspective,m=n.force3D,y=n.target,_=n.zOrigin,b="",v="auto"===m&&e&&1!==e||!0===m;if(_&&(c!==Yr||u!==Yr)){var w,x=parseFloat(u)*Yn,k=Math.sin(x),S=Math.cos(x);x=parseFloat(c)*Yn,w=Math.cos(x),a=Zr(y,a,k*w*-_),o=Zr(y,o,-Math.sin(x)*-_),s=Zr(y,s,S*w*-_+_)}g!==Jr&&(b+="perspective("+g+Qr),(r||i)&&(b+="translate("+r+"%, "+i+"%) "),(v||a!==Jr||o!==Jr||s!==Jr)&&(b+=s!==Jr||v?"translate3d("+a+", "+o+", "+s+") ":"translate("+a+", "+o+Qr),l!==Yr&&(b+="rotate("+l+Qr),u!==Yr&&(b+="rotateY("+u+Qr),c!==Yr&&(b+="rotateX("+c+Qr),d===Yr&&f===Yr||(b+="skew("+d+", "+f+Qr),1===h&&1===p||(b+="scale("+h+", "+p+Qr),y.style[gr]=b||"translate(0, 0)"},ti=function(e,t){var n,r,i,a,o,s=t||this,l=s.xPercent,u=s.yPercent,c=s.x,d=s.y,f=s.rotation,h=s.skewX,p=s.skewY,g=s.scaleX,m=s.scaleY,y=s.target,_=s.xOrigin,b=s.yOrigin,v=s.xOffset,w=s.yOffset,x=s.forceCSS,k=parseFloat(c),S=parseFloat(d);f=parseFloat(f),h=parseFloat(h),(p=parseFloat(p))&&(h+=p=parseFloat(p),f+=p),f||h?(f*=Yn,h*=Yn,n=Math.cos(f)*g,r=Math.sin(f)*g,i=Math.sin(f-h)*-m,a=Math.cos(f-h)*m,h&&(p*=Yn,o=Math.tan(h-p),i*=o=Math.sqrt(1+o*o),a*=o,p&&(o=Math.tan(p),n*=o=Math.sqrt(1+o*o),r*=o)),n=de(n),r=de(r),i=de(i),a=de(a)):(n=g,a=m,r=i=0),(k&&!~(c+"").indexOf("px")||S&&!~(d+"").indexOf("px"))&&(k=Rr(y,"x",c,"px"),S=Rr(y,"y",d,"px")),(_||b||v||w)&&(k=de(k+_-(_*n+b*i)+v),S=de(S+b-(_*r+b*a)+w)),(l||u)&&(o=y.getBBox(),k=de(k+l/100*o.width),S=de(S+u/100*o.height)),o="matrix("+n+","+r+","+i+","+a+","+k+","+S+")",y.setAttribute("transform",o),x&&(y.style[gr]=o)},ni=function(e,t,n,r,i){var a,o,s=360,l=E(i),u=parseFloat(i)*(l&&~i.indexOf("rad")?Xn:1)-r,c=r+u+"deg";return l&&("short"===(a=i.split("_")[1])&&(u%=s)!==u%180&&(u+=u<0?s:-360),"cw"===a&&u<0?u=(u+36e9)%s-~~(u/s)*s:"ccw"===a&&u>0&&(u=(u-36e9)%s-~~(u/s)*s)),e._pt=o=new un(e._pt,t,n,r,u,ir),o.e=c,o.u="deg",e._props.push(n),o},ri=function(e,t){for(var n in t)e[n]=t[n];return e},ii=function(e,t,n){var r,i,a,o,s,l,u,c=ri({},n._gsap),d=n.style;for(i in c.svg?(a=n.getAttribute("transform"),n.setAttribute("transform",""),d[gr]=t,r=qr(n,1),Ir(n,gr),n.setAttribute("transform",a)):(a=getComputedStyle(n)[gr],d[gr]=t,r=qr(n,1),d[gr]=a),Zn)(a=c[i])!==(o=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(s=Ke(a)!==(u=Ke(o))?Rr(n,i,a,u):parseFloat(a),l=parseFloat(o),e._pt=new un(e._pt,r,i,s,l-s,rr),e._pt.u=u||0,e._props.push(i));ri(r,c)};ce("padding,margin,Width,Radius",(function(e,t){var n="Top",r="Right",i="Bottom",a="Left",o=(t<3?[n,r,i,a]:[n+a,n+r,i+r,i+a]).map((function(n){return t<2?e+n:"border"+n+e}));zr[t>1?"border"+e:e]=function(e,t,n,r,i){var a,s;if(arguments.length<4)return a=o.map((function(t){return Nr(e,t,n)})),5===(s=a.join(" ")).split(a[0]).length?a[0]:s;a=(r+"").split(" "),s={},o.forEach((function(e,t){return s[e]=a[t]=a[t]||a[(t-1)/2|0]})),e.init(t,s,i)}}));var ai={name:"css",register:Tr,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var a,o,s,l,u,c,d,f,h,p,g,y,_,b,v,w,x=this._props,k=e.style,S=n.vars.startAt;for(d in En||Tr(),this.styles=this.styles||vr(e),w=this.styles.props,this.tween=n,t)if("autoRound"!==d&&(o=t[d],!ne[d]||!Ut(d,t,n,r,e,i)))if(u=typeof o,c=zr[d],"function"===u&&(u=typeof(o=o.call(n,r,e,i))),"string"===u&&~o.indexOf("random(")&&(o=ot(o)),c)c(this,e,d,o,n)&&(v=1);else if("--"===d.substr(0,2))a=(getComputedStyle(e).getPropertyValue(d)+"").trim(),o+="",bt.lastIndex=0,bt.test(a)||(f=Ke(a),h=Ke(o)),h?f!==h&&(a=Rr(e,d,a,h)+h):f&&(o+=f),this.add(k,"setProperty",a,o,r,i,0,0,d),x.push(d),w.push(d,0,k[d]);else if("undefined"!==u){if(S&&d in S?(a="function"===typeof S[d]?S[d].call(n,r,e,i):S[d],E(a)&&~a.indexOf("random(")&&(a=ot(a)),Ke(a+"")||"auto"===a||(a+=m.units[d]||Ke(Nr(e,d))||""),"="===(a+"").charAt(1)&&(a=Nr(e,d))):a=Nr(e,d),l=parseFloat(a),(p="string"===u&&"="===o.charAt(1)&&o.substr(0,2))&&(o=o.substr(2)),s=parseFloat(o),d in nr&&("autoAlpha"===d&&(1===l&&"hidden"===Nr(e,"visibility")&&s&&(l=0),w.push("visibility",0,k.visibility),Pr(this,k,"visibility",l?"inherit":"hidden",s?"inherit":"hidden",!s)),"scale"!==d&&"transform"!==d&&~(d=nr[d]).indexOf(",")&&(d=d.split(",")[0])),g=d in Zn)if(this.styles.save(d),y||((_=e._gsap).renderTransform&&!t.parseTransform||qr(e,t.parseTransform),b=!1!==t.smoothOrigin&&_.smooth,(y=this._pt=new un(this._pt,k,gr,0,1,_.renderTransform,_,0,-1)).dep=1),"scale"===d)this._pt=new un(this._pt,_,"scaleY",_.scaleY,(p?he(_.scaleY,p+s):s)-_.scaleY||0,rr),this._pt.u=0,x.push("scaleY",d),d+="X";else{if("transformOrigin"===d){w.push(mr,0,k[mr]),o=Fr(o),_.svg?Gr(e,o,0,b,0,this):((h=parseFloat(o.split(" ")[2])||0)!==_.zOrigin&&Pr(this,_,"zOrigin",_.zOrigin,h),Pr(this,k,d,Kr(a),Kr(o)));continue}if("svgOrigin"===d){Gr(e,o,1,b,0,this);continue}if(d in Ur){ni(this,_,d,l,p?he(l,p+o):o);continue}if("smoothOrigin"===d){Pr(this,_,"smooth",_.smooth,o);continue}if("force3D"===d){_[d]=o;continue}if("transform"===d){ii(this,o,e);continue}}else d in k||(d=Sr(d)||d);if(g||(s||0===s)&&(l||0===l)&&!tr.test(o)&&d in k)s||(s=0),(f=(a+"").substr((l+"").length))!==(h=Ke(o)||(d in m.units?m.units[d]:f))&&(l=Rr(e,d,a,h)),this._pt=new un(this._pt,g?_:k,d,l,(p?he(l,p+s):s)-l,g||"px"!==h&&"zIndex"!==d||!1===t.autoRound?rr:or),this._pt.u=h||0,f!==h&&"%"!==h&&(this._pt.b=a,this._pt.r=ar);else if(d in k)Dr.call(this,e,d,a,p?p+o:o);else if(d in e)this.add(e,d,a||e[d],p?p+o:o,r,i);else if("parseTransform"!==d){G(d,o);continue}g||(d in k?w.push(d,0,k[d]):w.push(d,1,a||e[d])),x.push(d)}v&&ln(this)},render:function(e,t){if(t.tween._time||!Cn())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:Nr,aliases:nr,getSetter:function(e,t,n){var r=nr[t];return r&&r.indexOf(",")<0&&(t=r),t in Zn&&t!==mr&&(e._gsap.x||Nr(e,"x"))?n&&On===n?"scale"===t?fr:dr:(On=n||{})&&("scale"===t?hr:pr):e.style&&!C(e.style[t])?ur:~t.indexOf("-")?cr:Qt(e,t)},core:{_removeProperty:Ir,_getMatrix:Hr}};xn.utils.checkPrefix=Sr,xn.core.getStyleSaver=vr,function(e,t,n,r){var i=ce(e+","+t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){Zn[e]=1}));ce(t,(function(e){m.units[e]="deg",Ur[e]=1})),nr[i[13]]=e+","+t,ce("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");nr[t[1]]=i[t[0]]}))}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),ce("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){m.units[e]="px"})),xn.registerPlugin(ai);var oi=xn.registerPlugin(ai)||xn,si=oi.core.Tween},5190:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=/[A-Z]/g,i=/^ms-/,a={};function o(e){return"-"+e.toLowerCase()}const s=function(e){if(a.hasOwnProperty(e))return a[e];var t=e.replace(r,o);return a[e]=i.test(t)?"-"+t:t}},9782:(e,t)=>{t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,d=n?i-1:0,f=n?-1:1,h=e[t+d];for(d+=f,a=h&(1<<-c)-1,h>>=-c,c+=s;c>0;a=256*a+e[t+d],d+=f,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=256*o+e[t+d],d+=f,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,r),a-=u}return(h?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,l,u=8*a-i-1,c=(1<<u)-1,d=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:a-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=c?(s=0,o=c):o+d>=1?(s=(t*l-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[n+h]=255&o,h+=p,o/=256,u-=8);e[n+h-p]|=128*g}},218:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.prefixMap,n=e.plugins;return function e(s){for(var l in s){var u=s[l];if((0,o.default)(u))s[l]=e(u);else if(Array.isArray(u)){for(var c=[],d=0,f=u.length;d<f;++d){var h=(0,i.default)(n,l,u[d],s,t);(0,a.default)(c,h||u[d])}c.length>0&&(s[l]=c)}else{var p=(0,i.default)(n,l,u,s,t);p&&(s[l]=p),s=(0,r.default)(t,l,s)}}return s}};var r=s(n(4778)),i=s(n(3890)),a=s(n(8132)),o=s(n(6264));function s(e){return e&&e.__esModule?e:{default:e}}},2610:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return null}},620:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,r.isPrefixedValue)(t)&&-1!==t.indexOf("cross-fade("))return a.map((function(e){return t.replace(i,e+"cross-fade(")}))};var r=n(4600),i=/cross-fade\(/g,a=["-webkit-",""]},6698:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("cursor"===e&&r.hasOwnProperty(t))return n.map((function(e){return e+t}))};var n=["-webkit-","-moz-",""],r={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0}},4206:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,r.isPrefixedValue)(t)&&-1!==t.indexOf("filter("))return a.map((function(e){return t.replace(i,e+"filter(")}))};var r=n(4600),i=/filter\(/g,a=["-webkit-",""]},4191:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,a.default)(t)&&t.indexOf("image-set(")>-1)return o.map((function(e){return t.replace(/image-set\(/g,e+"image-set(")}))};var r,i=n(2123),a=(r=i)&&r.__esModule?r:{default:r};var o=["-webkit-",""]},4389:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(Object.prototype.hasOwnProperty.call(n,e))for(var i=n[e],a=0,o=i.length;a<o;++a)r[i[a]]=t};var n={marginBlockStart:["WebkitMarginBefore"],marginBlockEnd:["WebkitMarginAfter"],marginInlineStart:["WebkitMarginStart","MozMarginStart"],marginInlineEnd:["WebkitMarginEnd","MozMarginEnd"],paddingBlockStart:["WebkitPaddingBefore"],paddingBlockEnd:["WebkitPaddingAfter"],paddingInlineStart:["WebkitPaddingStart","MozPaddingStart"],paddingInlineEnd:["WebkitPaddingEnd","MozPaddingEnd"],borderBlockStart:["WebkitBorderBefore"],borderBlockStartColor:["WebkitBorderBeforeColor"],borderBlockStartStyle:["WebkitBorderBeforeStyle"],borderBlockStartWidth:["WebkitBorderBeforeWidth"],borderBlockEnd:["WebkitBorderAfter"],borderBlockEndColor:["WebkitBorderAfterColor"],borderBlockEndStyle:["WebkitBorderAfterStyle"],borderBlockEndWidth:["WebkitBorderAfterWidth"],borderInlineStart:["WebkitBorderStart","MozBorderStart"],borderInlineStartColor:["WebkitBorderStartColor","MozBorderStartColor"],borderInlineStartStyle:["WebkitBorderStartStyle","MozBorderStartStyle"],borderInlineStartWidth:["WebkitBorderStartWidth","MozBorderStartWidth"],borderInlineEnd:["WebkitBorderEnd","MozBorderEnd"],borderInlineEndColor:["WebkitBorderEndColor","MozBorderEndColor"],borderInlineEndStyle:["WebkitBorderEndStyle","MozBorderEndStyle"],borderInlineEndWidth:["WebkitBorderEndWidth","MozBorderEndWidth"]}},7007:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]}},6694:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(r.hasOwnProperty(e)&&i.hasOwnProperty(t))return n.map((function(e){return e+t}))};var n=["-webkit-","-moz-",""],r={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},i={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0}},3675:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,o){if("string"===typeof t&&s.hasOwnProperty(e)){var u=function(e,t){if((0,i.default)(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),a=0,o=n.length;a<o;++a){var s=n[a],u=[s];for(var c in t){var d=(0,r.default)(c);if(s.indexOf(d)>-1&&"order"!==d)for(var f=t[c],h=0,p=f.length;h<p;++h)u.unshift(s.replace(d,l[f[h]]+d))}n[a]=u.join(",")}return n.join(",")}(t,o),c=u.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-moz-|-ms-/.test(e)})).join(",");if(e.indexOf("Webkit")>-1)return c;var d=u.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-webkit-|-ms-/.test(e)})).join(",");return e.indexOf("Moz")>-1?d:(n["Webkit"+(0,a.default)(e)]=c,n["Moz"+(0,a.default)(e)]=d,u)}};var r=o(n(4644)),i=o(n(2123)),a=o(n(7964));function o(e){return e&&e.__esModule?e:{default:e}}var s={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},l={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"}},8132:(e,t)=>{"use strict";function n(e,t){-1===e.indexOf(t)&&e.push(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(Array.isArray(t))for(var r=0,i=t.length;r<i;++r)n(e,t[r]);else n(e,t)}},7964:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},6264:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof Object&&!Array.isArray(e)}},4778:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=e[t];if(r&&n.hasOwnProperty(t))for(var i=(0,a.default)(t),o=0;o<r.length;++o){var s=r[o]+i;n[s]||(n[s]=n[t])}return n};var r,i=n(7964),a=(r=i)&&r.__esModule?r:{default:r}},3890:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,i){for(var a=0,o=e.length;a<o;++a){var s=e[a](t,n,r,i);if(s)return s}}},8315:(e,t)=>{"use strict";t.supports=function(...e){const t=e.reduce(((e,t)=>Object.assign(e,t)),{});return Object.assign(t,{snapshots:t.snapshots||!1,permanence:t.permanence||!1,seek:t.seek||!1,clear:t.clear||!1,getMany:t.getMany||!1,keyIterator:t.keyIterator||!1,valueIterator:t.valueIterator||!1,iteratorNextv:t.iteratorNextv||!1,iteratorAll:t.iteratorAll||!1,status:t.status||!1,createIfMissing:t.createIfMissing||!1,errorIfExists:t.errorIfExists||!1,deferredOpen:t.deferredOpen||!1,promises:t.promises||!1,streams:t.streams||!1,encodings:Object.assign({},t.encodings),events:Object.assign({},t.events),additionalMethods:Object.assign({},t.additionalMethods)})}},836:(e,t,n)=>{"use strict";const r=n(8393),i=n(3706),{Encoding:a}=n(383),{BufferFormat:o,ViewFormat:s,UTF8Format:l}=n(6080),u=Symbol("formats"),c=Symbol("encodings"),d=new Set(["buffer","view","utf8"]);t.Transcoder=class{constructor(e){if(!Array.isArray(e))throw new TypeError("The first argument 'formats' must be an array");if(!e.every((e=>d.has(e))))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'");this[c]=new Map,this[u]=new Set(e);for(const n in i)try{this.encoding(n)}catch(t){if("LEVEL_ENCODING_NOT_SUPPORTED"!==t.code)throw t}}encodings(){return Array.from(new Set(this[c].values()))}encoding(e){let t=this[c].get(e);if(void 0===t){if("string"===typeof e&&""!==e){if(t=h[e],!t)throw new r(`Encoding '${e}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if("object"!==typeof e||null===e)throw new TypeError("First argument 'encoding' must be a string or object");t=function(e){if(e instanceof a)return e;const t="type"in e&&"string"===typeof e.type?e.type:void 0,n=e.name||t||"anonymous-"+p++;switch(function(e){return"format"in e&&void 0!==e.format?e.format:"buffer"in e&&"boolean"===typeof e.buffer?e.buffer?"buffer":"utf8":"code"in e&&Number.isInteger(e.code)?"view":"buffer"}(e)){case"view":return new s({...e,name:n});case"utf8":return new l({...e,name:n});case"buffer":return new o({...e,name:n});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}(e)}const{name:n,format:i}=t;if(!this[u].has(i))if(this[u].has("view"))t=t.createViewTranscoder();else if(this[u].has("buffer"))t=t.createBufferTranscoder();else{if(!this[u].has("utf8"))throw new r(`Encoding '${n}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});t=t.createUTF8Transcoder()}for(const r of[e,n,t.name,t.commonName])this[c].set(r,t)}return t}};const f={binary:i.buffer,"utf-8":i.utf8},h={...i,...f};let p=0},383:(e,t,n)=>{"use strict";const r=n(8393),i=new Set(["buffer","view","utf8"]);t.Encoding=class{constructor(e){if(this.encode=e.encode||this.encode,this.decode=e.decode||this.decode,this.name=e.name||this.name,this.format=e.format||this.format,"function"!==typeof this.encode)throw new TypeError("The 'encode' property must be a function");if("function"!==typeof this.decode)throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),"string"!==typeof this.name||""===this.name)throw new TypeError("The 'name' property must be a string");if("string"!==typeof this.format||!i.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");e.createViewTranscoder&&(this.createViewTranscoder=e.createViewTranscoder),e.createBufferTranscoder&&(this.createBufferTranscoder=e.createBufferTranscoder),e.createUTF8Transcoder&&(this.createUTF8Transcoder=e.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new r(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new r(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new r(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}}},3706:(e,t,n)=>{"use strict";const{Buffer:r}=n(3880)||{Buffer:{isBuffer:()=>!1}},{textEncoder:i,textDecoder:a}=n(9553)(),{BufferFormat:o,ViewFormat:s,UTF8Format:l}=n(6080),u=e=>e;t.utf8=new l({encode:function(e){return r.isBuffer(e)?e.toString("utf8"):ArrayBuffer.isView(e)?a.decode(e):String(e)},decode:u,name:"utf8",createViewTranscoder(){return new s({encode:function(e){return ArrayBuffer.isView(e)?e:i.encode(e)},decode:function(e){return a.decode(e)},name:`${this.name}+view`})},createBufferTranscoder(){return new o({encode:function(e){return r.isBuffer(e)?e:ArrayBuffer.isView(e)?r.from(e.buffer,e.byteOffset,e.byteLength):r.from(String(e),"utf8")},decode:function(e){return e.toString("utf8")},name:`${this.name}+buffer`})}}),t.json=new l({encode:JSON.stringify,decode:JSON.parse,name:"json"}),t.buffer=new o({encode:function(e){return r.isBuffer(e)?e:ArrayBuffer.isView(e)?r.from(e.buffer,e.byteOffset,e.byteLength):r.from(String(e),"utf8")},decode:u,name:"buffer",createViewTranscoder(){return new s({encode:function(e){return ArrayBuffer.isView(e)?e:r.from(String(e),"utf8")},decode:function(e){return r.from(e.buffer,e.byteOffset,e.byteLength)},name:`${this.name}+view`})}}),t.view=new s({encode:function(e){return ArrayBuffer.isView(e)?e:i.encode(e)},decode:u,name:"view",createBufferTranscoder(){return new o({encode:function(e){return r.isBuffer(e)?e:ArrayBuffer.isView(e)?r.from(e.buffer,e.byteOffset,e.byteLength):r.from(String(e),"utf8")},decode:u,name:`${this.name}+buffer`})}}),t.hex=new o({encode:function(e){return r.isBuffer(e)?e:r.from(String(e),"hex")},decode:function(e){return e.toString("hex")},name:"hex"}),t.base64=new o({encode:function(e){return r.isBuffer(e)?e:r.from(String(e),"base64")},decode:function(e){return e.toString("base64")},name:"base64"})},6080:(e,t,n)=>{"use strict";const{Buffer:r}=n(3880)||{},{Encoding:i}=n(383),a=n(9553);class o extends i{constructor(e){super({...e,format:"buffer"})}createViewTranscoder(){return new s({encode:this.encode,decode:e=>this.decode(r.from(e.buffer,e.byteOffset,e.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}}class s extends i{constructor(e){super({...e,format:"view"})}createBufferTranscoder(){return new o({encode:e=>{const t=this.encode(e);return r.from(t.buffer,t.byteOffset,t.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}}t.BufferFormat=o,t.ViewFormat=s,t.UTF8Format=class extends i{constructor(e){super({...e,format:"utf8"})}createBufferTranscoder(){return new o({encode:e=>r.from(this.encode(e),"utf8"),decode:e=>this.decode(e.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){const{textEncoder:e,textDecoder:t}=a();return new s({encode:t=>e.encode(this.encode(t)),decode:e=>this.decode(t.decode(e)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}}},9553:e=>{"use strict";let t=null;e.exports=function(){return null===t&&(t={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),t}},8393:e=>{"use strict";e.exports=class extends Error{constructor(e,t){super(e||""),"object"===typeof t&&null!==t&&(t.code&&(this.code=String(t.code)),t.expected&&(this.expected=!0),t.transient&&(this.transient=!0),t.cause&&(this.cause=t.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}},6076:e=>{"use strict";function t(e,t){if(null!=e)return e;var n=new Error(void 0!==t?t:"Got unexpected "+e);throw n.framesToPop=1,n}e.exports=t,e.exports.default=t,Object.defineProperty(e.exports,"__esModule",{value:!0})},3898:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InferenceSession:()=>p,Tensor:()=>f,env:()=>o,registerBackend:()=>a});const r={},i=[],a=(e,t,n)=>{if(!t||"function"!==typeof t.init||"function"!==typeof t.createSessionHandler)throw new TypeError("not a valid backend");{const a=r[e];if(void 0===a)r[e]={backend:t,priority:n};else{if(a.priority>n)return;if(a.priority===n&&a.backend!==t)throw new Error(`cannot register backend "${e}" using priority ${n}`)}if(n>=0){const t=i.indexOf(e);-1!==t&&i.splice(t,1);for(let a=0;a<i.length;a++)if(r[i[a]].priority<=n)return void i.splice(a,0,e);i.push(e)}}};const o=new class{constructor(){this.wasm={},this.webgl={},this.logLevelInternal="warning"}set logLevel(e){if(void 0!==e){if("string"!==typeof e||-1===["verbose","info","warning","error","fatal"].indexOf(e))throw new Error(`Unsupported logging level: ${e}`);this.logLevelInternal=e}}get logLevel(){return this.logLevelInternal}},s="undefined"!==typeof BigInt64Array&&"function"===typeof BigInt64Array.from,l="undefined"!==typeof BigUint64Array&&"function"===typeof BigUint64Array.from,u=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),c=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);s&&(u.set("int64",BigInt64Array),c.set(BigInt64Array,"int64")),l&&(u.set("uint64",BigUint64Array),c.set(BigUint64Array,"uint64"));class d{constructor(e,t,n){let r,i,a;if("string"===typeof e)if(r=e,a=n,"string"===e){if(!Array.isArray(t))throw new TypeError("A string tensor's data must be a string array.");i=t}else{const n=u.get(e);if(void 0===n)throw new TypeError(`Unsupported tensor type: ${e}.`);if(Array.isArray(t))i=n.from(t);else{if(!(t instanceof n))throw new TypeError(`A ${r} tensor's data must be type of ${n}`);i=t}}else if(a=t,Array.isArray(e)){if(0===e.length)throw new TypeError("Tensor type cannot be inferred from an empty array.");const t=typeof e[0];if("string"===t)r="string",i=e;else{if("boolean"!==t)throw new TypeError(`Invalid element type of data array: ${t}.`);r="bool",i=Uint8Array.from(e)}}else{const t=c.get(e.constructor);if(void 0===t)throw new TypeError(`Unsupported type for tensor data: ${e.constructor}.`);r=t,i=e}if(void 0===a)a=[i.length];else if(!Array.isArray(a))throw new TypeError("A tensor's dims must be a number array");const o=(e=>{let t=1;for(let n=0;n<e.length;n++){const r=e[n];if("number"!==typeof r||!Number.isSafeInteger(r))throw new TypeError(`dims[${n}] must be an integer, got: ${r}`);if(r<0)throw new RangeError(`dims[${n}] must be a non-negative integer, got: ${r}`);t*=r}return t})(a);if(o!==i.length)throw new Error(`Tensor's size(${o}) does not match data length(${i.length}).`);this.dims=a,this.type=r,this.data=i,this.size=o}static bufferToTensor(e,t){if(void 0===e)throw new Error("Image buffer must be defined");if(void 0===t.height||void 0===t.width)throw new Error("Image height and width must be defined");const{height:n,width:r}=t,i=t.norm;let a,o;a=void 0===i||void 0===i.mean?255:i.mean,o=void 0===i||void 0===i.bias?0:i.bias;const s=void 0!==t.bitmapFormat?t.bitmapFormat:"RGBA",l=void 0!==t.tensorFormat&&void 0!==t.tensorFormat?t.tensorFormat:"RGB",u=n*r,c="RGBA"===l?new Float32Array(4*u):new Float32Array(3*u);let f=4,h=0,p=1,g=2,m=3,y=0,_=u,b=2*u,v=-1;"RGB"===s&&(f=3,h=0,p=1,g=2,m=-1),"RGBA"===l?v=3*u:"RBG"===l?(y=0,b=u,_=2*u):"BGR"===l&&(b=0,_=u,y=2*u);for(let d=0;d<u;d++,h+=f,g+=f,p+=f,m+=f)c[y++]=(e[h]+o)/a,c[_++]=(e[p]+o)/a,c[b++]=(e[g]+o)/a,-1!==v&&-1!==m&&(c[v++]=(e[m]+o)/a);return new d("float32",c,"RGBA"===l?[1,4,n,r]:[1,3,n,r])}static async fromImage(e,t){const n="undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement,r="undefined"!==typeof ImageData&&e instanceof ImageData,i="undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap,a="undefined"!==typeof String&&(e instanceof String||"string"===typeof e);let o,s={};if(n){const n=document.createElement("canvas"),r=n.getContext("2d");if(null==r)throw new Error("Can not access image data");{let i=e.naturalHeight,a=e.naturalWidth;if(void 0!==t&&void 0!==t.resizedHeight&&void 0!==t.resizedWidth&&(i=t.resizedHeight,a=t.resizedWidth),void 0!==t){if(s=t,void 0!==t.tensorFormat)throw new Error("Image input config format must be RGBA for HTMLImageElement");if(s.tensorFormat="RGBA",void 0!==t.height&&t.height!==i)throw new Error("Image input config height doesn't match HTMLImageElement height");if(s.height=i,void 0!==t.width&&t.width!==a)throw new Error("Image input config width doesn't match HTMLImageElement width");s.width=a}else s.tensorFormat="RGBA",s.height=i,s.width=a;n.width=a,n.height=i,r.drawImage(e,0,0,a,i),o=r.getImageData(0,0,a,i).data}}else{if(!r){if(i){if(void 0===t)throw new Error("Please provide image config with format for Imagebitmap");if(void 0!==t.bitmapFormat)throw new Error("Image input config format must be defined for ImageBitmap");const n=document.createElement("canvas").getContext("2d");if(null!=n){const r=e.height,i=e.width;if(n.drawImage(e,0,0,i,r),o=n.getImageData(0,0,i,r).data,void 0!==t){if(void 0!==t.height&&t.height!==r)throw new Error("Image input config height doesn't match ImageBitmap height");if(s.height=r,void 0!==t.width&&t.width!==i)throw new Error("Image input config width doesn't match ImageBitmap width");s.width=i}else s.height=r,s.width=i;return d.bufferToTensor(o,s)}throw new Error("Can not access image data")}if(a)return new Promise(((n,r)=>{const i=document.createElement("canvas"),a=i.getContext("2d");if(!e||!a)return r();const o=new Image;o.crossOrigin="Anonymous",o.src=e,o.onload=()=>{i.width=o.width,i.height=o.height,a.drawImage(o,0,0,i.width,i.height);const e=a.getImageData(0,0,i.width,i.height);if(void 0!==t){if(void 0!==t.height&&t.height!==i.height)throw new Error("Image input config height doesn't match ImageBitmap height");if(s.height=i.height,void 0!==t.width&&t.width!==i.width)throw new Error("Image input config width doesn't match ImageBitmap width");s.width=i.width}else s.height=i.height,s.width=i.width;n(d.bufferToTensor(e.data,s))}}));throw new Error("Input data provided is not supported - aborted tensor creation")}{const n="RGBA";let r,i;if(void 0!==t&&void 0!==t.resizedWidth&&void 0!==t.resizedHeight?(r=t.resizedHeight,i=t.resizedWidth):(r=e.height,i=e.width),void 0!==t){if(s=t,void 0!==t.bitmapFormat&&t.bitmapFormat!==n)throw new Error("Image input config format must be RGBA for ImageData");s.bitmapFormat="RGBA"}else s.bitmapFormat="RGBA";if(s.height=r,s.width=i,void 0!==t){const t=document.createElement("canvas");t.width=i,t.height=r;const n=t.getContext("2d");if(null==n)throw new Error("Can not access image data");n.putImageData(e,0,0),o=n.getImageData(0,0,i,r).data}else o=e.data}}if(void 0!==o)return d.bufferToTensor(o,s);throw new Error("Input data provided is not supported - aborted tensor creation")}toImageData(e){var t,n;const r=document.createElement("canvas").getContext("2d");let i;if(null==r)throw new Error("Can not access image data");{const a=this.dims[3],o=this.dims[2],s=this.dims[1],l=void 0!==e&&void 0!==e.format?e.format:"RGB",u=void 0!==e&&void 0!==(null===(t=e.norm)||void 0===t?void 0:t.mean)?e.norm.mean:255,c=void 0!==e&&void 0!==(null===(n=e.norm)||void 0===n?void 0:n.bias)?e.norm.bias:0,d=o*a;if(void 0!==e){if(void 0!==e.height&&e.height!==o)throw new Error("Image output config height doesn't match tensor height");if(void 0!==e.width&&e.width!==a)throw new Error("Image output config width doesn't match tensor width");if(void 0!==e.format&&4===s&&"RGBA"!==e.format||3===s&&"RGB"!==e.format&&"BGR"!==e.format)throw new Error("Tensor format doesn't match input tensor dims")}const f=4;let h=0,p=1,g=2,m=3,y=0,_=d,b=2*d,v=-1;"RGBA"===l?(y=0,_=d,b=2*d,v=3*d):"RGB"===l?(y=0,_=d,b=2*d):"RBG"===l&&(y=0,b=d,_=2*d),i=r.createImageData(a,o);for(let e=0;e<o*a;h+=f,p+=f,g+=f,m+=f,e++)i.data[h]=(this.data[y++]-c)*u,i.data[p]=(this.data[_++]-c)*u,i.data[g]=(this.data[b++]-c)*u,i.data[m]=-1===v?255:(this.data[v++]-c)*u}return i}reshape(e){return new d(this.type,this.data,e)}}const f=d;class h{constructor(e){this.handler=e}async run(e,t,n){const r={};let i={};if("object"!==typeof e||null===e||e instanceof f||Array.isArray(e))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let a=!0;if("object"===typeof t){if(null===t)throw new TypeError("Unexpected argument[1]: cannot be null.");if(t instanceof f)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(t)){if(0===t.length)throw new TypeError("'fetches' cannot be an empty array.");a=!1;for(const e of t){if("string"!==typeof e)throw new TypeError("'fetches' must be a string array or an object.");if(-1===this.outputNames.indexOf(e))throw new RangeError(`'fetches' contains invalid output name: ${e}.`);r[e]=null}if("object"===typeof n&&null!==n)i=n;else if("undefined"!==typeof n)throw new TypeError("'options' must be an object.")}else{let e=!1;const o=Object.getOwnPropertyNames(t);for(const n of this.outputNames)if(-1!==o.indexOf(n)){const i=t[n];(null===i||i instanceof f)&&(e=!0,a=!1,r[n]=i)}if(e){if("object"===typeof n&&null!==n)i=n;else if("undefined"!==typeof n)throw new TypeError("'options' must be an object.")}else i=t}}else if("undefined"!==typeof t)throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const l of this.inputNames)if("undefined"===typeof e[l])throw new Error(`input '${l}' is missing in 'feeds'.`);if(a)for(const l of this.outputNames)r[l]=null;const o=await this.handler.run(e,r,i),s={};for(const l in o)Object.hasOwnProperty.call(o,l)&&(s[l]=new f(o[l].type,o[l].data,o[l].dims));return s}static async create(e,t,n,a){let o,s={};if("string"===typeof e){if(o=e,"object"===typeof t&&null!==t)s=t;else if("undefined"!==typeof t)throw new TypeError("'options' must be an object.")}else if(e instanceof Uint8Array){if(o=e,"object"===typeof t&&null!==t)s=t;else if("undefined"!==typeof t)throw new TypeError("'options' must be an object.")}else{if(!(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{const r=e;let i=0,l=e.byteLength;if("object"===typeof t&&null!==t)s=t;else if("number"===typeof t){if(i=t,!Number.isSafeInteger(i))throw new RangeError("'byteOffset' must be an integer.");if(i<0||i>=r.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${r.byteLength}).`);if(l=e.byteLength-i,"number"===typeof n){if(l=n,!Number.isSafeInteger(l))throw new RangeError("'byteLength' must be an integer.");if(l<=0||i+l>r.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${r.byteLength-i}].`);if("object"===typeof a&&null!==a)s=a;else if("undefined"!==typeof a)throw new TypeError("'options' must be an object.")}else if("undefined"!==typeof n)throw new TypeError("'byteLength' must be a number.")}else if("undefined"!==typeof t)throw new TypeError("'options' must be an object.");o=new Uint8Array(r,i,l)}}const l=(s.executionProviders||[]).map((e=>"string"===typeof e?e:e.name)),u=await(async e=>{const t=0===e.length?i:e,n=[];for(const i of t){const e=r[i];if(e){if(e.initialized)return e.backend;if(e.aborted)continue;const t=!!e.initPromise;try{return t||(e.initPromise=e.backend.init()),await e.initPromise,e.initialized=!0,e.backend}catch(a){t||n.push({name:i,err:a}),e.aborted=!0}finally{delete e.initPromise}}}throw new Error(`no available backend found. ERR: ${n.map((e=>`[${e.name}] ${e.err}`)).join(", ")}`)})(l),c=await u.createSessionHandler(o,s);return new h(c)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}const p=h},1631:(module,__unused_webpack_exports,__webpack_require__)=>{var e;self,e=__WEBPACK_EXTERNAL_MODULE__1670__=>(()=>{var __webpack_modules__={3474:(e,t,n)=>{var r,i=(r=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){function t(){return M.buffer!=R&&G(M.buffer),N}function i(){return M.buffer!=R&&G(M.buffer),D}function a(){return M.buffer!=R&&G(M.buffer),j}function o(){return M.buffer!=R&&G(M.buffer),F}function s(){return M.buffer!=R&&G(M.buffer),B}var l,u,c;e=e||{},l||(l=void 0!==e?e:{}),l.ready=new Promise((function(e,t){u=e,c=t}));var d,f,h,p,g,m,y=Object.assign({},l),_="./this.program",b=(e,t)=>{throw t},v="object"==typeof window,w="function"==typeof importScripts,x="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,k=l.ENVIRONMENT_IS_PTHREAD||!1,S="";function T(e){return l.locateFile?l.locateFile(e,S):S+e}if(x){let t;S=w?n(908).dirname(S)+"/":"//",m=()=>{g||(p=n(1384),g=n(908))},d=function(e,t){return m(),e=g.normalize(e),p.readFileSync(e,t?void 0:"utf8")},h=e=>((e=d(e,!0)).buffer||(e=new Uint8Array(e)),e),f=(e,t,n)=>{m(),e=g.normalize(e),p.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(_=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof ue))throw e})),process.on("unhandledRejection",(function(e){throw e})),b=(e,t)=>{if(Q())throw process.exitCode=e,t;t instanceof ue||I("exiting due to exception: "+t),process.exit(e)},l.inspect=function(){return"[Emscripten Module object]"};try{t=n(9925)}catch(e){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),e}n.g.Worker=t.Worker}else(v||w)&&(w?S=self.location.href:"undefined"!=typeof document&&document.currentScript&&(S=document.currentScript.src),r&&(S=r),S=0!==S.indexOf("blob:")?S.substr(0,S.replace(/[?#].*/,"").lastIndexOf("/")+1):"",x||(d=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},w&&(h=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}));x&&"undefined"==typeof performance&&(n.g.performance=n(6953).performance);var E=console.log.bind(console),A=console.warn.bind(console);x&&(m(),E=e=>p.writeSync(1,e+"\n"),A=e=>p.writeSync(2,e+"\n"));var O,C=l.print||E,I=l.printErr||A;Object.assign(l,y),y=null,l.thisProgram&&(_=l.thisProgram),l.quit&&(b=l.quit),l.wasmBinary&&(O=l.wasmBinary);var P=l.noExitRuntime||!1;"object"!=typeof WebAssembly&&ae("no native wasm support detected");var M,L,R,N,D,j,F,B,z=!1,$="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function U(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&$)return $.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(r="";t<n;){var i=e[t++];if(128&i){var a=63&e[t++];if(192==(224&i))r+=String.fromCharCode((31&i)<<6|a);else{var o=63&e[t++];65536>(i=224==(240&i)?(15&i)<<12|a<<6|o:(7&i)<<18|a<<12|o<<6|63&e[t++])?r+=String.fromCharCode(i):(i-=65536,r+=String.fromCharCode(55296|i>>10,56320|1023&i))}}else r+=String.fromCharCode(i)}return r}function V(e,t){return(e>>>=0)?U(i(),e,t):""}function W(e,t,n,r){if(!(0<r))return 0;var i=n>>>=0;r=n+r-1;for(var a=0;a<e.length;++a){var o=e.charCodeAt(a);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a)),127>=o){if(n>=r)break;t[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;t[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;t[n++>>>0]=224|o>>12}else{if(n+3>=r)break;t[n++>>>0]=240|o>>18,t[n++>>>0]=128|o>>12&63}t[n++>>>0]=128|o>>6&63}t[n++>>>0]=128|63&o}}return t[n>>>0]=0,n-i}function H(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function G(e){R=e,l.HEAP8=N=new Int8Array(e),l.HEAP16=new Int16Array(e),l.HEAP32=j=new Int32Array(e),l.HEAPU8=D=new Uint8Array(e),l.HEAPU16=new Uint16Array(e),l.HEAPU32=F=new Uint32Array(e),l.HEAPF32=new Float32Array(e),l.HEAPF64=B=new Float64Array(e)}k&&(R=l.buffer);var q=l.INITIAL_MEMORY||16777216;if(k)M=l.wasmMemory,R=l.buffer;else if(l.wasmMemory)M=l.wasmMemory;else if(!((M=new WebAssembly.Memory({initial:q/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw I("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),x&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");M&&(R=M.buffer),q=R.byteLength,G(R);var K,Z=[],X=[],Y=[],J=[];function Q(){return P||!1}function ee(){var e=l.preRun.shift();Z.unshift(e)}var te,ne=0,re=null,ie=null;function ae(e){throw k?postMessage({cmd:"onAbort",arg:e}):l.onAbort&&l.onAbort(e),I(e="Aborted("+e+")"),z=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),c(e),e}function oe(){return te.startsWith("data:application/octet-stream;base64,")}function se(){var e=te;try{if(e==te&&O)return new Uint8Array(O);if(h)return h(e);throw"both async and sync fetching of the wasm failed"}catch(e){ae(e)}}te="ort-wasm-threaded.wasm",oe()||(te=T(te));var le={};function ue(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function ce(e){(e=pe.Vb[e])||ae(),pe.mc(e)}function de(e){var t=pe.Cc();if(!t)return 6;pe.ac.push(t),pe.Vb[e.Ub]=t,t.Ub=e.Ub;var n={cmd:"run",start_routine:e.Ic,arg:e.zc,pthread_ptr:e.Ub};return t.$b=()=>{n.time=performance.now(),t.postMessage(n,e.Nc)},t.loaded&&(t.$b(),delete t.$b),0}function fe(e){if(k)return qe(1,1,e);Q()||(pe.oc(),l.onExit&&l.onExit(e),z=!0),b(e,new ue(e))}function he(e,t){if(!t&&k)throw me(e),"unwind";Q()||k||(yt(),ge(Y),mt(0),rt[1].length&&it(1,10),rt[2].length&&it(2,10),pe.oc()),fe(e)}var pe={Yb:[],ac:[],qc:[],Vb:{},fc:function(){k&&pe.Ec()},Pc:function(){},Ec:function(){pe.receiveObjectTransfer=pe.Gc,pe.threadInitTLS=pe.pc,pe.setExitStatus=pe.nc,P=!1},nc:function(){},oc:function(){for(var e of Object.values(pe.Vb))pe.mc(e);for(e of pe.Yb)e.terminate();pe.Yb=[]},mc:function(e){var t=e.Ub;delete pe.Vb[t],pe.Yb.push(e),pe.ac.splice(pe.ac.indexOf(e),1),e.Ub=0,xt(t)},Gc:function(){},pc:function(){pe.qc.forEach((e=>e()))},Fc:function(e,t){e.onmessage=n=>{var r=(n=n.data).cmd;if(e.Ub&&(pe.Bc=e.Ub),n.targetThread&&n.targetThread!=ht()){var i=pe.Vb[n.Qc];i?i.postMessage(n,n.transferList):I('Internal error! Worker sent a message "'+r+'" to target pthread '+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?$e(n.queue):"spawnThread"===r?de(n):"cleanupThread"===r?ce(n.thread):"killThread"===r?(n=n.thread,r=pe.Vb[n],delete pe.Vb[n],r.terminate(),xt(n),pe.ac.splice(pe.ac.indexOf(r),1),r.Ub=0):"cancelThread"===r?pe.Vb[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(e.loaded=!0,t&&t(e),e.$b&&(e.$b(),delete e.$b)):"print"===r?C("Thread "+n.threadId+": "+n.text):"printErr"===r?I("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?e.postMessage(n):"onAbort"===r?l.onAbort&&l.onAbort(n.arg):r&&I("worker sent an unknown command "+r);pe.Bc=void 0},e.onerror=e=>{throw I("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},x&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})),e.on("detachedExit",(function(){}))),e.postMessage({cmd:"load",urlOrBlob:l.mainScriptUrlOrBlob||r,wasmMemory:M,wasmModule:L})},yc:function(){var e=T("ort-wasm-threaded.worker.js");pe.Yb.push(new Worker(e))},Cc:function(){return 0==pe.Yb.length&&(pe.yc(),pe.Fc(pe.Yb[0])),pe.Yb.pop()}};function ge(e){for(;0<e.length;)e.shift()(l)}function me(e){if(k)return qe(2,0,e);try{he(e)}catch(e){e instanceof ue||"unwind"==e||b(1,e)}}l.PThread=pe,l.establishStackSpace=function(){var e=ht(),t=a()[e+44>>2>>>0];e=a()[e+48>>2>>>0],Tt(t,t-e),At(t)};var ye=[];function _e(e){var t=ye[e];return t||(e>=ye.length&&(ye.length=e+1),ye[e]=t=K.get(e)),t}l.invokeEntryPoint=function(e,t){e=_e(e)(t),Q()?pe.nc(e):kt(e)};var be,ve,we=[],xe=0,ke=0;function Se(e){this.Zb=e,this.Sb=e-24,this.xc=function(e){o()[this.Sb+4>>2>>>0]=e},this.bc=function(){return o()[this.Sb+4>>2>>>0]},this.wc=function(e){o()[this.Sb+8>>2>>>0]=e},this.Dc=function(){return o()[this.Sb+8>>2>>>0]},this.rc=function(){a()[this.Sb>>2>>>0]=0},this.hc=function(e){e=e?1:0,t()[(this.Sb+12|0)>>>0]=e},this.uc=function(){return 0!=t()[(this.Sb+12|0)>>>0]},this.ic=function(e){e=e?1:0,t()[(this.Sb+13|0)>>>0]=e},this.kc=function(){return 0!=t()[(this.Sb+13|0)>>>0]},this.fc=function(e,t){this.cc(0),this.xc(e),this.wc(t),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(a(),this.Sb>>2,1)},this.Hc=function(){return 1===Atomics.sub(a(),this.Sb>>2,1)},this.cc=function(e){o()[this.Sb+16>>2>>>0]=e},this.tc=function(){return o()[this.Sb+16>>2>>>0]},this.vc=function(){if(It(this.bc()))return o()[this.Zb>>2>>>0];var e=this.tc();return 0!==e?e:this.Zb}}function Te(e){return gt(new Se(e).Sb)}function Ee(e,t,n,r){return k?qe(3,1,e,t,n,r):Ae(e,t,n,r)}function Ae(e,t,n,r){if("undefined"==typeof SharedArrayBuffer)return I("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var i=[];return k&&0===i.length?Ee(e,t,n,r):(e={Ic:n,Ub:e,zc:r,Nc:i},k?(e.Oc="spawnThread",postMessage(e,i),0):de(e))}function Oe(e,t,n){return k?qe(4,1,e,t,n):0}function Ce(e,t){if(k)return qe(5,1,e,t)}function Ie(e,t){if(k)return qe(6,1,e,t)}function Pe(e,t,n){if(k)return qe(7,1,e,t,n)}function Me(e,t,n){return k?qe(8,1,e,t,n):0}function Le(e,t){if(k)return qe(9,1,e,t)}function Re(e,t,n){if(k)return qe(10,1,e,t,n)}function Ne(e,t,n,r){if(k)return qe(11,1,e,t,n,r)}function De(e,t,n,r){if(k)return qe(12,1,e,t,n,r)}function je(e,t,n,r){if(k)return qe(13,1,e,t,n,r)}function Fe(e){if(k)return qe(14,1,e)}function Be(e,t){if(k)return qe(15,1,e,t)}function ze(e,t,n){if(k)return qe(16,1,e,t,n)}function $e(e){Atomics.store(a(),e>>2,1),ht()&&wt(e),Atomics.compareExchange(a(),e>>2,1,0)}function Ue(e){return o()[e>>>2]+4294967296*a()[e+4>>>2]}function Ve(e,t,n,r,i,a){return k?qe(17,1,e,t,n,r,i,a):-52}function We(e,t,n,r,i,a){if(k)return qe(18,1,e,t,n,r,i,a)}function He(e){var n=H(e)+1,r=pt(n);return r&&W(e,t(),r,n),r}function Ge(e,t,n){function r(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT"}if(k)return qe(19,1,e,t,n);var i=(new Date).getFullYear(),s=new Date(i,0,1),l=new Date(i,6,1);i=s.getTimezoneOffset();var u=l.getTimezoneOffset(),c=Math.max(i,u);a()[e>>2>>>0]=60*c,a()[t>>2>>>0]=Number(i!=u),e=r(s),t=r(l),e=He(e),t=He(t),u<i?(o()[n>>2>>>0]=e,o()[n+4>>2>>>0]=t):(o()[n>>2>>>0]=t,o()[n+4>>2>>>0]=e)}function qe(e,t){var n=arguments.length-2,r=arguments;return function(e){var t=Et();return e=e(),At(t),e}((()=>{for(var i=Ot(8*n),a=i>>3,o=0;o<n;o++){var l=r[2+o];s()[a+o>>>0]=l}return vt(e,n,i,t)}))}l.executeNotifiedProxyingQueue=$e,ve=x?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:k?()=>performance.now()-l.__performance_now_clock_drift:()=>performance.now();var Ke,Ze=[],Xe={};function Ye(){if(!Ke){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:_||"./this.program"};for(e in Xe)void 0===Xe[e]?delete t[e]:t[e]=Xe[e];var n=[];for(e in t)n.push(e+"="+t[e]);Ke=n}return Ke}function Je(e,n){if(k)return qe(20,1,e,n);var r=0;return Ye().forEach((function(i,a){var s=n+r;for(a=o()[e+4*a>>2>>>0]=s,s=0;s<i.length;++s)t()[(0|a++)>>>0]=i.charCodeAt(s);t()[(0|a)>>>0]=0,r+=i.length+1})),0}function Qe(e,t){if(k)return qe(21,1,e,t);var n=Ye();o()[e>>2>>>0]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),o()[t>>2>>>0]=r,0}function et(e){return k?qe(22,1,e):52}function tt(e,t,n,r){return k?qe(23,1,e,t,n,r):52}function nt(e,t,n,r,i){return k?qe(24,1,e,t,n,r,i):70}var rt=[null,[],[]];function it(e,t){var n=rt[e];0===t||10===t?((1===e?C:I)(U(n,0)),n.length=0):n.push(t)}function at(e,t,n,r){if(k)return qe(25,1,e,t,n,r);for(var a=0,s=0;s<n;s++){var l=o()[t>>2>>>0],u=o()[t+4>>2>>>0];t+=8;for(var c=0;c<u;c++)it(e,i()[l+c>>>0]);a+=u}return o()[r>>2>>>0]=a,0}var ot=0;function st(e){return 0==e%4&&(0!=e%100||0==e%400)}var lt=[31,29,31,30,31,30,31,31,30,31,30,31],ut=[31,28,31,30,31,30,31,31,30,31,30,31];function ct(e,n,r,i){function o(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function s(e,t){return o(e,t,"0")}function l(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function u(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function c(e){var t=e.Wb;for(e=new Date(new Date(e.Xb+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(st(e.getFullYear())?lt:ut)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=u(new Date(e.getFullYear(),0,4)),n=u(n),0>=l(t,e)?0>=l(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var d=a()[i+40>>2>>>0];for(var f in i={Lc:a()[i>>2>>>0],Kc:a()[i+4>>2>>>0],dc:a()[i+8>>2>>>0],jc:a()[i+12>>2>>>0],ec:a()[i+16>>2>>>0],Xb:a()[i+20>>2>>>0],Tb:a()[i+24>>2>>>0],Wb:a()[i+28>>2>>>0],Rc:a()[i+32>>2>>>0],Jc:a()[i+36>>2>>>0],Mc:d?V(d):""},r=V(r),d={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(f,"g"),d[f]);var h="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(f in d={"%a":function(e){return h[e.Tb].substring(0,3)},"%A":function(e){return h[e.Tb]},"%b":function(e){return p[e.ec].substring(0,3)},"%B":function(e){return p[e.ec]},"%C":function(e){return s((e.Xb+1900)/100|0,2)},"%d":function(e){return s(e.jc,2)},"%e":function(e){return o(e.jc,2," ")},"%g":function(e){return c(e).toString().substring(2)},"%G":function(e){return c(e)},"%H":function(e){return s(e.dc,2)},"%I":function(e){return 0==(e=e.dc)?e=12:12<e&&(e-=12),s(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.ec-1;t+=(st(e.Xb+1900)?lt:ut)[n++]);return s(e.jc+t,3)},"%m":function(e){return s(e.ec+1,2)},"%M":function(e){return s(e.Kc,2)},"%n":function(){return"\n"},"%p":function(e){return 0<=e.dc&&12>e.dc?"AM":"PM"},"%S":function(e){return s(e.Lc,2)},"%t":function(){return"\t"},"%u":function(e){return e.Tb||7},"%U":function(e){return s(Math.floor((e.Wb+7-e.Tb)/7),2)},"%V":function(e){var t=Math.floor((e.Wb+7-(e.Tb+6)%7)/7);if(2>=(e.Tb+371-e.Wb-2)%7&&t++,t)53==t&&(4==(n=(e.Tb+371-e.Wb)%7)||3==n&&st(e.Xb)||(t=1));else{t=52;var n=(e.Tb+7-e.Wb-1)%7;(4==n||5==n&&st(e.Xb%400-1))&&t++}return s(t,2)},"%w":function(e){return e.Tb},"%W":function(e){return s(Math.floor((e.Wb+7-(e.Tb+6)%7)/7),2)},"%y":function(e){return(e.Xb+1900).toString().substring(2)},"%Y":function(e){return e.Xb+1900},"%z":function(e){var t=0<=(e=e.Jc);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Mc},"%%":function(){return"%"}},r=r.replace(/%%/g,"\0\0"),d)r.includes(f)&&(r=r.replace(new RegExp(f,"g"),d[f](i)));return f=function(e){var t=Array(H(e)+1);return W(e,t,0,t.length),t}(r=r.replace(/\0\0/g,"%")),f.length>n?0:(function(e,n){t().set(e,n>>>0)}(f,e),f.length-1)}pe.fc();var dt=[null,fe,me,Ee,Oe,Ce,Ie,Pe,Me,Le,Re,Ne,De,je,Fe,Be,ze,Ve,We,Ge,Je,Qe,et,tt,nt,at],ft={b:function(e){return pt(e+24)+24},n:function(e){return(e=new Se(e)).uc()||(e.hc(!0),xe--),e.ic(!1),we.push(e),e.sc(),e.vc()},ma:function(e){throw I("Unexpected exception thrown, this is not properly supported - aborting"),z=!0,e},x:function(){St(0);var e=we.pop();if(e.Hc()&&!e.kc()){var t=e.Dc();t&&_e(t)(e.Zb),Te(e.Zb)}ke=0},e:function(){var e=ke;if(!e)return ot=0;var t=new Se(e);t.cc(e);var n=t.bc();if(!n)return ot=0,e;for(var r=Array.prototype.slice.call(arguments),i=0;i<r.length;i++){var a=r[i];if(0===a||a===n)break;if(Ct(a,n,t.Sb+16))return ot=a,e}return ot=n,e},l:function(){var e=ke;if(!e)return ot=0;var t=new Se(e);t.cc(e);var n=t.bc();if(!n)return ot=0,e;for(var r=Array.prototype.slice.call(arguments),i=0;i<r.length;i++){var a=r[i];if(0===a||a===n)break;if(Ct(a,n,t.Sb+16))return ot=a,e}return ot=n,e},h:function(){var e=ke;if(!e)return ot=0;var t=new Se(e);t.cc(e);var n=t.bc();if(!n)return ot=0,e;for(var r=Array.prototype.slice.call(arguments),i=0;i<r.length;i++){var a=r[i];if(0===a||a===n)break;if(Ct(a,n,t.Sb+16))return ot=a,e}return ot=n,e},t:Te,M:function(){var e=we.pop();e||ae("no exception to throw");var t=e.Zb;throw e.kc()||(we.push(e),e.ic(!0),e.hc(!1),xe++),ke=t,t},c:function(e,t,n){throw new Se(e).fc(t,n),ke=e,xe++,e},pa:function(){return xe},Fa:function(e){_t(e,!w,1,!v),pe.pc()},T:function(e){k?postMessage({cmd:"cleanupThread",thread:e}):ce(e)},xa:Ae,j:function(e){throw ke||(ke=e),e},H:Oe,Ma:Ce,ua:Ie,wa:Pe,oa:Me,Ka:Le,Ca:Re,Ja:Ne,V:De,va:je,sa:Fe,La:Be,ta:ze,Ta:function(){},X:function(){ae("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){ae("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(e,t,n,r){if(e==t)setTimeout((()=>$e(r)));else if(k)postMessage({targetThread:e,cmd:"processProxyingQueue",queue:r});else{if(!(e=pe.Vb[e]))return;e.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},Ea:function(){return-1},Pa:function(e,t){e=new Date(1e3*Ue(e)),a()[t>>2>>>0]=e.getUTCSeconds(),a()[t+4>>2>>>0]=e.getUTCMinutes(),a()[t+8>>2>>>0]=e.getUTCHours(),a()[t+12>>2>>>0]=e.getUTCDate(),a()[t+16>>2>>>0]=e.getUTCMonth(),a()[t+20>>2>>>0]=e.getUTCFullYear()-1900,a()[t+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[t+28>>2>>>0]=e},Qa:function(e,t){e=new Date(1e3*Ue(e)),a()[t>>2>>>0]=e.getSeconds(),a()[t+4>>2>>>0]=e.getMinutes(),a()[t+8>>2>>>0]=e.getHours(),a()[t+12>>2>>>0]=e.getDate(),a()[t+16>>2>>>0]=e.getMonth(),a()[t+20>>2>>>0]=e.getFullYear()-1900,a()[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1),r=(e.getTime()-n.getTime())/864e5|0;a()[t+28>>2>>>0]=r,a()[t+36>>2>>>0]=-60*e.getTimezoneOffset(),r=new Date(e.getFullYear(),6,1).getTimezoneOffset(),e=0|(r!=(n=n.getTimezoneOffset())&&e.getTimezoneOffset()==Math.min(n,r)),a()[t+32>>2>>>0]=e},Ra:function(e){var t=new Date(a()[e+20>>2>>>0]+1900,a()[e+16>>2>>>0],a()[e+12>>2>>>0],a()[e+8>>2>>>0],a()[e+4>>2>>>0],a()[e>>2>>>0],0),n=a()[e+32>>2>>>0],r=t.getTimezoneOffset(),i=new Date(t.getFullYear(),0,1),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),s=i.getTimezoneOffset(),l=Math.min(s,o);return 0>n?a()[e+32>>2>>>0]=Number(o!=s&&l==r):0<n!=(l==r)&&(o=Math.max(s,o),t.setTime(t.getTime()+6e4*((0<n?l:o)-r))),a()[e+24>>2>>>0]=t.getDay(),n=(t.getTime()-i.getTime())/864e5|0,a()[e+28>>2>>>0]=n,a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},Aa:Ve,Ba:We,Sa:function e(t,n,r){e.Ac||(e.Ac=!0,Ge(t,n,r))},y:function(){ae("")},U:function(){if(!x&&!w){var e="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";be||(be={}),be[e]||(be[e]=1,x&&(e="warning: "+e),I(e))}},ra:function(){return 4294901760},B:ve,Ia:function(e,t,n){i().copyWithin(e>>>0,t>>>0,t+n>>>0)},F:function(){return x?n(3993).cpus().length:navigator.hardwareConcurrency},Da:function(e,t,n){Ze.length=t,n>>=3;for(var r=0;r<t;r++)Ze[r]=s()[n+r>>>0];return(0>e?le[-e-1]:dt[e]).apply(null,Ze)},qa:function(e){var t=i().length;if((e>>>=0)<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);var a=Math;r=Math.max(e,r),a=a.min.call(a,4294901760,r+(65536-r%65536)%65536);e:{try{M.grow(a-R.byteLength+65535>>>16),G(M.buffer);var o=1;break e}catch(e){}o=void 0}if(o)return!0}return!1},Na:function(){throw"unwind"},Ga:Je,Ha:Qe,J:he,I:et,S:tt,ga:nt,R:at,d:function(){return ot},na:function e(r,i){e.lc||(e.lc=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}if(x)try{var t=n(Object(function(){var e=new Error("Cannot find module 'crypto'");throw e.code="MODULE_NOT_FOUND",e}()));return()=>t.randomBytes(1)[0]}catch(e){}return()=>ae("randomDevice")}());for(var a=0;a<i;a++)t()[(r+a|0)>>>0]=e.lc();return 0},ia:function(e,t,n){var r=Et();try{return _e(e)(t,n)}catch(e){if(At(r),e!==e+0)throw e;St(1,0)}},ja:function(e,t,n){var r=Et();try{return _e(e)(t,n)}catch(e){if(At(r),e!==e+0)throw e;St(1,0)}},K:function(e){var t=Et();try{return _e(e)()}catch(e){if(At(t),e!==e+0)throw e;St(1,0)}},f:function(e,t){var n=Et();try{return _e(e)(t)}catch(e){if(At(n),e!==e+0)throw e;St(1,0)}},P:function(e,t,n){var r=Et();try{return _e(e)(t,n)}catch(e){if(At(r),e!==e+0)throw e;St(1,0)}},Q:function(e,t,n){var r=Et();try{return _e(e)(t,n)}catch(e){if(At(r),e!==e+0)throw e;St(1,0)}},k:function(e,t,n){var r=Et();try{return _e(e)(t,n)}catch(e){if(At(r),e!==e+0)throw e;St(1,0)}},p:function(e,t,n,r){var i=Et();try{return _e(e)(t,n,r)}catch(e){if(At(i),e!==e+0)throw e;St(1,0)}},q:function(e,t,n,r,i){var a=Et();try{return _e(e)(t,n,r,i)}catch(e){if(At(a),e!==e+0)throw e;St(1,0)}},N:function(e,t,n,r,i,a){var o=Et();try{return _e(e)(t,n,r,i,a)}catch(e){if(At(o),e!==e+0)throw e;St(1,0)}},s:function(e,t,n,r,i,a){var o=Et();try{return _e(e)(t,n,r,i,a)}catch(e){if(At(o),e!==e+0)throw e;St(1,0)}},w:function(e,t,n,r,i,a,o){var s=Et();try{return _e(e)(t,n,r,i,a,o)}catch(e){if(At(s),e!==e+0)throw e;St(1,0)}},L:function(e,t,n,r,i,a,o,s){var l=Et();try{return _e(e)(t,n,r,i,a,o,s)}catch(e){if(At(l),e!==e+0)throw e;St(1,0)}},E:function(e,t,n,r,i,a,o,s,l,u,c,d){var f=Et();try{return _e(e)(t,n,r,i,a,o,s,l,u,c,d)}catch(e){if(At(f),e!==e+0)throw e;St(1,0)}},aa:function(e,t,n,r,i,a,o,s){var l=Et();try{return Bt(e,t,n,r,i,a,o,s)}catch(e){if(At(l),e!==e+0)throw e;St(1,0)}},_:function(e,t,n,r,i,a,o){var s=Et();try{return Mt(e,t,n,r,i,a,o)}catch(e){if(At(s),e!==e+0)throw e;St(1,0)}},Z:function(e,t,n,r,i){var a=Et();try{return zt(e,t,n,r,i)}catch(e){if(At(a),e!==e+0)throw e;St(1,0)}},ca:function(e,t,n,r){var i=Et();try{return jt(e,t,n,r)}catch(e){if(At(i),e!==e+0)throw e;St(1,0)}},$:function(e){var t=Et();try{return Pt(e)}catch(e){if(At(t),e!==e+0)throw e;St(1,0)}},ba:function(e,t){var n=Et();try{return Ft(e,t)}catch(e){if(At(n),e!==e+0)throw e;St(1,0)}},Y:function(e,t,n){var r=Et();try{return Lt(e,t,n)}catch(e){if(At(r),e!==e+0)throw e;St(1,0)}},g:function(e){var t=Et();try{_e(e)()}catch(e){if(At(t),e!==e+0)throw e;St(1,0)}},r:function(e,t){var n=Et();try{_e(e)(t)}catch(e){if(At(n),e!==e+0)throw e;St(1,0)}},i:function(e,t,n){var r=Et();try{_e(e)(t,n)}catch(e){if(At(r),e!==e+0)throw e;St(1,0)}},ha:function(e,t,n,r){var i=Et();try{_e(e)(t,n,r)}catch(e){if(At(i),e!==e+0)throw e;St(1,0)}},m:function(e,t,n,r){var i=Et();try{_e(e)(t,n,r)}catch(e){if(At(i),e!==e+0)throw e;St(1,0)}},v:function(e,t,n,r,i){var a=Et();try{_e(e)(t,n,r,i)}catch(e){if(At(a),e!==e+0)throw e;St(1,0)}},u:function(e,t,n,r,i,a){var o=Et();try{_e(e)(t,n,r,i,a)}catch(e){if(At(o),e!==e+0)throw e;St(1,0)}},O:function(e,t,n,r,i,a,o){var s=Et();try{_e(e)(t,n,r,i,a,o)}catch(e){if(At(s),e!==e+0)throw e;St(1,0)}},A:function(e,t,n,r,i,a,o,s){var l=Et();try{_e(e)(t,n,r,i,a,o,s)}catch(e){if(At(l),e!==e+0)throw e;St(1,0)}},ka:function(e,t,n,r,i,a,o,s,l){var u=Et();try{_e(e)(t,n,r,i,a,o,s,l)}catch(e){if(At(u),e!==e+0)throw e;St(1,0)}},C:function(e,t,n,r,i,a,o,s,l,u,c){var d=Et();try{_e(e)(t,n,r,i,a,o,s,l,u,c)}catch(e){if(At(d),e!==e+0)throw e;St(1,0)}},D:function(e,t,n,r,i,a,o,s,l,u,c,d,f,h,p,g){var m=Et();try{_e(e)(t,n,r,i,a,o,s,l,u,c,d,f,h,p,g)}catch(e){if(At(m),e!==e+0)throw e;St(1,0)}},fa:function(e,t,n,r,i,a,o,s){var l=Et();try{Rt(e,t,n,r,i,a,o,s)}catch(e){if(At(l),e!==e+0)throw e;St(1,0)}},da:function(e,t,n,r,i,a,o,s,l,u,c,d){var f=Et();try{Dt(e,t,n,r,i,a,o,s,l,u,c,d)}catch(e){if(At(f),e!==e+0)throw e;St(1,0)}},ea:function(e,t,n,r,i,a){var o=Et();try{Nt(e,t,n,r,i,a)}catch(e){if(At(o),e!==e+0)throw e;St(1,0)}},o:function(e){return e},a:M||l.wasmMemory,G:function(e){ot=e},la:ct,z:function(e,t,n,r){return ct(e,t,n,r)}};!function(){function e(e,t){l.asm=e.exports,pe.qc.push(l.asm.sb),K=l.asm.ub,X.unshift(l.asm.Va),L=t,k||(ne--,l.monitorRunDependencies&&l.monitorRunDependencies(ne),0==ne&&(null!==re&&(clearInterval(re),re=null),ie&&(e=ie,ie=null,e())))}function t(t){e(t.instance,t.module)}function n(e){return function(){if(!O&&(v||w)){if("function"==typeof fetch&&!te.startsWith("file://"))return fetch(te,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+te+"'";return e.arrayBuffer()})).catch((function(){return se()}));if(f)return new Promise((function(e,t){f(te,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return se()}))}().then((function(e){return WebAssembly.instantiate(e,r)})).then((function(e){return e})).then(e,(function(e){I("failed to asynchronously prepare wasm: "+e),ae(e)}))}var r={a:ft};if(k||(ne++,l.monitorRunDependencies&&l.monitorRunDependencies(ne)),l.instantiateWasm)try{return l.instantiateWasm(r,e)}catch(e){return I("Module.instantiateWasm callback failed with error: "+e),!1}(O||"function"!=typeof WebAssembly.instantiateStreaming||oe()||te.startsWith("file://")||x||"function"!=typeof fetch?n(t):fetch(te,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,r).then(t,(function(e){return I("wasm streaming compile failed: "+e),I("falling back to ArrayBuffer instantiation"),n(t)}))}))).catch(c)}(),l.___wasm_call_ctors=function(){return(l.___wasm_call_ctors=l.asm.Va).apply(null,arguments)},l._OrtInit=function(){return(l._OrtInit=l.asm.Wa).apply(null,arguments)},l._OrtCreateSessionOptions=function(){return(l._OrtCreateSessionOptions=l.asm.Xa).apply(null,arguments)},l._OrtAppendExecutionProvider=function(){return(l._OrtAppendExecutionProvider=l.asm.Ya).apply(null,arguments)},l._OrtAddSessionConfigEntry=function(){return(l._OrtAddSessionConfigEntry=l.asm.Za).apply(null,arguments)},l._OrtReleaseSessionOptions=function(){return(l._OrtReleaseSessionOptions=l.asm._a).apply(null,arguments)},l._OrtCreateSession=function(){return(l._OrtCreateSession=l.asm.$a).apply(null,arguments)},l._OrtReleaseSession=function(){return(l._OrtReleaseSession=l.asm.ab).apply(null,arguments)},l._OrtGetInputCount=function(){return(l._OrtGetInputCount=l.asm.bb).apply(null,arguments)},l._OrtGetOutputCount=function(){return(l._OrtGetOutputCount=l.asm.cb).apply(null,arguments)},l._OrtGetInputName=function(){return(l._OrtGetInputName=l.asm.db).apply(null,arguments)},l._OrtGetOutputName=function(){return(l._OrtGetOutputName=l.asm.eb).apply(null,arguments)},l._OrtFree=function(){return(l._OrtFree=l.asm.fb).apply(null,arguments)},l._OrtCreateTensor=function(){return(l._OrtCreateTensor=l.asm.gb).apply(null,arguments)},l._OrtGetTensorData=function(){return(l._OrtGetTensorData=l.asm.hb).apply(null,arguments)},l._OrtReleaseTensor=function(){return(l._OrtReleaseTensor=l.asm.ib).apply(null,arguments)},l._OrtCreateRunOptions=function(){return(l._OrtCreateRunOptions=l.asm.jb).apply(null,arguments)},l._OrtAddRunConfigEntry=function(){return(l._OrtAddRunConfigEntry=l.asm.kb).apply(null,arguments)},l._OrtReleaseRunOptions=function(){return(l._OrtReleaseRunOptions=l.asm.lb).apply(null,arguments)},l._OrtRun=function(){return(l._OrtRun=l.asm.mb).apply(null,arguments)},l._OrtEndProfiling=function(){return(l._OrtEndProfiling=l.asm.nb).apply(null,arguments)};var ht=l._pthread_self=function(){return(ht=l._pthread_self=l.asm.ob).apply(null,arguments)},pt=l._malloc=function(){return(pt=l._malloc=l.asm.pb).apply(null,arguments)},gt=l._free=function(){return(gt=l._free=l.asm.qb).apply(null,arguments)},mt=l._fflush=function(){return(mt=l._fflush=l.asm.rb).apply(null,arguments)};l.__emscripten_tls_init=function(){return(l.__emscripten_tls_init=l.asm.sb).apply(null,arguments)};var yt=l.___funcs_on_exit=function(){return(yt=l.___funcs_on_exit=l.asm.tb).apply(null,arguments)},_t=l.__emscripten_thread_init=function(){return(_t=l.__emscripten_thread_init=l.asm.vb).apply(null,arguments)};l.__emscripten_thread_crashed=function(){return(l.__emscripten_thread_crashed=l.asm.wb).apply(null,arguments)};var bt,vt=l._emscripten_run_in_main_runtime_thread_js=function(){return(vt=l._emscripten_run_in_main_runtime_thread_js=l.asm.xb).apply(null,arguments)},wt=l.__emscripten_proxy_execute_task_queue=function(){return(wt=l.__emscripten_proxy_execute_task_queue=l.asm.yb).apply(null,arguments)},xt=l.__emscripten_thread_free_data=function(){return(xt=l.__emscripten_thread_free_data=l.asm.zb).apply(null,arguments)},kt=l.__emscripten_thread_exit=function(){return(kt=l.__emscripten_thread_exit=l.asm.Ab).apply(null,arguments)},St=l._setThrew=function(){return(St=l._setThrew=l.asm.Bb).apply(null,arguments)},Tt=l._emscripten_stack_set_limits=function(){return(Tt=l._emscripten_stack_set_limits=l.asm.Cb).apply(null,arguments)},Et=l.stackSave=function(){return(Et=l.stackSave=l.asm.Db).apply(null,arguments)},At=l.stackRestore=function(){return(At=l.stackRestore=l.asm.Eb).apply(null,arguments)},Ot=l.stackAlloc=function(){return(Ot=l.stackAlloc=l.asm.Fb).apply(null,arguments)},Ct=l.___cxa_can_catch=function(){return(Ct=l.___cxa_can_catch=l.asm.Gb).apply(null,arguments)},It=l.___cxa_is_pointer_type=function(){return(It=l.___cxa_is_pointer_type=l.asm.Hb).apply(null,arguments)},Pt=l.dynCall_j=function(){return(Pt=l.dynCall_j=l.asm.Ib).apply(null,arguments)},Mt=l.dynCall_iiiiij=function(){return(Mt=l.dynCall_iiiiij=l.asm.Jb).apply(null,arguments)},Lt=l.dynCall_jii=function(){return(Lt=l.dynCall_jii=l.asm.Kb).apply(null,arguments)},Rt=l.dynCall_viiiiij=function(){return(Rt=l.dynCall_viiiiij=l.asm.Lb).apply(null,arguments)},Nt=l.dynCall_vjji=function(){return(Nt=l.dynCall_vjji=l.asm.Mb).apply(null,arguments)},Dt=l.dynCall_viiijjjii=function(){return(Dt=l.dynCall_viiijjjii=l.asm.Nb).apply(null,arguments)},jt=l.dynCall_iij=function(){return(jt=l.dynCall_iij=l.asm.Ob).apply(null,arguments)},Ft=l.dynCall_ji=function(){return(Ft=l.dynCall_ji=l.asm.Pb).apply(null,arguments)},Bt=l.dynCall_iiiiiij=function(){return(Bt=l.dynCall_iiiiiij=l.asm.Qb).apply(null,arguments)},zt=l.dynCall_iiij=function(){return(zt=l.dynCall_iiij=l.asm.Rb).apply(null,arguments)};function $t(){function e(){if(!bt&&(bt=!0,l.calledRun=!0,!z)&&(k||ge(X),u(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),!k)){if(l.postRun)for("function"==typeof l.postRun&&(l.postRun=[l.postRun]);l.postRun.length;){var e=l.postRun.shift();J.unshift(e)}ge(J)}}if(!(0<ne))if(k)u(l),k||ge(X),postMessage({cmd:"loaded"});else{if(l.preRun)for("function"==typeof l.preRun&&(l.preRun=[l.preRun]);l.preRun.length;)ee();ge(Z),0<ne||(l.setStatus?(l.setStatus("Running..."),setTimeout((function(){setTimeout((function(){l.setStatus("")}),1),e()}),1)):e())}}if(l.UTF8ToString=V,l.stringToUTF8=function(e,t,n){return W(e,i(),t,n)},l.lengthBytesUTF8=H,l.keepRuntimeAlive=Q,l.wasmMemory=M,l.stackSave=Et,l.stackRestore=At,l.stackAlloc=Ot,l.ExitStatus=ue,l.PThread=pe,ie=function e(){bt||$t(),bt||(ie=e)},l.preInit)for("function"==typeof l.preInit&&(l.preInit=[l.preInit]);0<l.preInit.length;)l.preInit.pop()();return $t(),e.ready});e.exports=i},932:(e,t,n)=>{var r,i=(r=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var t,i,a;e=e||{},t||(t=void 0!==e?e:{}),t.ready=new Promise((function(e,t){i=e,a=t}));var o,s,l,u,c,d,f=Object.assign({},t),h="./this.program",p=(e,t)=>{throw t},g="object"==typeof window,m="function"==typeof importScripts,y="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,_="";y?(_=m?n(908).dirname(_)+"/":"//",d=()=>{c||(u=n(1384),c=n(908))},o=function(e,t){return d(),e=c.normalize(e),u.readFileSync(e,t?void 0:"utf8")},l=e=>((e=o(e,!0)).buffer||(e=new Uint8Array(e)),e),s=(e,t,n)=>{d(),e=c.normalize(e),u.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(h=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof Y))throw e})),process.on("unhandledRejection",(function(e){throw e})),p=(e,t)=>{if(x||0<$)throw process.exitCode=e,t;t instanceof Y||w("exiting due to exception: "+t),process.exit(e)},t.inspect=function(){return"[Emscripten Module object]"}):(g||m)&&(m?_=self.location.href:"undefined"!=typeof document&&document.currentScript&&(_=document.currentScript.src),r&&(_=r),_=0!==_.indexOf("blob:")?_.substr(0,_.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},m&&(l=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),s=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var b,v=t.print||console.log.bind(console),w=t.printErr||console.warn.bind(console);Object.assign(t,f),f=null,t.thisProgram&&(h=t.thisProgram),t.quit&&(p=t.quit),t.wasmBinary&&(b=t.wasmBinary);var x=t.noExitRuntime||!1;"object"!=typeof WebAssembly&&q("no native wasm support detected");var k,S,T,E,A,O,C=!1,I="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function P(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&I)return I.decode(e.subarray(t,n));for(r="";t<n;){var i=e[t++];if(128&i){var a=63&e[t++];if(192==(224&i))r+=String.fromCharCode((31&i)<<6|a);else{var o=63&e[t++];65536>(i=224==(240&i)?(15&i)<<12|a<<6|o:(7&i)<<18|a<<12|o<<6|63&e[t++])?r+=String.fromCharCode(i):(i-=65536,r+=String.fromCharCode(55296|i>>10,56320|1023&i))}}else r+=String.fromCharCode(i)}return r}function M(e,t){return(e>>>=0)?P(E,e,t):""}function L(e,t,n,r){if(!(0<r))return 0;var i=n>>>=0;r=n+r-1;for(var a=0;a<e.length;++a){var o=e.charCodeAt(a);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a)),127>=o){if(n>=r)break;t[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;t[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;t[n++>>>0]=224|o>>12}else{if(n+3>=r)break;t[n++>>>0]=240|o>>18,t[n++>>>0]=128|o>>12&63}t[n++>>>0]=128|o>>6&63}t[n++>>>0]=128|63&o}}return t[n>>>0]=0,n-i}function R(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function N(){var e=k.buffer;S=e,t.HEAP8=T=new Int8Array(e),t.HEAP16=new Int16Array(e),t.HEAP32=A=new Int32Array(e),t.HEAPU8=E=new Uint8Array(e),t.HEAPU16=new Uint16Array(e),t.HEAPU32=O=new Uint32Array(e),t.HEAPF32=new Float32Array(e),t.HEAPF64=new Float64Array(e)}var D,j=[],F=[],B=[],z=[],$=0;function U(){var e=t.preRun.shift();j.unshift(e)}var V,W=0,H=null,G=null;function q(e){throw t.onAbort&&t.onAbort(e),w(e="Aborted("+e+")"),C=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),a(e),e}function K(){return V.startsWith("data:application/octet-stream;base64,")}if(V="ort-wasm.wasm",!K()){var Z=V;V=t.locateFile?t.locateFile(Z,_):_+Z}function X(){var e=V;try{if(e==V&&b)return new Uint8Array(b);if(l)return l(e);throw"both async and sync fetching of the wasm failed"}catch(e){q(e)}}function Y(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function J(e){for(;0<e.length;)e.shift()(t)}var Q=[],ee=0,te=0;function ne(e){this.Db=e,this.zb=e-24,this.Ub=function(e){O[this.zb+4>>2>>>0]=e},this.Eb=function(){return O[this.zb+4>>2>>>0]},this.Sb=function(e){O[this.zb+8>>2>>>0]=e},this.Wb=function(){return O[this.zb+8>>2>>>0]},this.Tb=function(){A[this.zb>>2>>>0]=0},this.Ib=function(e){T[(this.zb+12|0)>>>0]=e?1:0},this.Pb=function(){return 0!=T[(this.zb+12|0)>>>0]},this.Jb=function(e){T[(this.zb+13|0)>>>0]=e?1:0},this.Lb=function(){return 0!=T[(this.zb+13|0)>>>0]},this.Rb=function(e,t){this.Fb(0),this.Ub(e),this.Sb(t),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){A[this.zb>>2>>>0]+=1},this.Xb=function(){var e=A[this.zb>>2>>>0];return A[this.zb>>2>>>0]=e-1,1===e},this.Fb=function(e){O[this.zb+16>>2>>>0]=e},this.Ob=function(){return O[this.zb+16>>2>>>0]},this.Qb=function(){if(Oe(this.Eb()))return O[this.Db>>2>>>0];var e=this.Ob();return 0!==e?e:this.Db}}function re(e){return ve(new ne(e).zb)}var ie=[];function ae(e){var t=ie[e];return t||(e>=ie.length&&(ie.length=e+1),ie[e]=t=D.get(e)),t}function oe(e){var t=R(e)+1,n=be(t);return n&&L(e,T,n,t),n}var se={};function le(){if(!ue){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:h||"./this.program"};for(e in se)void 0===se[e]?delete t[e]:t[e]=se[e];var n=[];for(e in t)n.push(e+"="+t[e]);ue=n}return ue}var ue,ce=[null,[],[]];function de(e,t){var n=ce[e];0===t||10===t?((1===e?v:w)(P(n,0)),n.length=0):n.push(t)}var fe=0;function he(e){return 0==e%4&&(0!=e%100||0==e%400)}var pe=[31,29,31,30,31,30,31,31,30,31,30,31],ge=[31,28,31,30,31,30,31,31,30,31,30,31];function me(e,t,n,r){function i(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function a(e,t){return i(e,t,"0")}function o(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function l(e){var t=e.Bb;for(e=new Date(new Date(e.Cb+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(he(e.getFullYear())?pe:ge)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=s(new Date(e.getFullYear(),0,4)),n=s(n),0>=o(t,e)?0>=o(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var u=A[r+40>>2>>>0];for(var c in r={$b:A[r>>2>>>0],Zb:A[r+4>>2>>>0],Gb:A[r+8>>2>>>0],Kb:A[r+12>>2>>>0],Hb:A[r+16>>2>>>0],Cb:A[r+20>>2>>>0],Ab:A[r+24>>2>>>0],Bb:A[r+28>>2>>>0],bc:A[r+32>>2>>>0],Yb:A[r+36>>2>>>0],ac:u?M(u):""},n=M(n),u={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(c,"g"),u[c]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),f="January February March April May June July August September October November December".split(" ");for(c in u={"%a":function(e){return d[e.Ab].substring(0,3)},"%A":function(e){return d[e.Ab]},"%b":function(e){return f[e.Hb].substring(0,3)},"%B":function(e){return f[e.Hb]},"%C":function(e){return a((e.Cb+1900)/100|0,2)},"%d":function(e){return a(e.Kb,2)},"%e":function(e){return i(e.Kb,2," ")},"%g":function(e){return l(e).toString().substring(2)},"%G":function(e){return l(e)},"%H":function(e){return a(e.Gb,2)},"%I":function(e){return 0==(e=e.Gb)?e=12:12<e&&(e-=12),a(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.Hb-1;t+=(he(e.Cb+1900)?pe:ge)[n++]);return a(e.Kb+t,3)},"%m":function(e){return a(e.Hb+1,2)},"%M":function(e){return a(e.Zb,2)},"%n":function(){return"\n"},"%p":function(e){return 0<=e.Gb&&12>e.Gb?"AM":"PM"},"%S":function(e){return a(e.$b,2)},"%t":function(){return"\t"},"%u":function(e){return e.Ab||7},"%U":function(e){return a(Math.floor((e.Bb+7-e.Ab)/7),2)},"%V":function(e){var t=Math.floor((e.Bb+7-(e.Ab+6)%7)/7);if(2>=(e.Ab+371-e.Bb-2)%7&&t++,t)53==t&&(4==(n=(e.Ab+371-e.Bb)%7)||3==n&&he(e.Cb)||(t=1));else{t=52;var n=(e.Ab+7-e.Bb-1)%7;(4==n||5==n&&he(e.Cb%400-1))&&t++}return a(t,2)},"%w":function(e){return e.Ab},"%W":function(e){return a(Math.floor((e.Bb+7-(e.Ab+6)%7)/7),2)},"%y":function(e){return(e.Cb+1900).toString().substring(2)},"%Y":function(e){return e.Cb+1900},"%z":function(e){var t=0<=(e=e.Yb);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.ac},"%%":function(){return"%"}},n=n.replace(/%%/g,"\0\0"),u)n.includes(c)&&(n=n.replace(new RegExp(c,"g"),u[c](r)));return c=function(e){var t=Array(R(e)+1);return L(e,t,0,t.length),t}(n=n.replace(/\0\0/g,"%")),c.length>t?0:(T.set(c,e>>>0),c.length-1)}var ye={a:function(e){return be(e+24)+24},m:function(e){return(e=new ne(e)).Pb()||(e.Ib(!0),ee--),e.Jb(!1),Q.push(e),e.Nb(),e.Qb()},ia:function(e){throw w("Unexpected exception thrown, this is not properly supported - aborting"),C=!0,e},w:function(){ke(0);var e=Q.pop();if(e.Xb()&&!e.Lb()){var t=e.Wb();t&&ae(t)(e.Db),re(e.Db)}te=0},d:function(){var e=te;if(!e)return fe=0;var t=new ne(e);t.Fb(e);var n=t.Eb();if(!n)return fe=0,e;for(var r=Array.prototype.slice.call(arguments),i=0;i<r.length;i++){var a=r[i];if(0===a||a===n)break;if(Ae(a,n,t.zb+16))return fe=a,e}return fe=n,e},k:function(){var e=te;if(!e)return fe=0;var t=new ne(e);t.Fb(e);var n=t.Eb();if(!n)return fe=0,e;for(var r=Array.prototype.slice.call(arguments),i=0;i<r.length;i++){var a=r[i];if(0===a||a===n)break;if(Ae(a,n,t.zb+16))return fe=a,e}return fe=n,e},g:function(){var e=te;if(!e)return fe=0;var t=new ne(e);t.Fb(e);var n=t.Eb();if(!n)return fe=0,e;for(var r=Array.prototype.slice.call(arguments),i=0;i<r.length;i++){var a=r[i];if(0===a||a===n)break;if(Ae(a,n,t.zb+16))return fe=a,e}return fe=n,e},s:re,L:function(){var e=Q.pop();e||q("no exception to throw");var t=e.Db;throw e.Lb()||(Q.push(e),e.Jb(!0),e.Ib(!1),ee++),te=t,t},b:function(e,t,n){throw new ne(e).Rb(t,n),te=e,ee++,e},la:function(){return ee},i:function(e){throw te||(te=e),e},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){q("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){q("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(e,t){e=new Date(1e3*(O[e>>>2]+4294967296*A[e+4>>>2])),A[t>>2>>>0]=e.getUTCSeconds(),A[t+4>>2>>>0]=e.getUTCMinutes(),A[t+8>>2>>>0]=e.getUTCHours(),A[t+12>>2>>>0]=e.getUTCDate(),A[t+16>>2>>>0]=e.getUTCMonth(),A[t+20>>2>>>0]=e.getUTCFullYear()-1900,A[t+24>>2>>>0]=e.getUTCDay(),A[t+28>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(e,t){e=new Date(1e3*(O[e>>>2]+4294967296*A[e+4>>>2])),A[t>>2>>>0]=e.getSeconds(),A[t+4>>2>>>0]=e.getMinutes(),A[t+8>>2>>>0]=e.getHours(),A[t+12>>2>>>0]=e.getDate(),A[t+16>>2>>>0]=e.getMonth(),A[t+20>>2>>>0]=e.getFullYear()-1900,A[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1);A[t+28>>2>>>0]=(e.getTime()-n.getTime())/864e5|0,A[t+36>>2>>>0]=-60*e.getTimezoneOffset();var r=new Date(e.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),A[t+32>>2>>>0]=0|(r!=n&&e.getTimezoneOffset()==Math.min(n,r))},Fa:function(e){var t=new Date(A[e+20>>2>>>0]+1900,A[e+16>>2>>>0],A[e+12>>2>>>0],A[e+8>>2>>>0],A[e+4>>2>>>0],A[e>>2>>>0],0),n=A[e+32>>2>>>0],r=t.getTimezoneOffset(),i=new Date(t.getFullYear(),0,1),a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),o=i.getTimezoneOffset(),s=Math.min(o,a);return 0>n?A[e+32>>2>>>0]=Number(a!=o&&s==r):0<n!=(s==r)&&(a=Math.max(o,a),t.setTime(t.getTime()+6e4*((0<n?s:a)-r))),A[e+24>>2>>>0]=t.getDay(),A[e+28>>2>>>0]=(t.getTime()-i.getTime())/864e5|0,A[e>>2>>>0]=t.getSeconds(),A[e+4>>2>>>0]=t.getMinutes(),A[e+8>>2>>>0]=t.getHours(),A[e+12>>2>>>0]=t.getDate(),A[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function e(t,n,r){e.Vb||(e.Vb=!0,function(e,t,n){function r(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT"}var i=(new Date).getFullYear(),a=new Date(i,0,1),o=new Date(i,6,1);i=a.getTimezoneOffset();var s=o.getTimezoneOffset();A[e>>2>>>0]=60*Math.max(i,s),A[t>>2>>>0]=Number(i!=s),e=r(a),t=r(o),e=oe(e),t=oe(t),s<i?(O[n>>2>>>0]=e,O[n+4>>2>>>0]=t):(O[n>>2>>>0]=t,O[n+4>>2>>>0]=e)}(t,n,r))},B:function(){q("")},ma:function(){return 4294901760},I:y?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),xa:function(e,t,n){E.copyWithin(e>>>0,t>>>0,t+n>>>0)},G:function(e){var t=E.length;if(4294901760<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);var i=Math;r=Math.max(e,r),i=i.min.call(i,4294901760,r+(65536-r%65536)%65536);e:{try{k.grow(i-S.byteLength+65535>>>16),N();var a=1;break e}catch(e){}a=void 0}if(a)return!0}return!1},va:function(e,t){var n=0;return le().forEach((function(r,i){var a=t+n;for(i=O[e+4*i>>2>>>0]=a,a=0;a<r.length;++a)T[(0|i++)>>>0]=r.charCodeAt(a);T[(0|i)>>>0]=0,n+=r.length+1})),0},wa:function(e,t){var n=le();O[e>>2>>>0]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),O[t>>2>>>0]=r,0},ba:function(e){x||0<$||(xe(),J(B),we(0),ce[1].length&&de(1,10),ce[2].length&&de(2,10)),x||0<$||(t.onExit&&t.onExit(e),C=!0),p(e,new Y(e))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(e,t,n,r){for(var i=0,a=0;a<n;a++){var o=O[t>>2>>>0],s=O[t+4>>2>>>0];t+=8;for(var l=0;l<s;l++)de(e,E[o+l>>>0]);i+=s}return O[r>>2>>>0]=i,0},c:function(){return fe},ja:function e(t,r){e.Mb||(e.Mb=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}if(y)try{var t=n(Object(function(){var e=new Error("Cannot find module 'crypto'");throw e.code="MODULE_NOT_FOUND",e}()));return()=>t.randomBytes(1)[0]}catch(e){}return()=>q("randomDevice")}());for(var i=0;i<r;i++)T[(t+i|0)>>>0]=e.Mb();return 0},ea:function(e,t,n){var r=Se();try{return ae(e)(t,n)}catch(e){if(Te(r),e!==e+0)throw e;ke(1,0)}},fa:function(e,t,n){var r=Se();try{return ae(e)(t,n)}catch(e){if(Te(r),e!==e+0)throw e;ke(1,0)}},J:function(e){var t=Se();try{return ae(e)()}catch(e){if(Te(t),e!==e+0)throw e;ke(1,0)}},e:function(e,t){var n=Se();try{return ae(e)(t)}catch(e){if(Te(n),e!==e+0)throw e;ke(1,0)}},N:function(e,t,n){var r=Se();try{return ae(e)(t,n)}catch(e){if(Te(r),e!==e+0)throw e;ke(1,0)}},O:function(e,t,n){var r=Se();try{return ae(e)(t,n)}catch(e){if(Te(r),e!==e+0)throw e;ke(1,0)}},j:function(e,t,n){var r=Se();try{return ae(e)(t,n)}catch(e){if(Te(r),e!==e+0)throw e;ke(1,0)}},o:function(e,t,n,r){var i=Se();try{return ae(e)(t,n,r)}catch(e){if(Te(i),e!==e+0)throw e;ke(1,0)}},p:function(e,t,n,r,i){var a=Se();try{return ae(e)(t,n,r,i)}catch(e){if(Te(a),e!==e+0)throw e;ke(1,0)}},M:function(e,t,n,r,i,a){var o=Se();try{return ae(e)(t,n,r,i,a)}catch(e){if(Te(o),e!==e+0)throw e;ke(1,0)}},r:function(e,t,n,r,i,a){var o=Se();try{return ae(e)(t,n,r,i,a)}catch(e){if(Te(o),e!==e+0)throw e;ke(1,0)}},v:function(e,t,n,r,i,a,o){var s=Se();try{return ae(e)(t,n,r,i,a,o)}catch(e){if(Te(s),e!==e+0)throw e;ke(1,0)}},K:function(e,t,n,r,i,a,o,s){var l=Se();try{return ae(e)(t,n,r,i,a,o,s)}catch(e){if(Te(l),e!==e+0)throw e;ke(1,0)}},D:function(e,t,n,r,i,a,o,s,l,u,c,d){var f=Se();try{return ae(e)(t,n,r,i,a,o,s,l,u,c,d)}catch(e){if(Te(f),e!==e+0)throw e;ke(1,0)}},X:function(e,t,n,r,i,a,o,s){var l=Se();try{return je(e,t,n,r,i,a,o,s)}catch(e){if(Te(l),e!==e+0)throw e;ke(1,0)}},V:function(e,t,n,r,i,a,o){var s=Se();try{return Ie(e,t,n,r,i,a,o)}catch(e){if(Te(s),e!==e+0)throw e;ke(1,0)}},U:function(e,t,n,r,i){var a=Se();try{return Fe(e,t,n,r,i)}catch(e){if(Te(a),e!==e+0)throw e;ke(1,0)}},Z:function(e,t,n,r){var i=Se();try{return Ne(e,t,n,r)}catch(e){if(Te(i),e!==e+0)throw e;ke(1,0)}},W:function(e){var t=Se();try{return Ce(e)}catch(e){if(Te(t),e!==e+0)throw e;ke(1,0)}},Y:function(e,t){var n=Se();try{return De(e,t)}catch(e){if(Te(n),e!==e+0)throw e;ke(1,0)}},T:function(e,t,n){var r=Se();try{return Pe(e,t,n)}catch(e){if(Te(r),e!==e+0)throw e;ke(1,0)}},f:function(e){var t=Se();try{ae(e)()}catch(e){if(Te(t),e!==e+0)throw e;ke(1,0)}},q:function(e,t){var n=Se();try{ae(e)(t)}catch(e){if(Te(n),e!==e+0)throw e;ke(1,0)}},h:function(e,t,n){var r=Se();try{ae(e)(t,n)}catch(e){if(Te(r),e!==e+0)throw e;ke(1,0)}},da:function(e,t,n,r){var i=Se();try{ae(e)(t,n,r)}catch(e){if(Te(i),e!==e+0)throw e;ke(1,0)}},l:function(e,t,n,r){var i=Se();try{ae(e)(t,n,r)}catch(e){if(Te(i),e!==e+0)throw e;ke(1,0)}},t:function(e,t,n,r,i){var a=Se();try{ae(e)(t,n,r,i)}catch(e){if(Te(a),e!==e+0)throw e;ke(1,0)}},u:function(e,t,n,r,i,a){var o=Se();try{ae(e)(t,n,r,i,a)}catch(e){if(Te(o),e!==e+0)throw e;ke(1,0)}},x:function(e,t,n,r,i,a,o){var s=Se();try{ae(e)(t,n,r,i,a,o)}catch(e){if(Te(s),e!==e+0)throw e;ke(1,0)}},z:function(e,t,n,r,i,a,o,s){var l=Se();try{ae(e)(t,n,r,i,a,o,s)}catch(e){if(Te(l),e!==e+0)throw e;ke(1,0)}},ga:function(e,t,n,r,i,a,o,s,l){var u=Se();try{ae(e)(t,n,r,i,a,o,s,l)}catch(e){if(Te(u),e!==e+0)throw e;ke(1,0)}},A:function(e,t,n,r,i,a,o,s,l,u,c){var d=Se();try{ae(e)(t,n,r,i,a,o,s,l,u,c)}catch(e){if(Te(d),e!==e+0)throw e;ke(1,0)}},C:function(e,t,n,r,i,a,o,s,l,u,c,d,f,h,p,g){var m=Se();try{ae(e)(t,n,r,i,a,o,s,l,u,c,d,f,h,p,g)}catch(e){if(Te(m),e!==e+0)throw e;ke(1,0)}},aa:function(e,t,n,r,i,a,o,s){var l=Se();try{Me(e,t,n,r,i,a,o,s)}catch(e){if(Te(l),e!==e+0)throw e;ke(1,0)}},_:function(e,t,n,r,i,a,o,s,l,u,c,d){var f=Se();try{Re(e,t,n,r,i,a,o,s,l,u,c,d)}catch(e){if(Te(f),e!==e+0)throw e;ke(1,0)}},$:function(e,t,n,r,i,a){var o=Se();try{Le(e,t,n,r,i,a)}catch(e){if(Te(o),e!==e+0)throw e;ke(1,0)}},n:function(e){return e},F:function(e){fe=e},ha:me,y:function(e,t,n,r){return me(e,t,n,r)}};!function(){function e(e){t.asm=e.exports,k=t.asm.Ka,N(),D=t.asm.ib,F.unshift(t.asm.La),W--,t.monitorRunDependencies&&t.monitorRunDependencies(W),0==W&&(null!==H&&(clearInterval(H),H=null),G&&(e=G,G=null,e()))}function n(t){e(t.instance)}function r(e){return function(){if(!b&&(g||m)){if("function"==typeof fetch&&!V.startsWith("file://"))return fetch(V,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+V+"'";return e.arrayBuffer()})).catch((function(){return X()}));if(s)return new Promise((function(e,t){s(V,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return X()}))}().then((function(e){return WebAssembly.instantiate(e,i)})).then((function(e){return e})).then(e,(function(e){w("failed to asynchronously prepare wasm: "+e),q(e)}))}var i={a:ye};if(W++,t.monitorRunDependencies&&t.monitorRunDependencies(W),t.instantiateWasm)try{return t.instantiateWasm(i,e)}catch(e){return w("Module.instantiateWasm callback failed with error: "+e),!1}(b||"function"!=typeof WebAssembly.instantiateStreaming||K()||V.startsWith("file://")||y||"function"!=typeof fetch?r(n):fetch(V,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,i).then(n,(function(e){return w("wasm streaming compile failed: "+e),w("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.La).apply(null,arguments)},t._OrtInit=function(){return(t._OrtInit=t.asm.Ma).apply(null,arguments)},t._OrtCreateSessionOptions=function(){return(t._OrtCreateSessionOptions=t.asm.Na).apply(null,arguments)},t._OrtAppendExecutionProvider=function(){return(t._OrtAppendExecutionProvider=t.asm.Oa).apply(null,arguments)},t._OrtAddSessionConfigEntry=function(){return(t._OrtAddSessionConfigEntry=t.asm.Pa).apply(null,arguments)},t._OrtReleaseSessionOptions=function(){return(t._OrtReleaseSessionOptions=t.asm.Qa).apply(null,arguments)},t._OrtCreateSession=function(){return(t._OrtCreateSession=t.asm.Ra).apply(null,arguments)},t._OrtReleaseSession=function(){return(t._OrtReleaseSession=t.asm.Sa).apply(null,arguments)},t._OrtGetInputCount=function(){return(t._OrtGetInputCount=t.asm.Ta).apply(null,arguments)},t._OrtGetOutputCount=function(){return(t._OrtGetOutputCount=t.asm.Ua).apply(null,arguments)},t._OrtGetInputName=function(){return(t._OrtGetInputName=t.asm.Va).apply(null,arguments)},t._OrtGetOutputName=function(){return(t._OrtGetOutputName=t.asm.Wa).apply(null,arguments)},t._OrtFree=function(){return(t._OrtFree=t.asm.Xa).apply(null,arguments)},t._OrtCreateTensor=function(){return(t._OrtCreateTensor=t.asm.Ya).apply(null,arguments)},t._OrtGetTensorData=function(){return(t._OrtGetTensorData=t.asm.Za).apply(null,arguments)},t._OrtReleaseTensor=function(){return(t._OrtReleaseTensor=t.asm._a).apply(null,arguments)},t._OrtCreateRunOptions=function(){return(t._OrtCreateRunOptions=t.asm.$a).apply(null,arguments)},t._OrtAddRunConfigEntry=function(){return(t._OrtAddRunConfigEntry=t.asm.ab).apply(null,arguments)},t._OrtReleaseRunOptions=function(){return(t._OrtReleaseRunOptions=t.asm.bb).apply(null,arguments)},t._OrtRun=function(){return(t._OrtRun=t.asm.cb).apply(null,arguments)},t._OrtEndProfiling=function(){return(t._OrtEndProfiling=t.asm.db).apply(null,arguments)};var _e,be=t._malloc=function(){return(be=t._malloc=t.asm.eb).apply(null,arguments)},ve=t._free=function(){return(ve=t._free=t.asm.fb).apply(null,arguments)},we=t._fflush=function(){return(we=t._fflush=t.asm.gb).apply(null,arguments)},xe=t.___funcs_on_exit=function(){return(xe=t.___funcs_on_exit=t.asm.hb).apply(null,arguments)},ke=t._setThrew=function(){return(ke=t._setThrew=t.asm.jb).apply(null,arguments)},Se=t.stackSave=function(){return(Se=t.stackSave=t.asm.kb).apply(null,arguments)},Te=t.stackRestore=function(){return(Te=t.stackRestore=t.asm.lb).apply(null,arguments)},Ee=t.stackAlloc=function(){return(Ee=t.stackAlloc=t.asm.mb).apply(null,arguments)},Ae=t.___cxa_can_catch=function(){return(Ae=t.___cxa_can_catch=t.asm.nb).apply(null,arguments)},Oe=t.___cxa_is_pointer_type=function(){return(Oe=t.___cxa_is_pointer_type=t.asm.ob).apply(null,arguments)},Ce=t.dynCall_j=function(){return(Ce=t.dynCall_j=t.asm.pb).apply(null,arguments)},Ie=t.dynCall_iiiiij=function(){return(Ie=t.dynCall_iiiiij=t.asm.qb).apply(null,arguments)},Pe=t.dynCall_jii=function(){return(Pe=t.dynCall_jii=t.asm.rb).apply(null,arguments)},Me=t.dynCall_viiiiij=function(){return(Me=t.dynCall_viiiiij=t.asm.sb).apply(null,arguments)},Le=t.dynCall_vjji=function(){return(Le=t.dynCall_vjji=t.asm.tb).apply(null,arguments)},Re=t.dynCall_viiijjjii=function(){return(Re=t.dynCall_viiijjjii=t.asm.ub).apply(null,arguments)},Ne=t.dynCall_iij=function(){return(Ne=t.dynCall_iij=t.asm.vb).apply(null,arguments)},De=t.dynCall_ji=function(){return(De=t.dynCall_ji=t.asm.wb).apply(null,arguments)},je=t.dynCall_iiiiiij=function(){return(je=t.dynCall_iiiiiij=t.asm.xb).apply(null,arguments)},Fe=t.dynCall_iiij=function(){return(Fe=t.dynCall_iiij=t.asm.yb).apply(null,arguments)};function Be(){function e(){if(!_e&&(_e=!0,t.calledRun=!0,!C)){if(J(F),i(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();z.unshift(e)}J(z)}}if(!(0<W)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)U();J(j),0<W||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),e()}),1)):e())}}if(t.UTF8ToString=M,t.stringToUTF8=function(e,t,n){return L(e,E,t,n)},t.lengthBytesUTF8=R,t.stackSave=Se,t.stackRestore=Te,t.stackAlloc=Ee,G=function e(){_e||Be(),_e||(G=e)},t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return Be(),e.ready});e.exports=i},4537:e=>{"use strict";e.exports=function(e,t){for(var n=new Array(arguments.length-1),r=0,i=2,a=!0;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,o){n[r]=function(e){if(a)if(a=!1,e)o(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(e){a&&(a=!1,o(e))}}))}},7419:(e,t)=>{"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var r=new Array(64),i=new Array(123),a=0;a<64;)i[r[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;n.encode=function(e,t,n){for(var i,a=null,o=[],s=0,l=0;t<n;){var u=e[t++];switch(l){case 0:o[s++]=r[u>>2],i=(3&u)<<4,l=1;break;case 1:o[s++]=r[i|u>>4],i=(15&u)<<2,l=2;break;case 2:o[s++]=r[i|u>>6],o[s++]=r[63&u],l=0}s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,o)),s=0)}return l&&(o[s++]=r[i],o[s++]=61,1===l&&(o[s++]=61)),a?(s&&a.push(String.fromCharCode.apply(String,o.slice(0,s))),a.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var o="invalid encoding";n.decode=function(e,t,n){for(var r,a=n,s=0,l=0;l<e.length;){var u=e.charCodeAt(l++);if(61===u&&s>1)break;if(void 0===(u=i[u]))throw Error(o);switch(s){case 0:r=u,s=1;break;case 1:t[n++]=r<<2|(48&u)>>4,r=u,s=2;break;case 2:t[n++]=(15&r)<<4|(60&u)>>2,r=u,s=3;break;case 3:t[n++]=(3&r)<<6|u,s=0}}if(1===s)throw Error(o);return n-a},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},9211:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},945:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function a(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function o(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function s(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:a,e.writeFloatBE=r?a:i,e.readFloatLE=r?o:s,e.readFloatBE=r?s:o}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var a=Math.floor(Math.log(t)/Math.LN2);e((i<<31|a+127<<23|8388607&Math.round(t*Math.pow(2,-a)*8388608))>>>0,n,r)}}function o(e,t,n){var r=e(t,n),i=2*(r>>31)+1,a=r>>>23&255,o=8388607&r;return 255===a?o?NaN:i*(1/0):0===a?1401298464324817e-60*i*o:i*Math.pow(2,a-150)*(o+8388608)}e.writeFloatLE=t.bind(null,n),e.writeFloatBE=t.bind(null,r),e.readFloatLE=o.bind(null,i),e.readFloatBE=o.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function a(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function o(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function s(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:a,e.writeDoubleBE=r?a:i,e.readDoubleLE=r?o:s,e.readDoubleBE=r?s:o}():function(){function t(e,t,n,r,i,a){var o=r<0?1:0;if(o&&(r=-r),0===r)e(0,i,a+t),e(1/r>0?0:2147483648,i,a+n);else if(isNaN(r))e(0,i,a+t),e(2146959360,i,a+n);else if(r>17976931348623157e292)e(0,i,a+t),e((o<<31|2146435072)>>>0,i,a+n);else{var s;if(r<22250738585072014e-324)e((s=r/5e-324)>>>0,i,a+t),e((o<<31|s/4294967296)>>>0,i,a+n);else{var l=Math.floor(Math.log(r)/Math.LN2);1024===l&&(l=1023),e(4503599627370496*(s=r*Math.pow(2,-l))>>>0,i,a+t),e((o<<31|l+1023<<20|1048576*s&1048575)>>>0,i,a+n)}}}function o(e,t,n,r,i){var a=e(r,i+t),o=e(r,i+n),s=2*(o>>31)+1,l=o>>>20&2047,u=4294967296*(1048575&o)+a;return 2047===l?u?NaN:s*(1/0):0===l?5e-324*s*u:s*Math.pow(2,l-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,n,0,4),e.writeDoubleBE=t.bind(null,r,4,0),e.readDoubleLE=o.bind(null,i,0,4),e.readDoubleBE=o.bind(null,a,4,0)}(),e}function n(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function r(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},7199:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},6662:e=>{"use strict";e.exports=function(e,t,n){var r=n||8192,i=r>>>1,a=null,o=r;return function(n){if(n<1||n>i)return e(n);o+n>r&&(a=e(r),o=0);var s=t.call(a,o,o+=n);return 7&o&&(o=1+(7|o)),s}}},4997:(e,t)=>{"use strict";var n=t;n.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},n.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,a=[],o=0;t<n;)(r=e[t++])<128?a[o++]=r:r>191&&r<224?a[o++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,a[o++]=55296+(r>>10),a[o++]=56320+(1023&r)):a[o++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),o=0);return i?(o&&i.push(String.fromCharCode.apply(String,a.slice(0,o))),i.join("")):String.fromCharCode.apply(String,a.slice(0,o))},n.write=function(e,t,n){for(var r,i,a=n,o=0;o<e.length;++o)(r=e.charCodeAt(o))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(o+1)))?(r=65536+((1023&r)<<10)+(1023&i),++o,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-a}},3442:(e,t)=>{"use strict";t.__esModule=!0;var n=function(){function e(t){if(!t)throw new TypeError("Invalid argument; `value` has no value.");this.value=e.EMPTY,t&&e.isGuid(t)&&(this.value=t)}return e.isGuid=function(t){var n=t.toString();return t&&(t instanceof e||e.validator.test(n))},e.create=function(){return new e([e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-"))},e.createEmpty=function(){return new e("emptyguid")},e.parse=function(t){return new e(t)},e.raw=function(){return[e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-")},e.gen=function(e){for(var t="",n=0;n<e;n++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t},e.prototype.equals=function(t){return e.isGuid(t)&&this.value===t.toString()},e.prototype.isEmpty=function(){return this.value===e.EMPTY},e.prototype.toString=function(){return this.value},e.prototype.toJSON=function(){return{value:this.value}},e.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),e.EMPTY="00000000-0000-0000-0000-000000000000",e}();t.Guid=n},3720:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var i={},a={};function o(e,t){var n,r,o;return t?(o=0<=(e>>>=0)&&e<256)&&(r=a[e])?r:(n=l(e,(0|e)<0?-1:0,!0),o&&(a[e]=n),n):(o=-128<=(e|=0)&&e<128)&&(r=i[e])?r:(n=l(e,e<0?-1:0,!1),o&&(i[e]=n),n)}function s(e,t){if(isNaN(e))return t?y:m;if(t){if(e<0)return y;if(e>=h)return x}else{if(e<=-p)return k;if(e+1>=p)return w}return e<0?s(-e,t).neg():l(e%f|0,e/f|0,t)}function l(e,t,r){return new n(e,t,r)}n.fromInt=o,n.fromNumber=s,n.fromBits=l;var u=Math.pow;function c(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return m;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return c(e.substring(1),t,n).neg();for(var i=s(u(n,8)),a=m,o=0;o<e.length;o+=8){var l=Math.min(8,e.length-o),d=parseInt(e.substring(o,o+l),n);if(l<8){var f=s(u(n,l));a=a.mul(f).add(s(d))}else a=(a=a.mul(i)).add(s(d))}return a.unsigned=t,a}function d(e,t){return"number"==typeof e?s(e,t):"string"==typeof e?c(e,t):l(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=c,n.fromValue=d;var f=4294967296,h=f*f,p=h/2,g=o(1<<24),m=o(0);n.ZERO=m;var y=o(0,!0);n.UZERO=y;var _=o(1);n.ONE=_;var b=o(1,!0);n.UONE=b;var v=o(-1);n.NEG_ONE=v;var w=l(-1,2147483647,!1);n.MAX_VALUE=w;var x=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=x;var k=l(0,-2147483648,!1);n.MIN_VALUE=k;var S=n.prototype;S.toInt=function(){return this.unsigned?this.low>>>0:this.low},S.toNumber=function(){return this.unsigned?(this.high>>>0)*f+(this.low>>>0):this.high*f+(this.low>>>0)},S.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(k)){var t=s(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=s(u(e,6),this.unsigned),a=this,o="";;){var l=a.div(i),c=(a.sub(l.mul(i)).toInt()>>>0).toString(e);if((a=l).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},S.getHighBits=function(){return this.high},S.getHighBitsUnsigned=function(){return this.high>>>0},S.getLowBits=function(){return this.low},S.getLowBitsUnsigned=function(){return this.low>>>0},S.getNumBitsAbs=function(){if(this.isNegative())return this.eq(k)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},S.isZero=function(){return 0===this.high&&0===this.low},S.eqz=S.isZero,S.isNegative=function(){return!this.unsigned&&this.high<0},S.isPositive=function(){return this.unsigned||this.high>=0},S.isOdd=function(){return 1==(1&this.low)},S.isEven=function(){return 0==(1&this.low)},S.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},S.eq=S.equals,S.notEquals=function(e){return!this.eq(e)},S.neq=S.notEquals,S.ne=S.notEquals,S.lessThan=function(e){return this.comp(e)<0},S.lt=S.lessThan,S.lessThanOrEqual=function(e){return this.comp(e)<=0},S.lte=S.lessThanOrEqual,S.le=S.lessThanOrEqual,S.greaterThan=function(e){return this.comp(e)>0},S.gt=S.greaterThan,S.greaterThanOrEqual=function(e){return this.comp(e)>=0},S.gte=S.greaterThanOrEqual,S.ge=S.greaterThanOrEqual,S.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},S.comp=S.compare,S.negate=function(){return!this.unsigned&&this.eq(k)?k:this.not().add(_)},S.neg=S.negate,S.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,a=65535&this.low,o=e.high>>>16,s=65535&e.high,u=e.low>>>16,c=0,f=0,h=0,p=0;return h+=(p+=a+(65535&e.low))>>>16,f+=(h+=i+u)>>>16,c+=(f+=n+s)>>>16,c+=t+o,l((h&=65535)<<16|(p&=65535),(c&=65535)<<16|(f&=65535),this.unsigned)},S.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},S.sub=S.subtract,S.multiply=function(e){if(this.isZero())return m;if(r(e)||(e=d(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return m;if(this.eq(k))return e.isOdd()?k:m;if(e.eq(k))return this.isOdd()?k:m;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(g)&&e.lt(g))return s(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,a=this.low>>>16,o=65535&this.low,u=e.high>>>16,c=65535&e.high,f=e.low>>>16,h=65535&e.low,p=0,y=0,_=0,b=0;return _+=(b+=o*h)>>>16,y+=(_+=a*h)>>>16,_&=65535,y+=(_+=o*f)>>>16,p+=(y+=i*h)>>>16,y&=65535,p+=(y+=a*f)>>>16,y&=65535,p+=(y+=o*c)>>>16,p+=n*h+i*f+a*c+o*u,l((_&=65535)<<16|(b&=65535),(p&=65535)<<16|(y&=65535),this.unsigned)},S.mul=S.multiply,S.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,i,a;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:m;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return b;a=y}else{if(this.eq(k))return e.eq(_)||e.eq(v)?k:e.eq(k)?_:(n=this.shr(1).div(e).shl(1)).eq(m)?e.isNegative()?_:v:(i=this.sub(e.mul(n)),a=n.add(i.div(e)));if(e.eq(k))return this.unsigned?y:m;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();a=m}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(n)/Math.LN2),c=o<=48?1:u(2,o-48),f=s(n),h=f.mul(e);h.isNegative()||h.gt(i);)h=(f=s(n-=c,this.unsigned)).mul(e);f.isZero()&&(f=_),a=a.add(f),i=i.sub(h)}return a},S.div=S.divide,S.modulo=function(e){return r(e)||(e=d(e)),t?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},S.mod=S.modulo,S.rem=S.modulo,S.not=function(){return l(~this.low,~this.high,this.unsigned)},S.and=function(e){return r(e)||(e=d(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},S.or=function(e){return r(e)||(e=d(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},S.xor=function(e){return r(e)||(e=d(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},S.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},S.shl=S.shiftLeft,S.shiftRight=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},S.shr=S.shiftRight,S.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},S.shru=S.shiftRightUnsigned,S.shr_u=S.shiftRightUnsigned,S.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},S.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},S.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},S.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},S.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},1446:(e,t,n)=>{"use strict";var r,i,a,o=n(2100),s=o.Reader,l=o.Writer,u=o.util,c=o.roots.default||(o.roots.default={});c.onnx=((a={}).Version=(r={},(i=Object.create(r))[r[0]="_START_VERSION"]=0,i[r[1]="IR_VERSION_2017_10_10"]=1,i[r[2]="IR_VERSION_2017_10_30"]=2,i[r[3]="IR_VERSION_2017_11_3"]=3,i[r[4]="IR_VERSION_2019_1_22"]=4,i[r[5]="IR_VERSION"]=5,i),a.AttributeProto=function(){function e(e){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.refAttrName="",e.prototype.docString="",e.prototype.type=0,e.prototype.f=0,e.prototype.i=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.s=u.newBuffer([]),e.prototype.t=null,e.prototype.g=null,e.prototype.floats=u.emptyArray,e.prototype.ints=u.emptyArray,e.prototype.strings=u.emptyArray,e.prototype.tensors=u.emptyArray,e.prototype.graphs=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(10).string(e.name),null!=e.f&&e.hasOwnProperty("f")&&t.uint32(21).float(e.f),null!=e.i&&e.hasOwnProperty("i")&&t.uint32(24).int64(e.i),null!=e.s&&e.hasOwnProperty("s")&&t.uint32(34).bytes(e.s),null!=e.t&&e.hasOwnProperty("t")&&c.onnx.TensorProto.encode(e.t,t.uint32(42).fork()).ldelim(),null!=e.g&&e.hasOwnProperty("g")&&c.onnx.GraphProto.encode(e.g,t.uint32(50).fork()).ldelim(),null!=e.floats&&e.floats.length){t.uint32(58).fork();for(var n=0;n<e.floats.length;++n)t.float(e.floats[n]);t.ldelim()}if(null!=e.ints&&e.ints.length){for(t.uint32(66).fork(),n=0;n<e.ints.length;++n)t.int64(e.ints[n]);t.ldelim()}if(null!=e.strings&&e.strings.length)for(n=0;n<e.strings.length;++n)t.uint32(74).bytes(e.strings[n]);if(null!=e.tensors&&e.tensors.length)for(n=0;n<e.tensors.length;++n)c.onnx.TensorProto.encode(e.tensors[n],t.uint32(82).fork()).ldelim();if(null!=e.graphs&&e.graphs.length)for(n=0;n<e.graphs.length;++n)c.onnx.GraphProto.encode(e.graphs[n],t.uint32(90).fork()).ldelim();return null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(106).string(e.docString),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(160).int32(e.type),null!=e.refAttrName&&e.hasOwnProperty("refAttrName")&&t.uint32(170).string(e.refAttrName),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.AttributeProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.name=e.string();break;case 21:r.refAttrName=e.string();break;case 13:r.docString=e.string();break;case 20:r.type=e.int32();break;case 2:r.f=e.float();break;case 3:r.i=e.int64();break;case 4:r.s=e.bytes();break;case 5:r.t=c.onnx.TensorProto.decode(e,e.uint32());break;case 6:r.g=c.onnx.GraphProto.decode(e,e.uint32());break;case 7:if(r.floats&&r.floats.length||(r.floats=[]),2==(7&i))for(var a=e.uint32()+e.pos;e.pos<a;)r.floats.push(e.float());else r.floats.push(e.float());break;case 8:if(r.ints&&r.ints.length||(r.ints=[]),2==(7&i))for(a=e.uint32()+e.pos;e.pos<a;)r.ints.push(e.int64());else r.ints.push(e.int64());break;case 9:r.strings&&r.strings.length||(r.strings=[]),r.strings.push(e.bytes());break;case 10:r.tensors&&r.tensors.length||(r.tensors=[]),r.tensors.push(c.onnx.TensorProto.decode(e,e.uint32()));break;case 11:r.graphs&&r.graphs.length||(r.graphs=[]),r.graphs.push(c.onnx.GraphProto.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.refAttrName&&e.hasOwnProperty("refAttrName")&&!u.isString(e.refAttrName))return"refAttrName: string expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!u.isString(e.docString))return"docString: string expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(null!=e.f&&e.hasOwnProperty("f")&&"number"!=typeof e.f)return"f: number expected";if(null!=e.i&&e.hasOwnProperty("i")&&!(u.isInteger(e.i)||e.i&&u.isInteger(e.i.low)&&u.isInteger(e.i.high)))return"i: integer|Long expected";if(null!=e.s&&e.hasOwnProperty("s")&&!(e.s&&"number"==typeof e.s.length||u.isString(e.s)))return"s: buffer expected";if(null!=e.t&&e.hasOwnProperty("t")&&(n=c.onnx.TensorProto.verify(e.t)))return"t."+n;if(null!=e.g&&e.hasOwnProperty("g")&&(n=c.onnx.GraphProto.verify(e.g)))return"g."+n;if(null!=e.floats&&e.hasOwnProperty("floats")){if(!Array.isArray(e.floats))return"floats: array expected";for(var t=0;t<e.floats.length;++t)if("number"!=typeof e.floats[t])return"floats: number[] expected"}if(null!=e.ints&&e.hasOwnProperty("ints")){if(!Array.isArray(e.ints))return"ints: array expected";for(t=0;t<e.ints.length;++t)if(!(u.isInteger(e.ints[t])||e.ints[t]&&u.isInteger(e.ints[t].low)&&u.isInteger(e.ints[t].high)))return"ints: integer|Long[] expected"}if(null!=e.strings&&e.hasOwnProperty("strings")){if(!Array.isArray(e.strings))return"strings: array expected";for(t=0;t<e.strings.length;++t)if(!(e.strings[t]&&"number"==typeof e.strings[t].length||u.isString(e.strings[t])))return"strings: buffer[] expected"}if(null!=e.tensors&&e.hasOwnProperty("tensors")){if(!Array.isArray(e.tensors))return"tensors: array expected";for(t=0;t<e.tensors.length;++t)if(n=c.onnx.TensorProto.verify(e.tensors[t]))return"tensors."+n}if(null!=e.graphs&&e.hasOwnProperty("graphs")){if(!Array.isArray(e.graphs))return"graphs: array expected";for(t=0;t<e.graphs.length;++t){var n;if(n=c.onnx.GraphProto.verify(e.graphs[t]))return"graphs."+n}}return null},e.fromObject=function(e){if(e instanceof c.onnx.AttributeProto)return e;var t=new c.onnx.AttributeProto;switch(null!=e.name&&(t.name=String(e.name)),null!=e.refAttrName&&(t.refAttrName=String(e.refAttrName)),null!=e.docString&&(t.docString=String(e.docString)),e.type){case"UNDEFINED":case 0:t.type=0;break;case"FLOAT":case 1:t.type=1;break;case"INT":case 2:t.type=2;break;case"STRING":case 3:t.type=3;break;case"TENSOR":case 4:t.type=4;break;case"GRAPH":case 5:t.type=5;break;case"FLOATS":case 6:t.type=6;break;case"INTS":case 7:t.type=7;break;case"STRINGS":case 8:t.type=8;break;case"TENSORS":case 9:t.type=9;break;case"GRAPHS":case 10:t.type=10}if(null!=e.f&&(t.f=Number(e.f)),null!=e.i&&(u.Long?(t.i=u.Long.fromValue(e.i)).unsigned=!1:"string"==typeof e.i?t.i=parseInt(e.i,10):"number"==typeof e.i?t.i=e.i:"object"==typeof e.i&&(t.i=new u.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber())),null!=e.s&&("string"==typeof e.s?u.base64.decode(e.s,t.s=u.newBuffer(u.base64.length(e.s)),0):e.s.length&&(t.s=e.s)),null!=e.t){if("object"!=typeof e.t)throw TypeError(".onnx.AttributeProto.t: object expected");t.t=c.onnx.TensorProto.fromObject(e.t)}if(null!=e.g){if("object"!=typeof e.g)throw TypeError(".onnx.AttributeProto.g: object expected");t.g=c.onnx.GraphProto.fromObject(e.g)}if(e.floats){if(!Array.isArray(e.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");t.floats=[];for(var n=0;n<e.floats.length;++n)t.floats[n]=Number(e.floats[n])}if(e.ints){if(!Array.isArray(e.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(t.ints=[],n=0;n<e.ints.length;++n)u.Long?(t.ints[n]=u.Long.fromValue(e.ints[n])).unsigned=!1:"string"==typeof e.ints[n]?t.ints[n]=parseInt(e.ints[n],10):"number"==typeof e.ints[n]?t.ints[n]=e.ints[n]:"object"==typeof e.ints[n]&&(t.ints[n]=new u.LongBits(e.ints[n].low>>>0,e.ints[n].high>>>0).toNumber())}if(e.strings){if(!Array.isArray(e.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(t.strings=[],n=0;n<e.strings.length;++n)"string"==typeof e.strings[n]?u.base64.decode(e.strings[n],t.strings[n]=u.newBuffer(u.base64.length(e.strings[n])),0):e.strings[n].length&&(t.strings[n]=e.strings[n])}if(e.tensors){if(!Array.isArray(e.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(t.tensors=[],n=0;n<e.tensors.length;++n){if("object"!=typeof e.tensors[n])throw TypeError(".onnx.AttributeProto.tensors: object expected");t.tensors[n]=c.onnx.TensorProto.fromObject(e.tensors[n])}}if(e.graphs){if(!Array.isArray(e.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(t.graphs=[],n=0;n<e.graphs.length;++n){if("object"!=typeof e.graphs[n])throw TypeError(".onnx.AttributeProto.graphs: object expected");t.graphs[n]=c.onnx.GraphProto.fromObject(e.graphs[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.floats=[],n.ints=[],n.strings=[],n.tensors=[],n.graphs=[]),t.defaults){if(n.name="",n.f=0,u.Long){var r=new u.Long(0,0,!1);n.i=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.i=t.longs===String?"0":0;t.bytes===String?n.s="":(n.s=[],t.bytes!==Array&&(n.s=u.newBuffer(n.s))),n.t=null,n.g=null,n.docString="",n.type=t.enums===String?"UNDEFINED":0,n.refAttrName=""}if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.f&&e.hasOwnProperty("f")&&(n.f=t.json&&!isFinite(e.f)?String(e.f):e.f),null!=e.i&&e.hasOwnProperty("i")&&("number"==typeof e.i?n.i=t.longs===String?String(e.i):e.i:n.i=t.longs===String?u.Long.prototype.toString.call(e.i):t.longs===Number?new u.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber():e.i),null!=e.s&&e.hasOwnProperty("s")&&(n.s=t.bytes===String?u.base64.encode(e.s,0,e.s.length):t.bytes===Array?Array.prototype.slice.call(e.s):e.s),null!=e.t&&e.hasOwnProperty("t")&&(n.t=c.onnx.TensorProto.toObject(e.t,t)),null!=e.g&&e.hasOwnProperty("g")&&(n.g=c.onnx.GraphProto.toObject(e.g,t)),e.floats&&e.floats.length){n.floats=[];for(var i=0;i<e.floats.length;++i)n.floats[i]=t.json&&!isFinite(e.floats[i])?String(e.floats[i]):e.floats[i]}if(e.ints&&e.ints.length)for(n.ints=[],i=0;i<e.ints.length;++i)"number"==typeof e.ints[i]?n.ints[i]=t.longs===String?String(e.ints[i]):e.ints[i]:n.ints[i]=t.longs===String?u.Long.prototype.toString.call(e.ints[i]):t.longs===Number?new u.LongBits(e.ints[i].low>>>0,e.ints[i].high>>>0).toNumber():e.ints[i];if(e.strings&&e.strings.length)for(n.strings=[],i=0;i<e.strings.length;++i)n.strings[i]=t.bytes===String?u.base64.encode(e.strings[i],0,e.strings[i].length):t.bytes===Array?Array.prototype.slice.call(e.strings[i]):e.strings[i];if(e.tensors&&e.tensors.length)for(n.tensors=[],i=0;i<e.tensors.length;++i)n.tensors[i]=c.onnx.TensorProto.toObject(e.tensors[i],t);if(e.graphs&&e.graphs.length)for(n.graphs=[],i=0;i<e.graphs.length;++i)n.graphs[i]=c.onnx.GraphProto.toObject(e.graphs[i],t);return null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?c.onnx.AttributeProto.AttributeType[e.type]:e.type),null!=e.refAttrName&&e.hasOwnProperty("refAttrName")&&(n.refAttrName=e.refAttrName),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.AttributeType=function(){var e={},t=Object.create(e);return t[e[0]="UNDEFINED"]=0,t[e[1]="FLOAT"]=1,t[e[2]="INT"]=2,t[e[3]="STRING"]=3,t[e[4]="TENSOR"]=4,t[e[5]="GRAPH"]=5,t[e[6]="FLOATS"]=6,t[e[7]="INTS"]=7,t[e[8]="STRINGS"]=8,t[e[9]="TENSORS"]=9,t[e[10]="GRAPHS"]=10,t}(),e}(),a.ValueInfoProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.type=null,e.prototype.docString="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(10).string(e.name),null!=e.type&&e.hasOwnProperty("type")&&c.onnx.TypeProto.encode(e.type,t.uint32(18).fork()).ldelim(),null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(26).string(e.docString),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.ValueInfoProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.name=e.string();break;case 2:r.type=c.onnx.TypeProto.decode(e,e.uint32());break;case 3:r.docString=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.type&&e.hasOwnProperty("type")){var t=c.onnx.TypeProto.verify(e.type);if(t)return"type."+t}return null!=e.docString&&e.hasOwnProperty("docString")&&!u.isString(e.docString)?"docString: string expected":null},e.fromObject=function(e){if(e instanceof c.onnx.ValueInfoProto)return e;var t=new c.onnx.ValueInfoProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.type){if("object"!=typeof e.type)throw TypeError(".onnx.ValueInfoProto.type: object expected");t.type=c.onnx.TypeProto.fromObject(e.type)}return null!=e.docString&&(t.docString=String(e.docString)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.type=null,n.docString=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.type&&e.hasOwnProperty("type")&&(n.type=c.onnx.TypeProto.toObject(e.type,t)),null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),a.NodeProto=function(){function e(e){if(this.input=[],this.output=[],this.attribute=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.input=u.emptyArray,e.prototype.output=u.emptyArray,e.prototype.name="",e.prototype.opType="",e.prototype.domain="",e.prototype.attribute=u.emptyArray,e.prototype.docString="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.input&&e.input.length)for(var n=0;n<e.input.length;++n)t.uint32(10).string(e.input[n]);if(null!=e.output&&e.output.length)for(n=0;n<e.output.length;++n)t.uint32(18).string(e.output[n]);if(null!=e.name&&e.hasOwnProperty("name")&&t.uint32(26).string(e.name),null!=e.opType&&e.hasOwnProperty("opType")&&t.uint32(34).string(e.opType),null!=e.attribute&&e.attribute.length)for(n=0;n<e.attribute.length;++n)c.onnx.AttributeProto.encode(e.attribute[n],t.uint32(42).fork()).ldelim();return null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(50).string(e.docString),null!=e.domain&&e.hasOwnProperty("domain")&&t.uint32(58).string(e.domain),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.NodeProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.input&&r.input.length||(r.input=[]),r.input.push(e.string());break;case 2:r.output&&r.output.length||(r.output=[]),r.output.push(e.string());break;case 3:r.name=e.string();break;case 4:r.opType=e.string();break;case 7:r.domain=e.string();break;case 5:r.attribute&&r.attribute.length||(r.attribute=[]),r.attribute.push(c.onnx.AttributeProto.decode(e,e.uint32()));break;case 6:r.docString=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.input&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(var t=0;t<e.input.length;++t)if(!u.isString(e.input[t]))return"input: string[] expected"}if(null!=e.output&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(t=0;t<e.output.length;++t)if(!u.isString(e.output[t]))return"output: string[] expected"}if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.opType&&e.hasOwnProperty("opType")&&!u.isString(e.opType))return"opType: string expected";if(null!=e.domain&&e.hasOwnProperty("domain")&&!u.isString(e.domain))return"domain: string expected";if(null!=e.attribute&&e.hasOwnProperty("attribute")){if(!Array.isArray(e.attribute))return"attribute: array expected";for(t=0;t<e.attribute.length;++t){var n=c.onnx.AttributeProto.verify(e.attribute[t]);if(n)return"attribute."+n}}return null!=e.docString&&e.hasOwnProperty("docString")&&!u.isString(e.docString)?"docString: string expected":null},e.fromObject=function(e){if(e instanceof c.onnx.NodeProto)return e;var t=new c.onnx.NodeProto;if(e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.NodeProto.input: array expected");t.input=[];for(var n=0;n<e.input.length;++n)t.input[n]=String(e.input[n])}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.NodeProto.output: array expected");for(t.output=[],n=0;n<e.output.length;++n)t.output[n]=String(e.output[n])}if(null!=e.name&&(t.name=String(e.name)),null!=e.opType&&(t.opType=String(e.opType)),null!=e.domain&&(t.domain=String(e.domain)),e.attribute){if(!Array.isArray(e.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(t.attribute=[],n=0;n<e.attribute.length;++n){if("object"!=typeof e.attribute[n])throw TypeError(".onnx.NodeProto.attribute: object expected");t.attribute[n]=c.onnx.AttributeProto.fromObject(e.attribute[n])}}return null!=e.docString&&(t.docString=String(e.docString)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.input=[],n.output=[],n.attribute=[]),t.defaults&&(n.name="",n.opType="",n.docString="",n.domain=""),e.input&&e.input.length){n.input=[];for(var r=0;r<e.input.length;++r)n.input[r]=e.input[r]}if(e.output&&e.output.length)for(n.output=[],r=0;r<e.output.length;++r)n.output[r]=e.output[r];if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.opType&&e.hasOwnProperty("opType")&&(n.opType=e.opType),e.attribute&&e.attribute.length)for(n.attribute=[],r=0;r<e.attribute.length;++r)n.attribute[r]=c.onnx.AttributeProto.toObject(e.attribute[r],t);return null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),null!=e.domain&&e.hasOwnProperty("domain")&&(n.domain=e.domain),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),a.ModelProto=function(){function e(e){if(this.opsetImport=[],this.metadataProps=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.irVersion=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.opsetImport=u.emptyArray,e.prototype.producerName="",e.prototype.producerVersion="",e.prototype.domain="",e.prototype.modelVersion=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.docString="",e.prototype.graph=null,e.prototype.metadataProps=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.irVersion&&e.hasOwnProperty("irVersion")&&t.uint32(8).int64(e.irVersion),null!=e.producerName&&e.hasOwnProperty("producerName")&&t.uint32(18).string(e.producerName),null!=e.producerVersion&&e.hasOwnProperty("producerVersion")&&t.uint32(26).string(e.producerVersion),null!=e.domain&&e.hasOwnProperty("domain")&&t.uint32(34).string(e.domain),null!=e.modelVersion&&e.hasOwnProperty("modelVersion")&&t.uint32(40).int64(e.modelVersion),null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(50).string(e.docString),null!=e.graph&&e.hasOwnProperty("graph")&&c.onnx.GraphProto.encode(e.graph,t.uint32(58).fork()).ldelim(),null!=e.opsetImport&&e.opsetImport.length)for(var n=0;n<e.opsetImport.length;++n)c.onnx.OperatorSetIdProto.encode(e.opsetImport[n],t.uint32(66).fork()).ldelim();if(null!=e.metadataProps&&e.metadataProps.length)for(n=0;n<e.metadataProps.length;++n)c.onnx.StringStringEntryProto.encode(e.metadataProps[n],t.uint32(114).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.ModelProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.irVersion=e.int64();break;case 8:r.opsetImport&&r.opsetImport.length||(r.opsetImport=[]),r.opsetImport.push(c.onnx.OperatorSetIdProto.decode(e,e.uint32()));break;case 2:r.producerName=e.string();break;case 3:r.producerVersion=e.string();break;case 4:r.domain=e.string();break;case 5:r.modelVersion=e.int64();break;case 6:r.docString=e.string();break;case 7:r.graph=c.onnx.GraphProto.decode(e,e.uint32());break;case 14:r.metadataProps&&r.metadataProps.length||(r.metadataProps=[]),r.metadataProps.push(c.onnx.StringStringEntryProto.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.irVersion&&e.hasOwnProperty("irVersion")&&!(u.isInteger(e.irVersion)||e.irVersion&&u.isInteger(e.irVersion.low)&&u.isInteger(e.irVersion.high)))return"irVersion: integer|Long expected";if(null!=e.opsetImport&&e.hasOwnProperty("opsetImport")){if(!Array.isArray(e.opsetImport))return"opsetImport: array expected";for(var t=0;t<e.opsetImport.length;++t)if(n=c.onnx.OperatorSetIdProto.verify(e.opsetImport[t]))return"opsetImport."+n}if(null!=e.producerName&&e.hasOwnProperty("producerName")&&!u.isString(e.producerName))return"producerName: string expected";if(null!=e.producerVersion&&e.hasOwnProperty("producerVersion")&&!u.isString(e.producerVersion))return"producerVersion: string expected";if(null!=e.domain&&e.hasOwnProperty("domain")&&!u.isString(e.domain))return"domain: string expected";if(null!=e.modelVersion&&e.hasOwnProperty("modelVersion")&&!(u.isInteger(e.modelVersion)||e.modelVersion&&u.isInteger(e.modelVersion.low)&&u.isInteger(e.modelVersion.high)))return"modelVersion: integer|Long expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!u.isString(e.docString))return"docString: string expected";if(null!=e.graph&&e.hasOwnProperty("graph")&&(n=c.onnx.GraphProto.verify(e.graph)))return"graph."+n;if(null!=e.metadataProps&&e.hasOwnProperty("metadataProps")){if(!Array.isArray(e.metadataProps))return"metadataProps: array expected";for(t=0;t<e.metadataProps.length;++t){var n;if(n=c.onnx.StringStringEntryProto.verify(e.metadataProps[t]))return"metadataProps."+n}}return null},e.fromObject=function(e){if(e instanceof c.onnx.ModelProto)return e;var t=new c.onnx.ModelProto;if(null!=e.irVersion&&(u.Long?(t.irVersion=u.Long.fromValue(e.irVersion)).unsigned=!1:"string"==typeof e.irVersion?t.irVersion=parseInt(e.irVersion,10):"number"==typeof e.irVersion?t.irVersion=e.irVersion:"object"==typeof e.irVersion&&(t.irVersion=new u.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber())),e.opsetImport){if(!Array.isArray(e.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");t.opsetImport=[];for(var n=0;n<e.opsetImport.length;++n){if("object"!=typeof e.opsetImport[n])throw TypeError(".onnx.ModelProto.opsetImport: object expected");t.opsetImport[n]=c.onnx.OperatorSetIdProto.fromObject(e.opsetImport[n])}}if(null!=e.producerName&&(t.producerName=String(e.producerName)),null!=e.producerVersion&&(t.producerVersion=String(e.producerVersion)),null!=e.domain&&(t.domain=String(e.domain)),null!=e.modelVersion&&(u.Long?(t.modelVersion=u.Long.fromValue(e.modelVersion)).unsigned=!1:"string"==typeof e.modelVersion?t.modelVersion=parseInt(e.modelVersion,10):"number"==typeof e.modelVersion?t.modelVersion=e.modelVersion:"object"==typeof e.modelVersion&&(t.modelVersion=new u.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber())),null!=e.docString&&(t.docString=String(e.docString)),null!=e.graph){if("object"!=typeof e.graph)throw TypeError(".onnx.ModelProto.graph: object expected");t.graph=c.onnx.GraphProto.fromObject(e.graph)}if(e.metadataProps){if(!Array.isArray(e.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(t.metadataProps=[],n=0;n<e.metadataProps.length;++n){if("object"!=typeof e.metadataProps[n])throw TypeError(".onnx.ModelProto.metadataProps: object expected");t.metadataProps[n]=c.onnx.StringStringEntryProto.fromObject(e.metadataProps[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.opsetImport=[],n.metadataProps=[]),t.defaults){if(u.Long){var r=new u.Long(0,0,!1);n.irVersion=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.irVersion=t.longs===String?"0":0;n.producerName="",n.producerVersion="",n.domain="",u.Long?(r=new u.Long(0,0,!1),n.modelVersion=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.modelVersion=t.longs===String?"0":0,n.docString="",n.graph=null}if(null!=e.irVersion&&e.hasOwnProperty("irVersion")&&("number"==typeof e.irVersion?n.irVersion=t.longs===String?String(e.irVersion):e.irVersion:n.irVersion=t.longs===String?u.Long.prototype.toString.call(e.irVersion):t.longs===Number?new u.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber():e.irVersion),null!=e.producerName&&e.hasOwnProperty("producerName")&&(n.producerName=e.producerName),null!=e.producerVersion&&e.hasOwnProperty("producerVersion")&&(n.producerVersion=e.producerVersion),null!=e.domain&&e.hasOwnProperty("domain")&&(n.domain=e.domain),null!=e.modelVersion&&e.hasOwnProperty("modelVersion")&&("number"==typeof e.modelVersion?n.modelVersion=t.longs===String?String(e.modelVersion):e.modelVersion:n.modelVersion=t.longs===String?u.Long.prototype.toString.call(e.modelVersion):t.longs===Number?new u.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber():e.modelVersion),null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),null!=e.graph&&e.hasOwnProperty("graph")&&(n.graph=c.onnx.GraphProto.toObject(e.graph,t)),e.opsetImport&&e.opsetImport.length){n.opsetImport=[];for(var i=0;i<e.opsetImport.length;++i)n.opsetImport[i]=c.onnx.OperatorSetIdProto.toObject(e.opsetImport[i],t)}if(e.metadataProps&&e.metadataProps.length)for(n.metadataProps=[],i=0;i<e.metadataProps.length;++i)n.metadataProps[i]=c.onnx.StringStringEntryProto.toObject(e.metadataProps[i],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),a.StringStringEntryProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.key&&e.hasOwnProperty("key")&&t.uint32(10).string(e.key),null!=e.value&&e.hasOwnProperty("value")&&t.uint32(18).string(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.StringStringEntryProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.key=e.string();break;case 2:r.value=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.key&&e.hasOwnProperty("key")&&!u.isString(e.key)?"key: string expected":null!=e.value&&e.hasOwnProperty("value")&&!u.isString(e.value)?"value: string expected":null},e.fromObject=function(e){if(e instanceof c.onnx.StringStringEntryProto)return e;var t=new c.onnx.StringStringEntryProto;return null!=e.key&&(t.key=String(e.key)),null!=e.value&&(t.value=String(e.value)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.key="",n.value=""),null!=e.key&&e.hasOwnProperty("key")&&(n.key=e.key),null!=e.value&&e.hasOwnProperty("value")&&(n.value=e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),a.TensorAnnotation=function(){function e(e){if(this.quantParameterTensorNames=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.tensorName="",e.prototype.quantParameterTensorNames=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.tensorName&&e.hasOwnProperty("tensorName")&&t.uint32(10).string(e.tensorName),null!=e.quantParameterTensorNames&&e.quantParameterTensorNames.length)for(var n=0;n<e.quantParameterTensorNames.length;++n)c.onnx.StringStringEntryProto.encode(e.quantParameterTensorNames[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.TensorAnnotation;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.tensorName=e.string();break;case 2:r.quantParameterTensorNames&&r.quantParameterTensorNames.length||(r.quantParameterTensorNames=[]),r.quantParameterTensorNames.push(c.onnx.StringStringEntryProto.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.tensorName&&e.hasOwnProperty("tensorName")&&!u.isString(e.tensorName))return"tensorName: string expected";if(null!=e.quantParameterTensorNames&&e.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(e.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var t=0;t<e.quantParameterTensorNames.length;++t){var n=c.onnx.StringStringEntryProto.verify(e.quantParameterTensorNames[t]);if(n)return"quantParameterTensorNames."+n}}return null},e.fromObject=function(e){if(e instanceof c.onnx.TensorAnnotation)return e;var t=new c.onnx.TensorAnnotation;if(null!=e.tensorName&&(t.tensorName=String(e.tensorName)),e.quantParameterTensorNames){if(!Array.isArray(e.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");t.quantParameterTensorNames=[];for(var n=0;n<e.quantParameterTensorNames.length;++n){if("object"!=typeof e.quantParameterTensorNames[n])throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");t.quantParameterTensorNames[n]=c.onnx.StringStringEntryProto.fromObject(e.quantParameterTensorNames[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.quantParameterTensorNames=[]),t.defaults&&(n.tensorName=""),null!=e.tensorName&&e.hasOwnProperty("tensorName")&&(n.tensorName=e.tensorName),e.quantParameterTensorNames&&e.quantParameterTensorNames.length){n.quantParameterTensorNames=[];for(var r=0;r<e.quantParameterTensorNames.length;++r)n.quantParameterTensorNames[r]=c.onnx.StringStringEntryProto.toObject(e.quantParameterTensorNames[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),a.GraphProto=function(){function e(e){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.node=u.emptyArray,e.prototype.name="",e.prototype.initializer=u.emptyArray,e.prototype.docString="",e.prototype.input=u.emptyArray,e.prototype.output=u.emptyArray,e.prototype.valueInfo=u.emptyArray,e.prototype.quantizationAnnotation=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.node&&e.node.length)for(var n=0;n<e.node.length;++n)c.onnx.NodeProto.encode(e.node[n],t.uint32(10).fork()).ldelim();if(null!=e.name&&e.hasOwnProperty("name")&&t.uint32(18).string(e.name),null!=e.initializer&&e.initializer.length)for(n=0;n<e.initializer.length;++n)c.onnx.TensorProto.encode(e.initializer[n],t.uint32(42).fork()).ldelim();if(null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(82).string(e.docString),null!=e.input&&e.input.length)for(n=0;n<e.input.length;++n)c.onnx.ValueInfoProto.encode(e.input[n],t.uint32(90).fork()).ldelim();if(null!=e.output&&e.output.length)for(n=0;n<e.output.length;++n)c.onnx.ValueInfoProto.encode(e.output[n],t.uint32(98).fork()).ldelim();if(null!=e.valueInfo&&e.valueInfo.length)for(n=0;n<e.valueInfo.length;++n)c.onnx.ValueInfoProto.encode(e.valueInfo[n],t.uint32(106).fork()).ldelim();if(null!=e.quantizationAnnotation&&e.quantizationAnnotation.length)for(n=0;n<e.quantizationAnnotation.length;++n)c.onnx.TensorAnnotation.encode(e.quantizationAnnotation[n],t.uint32(114).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.GraphProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.node&&r.node.length||(r.node=[]),r.node.push(c.onnx.NodeProto.decode(e,e.uint32()));break;case 2:r.name=e.string();break;case 5:r.initializer&&r.initializer.length||(r.initializer=[]),r.initializer.push(c.onnx.TensorProto.decode(e,e.uint32()));break;case 10:r.docString=e.string();break;case 11:r.input&&r.input.length||(r.input=[]),r.input.push(c.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 12:r.output&&r.output.length||(r.output=[]),r.output.push(c.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 13:r.valueInfo&&r.valueInfo.length||(r.valueInfo=[]),r.valueInfo.push(c.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 14:r.quantizationAnnotation&&r.quantizationAnnotation.length||(r.quantizationAnnotation=[]),r.quantizationAnnotation.push(c.onnx.TensorAnnotation.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.node&&e.hasOwnProperty("node")){if(!Array.isArray(e.node))return"node: array expected";for(var t=0;t<e.node.length;++t)if(n=c.onnx.NodeProto.verify(e.node[t]))return"node."+n}if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.initializer&&e.hasOwnProperty("initializer")){if(!Array.isArray(e.initializer))return"initializer: array expected";for(t=0;t<e.initializer.length;++t)if(n=c.onnx.TensorProto.verify(e.initializer[t]))return"initializer."+n}if(null!=e.docString&&e.hasOwnProperty("docString")&&!u.isString(e.docString))return"docString: string expected";if(null!=e.input&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(t=0;t<e.input.length;++t)if(n=c.onnx.ValueInfoProto.verify(e.input[t]))return"input."+n}if(null!=e.output&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(t=0;t<e.output.length;++t)if(n=c.onnx.ValueInfoProto.verify(e.output[t]))return"output."+n}if(null!=e.valueInfo&&e.hasOwnProperty("valueInfo")){if(!Array.isArray(e.valueInfo))return"valueInfo: array expected";for(t=0;t<e.valueInfo.length;++t)if(n=c.onnx.ValueInfoProto.verify(e.valueInfo[t]))return"valueInfo."+n}if(null!=e.quantizationAnnotation&&e.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(e.quantizationAnnotation))return"quantizationAnnotation: array expected";for(t=0;t<e.quantizationAnnotation.length;++t){var n;if(n=c.onnx.TensorAnnotation.verify(e.quantizationAnnotation[t]))return"quantizationAnnotation."+n}}return null},e.fromObject=function(e){if(e instanceof c.onnx.GraphProto)return e;var t=new c.onnx.GraphProto;if(e.node){if(!Array.isArray(e.node))throw TypeError(".onnx.GraphProto.node: array expected");t.node=[];for(var n=0;n<e.node.length;++n){if("object"!=typeof e.node[n])throw TypeError(".onnx.GraphProto.node: object expected");t.node[n]=c.onnx.NodeProto.fromObject(e.node[n])}}if(null!=e.name&&(t.name=String(e.name)),e.initializer){if(!Array.isArray(e.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(t.initializer=[],n=0;n<e.initializer.length;++n){if("object"!=typeof e.initializer[n])throw TypeError(".onnx.GraphProto.initializer: object expected");t.initializer[n]=c.onnx.TensorProto.fromObject(e.initializer[n])}}if(null!=e.docString&&(t.docString=String(e.docString)),e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.GraphProto.input: array expected");for(t.input=[],n=0;n<e.input.length;++n){if("object"!=typeof e.input[n])throw TypeError(".onnx.GraphProto.input: object expected");t.input[n]=c.onnx.ValueInfoProto.fromObject(e.input[n])}}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.GraphProto.output: array expected");for(t.output=[],n=0;n<e.output.length;++n){if("object"!=typeof e.output[n])throw TypeError(".onnx.GraphProto.output: object expected");t.output[n]=c.onnx.ValueInfoProto.fromObject(e.output[n])}}if(e.valueInfo){if(!Array.isArray(e.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(t.valueInfo=[],n=0;n<e.valueInfo.length;++n){if("object"!=typeof e.valueInfo[n])throw TypeError(".onnx.GraphProto.valueInfo: object expected");t.valueInfo[n]=c.onnx.ValueInfoProto.fromObject(e.valueInfo[n])}}if(e.quantizationAnnotation){if(!Array.isArray(e.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(t.quantizationAnnotation=[],n=0;n<e.quantizationAnnotation.length;++n){if("object"!=typeof e.quantizationAnnotation[n])throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");t.quantizationAnnotation[n]=c.onnx.TensorAnnotation.fromObject(e.quantizationAnnotation[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.node=[],n.initializer=[],n.input=[],n.output=[],n.valueInfo=[],n.quantizationAnnotation=[]),t.defaults&&(n.name="",n.docString=""),e.node&&e.node.length){n.node=[];for(var r=0;r<e.node.length;++r)n.node[r]=c.onnx.NodeProto.toObject(e.node[r],t)}if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.initializer&&e.initializer.length)for(n.initializer=[],r=0;r<e.initializer.length;++r)n.initializer[r]=c.onnx.TensorProto.toObject(e.initializer[r],t);if(null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),e.input&&e.input.length)for(n.input=[],r=0;r<e.input.length;++r)n.input[r]=c.onnx.ValueInfoProto.toObject(e.input[r],t);if(e.output&&e.output.length)for(n.output=[],r=0;r<e.output.length;++r)n.output[r]=c.onnx.ValueInfoProto.toObject(e.output[r],t);if(e.valueInfo&&e.valueInfo.length)for(n.valueInfo=[],r=0;r<e.valueInfo.length;++r)n.valueInfo[r]=c.onnx.ValueInfoProto.toObject(e.valueInfo[r],t);if(e.quantizationAnnotation&&e.quantizationAnnotation.length)for(n.quantizationAnnotation=[],r=0;r<e.quantizationAnnotation.length;++r)n.quantizationAnnotation[r]=c.onnx.TensorAnnotation.toObject(e.quantizationAnnotation[r],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),a.TensorProto=function(){function e(e){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.dims=u.emptyArray,e.prototype.dataType=0,e.prototype.segment=null,e.prototype.floatData=u.emptyArray,e.prototype.int32Data=u.emptyArray,e.prototype.stringData=u.emptyArray,e.prototype.int64Data=u.emptyArray,e.prototype.name="",e.prototype.docString="",e.prototype.rawData=u.newBuffer([]),e.prototype.externalData=u.emptyArray,e.prototype.dataLocation=0,e.prototype.doubleData=u.emptyArray,e.prototype.uint64Data=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.dims&&e.dims.length){t.uint32(10).fork();for(var n=0;n<e.dims.length;++n)t.int64(e.dims[n]);t.ldelim()}if(null!=e.dataType&&e.hasOwnProperty("dataType")&&t.uint32(16).int32(e.dataType),null!=e.segment&&e.hasOwnProperty("segment")&&c.onnx.TensorProto.Segment.encode(e.segment,t.uint32(26).fork()).ldelim(),null!=e.floatData&&e.floatData.length){for(t.uint32(34).fork(),n=0;n<e.floatData.length;++n)t.float(e.floatData[n]);t.ldelim()}if(null!=e.int32Data&&e.int32Data.length){for(t.uint32(42).fork(),n=0;n<e.int32Data.length;++n)t.int32(e.int32Data[n]);t.ldelim()}if(null!=e.stringData&&e.stringData.length)for(n=0;n<e.stringData.length;++n)t.uint32(50).bytes(e.stringData[n]);if(null!=e.int64Data&&e.int64Data.length){for(t.uint32(58).fork(),n=0;n<e.int64Data.length;++n)t.int64(e.int64Data[n]);t.ldelim()}if(null!=e.name&&e.hasOwnProperty("name")&&t.uint32(66).string(e.name),null!=e.rawData&&e.hasOwnProperty("rawData")&&t.uint32(74).bytes(e.rawData),null!=e.doubleData&&e.doubleData.length){for(t.uint32(82).fork(),n=0;n<e.doubleData.length;++n)t.double(e.doubleData[n]);t.ldelim()}if(null!=e.uint64Data&&e.uint64Data.length){for(t.uint32(90).fork(),n=0;n<e.uint64Data.length;++n)t.uint64(e.uint64Data[n]);t.ldelim()}if(null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(98).string(e.docString),null!=e.externalData&&e.externalData.length)for(n=0;n<e.externalData.length;++n)c.onnx.StringStringEntryProto.encode(e.externalData[n],t.uint32(106).fork()).ldelim();return null!=e.dataLocation&&e.hasOwnProperty("dataLocation")&&t.uint32(112).int32(e.dataLocation),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.TensorProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:if(r.dims&&r.dims.length||(r.dims=[]),2==(7&i))for(var a=e.uint32()+e.pos;e.pos<a;)r.dims.push(e.int64());else r.dims.push(e.int64());break;case 2:r.dataType=e.int32();break;case 3:r.segment=c.onnx.TensorProto.Segment.decode(e,e.uint32());break;case 4:if(r.floatData&&r.floatData.length||(r.floatData=[]),2==(7&i))for(a=e.uint32()+e.pos;e.pos<a;)r.floatData.push(e.float());else r.floatData.push(e.float());break;case 5:if(r.int32Data&&r.int32Data.length||(r.int32Data=[]),2==(7&i))for(a=e.uint32()+e.pos;e.pos<a;)r.int32Data.push(e.int32());else r.int32Data.push(e.int32());break;case 6:r.stringData&&r.stringData.length||(r.stringData=[]),r.stringData.push(e.bytes());break;case 7:if(r.int64Data&&r.int64Data.length||(r.int64Data=[]),2==(7&i))for(a=e.uint32()+e.pos;e.pos<a;)r.int64Data.push(e.int64());else r.int64Data.push(e.int64());break;case 8:r.name=e.string();break;case 12:r.docString=e.string();break;case 9:r.rawData=e.bytes();break;case 13:r.externalData&&r.externalData.length||(r.externalData=[]),r.externalData.push(c.onnx.StringStringEntryProto.decode(e,e.uint32()));break;case 14:r.dataLocation=e.int32();break;case 10:if(r.doubleData&&r.doubleData.length||(r.doubleData=[]),2==(7&i))for(a=e.uint32()+e.pos;e.pos<a;)r.doubleData.push(e.double());else r.doubleData.push(e.double());break;case 11:if(r.uint64Data&&r.uint64Data.length||(r.uint64Data=[]),2==(7&i))for(a=e.uint32()+e.pos;e.pos<a;)r.uint64Data.push(e.uint64());else r.uint64Data.push(e.uint64());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dims&&e.hasOwnProperty("dims")){if(!Array.isArray(e.dims))return"dims: array expected";for(var t=0;t<e.dims.length;++t)if(!(u.isInteger(e.dims[t])||e.dims[t]&&u.isInteger(e.dims[t].low)&&u.isInteger(e.dims[t].high)))return"dims: integer|Long[] expected"}if(null!=e.dataType&&e.hasOwnProperty("dataType")&&!u.isInteger(e.dataType))return"dataType: integer expected";if(null!=e.segment&&e.hasOwnProperty("segment")&&(n=c.onnx.TensorProto.Segment.verify(e.segment)))return"segment."+n;if(null!=e.floatData&&e.hasOwnProperty("floatData")){if(!Array.isArray(e.floatData))return"floatData: array expected";for(t=0;t<e.floatData.length;++t)if("number"!=typeof e.floatData[t])return"floatData: number[] expected"}if(null!=e.int32Data&&e.hasOwnProperty("int32Data")){if(!Array.isArray(e.int32Data))return"int32Data: array expected";for(t=0;t<e.int32Data.length;++t)if(!u.isInteger(e.int32Data[t]))return"int32Data: integer[] expected"}if(null!=e.stringData&&e.hasOwnProperty("stringData")){if(!Array.isArray(e.stringData))return"stringData: array expected";for(t=0;t<e.stringData.length;++t)if(!(e.stringData[t]&&"number"==typeof e.stringData[t].length||u.isString(e.stringData[t])))return"stringData: buffer[] expected"}if(null!=e.int64Data&&e.hasOwnProperty("int64Data")){if(!Array.isArray(e.int64Data))return"int64Data: array expected";for(t=0;t<e.int64Data.length;++t)if(!(u.isInteger(e.int64Data[t])||e.int64Data[t]&&u.isInteger(e.int64Data[t].low)&&u.isInteger(e.int64Data[t].high)))return"int64Data: integer|Long[] expected"}if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!u.isString(e.docString))return"docString: string expected";if(null!=e.rawData&&e.hasOwnProperty("rawData")&&!(e.rawData&&"number"==typeof e.rawData.length||u.isString(e.rawData)))return"rawData: buffer expected";if(null!=e.externalData&&e.hasOwnProperty("externalData")){if(!Array.isArray(e.externalData))return"externalData: array expected";for(t=0;t<e.externalData.length;++t){var n;if(n=c.onnx.StringStringEntryProto.verify(e.externalData[t]))return"externalData."+n}}if(null!=e.dataLocation&&e.hasOwnProperty("dataLocation"))switch(e.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(null!=e.doubleData&&e.hasOwnProperty("doubleData")){if(!Array.isArray(e.doubleData))return"doubleData: array expected";for(t=0;t<e.doubleData.length;++t)if("number"!=typeof e.doubleData[t])return"doubleData: number[] expected"}if(null!=e.uint64Data&&e.hasOwnProperty("uint64Data")){if(!Array.isArray(e.uint64Data))return"uint64Data: array expected";for(t=0;t<e.uint64Data.length;++t)if(!(u.isInteger(e.uint64Data[t])||e.uint64Data[t]&&u.isInteger(e.uint64Data[t].low)&&u.isInteger(e.uint64Data[t].high)))return"uint64Data: integer|Long[] expected"}return null},e.fromObject=function(e){if(e instanceof c.onnx.TensorProto)return e;var t=new c.onnx.TensorProto;if(e.dims){if(!Array.isArray(e.dims))throw TypeError(".onnx.TensorProto.dims: array expected");t.dims=[];for(var n=0;n<e.dims.length;++n)u.Long?(t.dims[n]=u.Long.fromValue(e.dims[n])).unsigned=!1:"string"==typeof e.dims[n]?t.dims[n]=parseInt(e.dims[n],10):"number"==typeof e.dims[n]?t.dims[n]=e.dims[n]:"object"==typeof e.dims[n]&&(t.dims[n]=new u.LongBits(e.dims[n].low>>>0,e.dims[n].high>>>0).toNumber())}if(null!=e.dataType&&(t.dataType=0|e.dataType),null!=e.segment){if("object"!=typeof e.segment)throw TypeError(".onnx.TensorProto.segment: object expected");t.segment=c.onnx.TensorProto.Segment.fromObject(e.segment)}if(e.floatData){if(!Array.isArray(e.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(t.floatData=[],n=0;n<e.floatData.length;++n)t.floatData[n]=Number(e.floatData[n])}if(e.int32Data){if(!Array.isArray(e.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(t.int32Data=[],n=0;n<e.int32Data.length;++n)t.int32Data[n]=0|e.int32Data[n]}if(e.stringData){if(!Array.isArray(e.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(t.stringData=[],n=0;n<e.stringData.length;++n)"string"==typeof e.stringData[n]?u.base64.decode(e.stringData[n],t.stringData[n]=u.newBuffer(u.base64.length(e.stringData[n])),0):e.stringData[n].length&&(t.stringData[n]=e.stringData[n])}if(e.int64Data){if(!Array.isArray(e.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(t.int64Data=[],n=0;n<e.int64Data.length;++n)u.Long?(t.int64Data[n]=u.Long.fromValue(e.int64Data[n])).unsigned=!1:"string"==typeof e.int64Data[n]?t.int64Data[n]=parseInt(e.int64Data[n],10):"number"==typeof e.int64Data[n]?t.int64Data[n]=e.int64Data[n]:"object"==typeof e.int64Data[n]&&(t.int64Data[n]=new u.LongBits(e.int64Data[n].low>>>0,e.int64Data[n].high>>>0).toNumber())}if(null!=e.name&&(t.name=String(e.name)),null!=e.docString&&(t.docString=String(e.docString)),null!=e.rawData&&("string"==typeof e.rawData?u.base64.decode(e.rawData,t.rawData=u.newBuffer(u.base64.length(e.rawData)),0):e.rawData.length&&(t.rawData=e.rawData)),e.externalData){if(!Array.isArray(e.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(t.externalData=[],n=0;n<e.externalData.length;++n){if("object"!=typeof e.externalData[n])throw TypeError(".onnx.TensorProto.externalData: object expected");t.externalData[n]=c.onnx.StringStringEntryProto.fromObject(e.externalData[n])}}switch(e.dataLocation){case"DEFAULT":case 0:t.dataLocation=0;break;case"EXTERNAL":case 1:t.dataLocation=1}if(e.doubleData){if(!Array.isArray(e.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(t.doubleData=[],n=0;n<e.doubleData.length;++n)t.doubleData[n]=Number(e.doubleData[n])}if(e.uint64Data){if(!Array.isArray(e.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(t.uint64Data=[],n=0;n<e.uint64Data.length;++n)u.Long?(t.uint64Data[n]=u.Long.fromValue(e.uint64Data[n])).unsigned=!0:"string"==typeof e.uint64Data[n]?t.uint64Data[n]=parseInt(e.uint64Data[n],10):"number"==typeof e.uint64Data[n]?t.uint64Data[n]=e.uint64Data[n]:"object"==typeof e.uint64Data[n]&&(t.uint64Data[n]=new u.LongBits(e.uint64Data[n].low>>>0,e.uint64Data[n].high>>>0).toNumber(!0))}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.dims=[],n.floatData=[],n.int32Data=[],n.stringData=[],n.int64Data=[],n.doubleData=[],n.uint64Data=[],n.externalData=[]),t.defaults&&(n.dataType=0,n.segment=null,n.name="",t.bytes===String?n.rawData="":(n.rawData=[],t.bytes!==Array&&(n.rawData=u.newBuffer(n.rawData))),n.docString="",n.dataLocation=t.enums===String?"DEFAULT":0),e.dims&&e.dims.length){n.dims=[];for(var r=0;r<e.dims.length;++r)"number"==typeof e.dims[r]?n.dims[r]=t.longs===String?String(e.dims[r]):e.dims[r]:n.dims[r]=t.longs===String?u.Long.prototype.toString.call(e.dims[r]):t.longs===Number?new u.LongBits(e.dims[r].low>>>0,e.dims[r].high>>>0).toNumber():e.dims[r]}if(null!=e.dataType&&e.hasOwnProperty("dataType")&&(n.dataType=e.dataType),null!=e.segment&&e.hasOwnProperty("segment")&&(n.segment=c.onnx.TensorProto.Segment.toObject(e.segment,t)),e.floatData&&e.floatData.length)for(n.floatData=[],r=0;r<e.floatData.length;++r)n.floatData[r]=t.json&&!isFinite(e.floatData[r])?String(e.floatData[r]):e.floatData[r];if(e.int32Data&&e.int32Data.length)for(n.int32Data=[],r=0;r<e.int32Data.length;++r)n.int32Data[r]=e.int32Data[r];if(e.stringData&&e.stringData.length)for(n.stringData=[],r=0;r<e.stringData.length;++r)n.stringData[r]=t.bytes===String?u.base64.encode(e.stringData[r],0,e.stringData[r].length):t.bytes===Array?Array.prototype.slice.call(e.stringData[r]):e.stringData[r];if(e.int64Data&&e.int64Data.length)for(n.int64Data=[],r=0;r<e.int64Data.length;++r)"number"==typeof e.int64Data[r]?n.int64Data[r]=t.longs===String?String(e.int64Data[r]):e.int64Data[r]:n.int64Data[r]=t.longs===String?u.Long.prototype.toString.call(e.int64Data[r]):t.longs===Number?new u.LongBits(e.int64Data[r].low>>>0,e.int64Data[r].high>>>0).toNumber():e.int64Data[r];if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.rawData&&e.hasOwnProperty("rawData")&&(n.rawData=t.bytes===String?u.base64.encode(e.rawData,0,e.rawData.length):t.bytes===Array?Array.prototype.slice.call(e.rawData):e.rawData),e.doubleData&&e.doubleData.length)for(n.doubleData=[],r=0;r<e.doubleData.length;++r)n.doubleData[r]=t.json&&!isFinite(e.doubleData[r])?String(e.doubleData[r]):e.doubleData[r];if(e.uint64Data&&e.uint64Data.length)for(n.uint64Data=[],r=0;r<e.uint64Data.length;++r)"number"==typeof e.uint64Data[r]?n.uint64Data[r]=t.longs===String?String(e.uint64Data[r]):e.uint64Data[r]:n.uint64Data[r]=t.longs===String?u.Long.prototype.toString.call(e.uint64Data[r]):t.longs===Number?new u.LongBits(e.uint64Data[r].low>>>0,e.uint64Data[r].high>>>0).toNumber(!0):e.uint64Data[r];if(null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),e.externalData&&e.externalData.length)for(n.externalData=[],r=0;r<e.externalData.length;++r)n.externalData[r]=c.onnx.StringStringEntryProto.toObject(e.externalData[r],t);return null!=e.dataLocation&&e.hasOwnProperty("dataLocation")&&(n.dataLocation=t.enums===String?c.onnx.TensorProto.DataLocation[e.dataLocation]:e.dataLocation),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.DataType=function(){var e={},t=Object.create(e);return t[e[0]="UNDEFINED"]=0,t[e[1]="FLOAT"]=1,t[e[2]="UINT8"]=2,t[e[3]="INT8"]=3,t[e[4]="UINT16"]=4,t[e[5]="INT16"]=5,t[e[6]="INT32"]=6,t[e[7]="INT64"]=7,t[e[8]="STRING"]=8,t[e[9]="BOOL"]=9,t[e[10]="FLOAT16"]=10,t[e[11]="DOUBLE"]=11,t[e[12]="UINT32"]=12,t[e[13]="UINT64"]=13,t[e[14]="COMPLEX64"]=14,t[e[15]="COMPLEX128"]=15,t[e[16]="BFLOAT16"]=16,t}(),e.Segment=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.begin=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.end=u.Long?u.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.begin&&e.hasOwnProperty("begin")&&t.uint32(8).int64(e.begin),null!=e.end&&e.hasOwnProperty("end")&&t.uint32(16).int64(e.end),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.TensorProto.Segment;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.begin=e.int64();break;case 2:r.end=e.int64();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.begin&&e.hasOwnProperty("begin")&&!(u.isInteger(e.begin)||e.begin&&u.isInteger(e.begin.low)&&u.isInteger(e.begin.high))?"begin: integer|Long expected":null!=e.end&&e.hasOwnProperty("end")&&!(u.isInteger(e.end)||e.end&&u.isInteger(e.end.low)&&u.isInteger(e.end.high))?"end: integer|Long expected":null},e.fromObject=function(e){if(e instanceof c.onnx.TensorProto.Segment)return e;var t=new c.onnx.TensorProto.Segment;return null!=e.begin&&(u.Long?(t.begin=u.Long.fromValue(e.begin)).unsigned=!1:"string"==typeof e.begin?t.begin=parseInt(e.begin,10):"number"==typeof e.begin?t.begin=e.begin:"object"==typeof e.begin&&(t.begin=new u.LongBits(e.begin.low>>>0,e.begin.high>>>0).toNumber())),null!=e.end&&(u.Long?(t.end=u.Long.fromValue(e.end)).unsigned=!1:"string"==typeof e.end?t.end=parseInt(e.end,10):"number"==typeof e.end?t.end=e.end:"object"==typeof e.end&&(t.end=new u.LongBits(e.end.low>>>0,e.end.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(u.Long){var r=new u.Long(0,0,!1);n.begin=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.begin=t.longs===String?"0":0;u.Long?(r=new u.Long(0,0,!1),n.end=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.end=t.longs===String?"0":0}return null!=e.begin&&e.hasOwnProperty("begin")&&("number"==typeof e.begin?n.begin=t.longs===String?String(e.begin):e.begin:n.begin=t.longs===String?u.Long.prototype.toString.call(e.begin):t.longs===Number?new u.LongBits(e.begin.low>>>0,e.begin.high>>>0).toNumber():e.begin),null!=e.end&&e.hasOwnProperty("end")&&("number"==typeof e.end?n.end=t.longs===String?String(e.end):e.end:n.end=t.longs===String?u.Long.prototype.toString.call(e.end):t.longs===Number?new u.LongBits(e.end.low>>>0,e.end.high>>>0).toNumber():e.end),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.DataLocation=function(){var e={},t=Object.create(e);return t[e[0]="DEFAULT"]=0,t[e[1]="EXTERNAL"]=1,t}(),e}(),a.TensorShapeProto=function(){function e(e){if(this.dim=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.dim=u.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.dim&&e.dim.length)for(var n=0;n<e.dim.length;++n)c.onnx.TensorShapeProto.Dimension.encode(e.dim[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.TensorShapeProto;e.pos<n;){var i=e.uint32();i>>>3==1?(r.dim&&r.dim.length||(r.dim=[]),r.dim.push(c.onnx.TensorShapeProto.Dimension.decode(e,e.uint32()))):e.skipType(7&i)}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dim&&e.hasOwnProperty("dim")){if(!Array.isArray(e.dim))return"dim: array expected";for(var t=0;t<e.dim.length;++t){var n=c.onnx.TensorShapeProto.Dimension.verify(e.dim[t]);if(n)return"dim."+n}}return null},e.fromObject=function(e){if(e instanceof c.onnx.TensorShapeProto)return e;var t=new c.onnx.TensorShapeProto;if(e.dim){if(!Array.isArray(e.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");t.dim=[];for(var n=0;n<e.dim.length;++n){if("object"!=typeof e.dim[n])throw TypeError(".onnx.TensorShapeProto.dim: object expected");t.dim[n]=c.onnx.TensorShapeProto.Dimension.fromObject(e.dim[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.dim=[]),e.dim&&e.dim.length){n.dim=[];for(var r=0;r<e.dim.length;++r)n.dim[r]=c.onnx.TensorShapeProto.Dimension.toObject(e.dim[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Dimension=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.dimValue=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.dimParam="",e.prototype.denotation="",Object.defineProperty(e.prototype,"value",{get:u.oneOfGetter(t=["dimValue","dimParam"]),set:u.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.dimValue&&e.hasOwnProperty("dimValue")&&t.uint32(8).int64(e.dimValue),null!=e.dimParam&&e.hasOwnProperty("dimParam")&&t.uint32(18).string(e.dimParam),null!=e.denotation&&e.hasOwnProperty("denotation")&&t.uint32(26).string(e.denotation),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.TensorShapeProto.Dimension;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.dimValue=e.int64();break;case 2:r.dimParam=e.string();break;case 3:r.denotation=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.dimValue&&e.hasOwnProperty("dimValue")&&(t.value=1,!(u.isInteger(e.dimValue)||e.dimValue&&u.isInteger(e.dimValue.low)&&u.isInteger(e.dimValue.high))))return"dimValue: integer|Long expected";if(null!=e.dimParam&&e.hasOwnProperty("dimParam")){if(1===t.value)return"value: multiple values";if(t.value=1,!u.isString(e.dimParam))return"dimParam: string expected"}return null!=e.denotation&&e.hasOwnProperty("denotation")&&!u.isString(e.denotation)?"denotation: string expected":null},e.fromObject=function(e){if(e instanceof c.onnx.TensorShapeProto.Dimension)return e;var t=new c.onnx.TensorShapeProto.Dimension;return null!=e.dimValue&&(u.Long?(t.dimValue=u.Long.fromValue(e.dimValue)).unsigned=!1:"string"==typeof e.dimValue?t.dimValue=parseInt(e.dimValue,10):"number"==typeof e.dimValue?t.dimValue=e.dimValue:"object"==typeof e.dimValue&&(t.dimValue=new u.LongBits(e.dimValue.low>>>0,e.dimValue.high>>>0).toNumber())),null!=e.dimParam&&(t.dimParam=String(e.dimParam)),null!=e.denotation&&(t.denotation=String(e.denotation)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.denotation=""),null!=e.dimValue&&e.hasOwnProperty("dimValue")&&("number"==typeof e.dimValue?n.dimValue=t.longs===String?String(e.dimValue):e.dimValue:n.dimValue=t.longs===String?u.Long.prototype.toString.call(e.dimValue):t.longs===Number?new u.LongBits(e.dimValue.low>>>0,e.dimValue.high>>>0).toNumber():e.dimValue,t.oneofs&&(n.value="dimValue")),null!=e.dimParam&&e.hasOwnProperty("dimParam")&&(n.dimParam=e.dimParam,t.oneofs&&(n.value="dimParam")),null!=e.denotation&&e.hasOwnProperty("denotation")&&(n.denotation=e.denotation),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e}(),a.TypeProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.tensorType=null,e.prototype.denotation="",Object.defineProperty(e.prototype,"value",{get:u.oneOfGetter(t=["tensorType"]),set:u.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.tensorType&&e.hasOwnProperty("tensorType")&&c.onnx.TypeProto.Tensor.encode(e.tensorType,t.uint32(10).fork()).ldelim(),null!=e.denotation&&e.hasOwnProperty("denotation")&&t.uint32(50).string(e.denotation),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.TypeProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.tensorType=c.onnx.TypeProto.Tensor.decode(e,e.uint32());break;case 6:r.denotation=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.tensorType&&e.hasOwnProperty("tensorType")){var t=c.onnx.TypeProto.Tensor.verify(e.tensorType);if(t)return"tensorType."+t}return null!=e.denotation&&e.hasOwnProperty("denotation")&&!u.isString(e.denotation)?"denotation: string expected":null},e.fromObject=function(e){if(e instanceof c.onnx.TypeProto)return e;var t=new c.onnx.TypeProto;if(null!=e.tensorType){if("object"!=typeof e.tensorType)throw TypeError(".onnx.TypeProto.tensorType: object expected");t.tensorType=c.onnx.TypeProto.Tensor.fromObject(e.tensorType)}return null!=e.denotation&&(t.denotation=String(e.denotation)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.denotation=""),null!=e.tensorType&&e.hasOwnProperty("tensorType")&&(n.tensorType=c.onnx.TypeProto.Tensor.toObject(e.tensorType,t),t.oneofs&&(n.value="tensorType")),null!=e.denotation&&e.hasOwnProperty("denotation")&&(n.denotation=e.denotation),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Tensor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.elemType=0,e.prototype.shape=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.elemType&&e.hasOwnProperty("elemType")&&t.uint32(8).int32(e.elemType),null!=e.shape&&e.hasOwnProperty("shape")&&c.onnx.TensorShapeProto.encode(e.shape,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.TypeProto.Tensor;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.elemType=e.int32();break;case 2:r.shape=c.onnx.TensorShapeProto.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.elemType&&e.hasOwnProperty("elemType")&&!u.isInteger(e.elemType))return"elemType: integer expected";if(null!=e.shape&&e.hasOwnProperty("shape")){var t=c.onnx.TensorShapeProto.verify(e.shape);if(t)return"shape."+t}return null},e.fromObject=function(e){if(e instanceof c.onnx.TypeProto.Tensor)return e;var t=new c.onnx.TypeProto.Tensor;if(null!=e.elemType&&(t.elemType=0|e.elemType),null!=e.shape){if("object"!=typeof e.shape)throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");t.shape=c.onnx.TensorShapeProto.fromObject(e.shape)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.elemType=0,n.shape=null),null!=e.elemType&&e.hasOwnProperty("elemType")&&(n.elemType=e.elemType),null!=e.shape&&e.hasOwnProperty("shape")&&(n.shape=c.onnx.TensorShapeProto.toObject(e.shape,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e}(),a.OperatorSetIdProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.domain="",e.prototype.version=u.Long?u.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.domain&&e.hasOwnProperty("domain")&&t.uint32(10).string(e.domain),null!=e.version&&e.hasOwnProperty("version")&&t.uint32(16).int64(e.version),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.OperatorSetIdProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.domain=e.string();break;case 2:r.version=e.int64();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.domain&&e.hasOwnProperty("domain")&&!u.isString(e.domain)?"domain: string expected":null!=e.version&&e.hasOwnProperty("version")&&!(u.isInteger(e.version)||e.version&&u.isInteger(e.version.low)&&u.isInteger(e.version.high))?"version: integer|Long expected":null},e.fromObject=function(e){if(e instanceof c.onnx.OperatorSetIdProto)return e;var t=new c.onnx.OperatorSetIdProto;return null!=e.domain&&(t.domain=String(e.domain)),null!=e.version&&(u.Long?(t.version=u.Long.fromValue(e.version)).unsigned=!1:"string"==typeof e.version?t.version=parseInt(e.version,10):"number"==typeof e.version?t.version=e.version:"object"==typeof e.version&&(t.version=new u.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(n.domain="",u.Long){var r=new u.Long(0,0,!1);n.version=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.version=t.longs===String?"0":0;return null!=e.domain&&e.hasOwnProperty("domain")&&(n.domain=e.domain),null!=e.version&&e.hasOwnProperty("version")&&("number"==typeof e.version?n.version=t.longs===String?String(e.version):e.version:n.version=t.longs===String?u.Long.prototype.toString.call(e.version):t.longs===Number?new u.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber():e.version),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),a),e.exports=c},2100:(e,t,n)=>{"use strict";e.exports=n(9482)},9482:(e,t,n)=>{"use strict";var r=t;function i(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(1173),r.BufferWriter=n(3155),r.Reader=n(1408),r.BufferReader=n(593),r.util=n(9693),r.rpc=n(5994),r.roots=n(5054),r.configure=i,i()},1408:(e,t,n)=>{"use strict";e.exports=l;var r,i=n(9693),a=i.LongBits,o=i.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function l(e){this.buf=e,this.pos=0,this.len=e.length}var u,c="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new l(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new l(e);throw Error("illegal buffer")},d=function(){return i.Buffer?function(e){return(l.create=function(e){return i.Buffer.isBuffer(e)?new r(e):c(e)})(e)}:c};function f(){var e=new a(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw s(this,8);return new a(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}l.create=d(),l.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,l.prototype.uint32=(u=4294967295,function(){if(u=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return u;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return u}),l.prototype.int32=function(){return 0|this.uint32()},l.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)},l.prototype.bool=function(){return 0!==this.uint32()},l.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return h(this.buf,this.pos+=4)},l.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|h(this.buf,this.pos+=4)},l.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},l.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},l.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},l.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},l.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},l.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},l._configure=function(e){r=e,l.create=d(),r._configure();var t=i.Long?"toLong":"toNumber";i.merge(l.prototype,{int64:function(){return f.call(this)[t](!1)},uint64:function(){return f.call(this)[t](!0)},sint64:function(){return f.call(this).zzDecode()[t](!1)},fixed64:function(){return p.call(this)[t](!0)},sfixed64:function(){return p.call(this)[t](!1)}})}},593:(e,t,n)=>{"use strict";e.exports=a;var r=n(1408);(a.prototype=Object.create(r.prototype)).constructor=a;var i=n(9693);function a(e){r.call(this,e)}a._configure=function(){i.Buffer&&(a.prototype._slice=i.Buffer.prototype.slice)},a.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},a._configure()},5054:e=>{"use strict";e.exports={}},5994:(e,t,n)=>{"use strict";t.Service=n(7948)},7948:(e,t,n)=>{"use strict";e.exports=i;var r=n(9693);function i(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,n,i,a,o){if(!a)throw TypeError("request must be specified");var s=this;if(!o)return r.asPromise(e,s,t,n,i,a);if(s.rpcImpl)try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](a).finish(),(function(e,n){if(e)return s.emit("error",e,t),o(e);if(null!==n){if(!(n instanceof i))try{n=i[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return s.emit("error",e,t),o(e)}return s.emit("data",n,t),o(null,n)}s.end(!0)}))}catch(e){return s.emit("error",e,t),void setTimeout((function(){o(e)}),0)}else setTimeout((function(){o(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(e,t,n)=>{"use strict";e.exports=i;var r=n(9693);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var a=i.zero=new i(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1};var o=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return a;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new i(n,r)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(r.isString(e)){if(!r.Long)return i.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):a},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;i.fromHash=function(e){return e===o?a:new i((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},9693:function(e,t,n){"use strict";var r=t;function i(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function a(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&i(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=n(4537),r.base64=n(7419),r.EventEmitter=n(9211),r.float=n(945),r.inquire=n(7199),r.utf8=n(4997),r.pool=n(6662),r.LongBits=n(1945),r.isNode=Boolean(void 0!==n.g&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),r.global=r.isNode&&n.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=i,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=a,r.ProtocolError=a("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},1173:(e,t,n)=>{"use strict";e.exports=d;var r,i=n(9693),a=i.LongBits,o=i.base64,s=i.utf8;function l(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function u(){}function c(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new l(u,0,0),this.tail=this.head,this.states=null}var f=function(){return i.Buffer?function(){return(d.create=function(){return new r})()}:function(){return new d}};function h(e,t,n){t[n]=255&e}function p(e,t){this.len=e,this.next=void 0,this.val=t}function g(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function m(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}d.create=f(),d.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(d.alloc=i.pool(d.alloc,i.Array.prototype.subarray)),d.prototype._push=function(e,t,n){return this.tail=this.tail.next=new l(e,t,n),this.len+=t,this},p.prototype=Object.create(l.prototype),p.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(g,10,a.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=a.from(e);return this._push(g,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=a.from(e).zzEncode();return this._push(g,t.length(),t)},d.prototype.bool=function(e){return this._push(h,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(m,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=a.from(e);return this._push(m,4,t.lo)._push(m,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var y=i.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(i.isString(e)){var n=d.alloc(t=o.length(e));o.decode(e,n,0),e=n}return this.uint32(t)._push(y,t,e)},d.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(h,1,0)},d.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new l(u,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new l(u,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},d._configure=function(e){r=e,d.create=f(),r._configure()}},3155:(e,t,n)=>{"use strict";e.exports=a;var r=n(1173);(a.prototype=Object.create(r.prototype)).constructor=a;var i=n(9693);function a(){r.call(this)}function o(e,t,n){e.length<40?i.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}a._configure=function(){a.alloc=i._Buffer_allocUnsafe,a.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},a.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(a.writeBytesBuffer,t,e),this},a.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(o,t,e),this},a._configure()},7714:(e,t,n)=>{"use strict";t.R=void 0;const r=n(6919),i=n(7448);t.R=new class{async init(){}async createSessionHandler(e,t){const n=new r.Session(t);return await n.loadModel(e),new i.OnnxjsSessionHandler(n)}}},4200:(e,t,n)=>{"use strict";t.c8=t.rX=void 0;const r=n(1670),i=n(5381),a=n(2157),o=n(2306);t.rX=()=>{if(("number"!=typeof r.env.wasm.initTimeout||r.env.wasm.initTimeout<0)&&(r.env.wasm.initTimeout=0),"boolean"!=typeof r.env.wasm.simd&&(r.env.wasm.simd=!0),"boolean"!=typeof r.env.wasm.proxy&&(r.env.wasm.proxy=!1),"number"!=typeof r.env.wasm.numThreads||!Number.isInteger(r.env.wasm.numThreads)||r.env.wasm.numThreads<=0){const e="undefined"==typeof navigator?(0,i.cpus)().length:navigator.hardwareConcurrency;r.env.wasm.numThreads=Math.min(4,Math.ceil((e||1)/2))}},t.c8=new class{async init(){(0,t.rX)(),await(0,a.initWasm)()}async createSessionHandler(e,t){const n=new o.OnnxruntimeWebAssemblySessionHandler;return await n.loadModel(e,t),Promise.resolve(n)}}},6018:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1670),t);const a=n(1670);{const e=n(7714).R;(0,a.registerBackend)("webgl",e,-10)}{const e=n(4200).c8;(0,a.registerBackend)("cpu",e,10),(0,a.registerBackend)("wasm",e,10),(0,a.registerBackend)("xnnpack",e,9)}},246:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAttributeWithCacheKey=void 0;class n{constructor(e){Object.assign(this,e)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map((e=>`${this[e]}`)).join(";")),this._cacheKey}}t.createAttributeWithCacheKey=e=>new n(e)},7778:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Attribute=void 0;const r=n(1446),i=n(9395),a=n(9162),o=n(2517);var s=i.onnxruntime.experimental.fbs;class l{constructor(e){if(this._attributes=new Map,null!=e){for(const t of e)t instanceof r.onnx.AttributeProto?this._attributes.set(t.name,[l.getValue(t),l.getType(t)]):t instanceof s.Attribute&&this._attributes.set(t.name(),[l.getValue(t),l.getType(t)]);if(this._attributes.size<e.length)throw new Error("duplicated attribute names")}}set(e,t,n){this._attributes.set(e,[n,t])}delete(e){this._attributes.delete(e)}getFloat(e,t){return this.get(e,"float",t)}getInt(e,t){return this.get(e,"int",t)}getString(e,t){return this.get(e,"string",t)}getTensor(e,t){return this.get(e,"tensor",t)}getFloats(e,t){return this.get(e,"floats",t)}getInts(e,t){return this.get(e,"ints",t)}getStrings(e,t){return this.get(e,"strings",t)}getTensors(e,t){return this.get(e,"tensors",t)}get(e,t,n){const r=this._attributes.get(e);if(void 0===r){if(void 0!==n)return n;throw new Error(`required attribute not found: ${e}`)}if(r[1]!==t)throw new Error(`type mismatch: expected ${t} but got ${r[1]}`);return r[0]}static getType(e){const t=e instanceof r.onnx.AttributeProto?e.type:e.type();switch(t){case r.onnx.AttributeProto.AttributeType.FLOAT:return"float";case r.onnx.AttributeProto.AttributeType.INT:return"int";case r.onnx.AttributeProto.AttributeType.STRING:return"string";case r.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case r.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case r.onnx.AttributeProto.AttributeType.INTS:return"ints";case r.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case r.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${r.onnx.AttributeProto.AttributeType[t]}`)}}static getValue(e){const t=e instanceof r.onnx.AttributeProto?e.type:e.type();if(t===r.onnx.AttributeProto.AttributeType.GRAPH||t===r.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const n=this.getValueNoCheck(e);if(t===r.onnx.AttributeProto.AttributeType.INT&&o.LongUtil.isLong(n))return o.LongUtil.longToNumber(n);if(t===r.onnx.AttributeProto.AttributeType.INTS){const e=n,t=new Array(e.length);for(let n=0;n<e.length;n++){const r=e[n];t[n]=o.LongUtil.longToNumber(r)}return t}if(t===r.onnx.AttributeProto.AttributeType.TENSOR)return e instanceof r.onnx.AttributeProto?a.Tensor.fromProto(n):a.Tensor.fromOrtTensor(n);if(t===r.onnx.AttributeProto.AttributeType.TENSORS){if(e instanceof r.onnx.AttributeProto)return n.map((e=>a.Tensor.fromProto(e)));if(e instanceof s.Attribute)return n.map((e=>a.Tensor.fromOrtTensor(e)))}if(t===r.onnx.AttributeProto.AttributeType.STRING&&e instanceof r.onnx.AttributeProto){const e=n;return(0,o.decodeUtf8String)(e)}return t===r.onnx.AttributeProto.AttributeType.STRINGS&&e instanceof r.onnx.AttributeProto?n.map(o.decodeUtf8String):n}static getValueNoCheck(e){return e instanceof r.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(e):this.getValueNoCheckFromOrtFormat(e)}static getValueNoCheckFromOnnxFormat(e){switch(e.type){case r.onnx.AttributeProto.AttributeType.FLOAT:return e.f;case r.onnx.AttributeProto.AttributeType.INT:return e.i;case r.onnx.AttributeProto.AttributeType.STRING:return e.s;case r.onnx.AttributeProto.AttributeType.TENSOR:return e.t;case r.onnx.AttributeProto.AttributeType.GRAPH:return e.g;case r.onnx.AttributeProto.AttributeType.FLOATS:return e.floats;case r.onnx.AttributeProto.AttributeType.INTS:return e.ints;case r.onnx.AttributeProto.AttributeType.STRINGS:return e.strings;case r.onnx.AttributeProto.AttributeType.TENSORS:return e.tensors;case r.onnx.AttributeProto.AttributeType.GRAPHS:return e.graphs;default:throw new Error(`unsupported attribute type: ${r.onnx.AttributeProto.AttributeType[e.type]}`)}}static getValueNoCheckFromOrtFormat(e){switch(e.type()){case s.AttributeType.FLOAT:return e.f();case s.AttributeType.INT:return e.i();case s.AttributeType.STRING:return e.s();case s.AttributeType.TENSOR:return e.t();case s.AttributeType.GRAPH:return e.g();case s.AttributeType.FLOATS:return e.floatsArray();case s.AttributeType.INTS:{const t=[];for(let n=0;n<e.intsLength();n++)t.push(e.ints(n));return t}case s.AttributeType.STRINGS:{const t=[];for(let n=0;n<e.stringsLength();n++)t.push(e.strings(n));return t}case s.AttributeType.TENSORS:{const t=[];for(let n=0;n<e.tensorsLength();n++)t.push(e.tensors(n));return t}default:throw new Error(`unsupported attribute type: ${s.AttributeType[e.type()]}`)}}}t.Attribute=l},7091:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveBackend=t.backend=void 0;const r=n(5038),i=new Map;async function a(e){const n=t.backend;if(void 0!==n[e]&&function(e){const t=e;return"initialize"in t&&"function"==typeof t.initialize&&"createSessionHandler"in t&&"function"==typeof t.createSessionHandler&&"dispose"in t&&"function"==typeof t.dispose}(n[e])){const t=n[e];let r=t.initialize();if("object"==typeof r&&"then"in r&&(r=await r),r)return i.set(e,t),t}}t.backend={webgl:new r.WebGLBackend},t.resolveBackend=async function e(t){if(!t)return e(["webgl"]);{const e="string"==typeof t?[t]:t;for(const t of e){const e=i.get(t);if(e)return e;const n=await a(t);if(n)return n}}throw new Error("no available backend to use")}},5038:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLBackend=void 0;const r=n(1670),i=n(6231),a=n(6416),o=n(7305);t.WebGLBackend=class{get contextId(){return r.env.webgl.contextId}set contextId(e){r.env.webgl.contextId=e}get matmulMaxBatchSize(){return r.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(e){r.env.webgl.matmulMaxBatchSize=e}get textureCacheMode(){return r.env.webgl.textureCacheMode}set textureCacheMode(e){r.env.webgl.textureCacheMode=e}get pack(){return r.env.webgl.pack}set pack(e){r.env.webgl.pack=e}get async(){return r.env.webgl.async}set async(e){r.env.webgl.async=e}initialize(){try{return this.glContext=(0,o.createWebGLContext)(this.contextId),"number"!=typeof this.matmulMaxBatchSize&&(this.matmulMaxBatchSize=16),"string"!=typeof this.textureCacheMode&&(this.textureCacheMode="full"),"boolean"!=typeof this.pack&&(this.pack=!1),"boolean"!=typeof this.async&&(this.async=!1),i.Logger.setWithEnv(r.env),i.Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(e){return i.Logger.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${e}`),!1}}createSessionHandler(e){return new a.WebGLSessionHandler(this,e)}dispose(){this.glContext.dispose()}}},5107:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CoordsGlslLib=void 0;const r=n(2517),i=n(8520),a=n(5060),o=n(7859),s=n(9390);class l extends i.GlslLib{constructor(e){super(e)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new i.GlslLibRoutine("\n      vec2 offsetToCoords(int offset, int width, int height) {\n        int t = offset / width;\n        int s = offset - t*width;\n        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);\n        return coords;\n      }\n      ")}}coordsToOffset(){return{coordsToOffset:new i.GlslLibRoutine("\n      int coordsToOffset(vec2 coords, int width, int height) {\n        float s = coords.s * float(width);\n        float t = coords.t * float(height);\n        int offset = int(t) * width + int(s);\n        return offset;\n      }\n      ")}}getOutputSamplingSnippet(){const e=this.context.outputTextureLayout;return e.isPacked?this.getPackedOutputSamplingSnippet(e):this.getUnpackedOutputSamplingSnippet(e)}getPackedOutputSamplingSnippet(e){const t=e.unpackedShape,n=[e.width,e.height],r={},o="getOutputCoords";switch(t.length){case 0:r[o]=this.getOutputScalarCoords();break;case 1:r[o]=this.getOutputPacked1DCoords(t,n);break;case 2:r[o]=this.getOutputPacked2DCoords(t,n);break;case 3:r[o]=this.getOutputPacked3DCoords(t,n);break;default:r[o]=this.getOutputPackedNDCoords(t,n)}const s=`\n      void setOutput(vec4 val) {\n        ${(0,a.getGlsl)(this.context.glContext.version).output} = val;\n      }\n    `;return r.floatTextureSetRGBA=new i.GlslLibRoutine(s),r}getUnpackedOutputSamplingSnippet(e){const t=e.unpackedShape,n=[e.width,e.height],r={},o="getOutputCoords";switch(t.length){case 0:r[o]=this.getOutputScalarCoords();break;case 1:r[o]=this.getOutputUnpacked1DCoords(t,n);break;case 2:r[o]=this.getOutputUnpacked2DCoords(t,n);break;case 3:r[o]=this.getOutputUnpacked3DCoords(t,n);break;case 4:r[o]=this.getOutputUnpacked4DCoords(t,n);break;case 5:r[o]=this.getOutputUnpacked5DCoords(t,n);break;case 6:r[o]=this.getOutputUnpacked6DCoords(t,n);break;default:throw new Error(`Unsupported output dimensionality: ${t.length}`)}const s=`\n        void setOutput(float val) {\n          ${(0,a.getGlsl)(this.context.glContext.version).output} = vec4(val, 0, 0, 0);\n        }\n    `;return r.floatTextureSetR=new i.GlslLibRoutine(s),r}getOutputScalarCoords(){return new i.GlslLibRoutine("\n      int getOutputCoords() {\n        return 0;\n      }\n    ")}getOutputPacked1DCoords(e,t){const n=t;let r="";return 1===n[0]?(r=`\n          int getOutputCoords() {\n            return 2 * int(TexCoords.y * ${n[1]}.0);\n          }\n        `,new i.GlslLibRoutine(r)):1===n[1]?(r=`\n          int getOutputCoords() {\n            return 2 * int(TexCoords.x * ${n[0]}.0);\n          }\n        `,new i.GlslLibRoutine(r)):(r=`\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                 vec2(${n[0]}, ${n[1]}));\n          return 2 * (resTexRC.y * ${n[0]} + resTexRC.x);\n        }\n      `,new i.GlslLibRoutine(r))}getOutputPacked2DCoords(e,t){let n="";if(r.ArrayUtil.arraysEqual(e,t))return n=`\n        ivec2 getOutputCoords() {\n          return 2 * ivec2(TexCoords.xy * vec2(${t[0]}, ${t[1]}));\n        }\n      `,new i.GlslLibRoutine(n);const a=t,o=Math.ceil(e[1]/2);return n=`\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${a[0]}, ${a[1]}));\n\n          int index = resTexRC.y * ${a[0]} + resTexRC.x;\n\n          // reverse r and c order for packed texture\n          int r = imod(index, ${o}) * 2;\n          int c = 2 * (index / ${o});\n\n          return ivec2(r, c);\n        }\n      `,new i.GlslLibRoutine(n)}getOutputPacked3DCoords(e,t){const n=[t[0],t[1]],r=Math.ceil(e[2]/2),a=r*Math.ceil(e[1]/2),o=`\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${n[0]}, ${n[1]}));\n          int index = resTexRC.y * ${n[0]} + resTexRC.x;\n\n          int b = index / ${a};\n          index -= b * ${a};\n\n          // reverse r and c order for packed texture\n          int r = imod(index, ${r}) * 2;\n          int c = 2 * (index / ${r});\n\n          return ivec3(b, r, c);\n        }\n      `;return new i.GlslLibRoutine(o)}getOutputPackedNDCoords(e,t){const n=[t[0],t[1]],r=Math.ceil(e[e.length-1]/2),a=r*Math.ceil(e[e.length-2]/2);let o=a,s="",l="b, r, c";for(let i=2;i<e.length-1;i++)o*=e[e.length-i-1],s=`\n      int b${i} = index / ${o};\n      index -= b${i} * ${o};\n    `+s,l=`b${i}, `+l;const u=`\n      ivec${e.length} getOutputCoords() {\n        ivec2 resTexRC = ivec2(TexCoords.xy *\n                              vec2(${n[0]}, ${n[1]}));\n        int index = resTexRC.y * ${n[0]} + resTexRC.x;\n\n        ${s}\n\n        int b = index / ${a};\n        index -= b * ${a};\n\n        // reverse r and c order for packed texture\n        int r = imod(index, ${r}) * 2;\n        int c = 2 * (index / ${r});\n\n        return ivec${e.length}(${l});\n      }\n    `;return new i.GlslLibRoutine(u)}getOutputUnpacked1DCoords(e,t){const n=`\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${t[0]}, ${t[1]}));\n          return resTexRC.y * ${t[0]} + resTexRC.x;\n        }\n      `;return new i.GlslLibRoutine(n)}getOutputUnpacked2DCoords(e,t){const n=`\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${t[0]}, ${t[1]}));\n          int index = resTexRC.y * ${t[0]} + resTexRC.x;\n          int r = index / ${e[1]};\n          int c = index - r * ${e[1]};\n          return ivec2(r, c);\n        }\n      `;return new i.GlslLibRoutine(n)}getOutputUnpacked3DCoords(e,t){let n="";const r=e.length;let a=null;r<2&&(a=[]),a=new Array(r-1),a[r-2]=e[r-1];for(let i=r-3;i>=0;--i)a[i]=a[i+1]*e[i+1];const o=["r","c","d"],s=a.map(((e,t)=>`int ${o[t]} = index / ${e}; ${t===a.length-1?`int ${o[t+1]} = index - ${o[t]} * ${e}`:`index -= ${o[t]} * ${e}`};`)).join("");return n=`\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${t[0]}, ${t[1]}));\n          int index = resTexRC.y * ${t[0]} + resTexRC.x;\n          ${s}\n          return ivec3(r, c, d);\n        }\n      `,new i.GlslLibRoutine(n)}getOutputUnpacked4DCoords(e,t){let n="";const r=e.length;let a=null;r<2&&(a=[]),a=new Array(r-1),a[r-2]=e[r-1];for(let i=r-3;i>=0;--i)a[i]=a[i+1]*e[i+1];const o=["r","c","d","d2"],s=a.map(((e,t)=>`int ${o[t]} = index / ${e}; ${t===a.length-1?`int ${o[t+1]} = index - ${o[t]} * ${e}`:`index -= ${o[t]} * ${e}`};`)).join("");return n=`\n      ivec4 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${t[0]}, ${t[1]}));\n          int index = resTexRC.y * ${t[0]} + resTexRC.x;\n          ${s}\n          return ivec4(r, c, d, d2);\n        }\n      `,new i.GlslLibRoutine(n)}getOutputUnpacked5DCoords(e,t){let n="";const r=e.length;let a=null;r<2&&(a=[]),a=new Array(r-1),a[r-2]=e[r-1];for(let i=r-3;i>=0;--i)a[i]=a[i+1]*e[i+1];const o=["r","c","d","d2","d3"],s=a.map(((e,t)=>`int ${o[t]} = index / ${e}; ${t===a.length-1?`int ${o[t+1]} = index - ${o[t]} * ${e}`:`index -= ${o[t]} * ${e}`};`)).join("");return n=`\n      ivec5 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${t[0]}, ${t[1]}));\n          int index = resTexRC.y * ${t[0]} + resTexRC.x;\n          ${s}\n          return ivec5(r, c, d, d2, d3);\n        }\n      `,new i.GlslLibRoutine(n)}getOutputUnpacked6DCoords(e,t){let n="";const r=e.length;let a=null;r<2&&(a=[]),a=new Array(r-1),a[r-2]=e[r-1];for(let i=r-3;i>=0;--i)a[i]=a[i+1]*e[i+1];const o=["r","c","d","d2","d3","d4"],s=a.map(((e,t)=>`int ${o[t]} = index / ${e}; ${t===a.length-1?`int ${o[t+1]} = index - ${o[t]} * ${e}`:`index -= ${o[t]} * ${e}`};`)).join("");return n=`\n     ivec6 getOutputCoords() {\n         ivec2 resTexRC = ivec2(TexCoords.xy *\n                               vec2(${t[0]}, ${t[1]}));\n         int index = resTexRC.y * ${t[0]} + resTexRC.x;\n         ${s}\n         return ivec6(r, c, d, d2, d3, d4);\n       }\n     `,new i.GlslLibRoutine(n)}getCommonUtilFuncs(){const e={};let t="uvFromFlat";e[t]=new i.GlslLibRoutine("\n    vec2 uvFromFlat(int texNumR, int texNumC, int index) {\n      int texC = index / texNumR;\n      int texR = index - texC * texNumR;\n      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to\n      //       v.\n      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);\n    }\n    "),t="packedUVfrom1D",e[t]=new i.GlslLibRoutine("\n      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n        int texelIndex = index / 2;\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),t="packedUVfrom2D",e[t]=new i.GlslLibRoutine("\n      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {\n        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),t="packedUVfrom3D",e[t]=new i.GlslLibRoutine("\n      vec2 packedUVfrom3D(int texNumR, int texNumC,\n          int texelsInBatch, int texelsInLogicalRow, int b,\n          int row, int col) {\n        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = index / texNumC;\n        int texC = index - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),t="sampleTexture";const n=(0,a.getGlsl)(this.context.glContext.version);return e[t]=new i.GlslLibRoutine(`\n        float sampleTexture(sampler2D textureSampler, vec2 uv) {\n            return ${n.texture2D}(textureSampler, uv).r;\n        }`),e}getInputsSamplingSnippets(){const e={},t=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach(((n,r)=>{const i=this.context.inputTextureLayouts[r],a=(0,s.generateShaderFuncNameFromInputSamplerName)(n);i.isPacked?e[a]=this.getPackedSamplerFromInput(a,n,i):e[a]=this.getUnpackedSamplerFromInput(a,n,i);const o=(0,s.generateShaderFuncNameFromInputSamplerNameAtOutCoords)(n);i.unpackedShape.length<=t.unpackedShape.length&&(i.isPacked?e[o]=this.getPackedSamplerAtOutputCoords(o,i,t,n):e[o]=this.getUnpackedSamplerAtOutputCoords(o,i,t,n))})),e}getPackedSamplerAtOutputCoords(e,t,n,a){const o=t.unpackedShape,l=n.unpackedShape,u=a,c=(0,s.generateShaderFuncNameFromInputSamplerName)(u),d=o.length,f=l.length,h=r.BroadcastUtil.getBroadcastDims(o,l),p=(0,s.getCoordsDataType)(f),g=f-d;let m;const y=(0,s.getGlChannels)();m=0===d?"":f<2&&h.length>=1?"coords = 0;":h.map((e=>`coords.${y[e+g]} = 0;`)).join("\n");let _="";_=f<2&&d>0?"coords":o.map(((e,t)=>`coords.${y[t+g]}`)).join(", ");let b="return outputValue;";const v=1===r.ShapeUtil.size(o),w=1===r.ShapeUtil.size(l);if(1!==d||v||w){if(v&&!w)b=1===f?"\n          return vec4(outputValue.x, outputValue.x, 0., 0.);\n        ":"\n          return vec4(outputValue.x);\n        ";else if(h.length){const e=d-2,t=d-1;h.indexOf(e)>-1&&h.indexOf(t)>-1?b="return vec4(outputValue.x);":h.indexOf(e)>-1?b="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":h.indexOf(t)>-1&&(b="return vec4(outputValue.xx, outputValue.zz);")}}else b="\n        return vec4(outputValue.xy, outputValue.xy);\n      ";const x=`\n      vec4 ${e}() {\n        ${p} coords = getOutputCoords();\n        \n        int lastDim = coords.${y[f-1]};\n        coords.${y[f-1]} = coords.${y[f-2]};\n        coords.${y[f-2]} = lastDim;\n      \n        ${m}\n        vec4 outputValue = ${c}(${_});\n        ${b}\n      }\n    `;return new i.GlslLibRoutine(x,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(e,t,n,a){const o=[n.width,n.height],l=[t.width,t.height],u=t.unpackedShape.length,c=n.unpackedShape.length,d=t.unpackedShape,f=n.unpackedShape,h=(0,s.generateShaderFuncNameFromInputSamplerName)(a);if(u===c&&r.ArrayUtil.arraysEqual(l,o)){const t=`\n          float ${e}() {\n            return sampleTexture(${a}, TexCoords);\n          }\n        `;return new i.GlslLibRoutine(t,["coordinates.sampleTexture"])}const p=(0,s.getCoordsDataType)(c),g=r.BroadcastUtil.getBroadcastDims(d,f),m=c-u;let y;const _=(0,s.getGlChannels)();y=0===u?"":c<2&&g.length>=1?"coords = 0;":g.map((e=>`coords.${_[e+m]} = 0;`)).join("\n");let b="";b=c<2&&u>0?"coords":t.unpackedShape.map(((e,t)=>`coords.${_[t+m]}`)).join(", ");const v=`\n        float ${e}() {\n          ${p} coords = getOutputCoords();\n          ${y}\n          return ${h}(${b});\n        }\n      `;return new i.GlslLibRoutine(v,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(e,t,n){switch(n.unpackedShape.length){case 0:return this.getPackedSamplerScalar(e,t);case 1:return this.getPackedSampler1D(e,t,n);case 2:return this.getPackedSampler2D(e,t,n);case 3:return this.getPackedSampler3D(e,t,n);default:return this.getPackedSamplerND(e,t,n)}}getUnpackedSamplerFromInput(e,t,n){const r=n.unpackedShape;switch(r.length){case 0:return this.getUnpackedSamplerScalar(e,t,n);case 1:return this.getUnpackedSampler1D(e,t,n);case 2:return this.getUnpackedSampler2D(e,t,n);case 3:return this.getUnpackedSampler3D(e,t,n);case 4:return this.getUnpackedSampler4D(e,t,n);case 5:return this.getUnpackedSampler5D(e,t,n);case 6:return this.getUnpackedSampler6D(e,t,n);default:throw new Error(`Unsupported dimension ${r.length}-D`)}}getPackedSamplerScalar(e,t){const n=`\n          vec4 ${e}() {\n            return ${(0,a.getGlsl)(this.context.glContext.version).texture2D}(${t}, halfCR);\n          }\n        `;return new i.GlslLibRoutine(n)}getPackedSampler1D(e,t,n){const r=[n.width,n.height],o=[r[1],r[0]],s=(0,a.getGlsl)(this.context.glContext.version),l=`vec4 ${e}(int index) {\n      vec2 uv = packedUVfrom1D(\n      ${o[0]}, ${o[1]}, index);\n      return ${s.texture2D}(${t}, uv);\n    }`;return new i.GlslLibRoutine(l,["coordinates.packedUVfrom1D"])}getPackedSampler2D(e,t,n){const o=n.unpackedShape,s=[n.width,n.height],l=(0,a.getGlsl)(this.context.glContext.version),u=s[0],c=s[1];if(null!=s&&r.ArrayUtil.arraysEqual(o,s)){const n=`vec4 ${e}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${c}.0, ${u}.0);\n        return ${l.texture2D}(${t}, uv);\n      }`;return new i.GlslLibRoutine(n)}const d=s,f=Math.ceil(o[1]/2),h=`vec4 ${e}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${d[1]}, ${d[0]}, ${f}, row, col);\n      return ${l.texture2D}(${t}, uv);\n    }`;return new i.GlslLibRoutine(h,["coordinates.packedUVfrom2D"])}getPackedSampler3D(e,t,n){const r=n.unpackedShape,o=[n.width,n.height],l=[o[0],o[1]],u=(0,a.getGlsl)(this.context.glContext.version);if(1===r[0]){const a=r.slice(1),o=[1,2],l=(0,s.squeezeInputShape)(r,a),u=["b","row","col"],c=JSON.parse(JSON.stringify(n));c.unpackedShape=l;const d=this.getPackedSamplerFromInput(e,t,c),f=`${d.routineBody}\n      vec4 ${e}(int b, int row, int col) {\n        return ${e}(${(0,s.getSqueezedParams)(u,o)});\n      } `;return new i.GlslLibRoutine(f,d.dependencies)}const c=l[0],d=l[1],f=Math.ceil(r[2]/2),h=`vec4 ${e}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${d}, ${c}, ${f*Math.ceil(r[1]/2)}, ${f}, b, row, col);\n      return ${u.texture2D}(${t}, uv);}`;return new i.GlslLibRoutine(h,["coordinates.packedUVfrom3D"])}getPackedSamplerND(e,t,n){const r=n.unpackedShape,o=r.length,s=[n.width,n.height],l=(0,a.getGlsl)(this.context.glContext.version),u=[s[0],s[1]],c=u[1],d=u[0],f=Math.ceil(r[o-1]/2);let h=f*Math.ceil(r[o-2]/2),p="int b, int row, int col",g=`b * ${h} + (row / 2) * ${f} + (col / 2)`;for(let i=2;i<o-1;i++)p=`int b${i}, `+p,h*=r[o-i-1],g=`b${i} * ${h} + `+g;const m=`vec4 ${e}(${p}) {\n      int index = ${g};\n      int texR = index / ${d};\n      int texC = index - texR * ${d};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${d}, ${c});\n      return ${l.texture2D}(${t}, uv);\n    }`;return new i.GlslLibRoutine(m)}getUnpackedSamplerScalar(e,t,n){const[r,a]=[n.width,n.height];if(1===r&&1===a){const n=`\n          float ${e}() {\n            return sampleTexture(${t}, halfCR);\n          }\n        `;return new i.GlslLibRoutine(n,["coordinates.sampleTexture"])}const o=`\n        float ${e}() {\n          int offset_${t} = coordsToOffset(TexCoords, ${r}, ${a});\n          vec2 uv = uvFromFlat(${r}, ${a}, offset_${t});\n          return sampleTexture(${t}, uv);\n        }\n      `;return new i.GlslLibRoutine(o,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(e,t,n){const r=n.width,a=n.height;if(1===a&&1===r){const n=`\n        float ${e}(int index) {\n          return sampleTexture(${t}, halfCR);\n        }\n      `;return new i.GlslLibRoutine(n,["coordinates.sampleTexture"])}if(1===a){const n=`\n          float ${e}(int index) {\n            vec2 uv = vec2((float(index) + 0.5) / ${r}.0, 0.5);\n            return sampleTexture(${t}, uv);\n          }\n        `;return new i.GlslLibRoutine(n,["coordinates.sampleTexture"])}if(1===r){const n=`\n          float ${e}(int index) {\n            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${a}.0);\n            return sampleTexture(${t}, uv);\n          }\n        `;return new i.GlslLibRoutine(n,["coordinates.sampleTexture"])}const o=`\n        float ${e}(int index) {\n          vec2 uv = uvFromFlat(${r}, ${a}, index);\n          return sampleTexture(${t}, uv);\n        }\n      `;return new i.GlslLibRoutine(o,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(e,t,n){const a=n.unpackedShape,l=[n.height,n.width];if(null!=l&&r.ArrayUtil.arraysEqual(a,l)){const n=`\n          float ${e}(int row, int col) {\n            vec2 uv = (vec2(row, col) + halfCR) / vec2(${l[1]}.0, ${l[0]}.0);\n            return sampleTexture(${t}, uv);\n          }\n        `;return new i.GlslLibRoutine(n,["coordinates.sampleTexture"])}const{newShape:u,keptDims:c}=(0,o.squeezeShape)(a),d=u;if(d.length<a.length){const r=(0,s.squeezeInputShape)(a,d),o=JSON.parse(JSON.stringify(n));o.unpackedShape=r;const l=["col","row"],u=`\n          ${this.getUnpackedSamplerFromInput(e,t,o).routineBody}\n          float ${e}(int row, int col) {\n            return ${e}(${(0,s.getSqueezedParams)(l,c)});\n          }\n        `;return new i.GlslLibRoutine(u,["coordinates.sampleTexture"])}const f=l[1],h=l[0];if(1===h){const n=`\n          float ${e}(int row, int col) {\n            int offset_${t} = coordsToOffset(TexCoords, ${f}, ${h});\n            float index = dot(vec3(row, col, offset_${t}), vec3(${a[1]}, 1, 1));\n            vec2 uv = vec2(0.5, (index + 0.5) / ${f}.0);\n            return sampleTexture(${t}, uv);\n          }\n        `;return new i.GlslLibRoutine(n,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(1===f){const n=`\n          float ${e}(int row, int col) {\n            int offset_${t} = coordsToOffset(TexCoords, ${f}, ${h});\n            float index = dot(vec3(row, col, offset_${t}), vec3(${a[1]}, 1, 1));\n            vec2 uv = vec2((index + 0.5) / ${h}.0, 0.5);\n            return sampleTexture(${t}, uv);\n          }\n        `;return new i.GlslLibRoutine(n,["coordinates.sampleTexture","coordinates.coordsToOffset"])}const p=`\n        float ${e}(int row, int col) {\n          int index = col * ${a[1]} + row;\n          vec2 uv = uvFromFlat(${f}, ${h}, index);\n          return sampleTexture(${t}, uv);\n        }\n      `;return new i.GlslLibRoutine(p,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(e,t,n){const r=n.unpackedShape,a=r[1]*r[2],l=r[2],{newShape:u,keptDims:c}=(0,o.squeezeShape)(r),d=u;if(d.length<r.length){const a=(0,s.squeezeInputShape)(r,d),o=["batch","col","row"],l=JSON.parse(JSON.stringify(n));l.unpackedShape=a;const u=this.getUnpackedSamplerFromInput(e,t,l),f=c.reverse(),h=`\n          ${u.routineBody}\n          float ${e}(int batch, int row, int col) {\n            return ${e}(${(0,s.getSqueezedParams)(o,f)});\n          }\n        `;return new i.GlslLibRoutine(h,u.dependencies)}const f=`\n          float ${e}(int depth, int row, int col) {\n            // Explicitly use integer operations as dot() only works on floats.\n            int index = depth * ${a} + col * ${l} + row;\n            vec2 uv = uvFromFlat(${n.width}, ${n.height}, index);\n            return sampleTexture(${t}, uv);\n          }\n      `;return new i.GlslLibRoutine(f,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(e,t,n){const r=n.unpackedShape,a=r[3],o=r[2]*a,s=`\n        float ${e}(int row, int col, int depth, int depth2) {\n          int index = row * ${r[1]*o} + col * ${o} +\n              depth2 * ${a} + depth;\n          vec2 uv = uvFromFlat(${n.width}, ${n.height}, index);\n          return sampleTexture(${t}, uv);\n        }\n      `;return new i.GlslLibRoutine(s,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(e,t,n){const r=n.unpackedShape,a=r[4],l=r[3]*a,u=r[2]*l,c=r[1]*u,{newShape:d,keptDims:f}=(0,o.squeezeShape)(r);if(d.length<r.length){const a=(0,s.squeezeInputShape)(r,d),o=["row","col","depth","depth2","depth3"],l=JSON.parse(JSON.stringify(n));l.unpackedShape=a;const u=`\n          ${this.getUnpackedSamplerFromInput(e,t,l).routineBody}\n          float ${e}(int row, int col, int depth, int depth2, int depth3) {\n            return ${e}(${(0,s.getSqueezedParams)(o,f)});\n          }\n        `;return new i.GlslLibRoutine(u,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const h=`\n        float ${e}(int row, int col, int depth, int depth2, int depth3) {\n          int index = row * ${c} + col * ${u} + depth * ${l} +\n          depth3 * ${a} + depth2;\n          vec2 uv = uvFromFlat(${n.width}, ${n.height}, index);\n          return sampleTexture(${t}, uv);\n        }\n      `;return new i.GlslLibRoutine(h,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(e,t,n){const r=n.unpackedShape,a=r[5],l=r[4]*a,u=r[3]*l,c=r[2]*u,d=r[1]*c,{newShape:f,keptDims:h}=(0,o.squeezeShape)(r);if(f.length<r.length){const a=(0,s.squeezeInputShape)(r,f),o=["row","col","depth","depth2","depth3","depth4"],l=JSON.parse(JSON.stringify(n));l.unpackedShape=a;const u=`\n            ${this.getUnpackedSamplerFromInput(e,t,l).routineBody}\n            float ${e}(int row, int col, int depth,\n              int depth2, int depth3, int depth4) {\n              return ${e}(${(0,s.getSqueezedParams)(o,h)});\n            }\n          `;return new i.GlslLibRoutine(u,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const p=`\n          float ${e}(int row, int col, int depth,\n            int depth2, int depth3, int depth4) {\n            int index = row * ${d} + col * ${c} + depth * ${u} +\n            depth2 * ${l} + depth3 * ${a} + depth4;\n            vec2 uv = uvFromFlat(${n.width}, ${n.height}, index);\n            return sampleTexture(${t}, uv);\n          }\n        `;return new i.GlslLibRoutine(p,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const e=this.context.outputTextureLayout,t=e.shape.length,n=e.strides,r=e.width,a=e.height,o=[];for(let i=0;i<t-1;++i)o.push(`\n        c[${i}] = offset / ${n[i]};`),o.push(`\n        offset -= c[${i}] * ${n[i]};`);o.push(`\n        c[${t-1}] = offset;`);const s=`\n      void toVec(vec2 texCoords, out int c[${t}]) {\n        int offset = coordsToOffset(texCoords, ${r}, ${a});\n        ${o.join("")}\n      }\n      void toVec(int offset, out int c[${t}]) {\n        ${o.join("")}\n      }\n    `;return{toVec:new i.GlslLibRoutine(s,["coordinates.coordsToOffset"])}}valueFrom(){const e={};return this.context.programInfo.inputNames.forEach(((t,n)=>{const r=this.context.inputTextureLayouts[n],a=(r.unpackedShape.length>0?r.unpackedShape:r.shape).length;let o=`_${t}`;e[o]=new i.GlslLibRoutine(this.getValueFromSingle(t,a,r.width,r.height,!1),[`shapeUtils.indicesToOffset${o}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),o+="_T",e[o]=new i.GlslLibRoutine(this.getValueFromSingle(t,a,r.width,r.height,!0),[`shapeUtils.indicesToOffset${o}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])})),e}getValueFromSingle(e,t,n,r,i){let o=`_${e}`;return i&&(o+="_T"),`\n        float ${o}(int m[${t}]) {\n          int offset = indicesToOffset${o}(m);\n          vec2 coords = offsetToCoords(offset, ${n}, ${r});\n          float value = getColorAsFloat(${(0,a.getGlsl)(this.context.glContext.version).texture2D}(${e}, coords));\n          return value;\n        }\n        `}getPackedValueFrom(e,t,n,r,i){let o=`_${e}_Pack`;return i&&(o+="_T"),`\n        vec4 ${o}(int m[${t}]) {\n          int offset = indicesToOffset_${e}(m);\n          vec2 coords = offsetToCoords(offset, ${n}, ${r});\n          return ${(0,a.getGlsl)(this.context.glContext.version).texture2D}(${e}, coords);\n        }\n        `}}t.CoordsGlslLib=l},8520:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TopologicalSortGlslRoutines=t.GlslLibRoutineNode=t.GlslLibRoutine=t.GlslLib=t.GlslContext=t.FunctionType=void 0,(n=t.FunctionType||(t.FunctionType={}))[n.ValueBased=0]="ValueBased",n[n.Positional=1]="Positional",t.GlslContext=class{constructor(e,t,n,r){this.glContext=e,this.programInfo=t,this.inputTextureLayouts=n,this.outputTextureLayout=r}},t.GlslLib=class{constructor(e){this.context=e}},t.GlslLibRoutine=class{constructor(e,t){this.routineBody=e,this.dependencies=t}},t.GlslLibRoutineNode=class{constructor(e,t,n){this.name=e,this.dependencies=n||[],t&&(this.routineBody=t)}addDependency(e){e&&this.dependencies.push(e)}},t.TopologicalSortGlslRoutines=class{static returnOrderedNodes(e){if(!e||0===e.length)return[];if(1===e.length)return e;const t=new Set,n=new Set,r=new Array;return this.createOrderedNodes(e,t,n,r),r}static createOrderedNodes(e,t,n,r){for(let i=0;i<e.length;++i)this.dfsTraverse(e[i],t,n,r)}static dfsTraverse(e,t,n,r){if(!e||n.has(e.name))return;if(t.has(e.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");t.add(e.name);const i=e.dependencies;if(i&&i.length>0)for(let a=0;a<i.length;++a)this.dfsTraverse(i[a],t,n,r);r.push(e),n.add(e.name),t.delete(e.name)}}},7341:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EncodingGlslLib=void 0;const r=n(8520);class i extends r.GlslLib{constructor(e){super(e)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new r.GlslLibRoutine("highp vec4 encode(highp float f) {\n        return vec4(f, 0.0, 0.0, 0.0);\n      }\n        ")}}decodeFloat32(){return{decode:new r.GlslLibRoutine("highp float decode(highp vec4 rgba) {\n        return rgba.r;\n      }\n        ")}}encodeUint8(){const e=i.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new r.GlslLibRoutine(`\n      highp vec4 encode(highp float f) {\n        highp float F = abs(f);\n        highp float Sign = step(0.0,-f);\n        highp float Exponent = floor(log2(F));\n        highp float Mantissa = (exp2(- Exponent) * F);\n        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));\n        highp vec4 rgba;\n        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));\n        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);\n        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));\n        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));\n        ${e}\n        rgba = rgba / 255.0; // values need to be normalized to [0,1]\n        return rgba;\n    }\n        `)}}decodeUint8(){const e=i.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new r.GlslLibRoutine(`\n        highp float decode(highp vec4 rgba) {\n          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]\n          ${e}\n          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;\n          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;\n          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);\n          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));\n          return Result;\n      }\n        `)}}static isLittleEndian(){const e=new ArrayBuffer(4),t=new Uint32Array(e),n=new Uint8Array(e);if(t[0]=3735928559,239===n[0])return!0;if(222===n[0])return!1;throw new Error("unknown endianness")}}t.EncodingGlslLib=i},9894:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FragColorGlslLib=void 0;const r=n(8520),i=n(5060);class a extends r.GlslLib{constructor(e){super(e)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const e=(0,i.getGlsl)(this.context.glContext.version);return{setFragColor:new r.GlslLibRoutine(`\n        void setFragColor(float value) {\n            ${e.output} = encode(value);\n        }\n        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new r.GlslLibRoutine("\n        float getColorAsFloat(vec4 color) {\n            return decode(color);\n        }\n        ",["encoding.decode"])}}}t.FragColorGlslLib=a},2848:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.replaceInlines=void 0;const n=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;t.replaceInlines=function(e){const t={};let r;for(;null!==(r=n.exec(e));){const e=r[3].split(",").map((e=>{const t=e.trim().split(" ");return t&&2===t.length?{type:t[0],name:t[1]}:null})).filter((e=>null!==e));t[r[2]]={params:e,body:r[4]}}for(const n in t){const i="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",n),a=new RegExp(i,"gm");for(;null!==(r=a.exec(e));){const i=r[1],a=r[2],o=r[3].split(","),s=i?`${i} ${a};`:"";let l=t[n].body,u="";t[n].params.forEach(((e,t)=>{e&&(u+=`${e.type} ${e.name} = ${o[t]};\n`)})),l=`${u}\n ${l}`,l=l.replace("return",`${a} = `);const c=`\n      ${s}\n      {\n        ${l}\n      }\n      `;e=e.replace(r[0],c)}}return e.replace(n,"")}},8879:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlslPreprocessor=void 0;const r=n(8520),i=n(2848),a=n(5483),o=n(5060);t.GlslPreprocessor=class{constructor(e,t,n,i){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new r.GlslContext(e,t,n,i),Object.keys(a.glslRegistry).forEach((e=>{const t=new a.glslRegistry[e](this.context);this.libs[e]=t}));const o=this.glslLibRoutineDependencyGraph;for(const a in this.libs){const e=this.libs[a].getFunctions();for(const t in e){const n=a+"."+t;let i;o[n]?(i=o[n],i.routineBody=e[t].routineBody):(i=new r.GlslLibRoutineNode(n,e[t].routineBody),o[n]=i);const s=e[t].dependencies;if(s)for(let e=0;e<s.length;++e)if(o[s[e]])i.addDependency(o[s[e]]);else{const t=new r.GlslLibRoutineNode(s[e]);o[s[e]]=t,i.addDependency(t)}}}}preprocess(){const e=this.context.programInfo;let t=e.shaderSource;return this.context.programInfo.hasMain||(t=`${t}\n      ${(0,o.getDefaultFragShaderMain)(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),t=(0,i.replaceInlines)(t),`${(0,o.getFragShaderPreamble)(this.context.glContext.version)}\n    ${this.getUniforms(e.inputNames,e.variables)}\n    ${this.getImports(t)}\n    ${t}`}getImports(e){const t=this.selectGlslLibRoutinesToBeIncluded(e);if(0===t.length)return"";let n="";for(let r=0;r<t.length;++r){if(!t[r].routineBody)throw new Error(`Missing body for the Glsl Library routine: ${t[r].name}`);n+=t[r].routineBody+"\n"}return n}selectGlslLibRoutinesToBeIncluded(e){const t=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach((n=>{const r=n.split(".")[1];-1!==e.indexOf(r)&&t.push(this.glslLibRoutineDependencyGraph[n])})),r.TopologicalSortGlslRoutines.returnOrderedNodes(t)}getUniforms(e,t){const n=[];if(e)for(const r of e)n.push(`uniform sampler2D ${r};`);if(t)for(const r of t)n.push(`uniform ${r.type} ${r.name}${r.arrayLength?`[${r.arrayLength}]`:""};`);return n.join("\n")}}},5483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.glslRegistry=void 0;const r=n(5107),i=n(7341),a=n(9894),o=n(2655),s=n(3891);t.glslRegistry={encoding:i.EncodingGlslLib,fragcolor:a.FragColorGlslLib,vec:s.VecGlslLib,shapeUtils:o.ShapeUtilsGlslLib,coordinates:r.CoordsGlslLib}},2655:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShapeUtilsGlslLib=void 0;const r=n(8520);class i extends r.GlslLib{constructor(e){super(e)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const e=this.context.outputTextureLayout.shape.length,t={};return this.context.programInfo.inputNames.forEach(((n,i)=>{const a=this.context.inputTextureLayouts[i].unpackedShape;if(a.length<=e){const i=a.length,o=e-i,s=`bcastIndices_${n}`;let l="";for(let e=0;e<i;++e)l+=`\n          realIndices[${e}] = int( mod(float(bcastedIndices[${o+e}]), ${a[e]}.0) );\n          `;const u=`\n        void ${s} (int bcastedIndices[${e}], out int realIndices[${i}]) {\n          ${l}\n        }\n        `;t[s]=new r.GlslLibRoutine(u)}})),t}bcastMatmulIndex(){const e=this.context.outputTextureLayout.shape.length,t={};return this.context.programInfo.inputNames.forEach(((n,i)=>{const a=this.context.inputTextureLayouts[i].shape;if(!(a.length<2||a.length>e)){const i=a.length,o=e-i,s=`bcastMatmulIndices_${n}`;let l="";for(let e=0;e<i-2;++e)l+=`\n          realIndices[${e}] = int( mod(float(bcastedIndices[${o+e}]), ${a[e]}.0) );\n          `;const u=`\n        void ${s}(int bcastedIndices[${e}], out int realIndices[${i}]) {\n          ${l}\n          realIndices[${i-1}] = bcastedIndices[${e-1}];\n          realIndices[${i-2}] = bcastedIndices[${e-2}];\n        }\n        `;t[s]=new r.GlslLibRoutine(u)}})),t}indicesToOffset(){const e={};return this.context.programInfo.inputNames.forEach(((t,n)=>{const a=this.context.inputTextureLayouts[n].shape,o=this.context.inputTextureLayouts[n].strides,s=a.length;let l=`indicesToOffset_${t}`;e[l]=new r.GlslLibRoutine(i.indexToOffsetSingle(l,s,o)),l=`indicesToOffset_${t}_T`,e[l]=new r.GlslLibRoutine(i.indexToOffsetSingle(l,s,o.slice().reverse()))})),e}static indexToOffsetSingle(e,t,n){let r="";for(let i=t-1;i>=0;--i)r+=`\n        offset += indices[${i}] * ${n[i]};\n        `;return`\n      int ${e}(int indices[${t}]) {\n        int offset = 0;\n        ${r}\n        return offset;\n      }\n      `}offsetToIndices(){const e={};return this.context.programInfo.inputNames.forEach(((t,n)=>{const a=this.context.inputTextureLayouts[n].shape,o=this.context.inputTextureLayouts[n].strides,s=a.length;let l=`offsetToIndices_${t}`;e[l]=new r.GlslLibRoutine(i.offsetToIndicesSingle(l,s,o)),l=`offsetToIndices_${t}_T`,e[l]=new r.GlslLibRoutine(i.offsetToIndicesSingle(l,s,o.slice().reverse()))})),e}static offsetToIndicesSingle(e,t,n){const r=[];for(let i=0;i<t-1;++i)r.push(`\n      indices[${i}] = offset / ${n[i]};`),r.push(`\n        offset -= indices[${i}] * ${n[i]};`);return r.push(`\n      indices[${t-1}] = offset;`),`\n      void ${e}(int offset, out int indices[${t}]) {\n        ${r.join("")}\n      }\n      `}incrementIndices(){const e={};return this.context.programInfo.inputNames.forEach(((t,n)=>{const i=this.context.inputTextureLayouts[n].shape,a=i.length,o=`incrementIndices_${t}`;let s="";for(let e=0;e<a;++e)s+=`\n        shape[${e}] = ${i[e]};`;const l=`\n        void ${o}(int axis, out int indices[${a}]) {\n          int shape[${a}];\n          ${s};\n          for(int i = ${a} -1 ; i >= 0; --i) {\n            if(i > axis) continue;\n            indices[i] += 1;\n            if(indices[i] < shape[i]) {\n              break;\n            }\n            indices[i] = 0;\n          }\n        }\n        `;e[o]=new r.GlslLibRoutine(l)})),e}}t.ShapeUtilsGlslLib=i},5060:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultFragShaderMain=t.getFragShaderPreamble=t.getVertexShaderSource=t.getGlsl=void 0;const n={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},r={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function i(e){return 1===e?n:r}t.getGlsl=i,t.getVertexShaderSource=function(e){const t=i(e);return`${t.version}\n      precision highp float;\n      ${t.attribute} vec3 position;\n      ${t.attribute} vec2 textureCoord;\n\n      ${t.varyingVertex} vec2 TexCoords;\n\n      void main()\n      {\n          gl_Position = vec4(position, 1.0);\n          TexCoords = textureCoord;\n      }`},t.getFragShaderPreamble=function(e){const t=i(e);return`${t.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${t.varyingFrag} vec2 TexCoords;\n    ${t.outputDeclaration}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    // Custom vector types to handle higher dimenalities.\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    `},t.getDefaultFragShaderMain=function(e,t){return`\n  void main() {\n    int indices[${t}];\n    toVec(TexCoords, indices);\n    vec4 result = vec4(process(indices));\n    ${i(e).output} = result;\n  }\n  `}},3891:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VecGlslLib=void 0;const r=n(8520);class i extends r.GlslLib{constructor(e){super(e)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const e=this.context.outputTextureLayout.shape.length,t={add:"+=",sub:"-=",mul:"*=",div:"/="},n={};for(const i in t){const a=`${i}Vec`;let o="";for(let n=0;n<e;++n)o+=`\n          dest[${n}] ${t[i]} src[${n}];\n          `;const s=`\n        void ${a}(int src[${e}], out int dest[${e}]) {\n          ${o}\n        }\n        `;n[a]=new r.GlslLibRoutine(s)}return n}copyVec(){const e=this.context.outputTextureLayout.shape.length;let t="";for(let r=0;r<e;++r)t+=`\n        dest[${r}] = src[${r}];\n        `;const n=`\n      void copyVec(int src[${e}], out int dest[${e}]) {\n        ${t}\n      }\n      `;return{copyVec:new r.GlslLibRoutine(n)}}setVecItem(){const e=this.context.outputTextureLayout.shape.length;let t=`\n        if(index < 0)\n            index =${e} + index;\n        if (index == 0)\n            m[0] = value;\n        `;for(let r=1;r<e-1;++r)t+=`\n        else if (index == ${r})\n            m[${r}] = value;\n            `;t+=`\n        else\n            m[${e-1}] = value;\n        `;const n=`\n      void setVecItem(out int m[${e}], int index, int value) {\n        ${t}\n      }\n        `;return{setVecItem:new r.GlslLibRoutine(n)}}getVecItem(){const e=this.context.outputTextureLayout.shape.length;let t=`\n        if(index < 0)\n            index = ${e} + index;\n        if (index == 0)\n            return m[0];\n      `;for(let r=1;r<e-1;++r)t+=`\n        else if (index == ${r})\n            return m[${r}];\n      `;t+=`\n        else\n            return m[${e-1}];\n        `;const n=`\n      int getVecItem(int m[${e}], int index) {\n        ${t}\n      }\n    `;return{getVecItem:new r.GlslLibRoutine(n)}}}t.VecGlslLib=i},8316:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLInferenceHandler=void 0;const r=n(6231),i=n(9162),a=n(2517),o=n(2403),s=n(7019),l=n(8710),u=n(5611),c=n(4057),d=n(2039);t.WebGLInferenceHandler=class{constructor(e){this.session=e,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(e,t){return(0,c.calculateTextureWidthAndHeight)(this.session.layoutStrategy,e,t)}executeProgram(e,t){if(t.length<e.inputNames.length)throw new Error(`Input size mustn't be less than ${e.inputNames.length}.`);if(e.inputNames.length!==e.inputTypes.length)throw new Error("input names size does not match input types");const n=[];for(let l=0;l<e.inputNames.length;++l)n[l]=this.getOrCreateTextureData(t[l],e.inputTypes[l]);const r=((e,t)=>{const n=t.map((e=>`${e.unpackedShape.join(",")};${e.width}x${e.height}`)).join("_");let r=e.name;return e.cacheHint&&(r+="["+e.cacheHint+"]"),r+=":"+n,r})(e,n);let i=this.session.programManager.getArtifact(r);const a=i?i.programInfo:"function"==typeof e.get?e.get():e,o=(0,c.createTextureLayoutFromTextureType)(this.session.layoutStrategy,a.output.dims,a.output.textureType),s=this.createTextureData(o,a.output.type);return i||(i=this.session.programManager.build(a,n,s),this.session.programManager.setArtifact(r,i)),this.runProgram(i,n,s),s}run(e,t){return this.executeProgram(e,t).tensor}runProgram(e,t,n){for(let r=0;r<t.length;++r)if(!!t[r].isPacked!=(e.programInfo.inputTypes[r]===d.TextureType.packed))throw new Error(`input[${r}] property packed inconsistent`);if(!!n.isPacked!=(e.programInfo.output.textureType===d.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(e,t,n)}getOrCreateTextureData(e,t){let n=this.getTextureData(e.dataId,t===d.TextureType.packed);if(!n&&(n=this.getTextureData(e.dataId,t!==d.TextureType.packed),n))return t===d.TextureType.packed?this.pack(n):this.unpack(n);if(!n){const r=(0,c.createTextureLayoutFromTextureType)(this.session.layoutStrategy,e.dims,t);if(t===d.TextureType.packedLastDimension){const n=1,r=4,i=e.dims;if(4===i.length){const a=[i[0],Math.ceil(i[1]*i[2]*i[3]/r)],o=(0,c.createTextureLayoutFromTextureType)(this.session.layoutStrategy,a,t);let s=e.numberData;if(i[1]*i[2]*i[3]%r!=0){const t=i[0],a=i[1]*i[2]*i[3],o=Math.ceil(a*n/r)*r;s=new Float32Array(t*o);for(let r=0;r<t;++r){const t=r*a,i=r*o+r%n*a;s.set(e.numberData.subarray(t,t+a),i)}}return this.createTextureData(o,e.type,s,e,1)}}if(t===d.TextureType.packed){const t=(0,c.createTextureLayoutFromShape)(this.session.layoutStrategy,e.dims,1,[],{reverseWH:!0}),r=this.createTextureData(t,e.type,e.numberData,e,1);n=this.pack(r)}else n=this.createTextureData(r,e.type,e.numberData,e,1)}return n}createTextureDataFromLayoutBindTensor(e,t,n,r){return this.createTextureData(e,t,n,r,1)}createTextureData(e,t,n,i,a){r.Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(e)}]`);const o=this.session.textureManager.createTextureFromLayout(t,e,n,a);return this.createTextureDataFromTexture(e,t,o,i)}reshapeUnpacked(e,t){const n=this.getOrCreateTextureData(e,d.TextureType.unpacked),r={channels:n.channels,height:n.height,width:n.width,shape:0!==t.length?t:[1],strides:a.ShapeUtil.computeStrides(t),unpackedShape:t};return this.createTextureDataFromTexture(r,e.type,n.texture).tensor}reshapePacked(e,t){const n=this.getOrCreateTextureData(e,d.TextureType.packed);if((0,s.isReshapeCheap)(e.dims,t)){const r={channels:n.channels,height:n.height,width:n.width,shape:0!==t.length?t:[1],strides:a.ShapeUtil.computeStrides(t),unpackedShape:t,isPacked:!0};return this.createTextureDataFromTexture(r,e.type,n.texture).tensor}const r=(0,s.processDims3D)(e.dims),i=(0,s.processDims3D)(t),o=this.reshapePacked(e,r),l=this.run((0,s.createPackedReshape3DProgramInfoLoader)(this,o,i),[o]);return this.reshapePacked(l,t)}cast(e,t){const n=this.getOrCreateTextureData(e,d.TextureType.unpacked);return this.createTextureDataFromTexture(n,t,n.texture).tensor}createTextureDataFromTexture(e,t,n,r,a){const o=Object.assign(Object.assign({},e),{tensor:r||new i.Tensor(e.unpackedShape,t,(e=>this.readTexture(o)),(async e=>this.readTextureAsync(o)),void 0,a),texture:n});return this.setTextureData(o.tensor.dataId,o,e.isPacked),o}getTextureData(e,t=!1){return this.session.isInitializer(e)?this.session.getTextureData(e,t):t?this.packedTextureDataCache.get(e):this.unpackedTextureDataCache.get(e)}setTextureData(e,t,n=!1){this.session.isInitializer(e)?this.session.setTextureData(e,t,n):(n?this.packedTextureDataCache:this.unpackedTextureDataCache).set(e,t)}isTextureLayoutCached(e,t=!1){return!!this.getTextureData(e.dataId,t)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach((e=>this.session.textureManager.releaseTexture(e))),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach((e=>this.session.textureManager.releaseTexture(e))),this.unpackedTextureDataCache=new Map}readTexture(e){return e.isPacked?this.readTexture(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat((0,l.encodeAsUint8)(this,e))}async readTextureAsync(e){return e.isPacked?this.readTextureAsync(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat((0,l.encodeAsUint8)(this,e))}pack(e){return this.executeProgram((0,o.createPackProgramInfoLoader)(this,e.tensor),[e.tensor])}unpack(e){return this.executeProgram((0,u.createUnpackProgramInfoLoader)(this,e.tensor),[e.tensor])}}},1640:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WEBGL_OP_RESOLVE_RULES=void 0;const o=n(2898),s=a(n(7839)),l=n(4196),u=n(2069),c=n(8138),d=n(9663),f=n(5193),h=n(7992),p=n(1253),g=n(4776),m=n(6572),y=n(3346),_=n(5623),b=n(2870),v=n(2143),w=n(4939),x=n(718),k=n(2268),S=n(8117),T=n(2278),E=n(5524),A=n(5975),O=n(3933),C=n(6558),I=n(5723),P=n(3738),M=a(n(4909)),L=n(8428),R=n(9793);t.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",M.abs],["Acos","","7+",M.acos],["Add","","7+",s.add],["And","","7+",s.and],["Asin","","7+",M.asin],["Atan","","7+",M.atan],["AveragePool","","7+",v.averagePool,v.parseAveragePoolAttributes],["BatchNormalization","","7+",o.batchNormalization,o.parseBatchNormalizationAttributes],["Cast","","6+",l.cast,l.parseCastAttributes],["Ceil","","6+",M.ceil],["Clip","","6-10",M.clip,M.parseClipAttributes],["Clip","","11+",M.clipV11],["Concat","","4+",u.concat,u.parseConcatAttributes],["Conv","","1+",c.conv,c.parseConvAttributes],["ConvTranspose","","1+",d.convTranspose,d.parseConvTransposeAttributes],["Cos","","7+",M.cos],["Div","","7+",s.div],["Dropout","","7+",M.identity],["DepthToSpace","","1+",f.depthToSpace,f.parseDepthToSpaceAttributes],["Equal","","7+",s.equal],["Elu","","6+",M.elu,M.parseEluAttributes],["Exp","","6+",M.exp],["Flatten","","1+",h.flatten,h.parseFlattenAttributes],["Floor","","6+",M.floor],["FusedConv","com.microsoft","1+",c.conv,c.parseConvAttributes],["Gather","","1+",p.gather,p.parseGatherAttributes],["Gemm","","7-10",g.gemm,g.parseGemmAttributesV7],["Gemm","","11+",g.gemm,g.parseGemmAttributesV11],["GlobalAveragePool","","1+",v.globalAveragePool,v.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",v.globalMaxPool],["Greater","","7+",s.greater],["Identity","","1+",M.identity],["ImageScaler","","1+",m.imageScaler,m.parseImageScalerAttributes],["InstanceNormalization","","6+",y.instanceNormalization,y.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",M.leakyRelu,M.parseLeakyReluAttributes],["Less","","7+",s.less],["Log","","6+",M.log],["MatMul","","1+",_.matMul,_.parseMatMulAttributes],["MaxPool","","1+",v.maxPool,v.parseMaxPoolAttributes],["Mul","","7+",s.mul],["Neg","","6+",M.neg],["Not","","1+",M.not],["Or","","7+",s.or],["Pad","","2-10",b.padV2,b.parsePadAttributesV2],["Pad","","11+",b.padV11,b.parsePadAttributesV11],["Pow","","7+",s.pow],["PRelu","","7+",s.pRelu],["ReduceLogSum","","1+",w.reduceLogSum,w.parseReduceAttributes],["ReduceMax","","1+",w.reduceMax,w.parseReduceAttributes],["ReduceMean","","1+",w.reduceMean,w.parseReduceAttributes],["ReduceMin","","1+",w.reduceMin,w.parseReduceAttributes],["ReduceProd","","1+",w.reduceProd,w.parseReduceAttributes],["ReduceSum","","1-12",w.reduceSum,w.parseReduceAttributes],["ReduceSumSquare","","1+",w.reduceLogSumSquare,w.parseReduceAttributes],["Relu","","6+",M.relu],["Reshape","","5+",x.reshape],["Resize","","10",k.resize,k.parseResizeAttributesV10],["Resize","","11+",k.resize,k.parseResizeAttributesV11],["Shape","","1+",S.shape],["Sigmoid","","6+",M.sigmoid],["Sin","","7+",M.sin],["Slice","","10+",T.sliceV10],["Slice","","1-9",T.slice,T.parseSliceAttributes],["Softmax","","1-12",E.softmax,E.parseSoftmaxAttributes],["Softmax","","13+",E.softmaxV13,E.parseSoftmaxAttributesV13],["Split","","2-12",A.split,A.parseSplitAttributes],["Sqrt","","6+",M.sqrt],["Squeeze","","1-12",O.squeeze,O.parseSqueezeAttributes],["Squeeze","","13+",O.squeezeV13],["Sub","","7+",s.sub],["Sum","","6+",C.sum],["Tan","","7+",M.tan],["Tanh","","6+",M.tanh],["Tile","","6+",I.tile],["Transpose","","1+",P.transpose,P.parseTransposeAttributes],["Upsample","","7-8",R.upsample,R.parseUpsampleAttributesV7],["Upsample","","9",R.upsample,R.parseUpsampleAttributesV9],["Unsqueeze","","1-12",L.unsqueeze,L.parseUnsqueezeAttributes],["Unsqueeze","","13+",L.unsqueezeV13],["Xor","","7+",s.xor]]},2898:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBatchNormalizationAttributes=t.batchNormalization=void 0;const r=n(246),i=n(5060),a=n(2039),o={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[a.TextureType.unpacked,a.TextureType.unpacked,a.TextureType.unpacked,a.TextureType.unpacked,a.TextureType.unpacked]};t.batchNormalization=(e,t,n)=>(l(t),[e.run(Object.assign(Object.assign({},o),{cacheHint:n.cacheKey,get:()=>s(e,t,n)}),t)]),t.parseBatchNormalizationAttributes=e=>{const t=e.attributes.getFloat("epsilon",1e-5),n=e.attributes.getFloat("momentum",.9),i=e.attributes.getInt("spatial",1);return(0,r.createAttributeWithCacheKey)({epsilon:t,momentum:n,spatial:i})};const s=(e,t,n)=>{const r=(0,i.getGlsl)(e.session.backend.glContext.version),s=t[0].dims.length,[l,u]=e.calculateTextureWidthAndHeight(t[1].dims,a.TextureType.unpacked),c=`\n  float process(int[${s}] indices) {\n    vec2 position = offsetToCoords(indices[1], ${l}, ${u});\n    float scale = getColorAsFloat(${r.texture2D}(Scale, position));\n    float mean = getColorAsFloat(${r.texture2D}(Mean, position));\n    float variance = getColorAsFloat(${r.texture2D}(Variance, position));\n    float b = getColorAsFloat(${r.texture2D}(B, position));\n\n    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${n.epsilon})) ) + b;\n  }`;return Object.assign(Object.assign({},o),{output:{dims:t[0].dims,type:t[0].type,textureType:a.TextureType.unpacked},shaderSource:c})},l=e=>{if(!e||5!==e.length)throw new Error("BatchNormalization requires 5 inputs.");const t=e[0],n=e[1],r=e[2],i=e[3],a=e[4];if(t.dims.length<3||1!==n.dims.length||1!==r.dims.length||1!==i.dims.length||1!==a.dims.length)throw new Error("invalid input shape.");if(n.dims[0]!==t.dims[1]||r.dims[0]!==t.dims[1]||i.dims[0]!==t.dims[1]||a.dims[0]!==t.dims[1])throw new Error("invalid input shape.");if("float32"!==t.type&&"float64"!==t.type||"float32"!==n.type&&"float64"!==n.type||"float32"!==r.type&&"float64"!==r.type||"float32"!==i.type&&"float64"!==i.type||"float32"!==a.type&&"float64"!==a.type)throw new Error("invalid input tensor types.")}},7839:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.xor=t.sub=t.pRelu=t.pow=t.or=t.mul=t.less=t.greater=t.equal=t.div=t.and=t.add=t.glslPRelu=t.glslPow=t.glslXor=t.glslOr=t.glslAnd=t.glslLess=t.glslGreater=t.glslEqual=t.glslSub=t.glslMul=t.glslDiv=t.glslAdd=void 0;const r=n(2517),i=n(8520),a=n(5060),o=n(2039);function s(){const e="add_";return{body:`\n  float ${e}(float a, float b) {\n    return a + b;\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    return v1 + v2;\n  }\n  `,name:e,type:i.FunctionType.ValueBased}}function l(){const e="div_";return{body:`\n  float ${e}(float a, float b) {\n    return a / b;\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    return v1 / v2;\n  }\n  `,name:e,type:i.FunctionType.ValueBased}}function u(){const e="mul_";return{body:`\n  float ${e}(float a, float b) {\n    return a * b;\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    return v1 * v2;\n  }\n  `,name:e,type:i.FunctionType.ValueBased}}function c(){const e="sub_";return{body:`\n  float ${e}(float a, float b) {\n    return a - b;\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    return v1 - v2;\n  }\n  `,name:e,type:i.FunctionType.ValueBased}}function d(){const e="equal_";return{body:`\n  float ${e}(float a, float b) {\n    return float(a == b);\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    return vec4(equal(v1, v2));\n  }\n  `,name:e,type:i.FunctionType.ValueBased}}function f(){const e="greater_";return{body:`\n  float ${e}(float a, float b) {\n    return float(a > b);\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    return vec4( v1.r > v2.r ,\n      v1.g > v2.g,\n      v1.b > v2.b,\n      v1.a > v2.a );\n  }\n  `,name:e,type:i.FunctionType.ValueBased}}function h(){const e="less_";return{body:`\n  float ${e}(float a, float b) {\n    return float(a < b);\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    return vec4( v1.r < v2.r ,\n                v1.g < v2.g,\n                v1.b < v2.b,\n                v1.a < v2.a );\n  }\n  `,name:e,type:i.FunctionType.ValueBased}}function p(){const e="and_";return{body:`\n  float ${e}(float a, float b) {\n    return float( bool(a) && bool(b) );\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r && b2.r ,\n                b1.g && b2.g,\n                b1.b && b2.b,\n                b1.a && b2.a );\n  }\n  `,name:e,type:i.FunctionType.ValueBased}}function g(){const e="or_";return{body:`\n  float ${e}(float a, float b) {\n    return float( bool(a) || bool(b) );\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r || b2.r ,\n                b1.g || b2.g,\n                b1.b || b2.b,\n                b1.a || b2.a );\n  }\n  `,name:e,type:i.FunctionType.ValueBased}}function m(){const e="xor_";return{body:`\n  float ${e}(float a, float b) {\n    return float( bool(a) ^^ bool(b) );\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r ^^ b2.r ,\n                b1.g ^^ b2.g,\n                b1.b ^^ b2.b,\n                b1.a ^^ b2.a );\n  }\n  `,name:e,type:i.FunctionType.ValueBased}}function y(){return function(e){const t=`${e}_`;return{body:`\n  float ${t}(float a, float b) {\n    return ${e}(a, b);\n  }\n  vec4 ${t}(vec4 v1, vec4 v2) {\n    return ${e}(v1, v2);\n  }\n  `,name:t,type:i.FunctionType.ValueBased}}("pow")}function _(){const e="prelu_";return{body:`\n  float ${e}(float a, float b) {\n    return a < 0.0 ? a * b: a;\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    return vec4(\n      v1.r < 0.0 ? v1.r * v2.r: v1.r,\n      v1.g < 0.0 ? v1.g * v2.g: v1.g,\n      v1.b < 0.0 ? v1.b * v2.b: v1.b,\n      v1.a < 0.0 ? v1.a * v2.a: v1.a\n      );\n  }\n  `,name:e,type:i.FunctionType.ValueBased}}t.glslAdd=s,t.glslDiv=l,t.glslMul=u,t.glslSub=c,t.glslEqual=d,t.glslGreater=f,t.glslLess=h,t.glslAnd=p,t.glslOr=g,t.glslXor=m,t.glslPow=y,t.glslPRelu=_;const b=(e,t,n,r=t[0].type,i)=>{const a=e.session.pack?o.TextureType.packed:o.TextureType.unpacked;return{name:n.name,inputNames:["A","B"],inputTypes:[a,a],cacheHint:i,get:()=>v(e,t,n,r)}},v=(e,t,n,i=t[0].type)=>{const s=e.session.pack?o.TextureType.packed:o.TextureType.unpacked,l=!r.ShapeUtil.areEqual(t[0].dims,t[1].dims);let u=t[0].dims;const c=e.session.pack;if(l){const o=r.BroadcastUtil.calcShape(t[0].dims,t[1].dims,!1);if(!o)throw new Error("Can't perform binary op on the given tensors");u=o;const l=u.length,d=0!==t[0].dims.length?t[0].dims.length:1,f=0!==t[1].dims.length?t[1].dims.length:1,h=0!==t[0].dims.length?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",p=0!==t[1].dims.length?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",g=(0,a.getGlsl)(e.session.backend.glContext.version),m=c?`\n      ${n.body}\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n        vec4 result = ${n.name}(a, b);\n        ${g.output} = result;\n      }`:`\n      ${n.body}\n      float process(int indices[${l}]) {\n        int aindices[${d}];\n        int bindices[${f}];\n        ${h}\n        ${p}\n        return ${n.name}(_A(aindices), _B(bindices));\n      }`;return{name:n.name,inputNames:["A","B"],inputTypes:[s,s],output:{dims:u,type:i,textureType:s},shaderSource:m,hasMain:c}}const d=(0,a.getGlsl)(e.session.backend.glContext.version),f=`\n    ${n.body}\n    void main() {\n      vec4 v1 = ${d.texture2D}(A, TexCoords);\n      vec4 v2 = ${d.texture2D}(B, TexCoords);\n      vec4 result = ${n.name}(v1, v2);\n      ${d.output} = result;\n    }\n    `;return{name:n.name,inputNames:["A","B"],inputTypes:[s,s],output:{dims:t[0].dims,type:i,textureType:s},shaderSource:f,hasMain:!0}};t.add=(e,t)=>[e.run(b(e,t,s()),t)],t.and=(e,t)=>[e.run(b(e,t,p(),"bool"),t)],t.div=(e,t)=>[e.run(b(e,t,l()),t)],t.equal=(e,t)=>[e.run(b(e,t,d(),"bool"),t)],t.greater=(e,t)=>[e.run(b(e,t,f(),"bool"),t)],t.less=(e,t)=>[e.run(b(e,t,h(),"bool"),t)],t.mul=(e,t)=>[e.run(b(e,t,u()),t)],t.or=(e,t)=>[e.run(b(e,t,g(),"bool"),t)],t.pow=(e,t)=>[e.run(b(e,t,y()),t)],t.pRelu=(e,t)=>[e.run(b(e,t,_()),t)],t.sub=(e,t)=>[e.run(b(e,t,c()),t)],t.xor=(e,t)=>[e.run(b(e,t,m(),"bool"),t)]},4196:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseCastAttributes=t.cast=void 0;const r=n(2517);t.cast=(e,t,n)=>(i(t),[e.cast(t[0],n)]),t.parseCastAttributes=e=>r.ProtoUtil.tensorDataTypeFromProto(e.attributes.getInt("to"));const i=e=>{if(!e||1!==e.length)throw new Error("Cast requires 1 input.");if("string"===e[0].type)throw new Error("Invalid input type.")}},1163:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPackedConcatProgramInfoLoader=void 0;const r=n(5060),i=n(2039),a=n(9390),o=n(2827);t.createPackedConcatProgramInfoLoader=(e,t,n)=>{const l=(u=t.length,c=n.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:u},((e,t)=>`X${t}`)),inputTypes:Array(u).fill(i.TextureType.packed),cacheHint:c});var u,c;return Object.assign(Object.assign({},l),{get:()=>((e,t,n,l)=>{const u=n[0].dims.slice();if(l>=u.length||l<-1*u.length)throw new Error("axis specified for concat doesn't match input dimensionality");l<0&&(l=u.length+l);const c=u.slice(0);for(let r=1;r<n.length;r++){const e=n[r].dims.slice();for(let t=0;t<u.length;t++)if(t===l)c[l]+=e[t];else if(u[t]!==e[t])throw new Error("non concat dimensions must match")}const d=c.length,f=(0,o.getChannels)("coords",d),h=(0,a.getCoordsDataType)(d),p=(0,o.unpackFromChannel)(),g=n.map((e=>e.dims)),m=(0,a.getGlChannels)(d),y=new Array(g.length-1);y[0]=g[0][l];for(let r=1;r<y.length;r++)y[r]=y[r-1]+g[r][l];const _=m[l],b=m.slice(-2),v=m.join();let w=`if (${_} < ${y[0]}) {\n        return getChannel(\n            getX0(${v}), vec2(${b.join()}));\n        }`;for(let r=1;r<y.length;r++){const e=y[r-1];w+=`\n            if (${_} < ${y[r]}  && ${_} >= ${y[r-1]}) {\n              return getChannel(\n                getX${r}(${s(m,_,e)}),\n                vec2(${s(b,_,e)}));\n            }`}const x=y.length,k=y[y.length-1];w+=`\n            return getChannel(\n              getX${x}(${s(m,_,k)}),\n              vec2(${s(b,_,k)}));`;const S=(0,r.getGlsl)(e.session.backend.glContext.version),T=`\n          ${p}\n          float getValue(${m.map((e=>"int "+e))}) {\n            ${w}\n          }\n\n          void main() {\n            ${h} coords = getOutputCoords();\n            int lastDim = coords.${m[d-1]};\n            coords.${m[d-1]} = coords.${m[d-2]};\n            coords.${m[d-2]} = lastDim;\n\n            vec4 result = vec4(getValue(${f}), 0., 0., 0.);\n\n            ${f[d-1]} = ${f[d-1]} + 1;\n            if (${f[d-1]} < ${c[d-1]}) {\n              result.g = getValue(${f});\n            }\n\n            ${f[d-2]} = ${f[d-2]} + 1;\n            if (${f[d-2]} < ${c[d-2]}) {\n              result.a = getValue(${f});\n            }\n\n            ${f[d-1]} = ${f[d-1]} - 1;\n            if (${f[d-2]} < ${c[d-2]} &&\n                ${f[d-1]} < ${c[d-1]}) {\n              result.b = getValue(${f});\n            }\n            ${S.output} = result;\n          }\n        `;return Object.assign(Object.assign({},t),{output:{dims:c,type:n[0].type,textureType:i.TextureType.packed},shaderSource:T,hasMain:!0})})(e,l,t,n.axis)})};const s=(e,t,n)=>{const r=e.indexOf(t);return e.map(((e,t)=>t===r?`${e} - ${n}`:e)).join()}},2069:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseConcatAttributes=t.concat=void 0;const r=n(246),i=n(2039),a=n(1163);t.concat=(e,t,n)=>(d(t),e.session.pack&&t[0].dims.length>1?[e.run((0,a.createPackedConcatProgramInfoLoader)(e,t,n),t)]:[e.run(o(e,t,n),t)]);const o=(e,t,n)=>{const r=(a=t.length,o=n.cacheKey,{name:"Concat",inputNames:Array.from({length:a},((e,t)=>`X${t}`)),inputTypes:Array(a).fill(i.TextureType.unpacked),cacheHint:o});var a,o;return Object.assign(Object.assign({},r),{get:()=>((e,t,n,r)=>{const a=n[0].dims.slice();if(r>=a.length||r<-1*a.length)throw new Error("axis specified for concat doesn't match input dimensionality");r<0&&(r=a.length+r);const o=a.slice(0);for(let i=1;i<n.length;i++){const e=n[i].dims.slice();for(let t=0;t<a.length;t++)if(t===r)o[r]+=e[t];else if(a[t]!==e[t])throw new Error("non concat dimensions must match")}const d=o.length,f=new Array(n.length);let h=0;for(let i=0;i<f.length;++i)h+=n[i].dims[r],f[i]=h;let p="";p=n.length<5?s(f):l(f);const g=`\n        ${u(n.length,d)}\n        ${c(f)}\n        ${p}\n        float process(int indices[${d}]) {\n          int textureIndex = getTextureWhereDataResides (indices[${r}]);\n\n          if(textureIndex != 0) {\n            indices[${r}] = indices[${r}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));\n          }\n\n          return fetchDataFromCorrectTexture(textureIndex, indices);\n        }`;return Object.assign(Object.assign({},t),{output:{dims:o,type:n[0].type,textureType:i.TextureType.unpacked},shaderSource:g})})(0,r,t,n.axis)})},s=e=>`int getTextureWhereDataResides(int index) {\n      ${e.map(((e,t)=>`if(index<${e}) {return ${t};}\n`)).join("")}\n    }`,l=e=>s(e),u=(e,t)=>{const n=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${t}]) {`];for(let r=0;r<e;++r)0===r?n.push(`\tif (textureIndex == ${r}) { return _X${r}(indices); }`):r===e-1?n.push(`\telse { return _X${r}(indices); }`):n.push(`\telse if (textureIndex == ${r}) { return _X${r}(indices); }`);return n.push("\t}"),n.join("\n")},c=e=>{const t=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let n=0;n<e.length;++n)0===n?t.push(`\tif (index == ${n}) { return ${e[n]}; }`):n===e.length-1?t.push(`\telse { return ${e[n]}; }`):t.push(`\telse if (index == ${n}) { return ${e[n]}; }`);return t.push("\t}"),t.join("\n")};t.parseConcatAttributes=e=>(0,r.createAttributeWithCacheKey)({axis:e.attributes.getInt("axis")});const d=e=>{if(!e||e.length<1)throw new Error("too few inputs");const t=e[0].type,n=e[0].dims.length;if("string"===t)throw new Error("string tensor is not supported yet");for(const r of e){if(r.type!==t)throw new Error("input tensors should be one type");if(r.dims.length!==n)throw new Error("input tensors should have the same shape")}}},4770:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUnpackedGroupedConvProgramInfoLoader=void 0;const r=n(6231),i=n(5060),a=n(2039),o=n(8138),s=n(2823);t.createUnpackedGroupedConvProgramInfoLoader=(e,t,n)=>{const l=(u=t.length>2,c=n.cacheKey,{name:"GroupedConv",inputNames:u?["X","W","Bias"]:["X","W"],inputTypes:u?[a.TextureType.unpacked,a.TextureType.unpacked,a.TextureType.unpacked]:[a.TextureType.unpacked,a.TextureType.unpacked],cacheHint:c});var u,c;return Object.assign(Object.assign({},l),{get:()=>((e,t,n,l)=>{const u=t.length>2?"value += getBias(output_channel);":"",c=t[0].dims.slice(),d=t[1].dims.slice(),f=d[0]/l.group;r.Logger.verbose("GroupedConv",`autpPad:${l.autoPad}, dilations:${l.dilations}, group:${l.group}, kernelShape:${l.kernelShape}, pads:${l.pads}, strides:${l.strides}`);const h=(0,o.calculateOutputShape)(c,d,l.dilations,l.pads,l.strides),p=(0,i.getGlsl)(e.session.backend.glContext.version),{activationFunction:g,applyActivation:m}=(0,s.getActivationSnippet)(l),y=`\n  const ivec2 strides = ivec2(${l.strides[0]}, ${l.strides[1]});\n  const ivec2 pads = ivec2(${l.pads[0]}, ${l.pads[1]});\n  ${g}\n  void main() {\n    ivec4 coords = getOutputCoords();\n    int batch = coords.x;\n    int output_channel = coords.y;\n    ivec2 xRCCorner = coords.zw * strides - pads;\n    int group_id = output_channel / ${f};\n\n    float value = 0.0;\n    for (int wInChannel = 0; wInChannel < ${d[1]}; wInChannel++) {\n      int input_channel = group_id * ${d[1]} + wInChannel;\n      for (int wHeight = 0; wHeight < ${d[2]}; wHeight++) {\n        int xHeight = xRCCorner.x + wHeight * ${l.dilations[0]};\n\n        if (xHeight < 0 || xHeight >= ${c[2]}) {\n          continue;\n        }\n\n        for (int wWidth = 0; wWidth < ${d[3]}; wWidth++) {\n          int xWidth = xRCCorner.y + wWidth * ${l.dilations[1]};\n          if (xWidth < 0 || xWidth >= ${c[3]}) {\n            continue;\n          }\n\n          float xVal = getX(batch, input_channel, xWidth, xHeight);\n          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);\n          value += xVal*wVal;\n        }\n      }\n    }\n    ${u}\n    ${m}\n    ${p.output} = vec4(value, .0, .0, .0);\n  }\n`;return Object.assign(Object.assign({},n),{output:{dims:h,type:t[0].type,textureType:a.TextureType.unpacked},shaderSource:y,hasMain:!0})})(e,t,l,n)})}},1386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conv2DPacked=t.conv2DPackedPointwise=void 0;const r=n(8138),i=n(8555),a=n(708);t.conv2DPackedPointwise=(e,t,n)=>{const i=t[0].dims,o=t[1].dims,s=(0,r.calculateOutputShape)(i,o,n.dilations,n.pads,n.strides),l=e.reshapePacked(t[0],[i[1],i[2]*i[3]]),u=e.reshapePacked(t[1],[o[0],o[1]]),c=t.length>2?[u,l,t[2]]:[u,l],d=e.run((0,a.createPackedMatmulProgramInfoLoader)(e,c,n),c);return e.reshapePacked(d,s)},t.conv2DPacked=(e,t,n)=>{const o=t[0].dims,s=t[1].dims,l=(0,r.calculateOutputShape)(o,s,n.dilations,n.pads,n.strides),u=e.run((0,i.createPackedIm2ColProgramInfoLoader)(e,t[0],t[1],l,n),[t[0]]),c=e.reshapePacked(t[1],[s[0],s[1]*s[2]*s[3]]),d=3===t.length?[c,u,t[2]]:[c,u],f=e.run((0,a.createPackedMatmulProgramInfoLoader)(e,d,n),d);return e.reshapePacked(f,l)}},9663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseConvTransposeAttributes=t.convTranspose=void 0;const r=n(246),i=n(5060),a=n(2039),o=n(2823),s=(e,t,n,r,i,a)=>(e-1)*t+n+(r-1)*i+1-a,l=(e,t,n,r,i)=>{const a=Math.floor(e/2);"SAME_UPPER"===t?(n[r]=a,n[i]=e-a):"SAME_LOWER"===t&&(n[r]=e-a,n[i]=a)};t.convTranspose=(e,t,n)=>(f(t,n),u(e,t,n));const u=(e,t,n)=>{const r=d(n,t);return[c(e,t,r)]},c=(e,t,n)=>e.run(((e,t,n)=>{const r=(s=t.length>2,l=n.cacheKey,{name:"ConvTranspose",inputNames:s?["X","W","B"]:["X","W"],inputTypes:s?[a.TextureType.unpacked,a.TextureType.unpacked,a.TextureType.unpacked]:[a.TextureType.unpacked,a.TextureType.unpacked],cacheHint:l});var s,l;return Object.assign(Object.assign({},r),{get:()=>((e,t,n,r)=>{const s=t.length>2?"getB(output_channel)":"0.0",l=t[0].dims,u=t[1].dims,c=u[1],d=u[0]/r.group,f=[t[0].dims[0],t[1].dims[1]*r.group,...r.outputShape],h=(0,i.getGlsl)(e.session.backend.glContext.version),{activationFunction:p,applyActivation:g}=(0,o.getActivationSnippet)(r),m=`\n  const ivec2 strides = ivec2(${r.strides[0]}, ${r.strides[1]});\n  const ivec2 pads = ivec2(${r.pads[0]}, ${r.pads[1]});\n  ${p}\n  void main() {\n    ivec4 coords = getOutputCoords();\n    int batch = coords.x;\n    int output_channel = coords.y;\n\n    ivec2 loc = coords.zw + pads;\n\n    int group_id = output_channel / ${c};\n    int wOutChannel = output_channel - group_id * ${c};\n\n    float value = ${s};\n    for (int inChannelOffset = 0; inChannelOffset < ${d}; inChannelOffset++) {\n      int input_channel = group_id * ${d} + inChannelOffset;\n      for (int wWOff = 0; wWOff < ${u[2]}; wWOff++) {\n        for (int wHOff = 0; wHOff < ${u[3]}; wHOff++) {\n          ivec2 wOff = ivec2(wWOff * ${r.dilations[0]}, wHOff * ${r.dilations[1]});\n          ivec2 wLoc = loc - wOff;\n          ivec2 wLocIn = wLoc / strides;\n          if (\n            wLocIn * strides == wLoc &&\n            wLocIn.x >= 0 && wLocIn.x < ${l[2]} &&\n            wLocIn.y >= 0 && wLocIn.y < ${l[3]}\n          ) {\n            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);\n            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);\n            value += xVal * wVal;\n          }\n        }\n      }\n    }\n    ${g}\n    ${h.output} = vec4(value, .0, .0, .0);\n  }\n`;return Object.assign(Object.assign({},n),{output:{dims:f,type:t[0].type,textureType:a.TextureType.unpacked},shaderSource:m,hasMain:!0})})(e,t,r,n)})})(e,t,n),t),d=(e,t)=>{const n=e.kernelShape.slice();if(0===e.kernelShape.length)for(let o=2;o<t[1].dims.length;++o)n.push(t[1].dims[o]);const r=e.pads.slice(),i=e.outputShape.slice();((e,t,n,r,i,a,o,u)=>{const c=e.length-2,d=0===u.length;for(let f=0;f<c;++f){const h=d?e[f+2]*a[f]:u[f],p=s(e[f+2],a[f],i[f],t[f],n[f],h);l(p,r,i,f,f+c),d&&u.push(a[f]*(e[f+2]-1)+o[f]+(t[f]-1)*n[f]+1-i[f]-i[f+c])}})(t[0].dims,n,e.dilations,e.autoPad,r,e.strides,e.outputPadding,i);const a=Object.assign({},e);return Object.assign(a,{kernelShape:n,pads:r,outputShape:i,cacheKey:e.cacheKey}),a};t.parseConvTransposeAttributes=e=>{const t=e.attributes,n=(0,o.parseInternalActivationAttributes)(t),i=t.getString("auto_pad","NOTSET"),a=t.getInts("dilations",[1,1]),s=t.getInt("group",1),l=t.getInts("kernel_shape",[]),u=t.getInts("output_padding",[0,0]),c=t.getInts("output_shape",[]),d=t.getInts("pads",[0,0,0,0]),f=t.getInts("strides",[1,1]);return(0,r.createAttributeWithCacheKey)(Object.assign({autoPad:i,dilations:a,group:s,kernelShape:l,outputPadding:u,outputShape:c,pads:d,strides:f},n))};const f=(e,t)=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==e[0].dims.length||4!==e[1].dims.length)throw new Error("currently only support 2-dimensional conv");if(e[0].dims[1]!==e[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");const n=e[1].dims[1]*t.group;if(3===e.length&&(1!==e[2].dims.length||e[2].dims[0]!==n))throw new Error("invalid bias");const r=e[0].dims.length-2;if(t.dilations.length!==r)throw new Error(`dilations should be ${r}D`);if(t.strides.length!==r)throw new Error(`strides should be ${r}D`);if(t.pads.length!==2*r)throw new Error(`pads should be ${2*r}D`);if(t.outputPadding.length!==r)throw new Error(`output_padding should be ${r}D`);if(0!==t.kernelShape.length&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape");if(0!==t.outputShape.length&&t.outputShape.length!==e[0].dims.length-2)throw new Error("invalid output shape");if("float32"!==e[0].type||"float32"!==e[1].type)throw new Error("ConvTranspose input(X,W) should be float tensor");if(3===e.length&&"float32"!==e[2].type)throw new Error("ConvTranspose input(bias) should be float tensor")}},8138:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseConvAttributes=t.conv=t.calculateOutputShape=void 0;const r=n(246),i=n(2517),a=n(4770),o=n(1386),s=n(9828),l=n(2823),u=n(3248),c=n(5623);t.calculateOutputShape=(e,t,n,r,i)=>{const a=e[0],o=e.slice(2),s=o.length,l=t[0],u=t.slice(2).map(((e,t)=>e+(e-1)*(n[t]-1))),c=o.map(((e,t)=>e+r[t]+r[t+s])).map(((e,t)=>Math.floor((e-u[t]+i[t])/i[t])));return[a,l].concat(...c)},t.conv=(e,t,n)=>(g(t,n),d(e,t,n));const d=(e,t,n)=>{const r=p(n,t),i=e.session.pack,s=1===r.kernelShape[0]&&1===r.kernelShape[1];return r.group>1?[e.run((0,a.createUnpackedGroupedConvProgramInfoLoader)(e,t,r),t)]:s&&i?[f(e,t,r)]:i&&4===t[0].dims.length&&1===t[0].dims[0]&&!s?[(0,o.conv2DPacked)(e,t,r)]:[h(e,t,r)]},f=(e,n,r)=>{const i=n[0].dims,a=n[1].dims,o=(0,t.calculateOutputShape)(i,a,r.dilations,r.pads,r.strides),s=e.reshapeUnpacked(n[0],[i[1],i[2]*i[3]]),l=e.reshapeUnpacked(n[1],[a[0],a[1]]),u=n.length>2?[l,s,n[2]]:[l,s],d=e.run((0,c.createMatmulProgramInfoLoader)(u,r),u);return e.reshapeUnpacked(d,o)},h=(e,n,r)=>{const i=n[0].dims,a=n[1].dims,o=(0,t.calculateOutputShape)(i,a,r.dilations,r.pads,r.strides),l=e.run((0,u.createIm2ColProgramInfoLoader)(e,n[0],n[1],o,r),[n[0]]),c=3===n.length?[l,n[1],n[2]]:[l,n[1]];return e.run((0,s.createDotProductProgramInfoLoader)(e,n,o,r),c)},p=(e,t)=>{const n=e.kernelShape.slice();if(0===e.kernelShape.length)for(let i=2;i<t[1].dims.length;++i)n.push(t[1].dims[i]);const r=e.pads.slice();i.PoolConvUtil.adjustPadsBasedOnAutoPad(t[0].dims,e.strides,e.dilations,n,r,e.autoPad);const a=Object.assign({},e);return Object.assign(a,{kernelShape:n,pads:r,cacheKey:e.cacheKey}),a};t.parseConvAttributes=e=>{const t=e.attributes,n=(0,l.parseInternalActivationAttributes)(t),i=t.getString("auto_pad","NOTSET"),a=t.getInts("dilations",[1,1]),o=t.getInt("group",1),s=t.getInts("kernel_shape",[]),u=t.getInts("pads",[0,0,0,0]),c=t.getInts("strides",[1,1]);return(0,r.createAttributeWithCacheKey)(Object.assign({autoPad:i,dilations:a,group:o,kernelShape:s,pads:u,strides:c},n))};const g=(e,t)=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==e[0].dims.length||4!==e[1].dims.length)throw new Error("currently only support 2-dimensional conv");if(e[0].dims[1]!==e[1].dims[1]*t.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(3===e.length&&(1!==e[2].dims.length||e[1].dims[0]!==e[2].dims[0]))throw new Error("invalid bias");const n=e[0].dims.length-2;if(t.dilations.length!==n)throw new Error(`dilations should be ${n}D`);if(t.strides.length!==n)throw new Error(`strides should be ${n}D`);if(t.pads.length!==2*n)throw new Error(`pads should be ${2*n}D`);if(0!==t.kernelShape.length&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape");if("float32"!==e[0].type||"float32"!==e[1].type)throw new Error("Conv input(X,W) should be float tensor");if(3===e.length&&"float32"!==e[2].type)throw new Error("Conv input(bias) should be float tensor")}},5193:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDepthToSpaceAttributes=t.depthToSpace=void 0;const r=n(3738);t.depthToSpace=(e,t,n)=>{i(t);const a=n.blocksize,o=a*a,s="DCR"===n.mode?[0,3,4,1,5,2]:[0,1,4,2,5,3],l="DCR"===n.mode?[t[0].dims[0],a,a,t[0].dims[1]/o,t[0].dims[2],t[0].dims[3]]:[t[0].dims[0],t[0].dims[1]/o,a,a,t[0].dims[2],t[0].dims[3]],u=e.reshapeUnpacked(t[0],l),c={perm:s,cacheKey:`${s}`},[d]=(0,r.transpose)(e,[u],c),f=[t[0].dims[0],t[0].dims[1]/o,t[0].dims[2]*a,t[0].dims[3]*a];return[e.reshapeUnpacked(d,f)]},t.parseDepthToSpaceAttributes=e=>{const t=e.attributes.getInt("blocksize");if(t<1)throw new Error(`blocksize must be >= 1, but got : ${t} for DepthToSpace`);const n=e.attributes.getString("mode","DCR");if("DCR"!==n&&"CRD"!==n)throw new Error(`unrecognized mode: ${n} for DepthToSpace`);return{mode:n,blocksize:t}};const i=e=>{if(1!==e.length)throw new Error(`DepthToSpace expect 1 inputs, but got ${e.length}`);if("string"===e[0].type||4!==e[0].dims.length)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},9828:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDotProductProgramInfoLoader=void 0;const r=n(2517),i=n(5060),a=n(2039),o=n(2823),s=n(3248);t.createDotProductProgramInfoLoader=(e,t,n,l)=>{const u=((e,t)=>({name:"ConvDotProduct",inputNames:e?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:e?[a.TextureType.unpacked,a.TextureType.packedLastDimension,a.TextureType.unpacked]:[a.TextureType.unpacked,a.TextureType.packedLastDimension],cacheKey:t.activationCacheKey}))(t.length>2,l);return Object.assign(Object.assign({},u),{get:()=>((e,t,n,l,u)=>{const c=n[0].dims,d=n[1].dims,f=[d[0],Math.ceil(c[1]*d[2]*d[3]/4)],h=(0,s.calculateIm2ColDims)(c,d,l),[p,g]=e.calculateTextureWidthAndHeight(f,a.TextureType.packedLastDimension),m=r.ShapeUtil.computeStrides(h),[y,_]=e.calculateTextureWidthAndHeight(h,a.TextureType.packedLastDimension),b=l.length,v=n.length<3?"0.0":"_B(b)",w=Math.ceil(c[1]*d[2]*d[3]/4),{activationFunction:x,applyActivation:k}=(0,o.getActivationSnippet)(u),S=(0,i.getGlsl)(e.session.backend.glContext.version),T=`\n${x}\nfloat process(int indices[${b}]) {\n  int b[1];\n  b[0] = indices[1];\n  int im2col[4];\n  im2col[0] = indices[0];\n  im2col[1] = indices[2];\n  im2col[2] = indices[3];\n  int im2colOffset = im2col[0] * ${m[0]} + im2col[1] * ${m[1]} + im2col[2] * ${m[2]};\n  int kernelOffset = indices[1] * ${f[1]};\n  float value = ${v};\n  for (int i = 0; i < ${w}; ++i) {\n    vec2 im2colCoords = offsetToCoords(im2colOffset, ${y}, ${_});\n    vec2 kernelCoords = offsetToCoords(kernelOffset, ${p}, ${g});\n    value += dot(${S.texture2D}(Im2Col, im2colCoords), ${S.texture2D}(K, kernelCoords));\n    ++im2colOffset;\n    ++kernelOffset;\n  }\n  ${k}\n  return value;\n}`;return Object.assign(Object.assign({},t),{output:{dims:l,type:n[0].type,textureType:a.TextureType.unpacked},shaderSource:T})})(e,u,t,n,l)})}},7992:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseFlattenAttributes=t.flatten=void 0;const r=n(2517);t.flatten=(e,t,n)=>{i(t,n);const a=r.ShapeUtil.flattenShape(t[0].dims,n);return[e.reshapeUnpacked(t[0],a)]},t.parseFlattenAttributes=e=>e.attributes.getInt("axis",1);const i=(e,t)=>{if(!e||1!==e.length)throw new Error("Flatten requires 1 input.");const n=e[0].dims.length;if(0===n)throw new Error("scalar tensor is not supported.");if(t<-n||t>n)throw new Error("Invalid axis");if("string"===e[0].type)throw new Error("string tensor is not supported.")}},2823:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInternalActivationAttributes=t.getActivationSnippet=void 0;const r=n(2517),i=n(4909);t.getActivationSnippet=function(e){let t;switch(e.activation){case"Relu":t=(0,i.glslRelu)();break;case"Sigmoid":t=(0,i.glslSigmoid)();break;case"Clip":t=(0,i.glslClip)(e.clipMin,e.clipMax);break;default:return{activationFunction:"",applyActivation:""}}const n=t.name;return{activationFunction:t.body,applyActivation:`value = ${n}_(value);`}},t.parseInternalActivationAttributes=e=>{const t=e.getString("activation","");if("Clip"===t){const[n,i]=e.getFloats("activation_params",[r.MIN_CLIP,r.MAX_CLIP]);return{activation:t,clipMax:i,clipMin:n,activationCacheKey:`${t}:${n},${i}`}}return{activation:t,activationCacheKey:t}}},1253:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGatherAttributes=t.gather=void 0;const r=n(246),i=n(782),a=n(2517),o=n(2039);t.gather=(e,t,n)=>(u(t,n.axis),[e.run(l(e,t,n),t)]),t.parseGatherAttributes=e=>(0,r.createAttributeWithCacheKey)({axis:e.attributes.getInt("axis",0)});const s={name:"Gather",inputNames:["A","B"],inputTypes:[o.TextureType.unpacked,o.TextureType.unpacked]},l=(e,t,n)=>{const r=Object.assign(Object.assign({},s),{cacheHint:n.cacheKey});return Object.assign(Object.assign({},r),{get:()=>((e,t,n,r)=>{const i=n[0].dims.slice(),s=n[1].dims.slice(),l=new Array(i.length+s.length-1);r=a.ShapeUtil.normalizeAxis(r,i.length);const u=[];for(let a=0;a<l.length;a++)a<r?(l[a]=i[a],u.push(`inputIdx[${a}] = outputIdx[${a}];`)):a<r+s.length?(l[a]=s[a-r],u.push(`indexDataIdx[${a-r}] = outputIdx[${a}];`)):(l[a]=i[a-s.length+1],u.push(`inputIdx[${a-s.length+1}] = outputIdx[${a}];`));const c=`\n      float process(int outputIdx[${l.length||1}]) {\n        int inputIdx[${i.length}];\n        int indexDataIdx[${s.length||1}];\n        indexDataIdx[0] = 0;\n        ${u.join("\n        ")}\n        int idx = int(_B(indexDataIdx));\n        inputIdx[${r}] = idx < 0 ? idx + ${i[r]} : idx;\n        return _A(inputIdx);\n      }`;return Object.assign(Object.assign({},t),{output:{dims:l,type:n[0].type,textureType:o.TextureType.unpacked},shaderSource:c})})(0,r,t,n.axis)})},u=(e,t)=>{if(!e||2!==e.length)throw new Error("Gather requires 2 inputs.");const n=e[0].dims.length;if(n<1)throw new Error("Invalid input shape.");if(t<-n||t>n-1)throw new Error("Invalid axis.");if(-1===i.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invaid input type.");if("int32"!==e[1].type&&"int16"!==e[1].type)throw new Error("Invaid input type.")}},4776:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGemmAttributesV11=t.parseGemmAttributesV7=t.gemm=void 0;const r=n(246),i=n(2517),a=n(2039);t.gemm=(e,t,n)=>(u(t,n),[e.run(s(t,n),t)]);const o=(e,t)=>{const n=0!==e.attributes.getInt("transA",0),i=0!==e.attributes.getInt("transB",0),a=e.attributes.getFloat("alpha",1),o=e.attributes.getFloat("beta",1);return(0,r.createAttributeWithCacheKey)({transA:n,transB:i,alpha:a,beta:o,isOptionalC:t})};t.parseGemmAttributesV7=e=>o(e,!1),t.parseGemmAttributesV11=e=>o(e,!0);const s=(e,t)=>{const n={name:"Gemm",inputNames:3===e.length?["A","B","C"]:["A","B"],inputTypes:3===e.length?[a.TextureType.unpacked,a.TextureType.unpacked,a.TextureType.unpacked]:[a.TextureType.unpacked,a.TextureType.unpacked],key:t.cacheKey};return Object.assign(Object.assign({},n),{get:()=>l(n,e,t)})},l=(e,t,n)=>{const r=t[0].dims.slice(),o=t[1].dims.slice(),[s,l]=i.GemmUtil.getShapeOfGemmResult(r,n.transA,o,n.transB,3===t.length?t[2].dims:void 0),u=[s,l];if(!u)throw new Error("Can't use gemm on the given tensors");let c=r[r.length-1],d="";n.transA&&(c=r[0]),n.transA&&n.transB?d="value += _A_T(a) * _B_T(b);":n.transA&&!n.transB?d="value += _A_T(a) * _B(b);":!n.transA&&n.transB?d="value += _A(a) * _B_T(b);":n.transA||n.transB||(d="value += _A(a) * _B(b);");const f=u.length,h=`\n      float process(int indices[${f}]) {\n          int a[${f}];\n          int b[${f}];\n          ${3===t.length?`int c[${t[2].dims.length}];`:""}\n\n          copyVec(indices, a);\n          copyVec(indices, b);\n          ${3===t.length?"bcastIndices_C(indices, c);":""}\n\n          float value = 0.0;\n          for (int k=0; k<${c}; ++k) {\n              a[${f-1}] = k;\n              b[${f-2}] = k;\n              ${d}\n          }\n\n          value = value * alpha;\n          ${3===t.length?"value += beta * _C(c);":""}\n          return value;\n      }`;return Object.assign(Object.assign({},e),{output:{dims:u,type:t[0].type,textureType:a.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:n.alpha},{name:"beta",type:"float",data:n.beta}],shaderSource:h})},u=(e,t)=>{if(!e)throw new Error("Input is missing");if(t.isOptionalC&&(e.length<2||e.length>3))throw new Error("Invaid input shape.");if(!t.isOptionalC&&3!==e.length)throw new Error("Gemm requires 3 inputs");if(3===e.length&&1!==e[2].dims.length&&2!==e[2].dims.length)throw new Error("Invalid input shape of C");if("float32"!==e[0].type&&"float64"!==e[0].type||"float32"!==e[1].type&&"float64"!==e[1].type||3===e.length&&"float32"!==e[2].type&&"float64"!==e[2].type)throw new Error("Invalid input type.");if(e[0].type!==e[1].type||3===e.length&&e[0].type!==e[2].type)throw new Error("Input types are mismatched")}},8555:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPackedIm2ColProgramInfoLoader=void 0;const r=n(5060),i=n(2039),a=n(2827);t.createPackedIm2ColProgramInfoLoader=(e,t,n,o,s)=>{const l=(u=s.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[i.TextureType.packed],cacheHint:u});var u;return Object.assign(Object.assign({},l),{get:()=>((e,t,n,o,s,l)=>{const u=n.dims,c=o.dims,d=s.length,f=[c[1]*c[2]*c[3],s[2]*s[3]],h=c[2]*c[3],p=(0,a.unpackFromChannel)(),g=(0,r.getGlsl)(e.session.backend.glContext.version);let m="";for(let r=0;r<=1;r++)for(let e=0;e<=1;e++)m+=`\n            blockIndex = rc.x + ${e};\n            pos = rc.y + ${r};\n\n            if(blockIndex < ${f[1]} && pos < ${f[0]}) {\n              offsetY = int(blockIndex / (${s[d-1]})) * ${l.strides[0]} -\n                ${l.pads[0]};\n              d0 = offsetY + ${l.dilations[0]} * (imod(pos, ${h}) / ${c[2]});\n\n              if(d0 < ${u[2]} && d0 >= 0) {\n                offsetX = imod(blockIndex, ${s[d-1]}) * ${l.strides[1]} -\n                  ${l.pads[1]};\n                d1 = offsetX + ${l.dilations[1]} * imod(imod(pos, ${h}), ${c[2]});\n\n                if(d1 < ${u[3]} && d1 >= 0) {\n\n                  ch = int(float(pos)/ ${h}.);\n                    innerDims = vec2(d0, d1);\n                    result[${2*r+e}] = getChannel(\n                      getA(0, ch, int(innerDims.x),\n                      int(innerDims.y)), innerDims);\n                }\n              }\n            }\n\n          `;const y=`\n      ${p}\n\n      void main() {\n        ivec2 rc = getOutputCoords();\n          vec4 result = vec4(0.0);\n          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n          vec2 innerDims;\n          ${m}\n          ${g.output} = result;\n      }\n            `;return Object.assign(Object.assign({},t),{output:{dims:f,type:n.type,textureType:i.TextureType.packed},shaderSource:y,hasMain:!0})})(e,l,t,n,o,s)})}},3248:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateIm2ColDims=t.createIm2ColProgramInfoLoader=void 0;const r=n(2039);t.createIm2ColProgramInfoLoader=(e,n,i,a,o)=>{const s=(l=o.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[r.TextureType.unpacked],cacheHint:l});var l;return Object.assign(Object.assign({},s),{get:()=>((e,n,i,a,o,s)=>{const l=i.dims,u=a.dims,c=o.length,d=(0,t.calculateIm2ColDims)(l,u,o,4),f=`\n        const int XC = ${l[1]};\n        const int XH = ${l[2]};\n        const int XW = ${l[3]};\n        const int KH = ${s.kernelShape[0]};\n        const int KW = ${s.kernelShape[1]};\n        const int dilationH = ${s.dilations[0]};\n        const int dilationW = ${s.dilations[1]};\n        const int strideH = ${s.strides[0]};\n        const int strideW = ${s.strides[1]};\n        const int padH = ${s.pads[0]};\n        const int padW = ${s.pads[1]};\n        const int KHKW = KH*KW;\n        const int XCKHKW = XC * KHKW;\n        const int outputChannels = 4;\n        vec4 process(int indices[${c}]) {\n          int b  = indices[0]; // batch size\n          int oh = indices[1] * strideH - padH; //output height\n          int ow = indices[2] * strideW - padW; //output width\n          int p = indices[3] * outputChannels; //patch\n          vec4 value = vec4(0.0);\n          for(int i=0; i < outputChannels; ++i) {\n            if(p < XCKHKW) {\n              int patchC = p / KHKW;\n              int patchH = (p - patchC*KHKW) / KW;\n              int patchW = (p - patchC*KHKW) - patchH * KW;\n              int xh2 = oh + patchH * dilationH;\n              int xw2 = ow + patchW * dilationW;\n              int x[${l.length}];\n              x[0] = b;\n              x[1] = patchC;\n              x[2] = xh2;\n              x[3] = xw2;\n              if(xh2 >= 0 &&\n                  xh2 < XH &&\n                  xw2 >= 0 &&\n                  xw2 < XW) {\n                value[i] = _X(x);\n              }\n            }\n            ++p;\n          }\n          return value;\n        }\n        `;return Object.assign(Object.assign({},n),{output:{dims:d,type:i.type,textureType:r.TextureType.packedLastDimension},shaderSource:f})})(0,s,n,i,a,o)})},t.calculateIm2ColDims=(e,t,n,r=4)=>[n[0],n[2],n[3],Math.ceil(e[1]*t[2]*t[3]/r)]},6572:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseImageScalerAttributes=t.imageScaler=void 0;const r=n(246),i=n(2039);t.imageScaler=(e,t,n)=>(l(t),[e.run(o(e,t,n),t)]),t.parseImageScalerAttributes=e=>{const t=e.attributes.getFloat("scale"),n=e.attributes.getFloats("bias");return(0,r.createAttributeWithCacheKey)({scale:t,bias:n})};const a={name:"ImageScaler",inputNames:["X"],inputTypes:[i.TextureType.unpacked]},o=(e,t,n)=>{const r=Object.assign(Object.assign({},a),{cacheHint:n.cacheKey});return Object.assign(Object.assign({},r),{get:()=>((e,t,n,r)=>{const a=n[0].dims.slice(),o=a.length,l=`\n      ${s(r.bias.length)}\n      float process(int indices[${o}]) {\n        return _X(indices) * scale + getBias(bias, indices[1]);\n      }`;return Object.assign(Object.assign({},t),{output:{dims:a,type:n[0].type,textureType:i.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:r.bias.length,data:r.bias},{name:"scale",type:"float",data:r.scale}],shaderSource:l})})(0,r,t,n)})},s=e=>{const t=[`float getBias(float bias[${e}], int channel) {`];for(let n=0;n<e;++n)0===n?t.push(`\tif (channel == ${n}) { return bias[${n}]; }`):n===e-1?t.push(`\telse { return bias[${n}]; }`):t.push(`\telse if (channel == ${n}) { return bias[${n}]; }`);return t.push("\t}"),t.join("\n")},l=e=>{if(!e||1!==e.length)throw new Error("ImageScaler requires 1 input.");if(4!==e[0].dims.length)throw new Error("Invalid input shape.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.")}},3346:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInstanceNormalizationAttributes=t.instanceNormalization=void 0;const r=n(5060),i=n(2039);t.instanceNormalization=(e,t,n)=>{u(t);const r=e.run(o(t[0]),t);return[e.run(l(e,t[0],n,r.dims),[t[0],r,t[1],t[2]])]},t.parseInstanceNormalizationAttributes=e=>e.attributes.getFloat("epsilon",1e-5);const a={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[i.TextureType.unpacked]},o=e=>Object.assign(Object.assign({},a),{get:()=>((e,t)=>{const n=t.dims.slice(),r=n[1],a=n[2]*n[3],o=[n[0],r],s=`\n      vec4 process(int[2] indices) {\n        vec4 v = vec4(0.0);\n        int a[4];\n        a[0] = indices[0];\n        a[1] = indices[1];\n        float temp = 0.0;\n        for(int a2=0; a2<${n[2]}; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<${n[3]}; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += x;\n          }\n        }\n        float mean = temp / float(${a});\n        temp = 0.0;\n        for(int a2=0; a2<${n[2]}; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<${n[3]}; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += (x - mean) * (x - mean);\n          }\n        }\n        v.r = mean;\n        v.g = temp / float(${a});\n\n        return v;\n      }`;return Object.assign(Object.assign({},e),{output:{dims:o,type:t.type,textureType:i.TextureType.packedLastDimension},shaderSource:s})})(a,e)}),s={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[i.TextureType.unpacked,i.TextureType.packedLastDimension,i.TextureType.unpacked,i.TextureType.unpacked]},l=(e,t,n,a)=>{const o=Object.assign(Object.assign({},s),{cacheHint:`${n}`});return Object.assign(Object.assign({},o),{get:()=>((e,t,n,a,o)=>{const s=(0,r.getGlsl)(e.session.backend.glContext.version),[l,u]=e.calculateTextureWidthAndHeight(o,i.TextureType.packedLastDimension),[c,d]=[l/4,u],f=`\n      vec4 get_MeanAndVariance(int[2] mv) {\n        int offset = indicesToOffset_MeanAndVariance(mv);\n        vec2 coords = offsetToCoords(offset, ${c}, ${d});\n        return ${s.texture2D}(MeanAndVariance, coords);\n      }\n\n      float process(int[4] indices) {\n        int mv[2];\n        mv[0] = indices[0];\n        mv[1] = indices[1];\n        vec4 mean_and_variance = get_MeanAndVariance(mv);\n        float mean = mean_and_variance.r;\n        float variance = mean_and_variance.g;\n\n        int sb[1];\n        sb[0] = indices[1];\n        float scale = _Scale(sb);\n        float b = _B(sb);\n\n        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;\n      }`;return Object.assign(Object.assign({},t),{output:{dims:n.dims,type:n.type,textureType:i.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:a}],shaderSource:f})})(e,o,t,n,a)})},u=e=>{if(!e||3!==e.length)throw new Error("InstanceNormalization requires 3 inputs.");const t=e[0],n=e[1],r=e[2];if(t.dims.length<3||1!==n.dims.length||1!==r.dims.length)throw new Error("Invalid input shape.");if(n.dims[0]!==t.dims[1]||r.dims[0]!==t.dims[1])throw new Error("Input shapes are mismatched.");if("float32"!==t.type&&"float64"!==t.type||"float32"!==n.type&&"float64"!==n.type||"float32"!==r.type&&"float64"!==r.type)throw new Error("Invalid input type.");if(4!==e[0].dims.length)throw new Error("Only support 4-D input shape.")}},708:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPackedMatmulProgramInfoLoader=void 0;const r=n(2517),i=n(5060),a=n(2039),o=n(9390),s=n(2823),l=n(5623);t.createPackedMatmulProgramInfoLoader=(e,t,n)=>{const u=(c=t.length>2,d=n.activationCacheKey,{name:"MatMul (packed)",inputNames:c?["A","B","Bias"]:["A","B"],inputTypes:c?[a.TextureType.packed,a.TextureType.packed,a.TextureType.packed]:[a.TextureType.packed,a.TextureType.packed],cacheHint:d});var c,d;return Object.assign(Object.assign({},u),{get:()=>((e,t,n,u)=>{const c=n.length>2,d=c?"value += getBiasForMatmul();":"",f=n[0].dims,h=n[1].dims,p=r.BroadcastUtil.calcShape(f,h,!0),g=!r.ShapeUtil.areEqual(n[0].dims,n[1].dims);if(!p)throw new Error("Can't use matmul on the given tensors");const m=f[f.length-1],y=Math.ceil(m/2),_=f.length,b=h.length,v=(0,i.getGlsl)(e.session.backend.glContext.version),w=(0,o.getCoordsDataType)(p.length),x=p.length,k=(0,o.getGlChannels)(),{activationFunction:S,applyActivation:T}=(0,s.getActivationSnippet)(u),E=c?`${(0,l.getBiasForMatmul)(w,k,n[2].dims,p,!0)}`:"",A=g?`${function(e,t,n,i){let a=[],o=[];const s=n[0].dims,l=n[1].dims,u=s.length,c=l.length,d=i.length,f=d-u,h=d-c;a=s.map(((e,n)=>`coords.${t[n+f]}`)),a[u-1]="i*2",a.join(", "),o=l.map(((e,n)=>`coords.${t[n+h]}`)),o[c-2]="i*2",o.join(", ");const p=r.BroadcastUtil.getBroadcastDims(s,i),g=r.BroadcastUtil.getBroadcastDims(l,i),m=p.map((e=>`coords.${t[e+f]} = 0;`)).join("\n"),y=g.map((e=>`coords.${t[e+h]} = 0;`)).join("\n"),_=`int lastDim = coords.${t[d-1]};\n  coords.${t[d-1]} = coords.${t[d-2]};\n  coords.${t[d-2]} = lastDim;`;return`\nvec4 getAAtOutCoordsMatmul(int i) {\n  ${e} coords = getOutputCoords();\n  ${_}\n  ${m}\n  vec4 outputValue = getA(${a});\n  return outputValue;\n}\n\nvec4 getBAtOutCoordsMatmul(int i) {\n  ${e} coords = getOutputCoords();\n  ${_}\n  ${y}\n  vec4 outputValue = getB(${o});\n  return outputValue;\n}`}(w,k,n,p)}`:"",O=g?"getAAtOutCoordsMatmul(i)":`getA(${function(e,t){let n="";for(let r=0;r<t-2;r++)n+=`rc.${e[r]}, `;return n+=`rc.${e[t-2]}, i*2`,n}(k,_)})`,C=g?"getBAtOutCoordsMatmul(i)":`getB(${function(e,t){let n="";for(let r=0;r<t-2;r++)n+=`rc.${e[r]}, `;return n+=`i*2, rc.${e[t-1]}`,n}(k,b)})`,I=`\n            ${A}\n            ${E}\n            ${S}\n            void main() {\n              ${g?"":`${w} rc =\n          getOutputCoords(); int lastDim = rc.${k[x-1]}; rc.${k[x-1]} =\n          rc.${k[x-2]}; rc.${k[x-2]} = lastDim;\n      `}\n\n              vec4 value = vec4(0);\n              for (int i = 0; i < ${y}; i++) {\n                vec4 a = ${O};\n                vec4 b = ${C};\n\n                value += (a.rrbb * b.rgrg);\n                value += (a.ggaa * b.baba);\n              }\n              ${d}\n              ${T}\n              ${v.output} = value;\n            }`;return Object.assign(Object.assign({},t),{output:{dims:p,type:n[0].type,textureType:a.TextureType.packed},shaderSource:I,hasMain:!0})})(e,u,t,n)})}},5623:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBiasForMatmul=t.createMatmulProgramInfoLoader=t.parseMatMulAttributes=t.matMul=void 0;const r=n(2517),i=n(2039),a=n(9390),o=n(2823),s=n(708);function l(e,t){const n=(s=e.length>2,l=t.activationCacheKey,{name:"MatMul",inputNames:s?["A","B","Bias"]:["A","B"],inputTypes:s?[i.TextureType.unpacked,i.TextureType.unpacked,i.TextureType.unpacked]:[i.TextureType.unpacked,i.TextureType.unpacked],cacheHint:l});var s,l;return Object.assign(Object.assign({},n),{get:()=>function(e,t,n){const s=t[0].dims,l=t[1].dims,u=r.BroadcastUtil.calcShape(s,l,!0);if(!u)throw new Error("Can't use matmul on the given tensors");const d=(0,a.getCoordsDataType)(u.length),f=(0,a.getGlChannels)(),{activationFunction:h,applyActivation:p}=(0,o.getActivationSnippet)(n),g=t.length>2,m=g?"value += getBiasForMatmul();":"",y=g?`${c(d,f,t[2].dims,u,!1)}`:"",_=u.length,b=s.length,v=l.length,w=`\n    ${h}\n    ${y}\n    float process(int indices[${_}]) {\n        int a[${b}];\n        int b[${v}];\n        bcastMatmulIndices_A(indices, a);\n        bcastMatmulIndices_B(indices, b);\n\n        float value;\n        for (int k=0; k<${s[s.length-1]}; ++k) {\n            a[${b-1}] = k;\n            b[${v-2}] = k;\n            value += _A(a) * _B(b);\n        }\n        ${m}\n        ${p}\n        return value;\n    }`;return Object.assign(Object.assign({},e),{output:{dims:u,type:t[0].type,textureType:i.TextureType.unpacked},shaderSource:w})}(n,e,t)})}t.matMul=(e,t,n)=>(u(t),e.session.pack?[e.run((0,s.createPackedMatmulProgramInfoLoader)(e,t,n),t)]:[e.run(l(t,n),t)]),t.parseMatMulAttributes=e=>(0,o.parseInternalActivationAttributes)(e.attributes),t.createMatmulProgramInfoLoader=l;const u=e=>{if(!e||2!==e.length)throw new Error("MatMul requires 2 inputs.");if(e[0].dims[e[0].dims.length-1]!==e[1].dims[e[1].dims.length-2])throw new Error("shared dimension does not match.");if("float32"!==e[0].type&&"float64"!==e[0].type||"float32"!==e[1].type&&"float64"!==e[1].type)throw new Error("inputs should be float type");if(e[0].type!==e[1].type)throw new Error("inputs types should match")};function c(e,t,n,i,a){let o="";const s=n.length,l=i.length,u=l-s;o=l<2&&s>0?"coords":n.map(((e,n)=>`coords.${t[n+u]}`)).join(", ");const c=r.BroadcastUtil.getBroadcastDims(n,i).map((e=>`coords.${t[e+u]} = 0;`)).join("\n");let d="vec4(outputValue.xx, outputValue.yy)";return 1===r.ShapeUtil.size(n)&&(d="vec4(outputValue.x)"),a?`\nvec4 getBiasForMatmul() {\n  ${e} coords = getOutputCoords();\n  ${c}\n  vec4 outputValue = getBias(${o});\n  return ${d};\n}`:`\nfloat getBiasForMatmul() {\n  ${e} coords = getOutputCoords();\n  ${c}\n  return getBias(coords.x);\n}`}t.getBiasForMatmul=c},2403:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPackProgramInfoLoader=void 0;const r=n(5060),i=n(2039),a=n(9390),o=n(2827),s={name:"pack",inputNames:["A"],inputTypes:[i.TextureType.unpackedReversed]};t.createPackProgramInfoLoader=(e,t)=>Object.assign(Object.assign({},s),{get:()=>((e,t)=>{const n=(0,r.getGlsl)(e.session.backend.glContext.version),l=t.dims,u=l.length,c=t.dims.length,d=(0,a.getCoordsDataType)(c),f=(0,o.getChannels)("rc",c),h=(p=c,g=f,m=l[l.length-2],y=l[l.length-1],0===p||1===p?"":`\n    int r = ${g[p-2]};\n    int c = ${g[p-1]};\n    int rp1 = ${g[p-2]} + 1;\n    int cp1 = ${g[p-1]} + 1;\n    bool rEdge = rp1 >= ${y};\n    bool cEdge = cp1 >= ${m};\n    `);var p,g,m,y;let _;_=0===u?[1,1]:1===u?[l[0],1]:[l[c-1],l[c-2]];const b=function(e,t,n){if(0===e)return"false";if(1===e)return`rc > ${t[0]}`;let r="";for(let i=e-2;i<e;i++)r+=`${n[i]} >= ${t[i-e+2]}`,i<e-1&&(r+="||");return r}(c,_,f),v=function(e,t){const n=e.length;if(0===n)return"getA(), 0, 0, 0";if(1===n)return`getA(rc),\n            rc + 1 >= ${e[0]} ? 0. : getA(rc + 1),\n            0, 0`;let r="";if(n>2)for(let i=0;i<n-2;++i)r+=`${t[i]},`;return`getA(${r}r, c),\n          rEdge ? 0. : getA(${r}rp1, c),\n          cEdge ? 0. : getA(${r}r, cp1),\n          rEdge || cEdge ? 0. : getA(${r}rp1, cp1)`}(l,f),w=`\n        void main() {\n          ${d} rc = getOutputCoords();\n\n          if(${b}) {\n            ${n.output} = vec4(0);\n          } else {\n            ${h}\n\n            ${n.output} = vec4(${v});\n          }\n        }\n      `;return Object.assign(Object.assign({},s),{hasMain:!0,output:{dims:t.dims,type:t.type,textureType:i.TextureType.packed},shaderSource:w})})(e,t)})},2827:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpackFromChannel=t.getChannels=t.getVecChannels=void 0;const r=n(9390);function i(e,t){return(0,r.getGlChannels)(t).map((t=>`${e}.${t}`))}t.getVecChannels=i,t.getChannels=function(e,t){return 1===t?[e]:i(e,t)},t.unpackFromChannel=function(){return"\n    float getChannel(vec4 frag, int dim) {\n      int modCoord = imod(dim, 2);\n      return modCoord == 0 ? frag.r : frag.g;\n    }\n\n    float getChannel(vec4 frag, vec2 innerDims) {\n      vec2 modCoord = mod(innerDims, 2.);\n      return modCoord.x == 0. ?\n        (modCoord.y == 0. ? frag.r : frag.g) :\n        (modCoord.y == 0. ? frag.b : frag.a);\n    }\n  "}},2870:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePadAttributesV11=t.padV11=t.parsePadAttributesV2=t.padV2=void 0;const r=n(246),i=n(2517),a=n(5060),o=n(2039),s={name:"Pad",inputNames:["A"],inputTypes:[o.TextureType.unpacked]};t.padV2=(e,t,n)=>(c(t),[e.run(Object.assign(Object.assign({},s),{cacheHint:n.cacheKey,get:()=>u(e,t[0],n)}),t)]),t.parsePadAttributesV2=e=>{const t=e.attributes.getString("mode","constant"),n=e.attributes.getFloat("value",0),i=e.attributes.getInts("pads");return(0,r.createAttributeWithCacheKey)({mode:t,value:n,pads:i})},t.padV11=(e,n,r)=>{d(n);const i=l(e,n,r);return(0,t.padV2)(e,[n[0]],i)},t.parsePadAttributesV11=e=>e.attributes.getString("mode","constant");const l=(e,t,n)=>{if(!e.session.isInitializer(t[1].dataId)||t.length>=3&&!e.session.isInitializer(t[2].dataId))throw new Error("dynamic pad attributes are not allowed");const i=Array.from(t[1].integerData),a=t.length>=3?t[2].floatData[0]:0;return(0,r.createAttributeWithCacheKey)({mode:n,pads:i,value:a})},u=(e,t,n)=>{const r=i.ShapeUtil.padShape(t.dims.slice(),n.pads),a=r.length,s=`\n      ${f(e,t,n)}\n      float process(int[${a}] indices) {\n          return padA(indices);\n      }`;return{name:"Pad",inputNames:["A"],inputTypes:[o.TextureType.unpacked],output:{dims:r,type:t.type,textureType:o.TextureType.unpacked},shaderSource:s}},c=e=>{if(!e||1!==e.length)throw new Error("Pad requires 1 input");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.")},d=e=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Pad requires 2 or 3 inputs");if("int32"!==e[1].type)throw new Error("Invalid input type.");if(e.length>=3&&"string"===e[2].type)throw new Error("Invalid input type.")},f=(e,t,n)=>{const r=(0,a.getGlsl)(e.session.backend.glContext.version),[s,l]=e.calculateTextureWidthAndHeight(t.dims,o.TextureType.unpacked),u=i.ShapeUtil.computeStrides(t.dims);switch(n.mode){case"constant":return h(r,t.dims,u,s,l,n.pads,n.value);case"reflect":return p(r,t.dims,u,s,l,n.pads);case"edge":return g(r,t.dims,u,s,l,n.pads);default:throw new Error("Invalid mode")}},h=(e,t,n,r,i,a,o)=>{const s=t.length;let l="";for(let u=s-1;u>=0;--u)l+=`\n        k = m[${u}] - ${a[u]};\n        if (k < 0)  return constant;\n        if (k >= ${t[u]}) return constant;\n        offset += k * ${n[u]};\n        `;return`\n      float padA(int m[${s}]) {\n        const float constant = float(${o});\n        int offset = 0;\n        int k = 0;\n        ${l}\n        vec2 coords = offsetToCoords(offset, ${r}, ${i});\n        float value = getColorAsFloat(${e.texture2D}(A, coords));\n        return value;\n      }\n      `},p=(e,t,n,r,i,a)=>{const o=t.length;let s="";for(let l=o-1;l>=0;--l)s+=`\n        k = m[${l}] - ${a[l]};\n        if (k < 0) { k = -k; }\n        {\n          const int _2n_1 = ${2*(t[l]-1)};\n          k = int( mod( float(k), float(_2n_1) ) ) ;\n          if(k >= ${t[l]}) { k = _2n_1 - k; }\n        }\n        offset += k * ${n[l]};\n        `;return`\n      float padA(int m[${o}]) {\n        int offset = 0;\n        int k = 0;\n        ${s}\n        vec2 coords = offsetToCoords(offset, ${r}, ${i});\n        float value = getColorAsFloat(${e.texture2D}(A, coords));\n        return value;\n      }\n      `},g=(e,t,n,r,i,a)=>{const o=t.length;let s="";for(let l=o-1;l>=0;--l)s+=`\n        k = m[${l}] - ${a[l]};\n        if (k < 0)  k = 0;\n        if (k >= ${t[l]}) k = ${t[l]-1};\n        offset += k * ${n[l]};\n      `;return`\n      float padA(int m[${o}]) {\n        int offset = 0;\n        int k = 0;\n        ${s}\n        vec2 coords = offsetToCoords(offset, ${r}, ${i});\n        float value = getColorAsFloat(${e.texture2D}(A, coords));\n        return value;\n      }\n      `}},2143:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalMaxPool=t.parseMaxPoolAttributes=t.maxPool=t.parseGlobalAveragePoolAttributes=t.globalAveragePool=t.parseAveragePoolAttributes=t.averagePool=void 0;const r=n(246),i=n(2517),a=n(2039);t.averagePool=(e,t,n)=>{d(t);const r={name:"AveragePool",inputNames:["X"],inputTypes:[a.TextureType.unpacked],cacheHint:n.cacheKey};return[e.run(Object.assign(Object.assign({},r),{get:()=>o(t,r,!1,n)}),t)]},t.parseAveragePoolAttributes=e=>{const t=e.attributes.getString("auto_pad","NOTSET"),n=e.attributes.getInt("ceil_mode",0),i=0!==e.attributes.getInt("count_include_pad",0),a=e.attributes.getInts("kernel_shape"),o=e.attributes.getInts("strides",[]),s=e.attributes.getInts("pads",[]);if(0!==n)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,r.createAttributeWithCacheKey)({autoPad:t,ceilMode:n,countIncludePad:i,kernelShape:a,strides:o,pads:s})};const o=(e,t,n,r)=>{const[o,s]=l(e,r,n),u=i.ShapeUtil.size(o.kernelShape);let c="";o.countIncludePad?c+=`value /= float(${u});`:c+=`value /= float(${u} - pad);`;const d=`\n        ${f(e[0].dims,o,"value += _X(x);",c,"0.0")}\n      `;return Object.assign(Object.assign({},t),{output:{dims:s,type:e[0].type,textureType:a.TextureType.unpacked},shaderSource:d})};t.globalAveragePool=(e,t,n)=>{d(t);const r={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[a.TextureType.unpacked],cacheHint:`${n.countIncludePad}`};return[e.run(Object.assign(Object.assign({},r),{get:()=>o(t,r,!0,n)}),t)]},t.parseGlobalAveragePoolAttributes=e=>{const t=0!==e.attributes.getInt("count_include_pad",0);return(0,r.createAttributeWithCacheKey)({autoPad:"",ceilMode:0,countIncludePad:t,kernelShape:[],strides:[],pads:[]})},t.maxPool=(e,t,n)=>{d(t);const r={name:"MaxPool",inputNames:["X"],inputTypes:[a.TextureType.unpacked],cacheHint:n.cacheKey};return[e.run(Object.assign(Object.assign({},r),{get:()=>s(t,r,!1,n)}),t)]},t.parseMaxPoolAttributes=e=>{const t=e.attributes.getString("auto_pad","NOTSET"),n=e.attributes.getInt("ceil_mode",0),i=e.attributes.getInts("kernel_shape"),a=e.attributes.getInts("strides",[]),o=e.attributes.getInts("pads",[]),s=e.attributes.getInt("storage_order",0),l=e.attributes.getInts("dilations",[]);if(0!==s)throw new Error("column major storage order is not yet supported for MaxPool");if(0!==n)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,r.createAttributeWithCacheKey)({autoPad:t,ceilMode:n,countIncludePad:!1,kernelShape:i,strides:a,pads:o,storageOrder:s,dilations:l})};const s=(e,t,n,r)=>{const[i,o]=l(e,r,n),s=`\n      ${f(e[0].dims,i,"\n      value = max(_X(x), value);\n    ","","-1e5")}\n    `;return Object.assign(Object.assign({},t),{output:{dims:o,type:e[0].type,textureType:a.TextureType.unpacked},shaderSource:s})},l=(e,t,n)=>{const r=e[0].dims.slice(),a=Object.hasOwnProperty.call(t,"dilations"),o=t.kernelShape.slice(),s=t.strides.slice(),l=a?t.dilations.slice():[],u=t.pads.slice();i.PoolConvUtil.adjustPoolAttributes(n,r,o,s,l,u);const c=i.PoolConvUtil.computePoolOutputShape(n,r,s,l,o,u,t.autoPad),d=Object.assign({},t);return a?Object.assign(d,{kernelShape:o,strides:s,pads:u,dilations:l,cacheKey:t.cacheKey}):Object.assign(d,{kernelShape:o,strides:s,pads:u,cacheKey:t.cacheKey}),[d,c]},u={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},c={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[a.TextureType.unpacked]};t.globalMaxPool=(e,t)=>(d(t),[e.run(Object.assign(Object.assign({},c),{get:()=>s(t,c,!0,u)}),t)]);const d=e=>{if(!e||1!==e.length)throw new Error("Pool ops requires 1 input.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.")},f=(e,t,n,r,a)=>{const o=e.length;if(t.kernelShape.length<=2){const i=t.kernelShape[t.kernelShape.length-1],s=t.strides[t.strides.length-1],l=t.pads[t.pads.length/2-1],u=t.pads[t.pads.length-1],c=e[o-1];let d="",f="",h="";if(d=l+u!==0?`\n          for (int i = 0; i < ${i}; i++) {\n            x[${o} - 1] = indices[${o} - 1] * ${s} - ${l} + i;\n            if (x[${o} - 1] < 0 || x[${o} - 1] >= ${c}) {\n              pad++;\n              continue;\n            }\n            ${n}\n          }`:`\n          for (int i = 0; i < ${i}; i++) {\n            x[${o} - 1] = indices[${o} - 1] * ${s} - ${l} + i;\n            ${n}\n          }`,2===t.kernelShape.length){const n=t.kernelShape[t.kernelShape.length-2],r=t.strides[t.strides.length-2],a=t.pads[t.pads.length/2-2],s=t.pads[t.pads.length-2],l=e[o-2];f=a+s!==0?`\n            for (int j = 0; j < ${n}; j++) {\n              x[${o} - 2] = indices[${o} - 2] * ${r} - ${a} + j;\n              if (x[${o} - 2] < 0 || x[${o} - 2] >= ${l}) {\n                pad+= ${i};\n                continue;\n              }\n          `:`\n            for (int j = 0; j < ${n}; j++) {\n              x[${o} - 2] = indices[${o} - 2] * ${r} - ${a} + j;\n            `,h="\n          }\n        "}return`\n        float process(int indices[${o}]) {\n          int x[${o}];\n          copyVec(indices, x);\n\n          float value = ${a};\n          int pad = 0;\n          ${f}\n          ${d}\n          ${h}\n          ${r}\n          return value;\n        }\n      `}{const s=i.ShapeUtil.size(t.kernelShape),l=i.ShapeUtil.computeStrides(t.kernelShape),u=l.length,c=t.pads.length,d=p(u),f=h(e,"inputDims"),g=h(t.pads,"pads"),m=h(l,"kernelStrides"),y=h(t.strides,"strides");let _="";return _=t.pads.reduce(((e,t)=>e+t))?`\n            if (x[j] >= inputDims[j] || x[j] < 0) {\n              pad++;\n              isPad = true;\n              break;\n            }\n          }\n          if (!isPad) {\n            ${n}\n          }`:`\n          }\n          ${n}\n        `,`\n        ${d}\n        float process(int indices[${o}]) {\n          int x[${o}];\n          copyVec(indices, x);\n          int offset[${u}];\n          int pads[${c}];\n          int inputDims[${o}];\n          int kernelStrides[${u}];\n          int strides[${u}];\n          ${g}\n          ${f}\n          ${y}\n          ${m}\n\n          float value = ${a};\n          int pad = 0;\n          bool isPad = false;\n          for (int i = 0; i < ${s}; i++) {\n            offsetToIndices(i, kernelStrides, offset);\n            isPad = false;\n            for (int j = ${o} - ${u}; j < ${o}; j++) {\n              x[j] = indices[j] * strides[j - ${o} + ${u}]\n                + offset[j - ${o} + ${u}] - pads[j - 2];\n              ${_}\n          }\n          ${r}\n\n          return value;\n        }\n      `}},h=(e,t)=>{let n="";for(let r=0;r<e.length;r++)n+=`\n      ${t}[${r}] = ${e[r]};\n    `;return n},p=e=>`\n  void offsetToIndices(int offset, int[${e}] strides, out int[${e}] indices) {\n    if (${e} == 0) {\n      return;\n    }\n    for (int i = 0; i < ${e} - 1; ++i) {\n      indices[i] = offset / strides[i];\n      offset -= indices[i] * strides[i];\n    }\n    indices[${e} - 1] = offset;\n  }`},4939:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reduceLogSumSquare=t.reduceLogSum=t.reduceProd=t.reduceMin=t.reduceMax=t.reduceMean=t.reduceSum=t.parseReduceAttributes=void 0;const r=n(246),i=n(782),a=n(2517),o=n(2039),s=(e,t,n,r,i)=>{u(t);const a={name:r,inputNames:["A"],inputTypes:[o.TextureType.unpacked]};return[e.run(Object.assign(Object.assign({},a),{cacheHint:n.cacheKey,get:()=>l(e,t,n,r,i,a)}),t)]};t.parseReduceAttributes=e=>{const t=e.attributes.getInts("axes",[]),n=1===e.attributes.getInt("keepdims",1);return(0,r.createAttributeWithCacheKey)({axes:t,keepDims:n})};const l=(e,t,n,r,i,s)=>{const l=[],u=t[0].dims.length||1,c=[],d=a.ShapeUtil.normalizeAxes(n.axes,t[0].dims.length),f=i(t,d);let h=f[1];for(let a=0;a<t[0].dims.length;a++)d.indexOf(a)>=0||0===d.length?(n.keepDims&&l.push(1),h=`\n          for(int j${a} = 0; j${a} < ${t[0].dims[a]}; j${a}++) {\n            inputIdx[${a}] = j${a};\n            ${h}\n          }`):(c.push(`inputIdx[${a}] = outputIdx[${l.length}];`),l.push(t[0].dims[a]));const p=`\n      float process(int outputIdx[${l.length||1}]) {\n        float value;                 // final result\n        int inputIdx[${u}];      // addressing input data\n        ${c.join("\n")}\n        ${f[0]}       // init ops for reduce max/min\n        ${h}\n        ${f[2]}       // final computation for reduce mean\n        return value;\n      }`;return Object.assign(Object.assign({},s),{output:{dims:l,type:t[0].type,textureType:o.TextureType.unpacked},shaderSource:p})},u=e=>{if(!e||1!==e.length)throw new Error("Reduce op requires 1 input.");if(-1===i.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invalid input type.")};t.reduceSum=(e,t,n)=>s(e,t,n,"ReduceSum",(()=>["value = 0.0;","value += _A(inputIdx);",""])),t.reduceMean=(e,t,n)=>s(e,t,n,"ReduceMean",((e,t)=>{let n=1;for(let r=0;r<e[0].dims.length;r++)(t.indexOf(r)>=0||0===t.length)&&(n*=e[0].dims[r]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${n}.;`]})),t.reduceMax=(e,t,n)=>s(e,t,n,"ReduceMax",((e,t)=>{const n=[];for(let r=0;r<e[0].dims.length;r++)(t.indexOf(r)>=0||0===t.length)&&n.push(`inputIdx[${r}] = 0;`);return[`${n.join("\n")}\nvalue = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]})),t.reduceMin=(e,t,n)=>s(e,t,n,"ReduceMin",((e,t)=>{const n=[];for(let r=0;r<e[0].dims.length;r++)(t.indexOf(r)>=0||0===t.length)&&n.push(`inputIdx[${r}] = 0;`);return[`${n.join("\n")}\nvalue = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]})),t.reduceProd=(e,t,n)=>s(e,t,n,"ReduceProd",(()=>["value = 1.0;","value *= _A(inputIdx);",""])),t.reduceLogSum=(e,t,n)=>s(e,t,n,"ReduceLogSum",(()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"])),t.reduceLogSumSquare=(e,t,n)=>s(e,t,n,"ReduceLogSumSquare",(()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""]))},7019:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isReshapeCheap=t.processDims3D=t.createPackedReshape3DProgramInfoLoader=void 0;const r=n(2517),i=n(5060),a=n(2039),o=n(2827);t.createPackedReshape3DProgramInfoLoader=(e,t,n)=>{const s=(e=>({name:"Reshape (packed)",inputTypes:[a.TextureType.packed],inputNames:["A"],cacheHint:`${e}`}))(n);return Object.assign(Object.assign({},s),{get:()=>((e,t,n,s)=>{const l=t.dims,u=s;let c="";for(let r=0;r<4;r++){let e="";switch(r){case 0:e="outputCoords = rc;";break;case 1:e="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:e="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:e="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}c+=`\n        ${e}\n        ${r>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}\n          int flattenedIndex = getFlattenedIndex(outputCoords);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);\n          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${r}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);\n\n        ${r>0?"}":""}\n      `}const d=(0,i.getGlsl)(e.session.backend.glContext.version),f=`\n      ${function(e){const t=r.ShapeUtil.computeStrides(e),n=["b","r","c"],i="index";return`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${t.map(((e,r)=>`int ${n[r]} = ${i} / ${e}; ${r===t.length-1?`int ${n[r+1]} = ${i} - ${n[r]} * ${e}`:`index -= ${n[r]} * ${e}`};`)).join("")}\n      return ivec3(b, r, c);\n    }\n  `}(l)}\n      ${function(e){const t=r.ShapeUtil.computeStrides(e);return`\n  int getFlattenedIndex(ivec3 coords) {\n    // reverse y, z order\n    return coords.x * ${t[0]} + coords.z * ${t[1]} + coords.y;\n  }\n`}(u)}\n      ${(0,o.unpackFromChannel)()}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.0);\n\n        ivec3 outputCoords;\n        int rows = ${u[2]};\n        int cols = ${u[1]};\n\n        ${c}\n        ${d.output} = result;\n      }\n    `;return Object.assign(Object.assign({},n),{output:{dims:u,type:t.type,textureType:a.TextureType.packed},shaderSource:f,hasMain:!0})})(e,t,s,n)})},t.processDims3D=function(e){if(0===e.length)return[1,1,1];let t=1;for(let n=0;n<e.length-2;++n)t*=e[n];return[t,e.length>1?e[e.length-2]:1,e[e.length-1]]},t.isReshapeCheap=function(e,t){let n=!1;return n=0===e.length||0===t.length||(e.length<2||t.length<2?e[e.length-1]===t[t.length-1]:e[e.length-1]===t[t.length-1]&&e[e.length-2]===t[t.length-2]),n}},718:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reshape=void 0;const r=n(2517);t.reshape=(e,t)=>{const n=r.ShapeUtil.calculateReshapedDims(t[0].dims,t[1].integerData);return e.session.pack?[e.reshapePacked(t[0],n)]:[e.reshapeUnpacked(t[0],n)]}},2268:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseResizeAttributesV11=t.parseResizeAttributesV10=t.resize=void 0;const r=n(5060),i=n(2039),a=n(9390),o=n(2827),s=n(9793),l={name:"Resize",inputNames:["A"],inputTypes:[i.TextureType.packed]};t.resize=(e,t,n)=>((0,s.validateInputs)(t,n),[e.run(Object.assign(Object.assign({},l),{cacheHint:n.cacheKey,get:()=>u(e,t,n)}),t)]),t.parseResizeAttributesV10=e=>(0,s.parseUpsampleAttributes)(e,10),t.parseResizeAttributesV11=e=>(0,s.parseUpsampleAttributes)(e,11);const u=(e,t,n)=>{const s=(0,r.getGlsl)(e.session.backend.glContext.version),[u,d]=c(t,n);if(u.every((e=>1===e))&&"tf_crop_and_resize"!==n.coordinateTransformMode)return Object.assign(Object.assign({},l),{output:{dims:d,type:t[0].type,textureType:i.TextureType.packed},hasMain:!0,shaderSource:`void main() {\n                    vec4 v = ${s.texture2D}(X, TexCoords);\n                    ${s.output} = v;\n                }`});const f=d.length;if(f<2)throw new Error(`output dimension should be at least 2, but got ${f}`);const h=d[f-2],p=d[f-1],g=t[0].dims;if(f!==g.length)throw new Error(`output dimension should match input ${g.length}, but got ${f}`);const m=g[f-2],y=g[f-1],_=u[f-2],b=u[f-1];let v="";if("linear"!==n.mode)throw new Error(`resize (packed) does not support mode: '${n.mode}'`);switch(n.coordinateTransformMode){case"asymmetric":v="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return vec4(coords) / scaleWHWH;\n                    }\n                ";break;case"half_pixel":v="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;\n                    }\n                ";break;case"pytorch_half_pixel":v=`\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        vec4 fcoords = vec4(coords);\n                        return vec4(\n                            ${p}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,\n                            ${h}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,\n                            ${p}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,\n                            ${h}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0\n                          );\n                    }\n                `;break;case"align_corners":v=`\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        vec4 resized = vec4(${p}.0 - 1.0, ${h}.0 - 1.0, ${p}.0 - 1.0,\n                            ${h}.0 - 1.0);\n                        vec4 original = vec4(${y}.0 - 1.0, ${m}.0 - 1.0, ${y}.0 - 1.0,\n                            ${m}.0 - 1.0);\n                        vec4 new_scale = original / resized;\n                        return vec4(coords) * new_scale;\n                    }\n                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${n.coordinateTransformMode}'`)}const w=(0,a.getCoordsDataType)(f),x=`\n            const vec2 inputWH = vec2(${m}.0, ${y}.0);\n            const vec4 scaleWHWH = vec4(float(${_}), float(${b}), float(${_}), float(${b}));\n            ${(0,o.unpackFromChannel)()}\n            ${v}\n            float getAValue(int x10, int r, int c, int d) {\n                return getChannel(getA(x10, r, c, d), vec2(c, d));\n            }\n            void main() {\n                ${w} rc = getOutputCoords();\n\n                int batch = rc[0];\n                int depth = rc[1];\n\n                // retrieve the 4 coordinates that is used in the 4 packed output values.\n                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);\n\n                // calculate the source index in fraction\n                vec4 sourceFrac = getSourceFracIndex(coords);\n\n                // get the lower and upper bound of the 4 values that will be packed into one texel.\n                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));\n                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));\n                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));\n                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));\n\n                bool hasNextRow = rc.w < ${h-1};\n                bool hasNextCol = rc.z < ${p-1};\n\n                // pack x00, x01, x10, x11's top-left corner into one vec4 structure\n                vec4 topLeft = vec4(\n                    getAValue(batch, depth, x00.x, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11's top-right corner into one vec4 structure\n                vec4 topRight = vec4(\n                    getAValue(batch, depth, x00.x, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);\n\n                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure\n                vec4 bottomLeft = vec4(\n                    getAValue(batch, depth, x00.z, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure\n                vec4 bottomRight = vec4(\n                    getAValue(batch, depth, x00.z, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);\n\n                // calculate the interpolation fraction on u and v direction\n                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);\n                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));\n\n                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);\n                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);\n                vec4 newValue = mix(top, bottom, clampFrac.xxzz);\n\n                ${s.output} = vec4(newValue);\n            }\n        `;return Object.assign(Object.assign({},l),{output:{dims:d,type:t[0].type,textureType:i.TextureType.packed},hasMain:!0,shaderSource:x})},c=(e,t)=>{const n=e[0].dims;let r,i=t.scales;if(0===i.length){const a=e[t.scalesInputIdx];if(a&&0!==a.size){if(e[t.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");i=d(a,t.mode,t.isResize)}else{const a=e[t.sizesInputIdx];if(!a||0===a.size)throw new Error("Either scales or sizes MUST be provided as input.");r=Array.from(a.integerData),i=f(r,n,t.mode,t.isResize)}}else if(e[t.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const a=r||n.map(((e,t)=>Math.floor(e*i[t])));return[i,a]},d=(e,t,n)=>{const r=Array.from(e.floatData);return(0,s.scalesValidation)(r,t,n),r},f=(e,t,n,r)=>{const i=t.length,a=new Array(i);for(let o=0,s=i;o<s;o++)if(0===t[o]){if(0!==e[o])throw new Error("Input dim is zero but required output dim is non-zero.");a[o]=1}else a[o]=e[o]/t[o];return(0,s.scalesValidation)(a,n,r),a}},8117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shape=void 0;const r=n(9162);t.shape=(e,t)=>(i(t),[new r.Tensor([t[0].dims.length],"int32",void 0,void 0,new Int32Array(t[0].dims))]);const i=e=>{if(!e||1!==e.length)throw new Error("Shape requires 1 input.")}},2278:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sliceV10=t.parseSliceAttributes=t.slice=void 0;const r=n(246),i=n(782),a=n(2517),o=n(2039),s={name:"Slice",inputNames:["A"],inputTypes:[o.TextureType.unpacked]};t.slice=(e,t,n)=>(u(t),[e.run(Object.assign(Object.assign({},s),{cacheHint:n.cacheKey,get:()=>l(e,t[0],n)}),t)]),t.parseSliceAttributes=e=>{const t=e.attributes.getInts("starts"),n=e.attributes.getInts("ends"),i=e.attributes.getInts("axes",[]);return(0,r.createAttributeWithCacheKey)({starts:t,ends:n,axes:i})};const l=(e,t,n)=>{const r=0===n.axes.length?t.dims.slice(0).map(((e,t)=>t)):n.axes,i=a.ShapeUtil.normalizeAxes(r,t.dims.length),l=n.starts.map(((e,n)=>e>t.dims[i[n]]-1?t.dims[i[n]]:a.ShapeUtil.normalizeAxis(e,t.dims[i[n]]))),u=n.ends.map(((e,n)=>e>t.dims[i[n]]-1?t.dims[i[n]]:a.ShapeUtil.normalizeAxis(e,t.dims[i[n]]))),c=t.dims.slice(),d=[];for(let a=0;a<i.length;a++)c[i[a]]=u[a]-l[a],l[a]>0&&d.push(`outputIdx[${i[a]}] += ${l[a]};`);const f=`\n      float process(int outputIdx[${c.length}]) {\n        ${d.join("\n      ")}\n        return _A(outputIdx);\n      }`;return Object.assign(Object.assign({},s),{output:{dims:c,type:t.type,textureType:o.TextureType.unpacked},shaderSource:f})},u=e=>{if(!e||1!==e.length)throw new Error("Slice requires 1 input.");if(-1===i.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invalid input type.")};t.sliceV10=(e,t)=>{d(t);const n=c(e,t);return[e.run(Object.assign(Object.assign({},s),{cacheHint:n.cacheKey,get:()=>l(e,t[0],n)}),[t[0]])]};const c=(e,t)=>{if(!e.session.isInitializer(t[1].dataId)||!e.session.isInitializer(t[2].dataId)||t.length>=4&&!e.session.isInitializer(t[3].dataId)||t.length>=5&&!e.session.isInitializer(t[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(t.length>=5&&t[4].integerData.some((e=>1!==e)))throw new Error("currently non-1 steps is not supported for Slice");const n=Array.from(t[1].integerData),r=Array.from(t[2].integerData),i=t.length>=4?Array.from(t[3].integerData):[];return{starts:n,ends:r,axes:i,cacheKey:`${i};${n};${r}`}},d=e=>{if(!e||e.length<3||e.length>5)throw new Error("Invalid input number.");if("int32"!==e[1].type||1!==e[1].dims.length)throw new Error("Invalid input type.");if("int32"!==e[2].type||1!==e[2].dims.length)throw new Error("Invalid input type.");if(e.length>=4&&("int32"!==e[3].type||1!==e[3].dims.length))throw new Error("Invalid input type.");if(e.length>=5&&("int32"!==e[4].type||1!==e[4].dims.length))throw new Error("Invalid input type.")}},5524:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.softmaxV13=t.parseSoftmaxAttributesV13=t.parseSoftmaxAttributes=t.softmax=void 0;const r=n(246),i=n(2517),a=n(5060),o=n(2039),s=n(3738),l={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[o.TextureType.unpacked]},u={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[o.TextureType.unpacked,o.TextureType.unpacked]},c={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[o.TextureType.unpacked,o.TextureType.unpacked,o.TextureType.unpacked]};t.softmax=(e,t,n)=>{g(t);const r=t[0].dims.slice(),a=i.ShapeUtil.normalizeAxis(n.axis,r.length),o=i.ShapeUtil.sizeToDimension(r,a),s=i.ShapeUtil.sizeFromDimension(r,a);return d(e,t,n,o,s)},t.parseSoftmaxAttributes=e=>(0,r.createAttributeWithCacheKey)({axis:e.attributes.getInt("axis",1)}),t.parseSoftmaxAttributesV13=e=>(0,r.createAttributeWithCacheKey)({axis:e.attributes.getInt("axis",-1)}),t.softmaxV13=(e,t,n)=>{g(t);const a=t[0].dims.slice(),o=i.ShapeUtil.normalizeAxis(n.axis,a.length),l=a.length,u=o!==l-1,c=[];let f,h=[],p=[];u&&(h=Array.from({length:l}).map(((e,t)=>t)),h[o]=l-1,h[l-1]=o,h.map((e=>c.push(a[e]))),f=(0,r.createAttributeWithCacheKey)({perm:h}),p=(0,s.transpose)(e,t,f));const m=u?i.ShapeUtil.sizeToDimension(c,l-1):i.ShapeUtil.sizeToDimension(a,l-1),y=u?i.ShapeUtil.sizeFromDimension(c,l-1):i.ShapeUtil.sizeFromDimension(a,l-1),_=d(e,u?p:t,n,m,y);return u?(0,s.transpose)(e,_,f):_};const d=(e,t,n,r,i)=>{const a=f(e,t[0],r,i,[r]),o=e.run(Object.assign(Object.assign({},l),{cacheHint:n.cacheKey,get:()=>a}),t),s=h(e,t[0],r,i,a.output.dims,[r]),d=e.run(Object.assign(Object.assign({},u),{cacheHint:n.cacheKey,get:()=>s}),[t[0],o]),g=p(e,t[0],r,i,a.output.dims,s.output.dims);return[e.run(Object.assign(Object.assign({},c),{cacheHint:n.cacheKey,get:()=>g}),[t[0],o,d])]},f=(e,t,n,r,i)=>{const[s,u]=e.calculateTextureWidthAndHeight(t.dims,o.TextureType.unpacked),c=i.length;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==i.length)throw new Error("Dimensionality of the output should be 1");if(i[0]!==n)throw new Error("Shape of the output should be equal to logical row count");const d=(0,a.getGlsl)(e.session.backend.glContext.version),f=`\n      float process(int[${c}] indices) {\n        int logical_row_start_offset = indices[0] * ${r};\n\n        float max = getColorAsFloat(${d.texture2D}(A, offsetToCoords(logical_row_start_offset, ${s},\n        ${u} )));\n        for(int i=1; i<${r}; ++i)\n        {\n          float current = getColorAsFloat(${d.texture2D}(A, offsetToCoords(logical_row_start_offset + i,\n            ${s}, ${u})));\n          if(current > max)\n          max = current;\n        }\n\n        return max;\n      }`;return Object.assign(Object.assign({},l),{output:{dims:i,type:t.type,textureType:o.TextureType.unpacked},shaderSource:f})},h=(e,t,n,r,i,s)=>{const[l,c]=e.calculateTextureWidthAndHeight(t.dims,o.TextureType.unpacked),d=s.length;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==s.length)throw new Error("Dimensionality of the output should be 1");if(s[0]!==n)throw new Error("Shape of the output should be equal to logical row count");if(1!==i.length)throw new Error("Dimensionality of the intermediate results should be 1");if(i[0]!==n)throw new Error("Shape of the intermediate results should be equal to logical row count");const f=`\n      float process(int[${d}] indices) {\n        int logical_row_start_offset = indices[0] * ${r};\n\n        float norm_factor = 0.0;\n        float max = _Max(indices);\n        for(int i=0; i<${r}; ++i)\n        {\n          norm_factor += exp(getColorAsFloat(${(0,a.getGlsl)(e.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,\n            ${l}, ${c}))) - max);\n        }\n\n        return norm_factor;\n      }`;return Object.assign(Object.assign({},u),{output:{dims:s,type:t.type,textureType:o.TextureType.unpacked},shaderSource:f})},p=(e,t,n,r,i,a)=>{const[s,l]=e.calculateTextureWidthAndHeight(t.dims,o.TextureType.unpacked),u=t.dims.length;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==i.length||1!==a.length)throw new Error("Dimensionality of the intermediate results should be 1");if(i[0]!==n||a[0]!==n)throw new Error("Shape of the intermediate results should be equal to logical row count");const d=`\n      float process(int[${u}] indices) {\n\n      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)\n      int offset = coordsToOffset(TexCoords, ${s}, ${l});\n\n      //determine the logical row for this index\n      int logical_row_index[1];\n      logical_row_index[0] = offset / ${r};\n\n      float norm_factor = _Norm(logical_row_index);\n\n      // avoid possible division by 0\n      // if norm_facor is 0, all elements are zero\n      // if so, return 0\n      if(norm_factor == 0.0)\n        return 0.0;\n\n      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;\n    }`;return Object.assign(Object.assign({},c),{output:{dims:t.dims,type:t.type,textureType:o.TextureType.unpacked},shaderSource:d})},g=e=>{if(!e||1!==e.length)throw new Error("Softmax requires 1 input.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type")}},5975:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSplitAttributes=t.split=void 0;const r=n(246),i=n(2517),a=n(2039),o={name:"Split",inputNames:["A"],inputTypes:[a.TextureType.unpacked]};t.split=(e,t,n)=>{u(t);const r=i.ShapeUtil.normalizeAxis(n.axis,t[0].dims.length),a=s(e,t,r,n),c=[];for(let i=0;i<a;++i)c.push(e.run(Object.assign(Object.assign({},o),{cacheHint:`${n.cacheKey};${i}`,get:()=>l(e,t[0],n,r,i)}),t));return c},t.parseSplitAttributes=e=>{const t=e.attributes.getInt("axis",0),n=e.attributes.getInts("split",[]),i=e.outputs.length;return(0,r.createAttributeWithCacheKey)({axis:t,split:n,numOutputs:i})};const s=(e,t,n,r)=>{const[,a]=i.SplitUtil.splitShape(t[0].dims,n,r.split,r.numOutputs);return a.length},l=(e,t,n,r,s)=>{const[l,u]=i.SplitUtil.splitShape(t.dims,r,n.split,n.numOutputs),c=u[s],d=l[s],f=`\n      float process(int indices[${d.length}]) {\n        indices[${r}] += ${c};\n        return _A(indices);\n      }\n    `;return Object.assign(Object.assign({},o),{cacheHint:`${n.cacheKey}:${s}`,output:{dims:d,type:t.type,textureType:a.TextureType.unpacked},shaderSource:f})},u=e=>{if(!e||1!==e.length)throw new Error("Split requires one input.");if("int8"!==e[0].type&&"uint8"!==e[0].type&&"int16"!==e[0].type&&"uint16"!==e[0].type&&"int32"!==e[0].type&&"uint32"!==e[0].type&&"float32"!==e[0].type&&"float64"!==e[0].type&&"bool"!==e[0].type)throw new Error("Invalid input type.")}},3933:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSqueezeAttributes=t.squeezeV13=t.squeeze=void 0;const r=n(2517);t.squeeze=(e,t,n)=>{i(t);const a=r.ShapeUtil.squeezeShape(t[0].dims,n);return[e.reshapeUnpacked(t[0],a)]},t.squeezeV13=(e,n)=>(a(n),(0,t.squeeze)(e,[n[0]],Array.from(n[1].integerData))),t.parseSqueezeAttributes=e=>e.attributes.getInts("axes");const i=e=>{if(!e||1!==e.length)throw new Error("Squeeze requires 1 input.");if("string"===e[0].type)throw new Error("invalid input tensor types.")},a=e=>{if(!e||2!==e.length)throw new Error("Squeeze requires 2 inputs.");if("int32"!==e[1].type)throw new Error("Invalid input type.")}},6558:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sum=void 0;const r=n(5060),i=n(2039);t.sum=(e,t)=>{o(t);const n={name:"Sum",inputNames:t.map(((e,t)=>`X${t}`)),inputTypes:new Array(t.length).fill(i.TextureType.unpacked)};return[e.run(Object.assign(Object.assign({},n),{get:()=>a(e,t,n)}),t)]};const a=(e,t,n)=>{const a=(0,r.getGlsl)(e.session.backend.glContext.version),o=t[0].dims.slice(),s=`\n      void main() {\n        vec4 result = ${t.map(((e,t)=>`${a.texture2D}(X${t},TexCoords)`)).join(" + ")};\n        ${a.output} = result;\n      }\n    `;return Object.assign(Object.assign({},n),{output:{dims:o,type:t[0].type,textureType:i.TextureType.unpacked},hasMain:!0,shaderSource:s})},o=e=>{if(!e||0===e.length)throw new Error("Sum requires inputs.");const t=e[0].dims.length;for(let n=1;n<e.length;n++){if(t!==e[n].dims.length)throw new Error("Input shapes are mismatched.");for(let r=0;r<t;r++)if(e[0].dims[r]!==e[n].dims[r])throw new Error("Input shapes are not matched.")}if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.");for(let n=1;n<e.length;n++)if(e[0].type!==e[n].type)throw new Error("Input types are not matched.")}},5723:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tile=void 0;const r=n(782),i=n(2039);t.tile=(e,t)=>{o(t);const n={name:"Tile",inputNames:["A"],inputTypes:[i.TextureType.unpacked]};return[e.run(Object.assign(Object.assign({},n),{get:()=>a(e,t,n)}),t)]};const a=(e,t,n)=>{const r=t[0].dims.slice(),a=new Array(r.length),o=[];for(let i=0;i<r.length;i++)a[i]=r[i]*t[1].numberData[i],o.push(`inputIdx[${i}] = int(mod(float(outputIdx[${i}]), ${r[i]}.));`);const s=a.length,l=`\n      float process(int outputIdx[${s}]) {\n        int inputIdx[${s}];\n        ${o.join("\n")}\n        return _A(inputIdx);\n      }\n    `;return Object.assign(Object.assign({},n),{output:{dims:a,type:t[0].type,textureType:i.TextureType.unpacked},shaderSource:l})},o=e=>{if(!e||2!==e.length)throw new Error("Tile requires 2 input.");if(1!==e[1].dims.length)throw new Error("The second input shape must 1 dimension.");if(e[1].dims[0]!==e[0].dims.length)throw new Error("Invalid input shape.");if(-1===r.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invalid input type.");if("int32"!==e[1].type&&"int16"!==e[1].type)throw new Error("Invalid repeat type.")}},3738:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTransposeAttributes=t.transpose=void 0;const r=n(246),i=n(2517),a=n(2039),o={name:"Transpose",inputNames:["A"],inputTypes:[a.TextureType.unpacked]};t.transpose=(e,t,n)=>(d(t),[e.run(Object.assign(Object.assign({},o),{cacheHint:n.cacheKey,get:()=>s(e,t[0],n.perm)}),t)]),t.parseTransposeAttributes=e=>(0,r.createAttributeWithCacheKey)({perm:e.attributes.getInts("perm",[])});const s=(e,t,n)=>{const r=t.dims;n=l(r,n);const i=u(r,n),s=r.length,d=`\n      ${c("perm",n,s)}\n      float process(int indices[${s}]) {\n        int a[${s}];\n        perm(a, indices);\n        return _A(a);\n      }`;return Object.assign(Object.assign({},o),{output:{dims:i,type:t.type,textureType:a.TextureType.unpacked},shaderSource:d})},l=(e,t)=>(t&&t.length!==e.length&&(t=[...e.keys()].reverse()),t),u=(e,t)=>(t=l(e,t),i.ShapeUtil.sortBasedOnPerm(e,t)),c=(e,t,n)=>{const r=[];r.push(`void ${e}(out int a[${n}], int src[${n}]) {`);for(let i=0;i<n;++i)r.push(`\ta[${t[i]}]=src[${i}];`);return r.push("\t}"),r.join("\n")},d=e=>{if(!e||1!==e.length)throw new Error("Transpose requires 1 input.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("input should be float tensor")}},8710:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeAsUint8=void 0;const r=n(5060),i=n(2039);t.encodeAsUint8=(e,t)=>{const n=t.shape,a=(0,r.getGlsl)(e.session.backend.glContext.version),o=`\n    const float FLOAT_MAX = 1.70141184e38;\n    const float FLOAT_MIN = 1.17549435e-38;\n\n    bool isNaN(float val) {\n      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;\n    }\n\n    highp vec4 encodeAsUint8(highp float v) {\n      if (isNaN(v)) {\n        return vec4(255, 255, 255, 255);\n      }\n\n      highp float av = abs(v);\n\n      if(av < FLOAT_MIN) {\n        return vec4(0.0, 0.0, 0.0, 0.0);\n      } else if(v > FLOAT_MAX) {\n        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n      } else if(v < -FLOAT_MAX) {\n        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n      }\n\n      highp vec4 c = vec4(0,0,0,0);\n\n      highp float e = floor(log2(av));\n      highp float m = exp2(fract(log2(av))) - 1.0;\n\n      c[2] = floor(128.0 * m);\n      m -= c[2] / 128.0;\n      c[1] = floor(32768.0 * m);\n      m -= c[1] / 32768.0;\n      c[0] = floor(8388608.0 * m);\n\n      highp float ebias = e + 127.0;\n      c[3] = floor(ebias / 2.0);\n      ebias -= c[3] * 2.0;\n      c[2] += floor(ebias) * 128.0;\n\n      c[3] += 128.0 * step(0.0, -v);\n\n      return c / 255.0;\n    }\n\n    void main() {\n      float value = ${a.texture2D}(X,TexCoords).r;\n      ${a.output} = encodeAsUint8(value);\n    }`,s={name:"Uint8Encode",inputTypes:[i.TextureType.unpacked],inputNames:["X"],output:{dims:n,type:t.tensor.type,textureType:i.TextureType.downloadUint8AsFloat},shaderSource:o,hasMain:!0};return e.executeProgram(s,[t.tensor])}},4909:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tanh=t.tan=t.sqrt=t.sin=t.sigmoid=t.relu=t.not=t.neg=t.log=t.parseLeakyReluAttributes=t.leakyRelu=t.identity=t.floor=t.exp=t.parseEluAttributes=t.elu=t.cos=t.ceil=t.clipV11=t.parseClipAttributes=t.clip=t.atan=t.asin=t.acos=t.abs=t.glslTanh=t.glslTan=t.glslSqrt=t.glslSigmoid=t.glslRelu=t.glslSin=t.glslNot=t.glslNeg=t.glslLog=t.glslLeakyRelu=t.glslIdentity=t.glslClip=t.glslFloor=t.glslExp=t.glslElu=t.glslCos=t.glslCeil=t.glslAtan=t.glslAsin=t.glslAcos=t.glslAbs=void 0;const r=n(246),i=n(2517),a=n(8520),o=n(5060),s=n(2039);function l(){return C("abs")}function u(){return C("acos")}function c(){return C("asin")}function d(){return C("atan")}function f(){return C("ceil")}function h(){return C("cos")}function p(e){const t="elu";return{body:`\n  const float alpha = float(${e});\n\n  float ${t}_(float a) {\n    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;\n  }\n  vec4 ${t}_(vec4 v) {\n    return vec4(${t}_(v.x), ${t}_(v.y), ${t}_(v.z), ${t}_(v.w));\n  }\n  `,name:t,type:a.FunctionType.ValueBased}}function g(){return C("exp")}function m(){return C("floor")}function y(e,t){const n="clip";return{body:`\n  const float min = float(${e});\n  const float max = float(${t});\n\n  float ${n}_(float a) {\n    return clamp(a, min, max);\n  }\n  vec4 ${n}_(vec4 v) {\n    return clamp(v, min, max);\n  }\n  `,name:n,type:a.FunctionType.ValueBased}}function _(){const e="indentity";return{body:`\n  float ${e}_(float a) {\n    return a;\n  }\n  vec4 ${e}_(vec4 v) {\n    return v;\n  }\n  `,name:e,type:a.FunctionType.ValueBased}}function b(e){const t="leakyRelu";return{body:`\n  const float alpha = float(${e});\n\n  float ${t}_(float a) {\n    return a < 0.0 ? a * alpha : a;\n  }\n  vec4 ${t}_(vec4 v) {\n    return vec4(${t}_(v.x), ${t}_(v.y), ${t}_(v.z), ${t}_(v.w));\n  }\n  `,name:t,type:a.FunctionType.ValueBased}}function v(){return C("log")}function w(){const e="neg";return{body:`\n  float ${e}_(float a) {\n    return -a;\n  }\n  vec4 ${e}_(vec4 v) {\n    return -v;\n  }\n  `,name:e,type:a.FunctionType.ValueBased}}function x(){const e="not";return{body:`\n  float ${e}_(float a) {\n    return float( ! bool(a) );\n  }\n  bool ${e}_(bool a) {\n    return !a;\n  }\n  vec4 ${e}_(vec4 v) {\n    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));\n  }\n  bvec4 ${e}_(bvec4 v) {\n    return bvec4(!v.x, !v.y, !v.z, !v.w);\n  }\n  `,name:e,type:a.FunctionType.ValueBased}}function k(){return C("sin")}function S(){const e="relu";return{body:`\n  float ${e}_(float a) {\n    return max( a, 0.0 );\n  }\n  vec4 ${e}_(vec4 v) {\n    return max( v, 0.0 );\n  }\n  `,name:e,type:a.FunctionType.ValueBased}}function T(){const e="sigmoid";return{body:`\n  float ${e}_(float a) {\n    return 1.0 / (1.0 + exp(-a));\n  }\n  vec4 ${e}_(vec4 v) {\n    return 1.0 / (1.0 + exp(-v));\n  }\n  `,name:e,type:a.FunctionType.ValueBased}}function E(){return C("sqrt")}function A(){return C("tan")}function O(){const e="tanh";return{body:`\n  float ${e}_(float a) {\n    a = clamp(a, -10., 10.);\n    a = exp(2.*a);\n    return (a - 1.) / (a + 1.);\n  }\n  vec4 ${e}_(vec4 v) {\n    v = clamp(v, -10., 10.);\n    v = exp(2.*v);\n    return (v - 1.) / (v + 1.);\n  }\n  `,name:e,type:a.FunctionType.ValueBased}}function C(e){return{body:`\n  float ${e}_(float a) {\n    return ${e}(a);\n  }\n  vec4 ${e}_(vec4 v) {\n    return ${e}(v);\n  }\n  `,name:e,type:a.FunctionType.ValueBased}}t.glslAbs=l,t.glslAcos=u,t.glslAsin=c,t.glslAtan=d,t.glslCeil=f,t.glslCos=h,t.glslElu=p,t.glslExp=g,t.glslFloor=m,t.glslClip=y,t.glslIdentity=_,t.glslLeakyRelu=b,t.glslLog=v,t.glslNeg=w,t.glslNot=x,t.glslSin=k,t.glslRelu=S,t.glslSigmoid=T,t.glslSqrt=E,t.glslTan=A,t.glslTanh=O;const I=(e,t,n,r)=>{const i=e.session.pack?s.TextureType.packed:s.TextureType.unpacked,a={name:n.name,inputTypes:[i],inputNames:["A"],cacheHint:r};return Object.assign(Object.assign({},a),{get:()=>((e,t,n,r)=>{const i=e.session.pack?s.TextureType.packed:s.TextureType.unpacked,a=(0,o.getGlsl)(e.session.backend.glContext.version);return Object.assign(Object.assign({},t),{output:{dims:n.dims,type:n.type,textureType:i},shaderSource:`\n     ${r.body}\n     void main() {\n       vec4 v = ${a.texture2D}(A, TexCoords);\n       v = ${r.name}_(v);\n       ${a.output} = v;\n     }\n     `,hasMain:!0})})(e,a,t,n)})};t.abs=(e,t)=>[e.run(I(e,t[0],l()),t)],t.acos=(e,t)=>[e.run(I(e,t[0],u()),t)],t.asin=(e,t)=>[e.run(I(e,t[0],c()),t)],t.atan=(e,t)=>[e.run(I(e,t[0],d()),t)],t.clip=(e,t,n)=>[e.run(I(e,t[0],y(n.min,n.max),n.cacheKey),t)],t.parseClipAttributes=e=>(0,r.createAttributeWithCacheKey)({min:e.attributes.getFloat("min",i.MIN_CLIP),max:e.attributes.getFloat("max",i.MAX_CLIP)}),t.clipV11=(e,n)=>{const r=P(e,n);return(0,t.clip)(e,[n[0]],r)};const P=(e,t)=>{if(t.length>=3&&(!e.session.isInitializer(t[1].dataId)||!e.session.isInitializer(t[2].dataId)))throw new Error("dynamic clip attributes are not allowed");const n=t.length>=3?t[1].numberData[0]:i.MIN_CLIP,a=t.length>=3?t[2].numberData[0]:i.MAX_CLIP;return(0,r.createAttributeWithCacheKey)({min:n,max:a})};t.ceil=(e,t)=>[e.run(I(e,t[0],f()),t)],t.cos=(e,t)=>[e.run(I(e,t[0],h()),t)],t.elu=(e,t,n)=>[e.run(I(e,t[0],p(n.alpha),n.cacheKey),t)],t.parseEluAttributes=e=>(0,r.createAttributeWithCacheKey)({alpha:e.attributes.getFloat("alpha",1)}),t.exp=(e,t)=>[e.run(I(e,t[0],g()),t)],t.floor=(e,t)=>[e.run(I(e,t[0],m()),t)],t.identity=(e,t)=>[e.run(I(e,t[0],_()),t)],t.leakyRelu=(e,t,n)=>[e.run(I(e,t[0],b(n.alpha),n.cacheKey),t)],t.parseLeakyReluAttributes=e=>(0,r.createAttributeWithCacheKey)({alpha:e.attributes.getFloat("alpha",.01)}),t.log=(e,t)=>[e.run(I(e,t[0],v()),t)],t.neg=(e,t)=>[e.run(I(e,t[0],w()),t)],t.not=(e,t)=>[e.run(I(e,t[0],x()),t)],t.relu=(e,t)=>[e.run(I(e,t[0],S()),t)],t.sigmoid=(e,t)=>[e.run(I(e,t[0],T()),t)],t.sin=(e,t)=>[e.run(I(e,t[0],k()),t)],t.sqrt=(e,t)=>[e.run(I(e,t[0],E()),t)],t.tan=(e,t)=>[e.run(I(e,t[0],A()),t)],t.tanh=(e,t)=>[e.run(I(e,t[0],O()),t)]},5611:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUnpackProgramInfoLoader=t.createUnpackProgramInfo=void 0;const r=n(5060),i=n(2039),a=n(9390),o=n(2827),s={name:"unpack",inputNames:["A"],inputTypes:[i.TextureType.packed]};t.createUnpackProgramInfo=(e,t)=>{const n=t.dims.length,l=(0,o.getChannels)("rc",n),u=l.slice(-2),c=(0,a.getCoordsDataType)(n),d=(0,o.unpackFromChannel)(),f=0===t.dims.length?"":function(e,t){if(1===e)return"rc";let n="";for(let r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(n,l),h=n<=1?"rc":`vec2(${u.join(",")})`,p=`\n    ${d}\n    void main() {\n      ${c} rc = getOutputCoords();\n\n       // Sample the texture with the coords to get the rgba channel value.\n       vec4 packedInput = getA(${f});\n\n       ${(0,r.getGlsl)(e.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${h}), 0, 0, 0);\n     }\n   `;return Object.assign(Object.assign({},s),{hasMain:!0,output:{dims:t.dims,type:t.type,textureType:i.TextureType.unpacked},shaderSource:p})},t.createUnpackProgramInfoLoader=(e,n)=>Object.assign(Object.assign({},s),{get:()=>(0,t.createUnpackProgramInfo)(e,n)})},8428:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUnsqueezeAttributes=t.unsqueezeV13=t.unsqueeze=void 0;const r=n(2517);t.unsqueeze=(e,t,n)=>{i(t);const a=r.ShapeUtil.unsqueezeShape(t[0].dims,n);return[e.reshapeUnpacked(t[0],a)]},t.unsqueezeV13=(e,n)=>(a(n),(0,t.unsqueeze)(e,[n[0]],Array.from(n[1].integerData))),t.parseUnsqueezeAttributes=e=>e.attributes.getInts("axes");const i=e=>{if(!e||1!==e.length)throw new Error("Unsqueeze requires 1 input.");if("string"===e[0].type)throw new Error("invalid input tensor types.")},a=e=>{if(!e||2!==e.length)throw new Error("Unsqueeze requires 2 inputs.");if("int32"!==e[1].type)throw new Error("Invalid input type.")}},9793:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scalesValidation=t.validateInputs=t.parseUpsampleAttributes=t.parseUpsampleAttributesV9=t.parseUpsampleAttributesV7=t.upsample=void 0;const r=n(246),i=n(5060),a=n(2039),o={name:"Upsample",inputNames:["X"],inputTypes:[a.TextureType.unpacked]};t.upsample=(e,n,r)=>((0,t.validateInputs)(n,r),[e.run(Object.assign(Object.assign({},o),{cacheHint:r.cacheKey,get:()=>s(e,n,r)}),n)]),t.parseUpsampleAttributesV7=e=>(0,t.parseUpsampleAttributes)(e,7),t.parseUpsampleAttributesV9=e=>(0,t.parseUpsampleAttributes)(e,9),t.parseUpsampleAttributes=(e,n)=>{const i=n>=10,a=e.attributes.getString("mode","nearest");if("nearest"!==a&&"linear"!==a&&(n<11||"cubic"!==a))throw new Error(`unrecognized mode: ${a}`);let o=[];n<9&&(o=e.attributes.getFloats("scales"),(0,t.scalesValidation)(o,a,i));const s=e.attributes.getFloat("extrapolation_value",0),l=n>10?e.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(-1===["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(l))throw new Error(`coordinate_transform_mode '${l}' is not supported`);const u="tf_crop_and_resize"===l,c=u,d="nearest"===a&&n>=11?e.attributes.getString("nearest_mode","round_prefer_floor"):"";if(-1===["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(d))throw new Error(`nearest_mode '${d}' is not supported`);const f=e.attributes.getFloat("cubic_coeff_a",-.75),h=0!==e.attributes.getInt("exclude_outside",0);if(h&&"cubic"!==a)throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");const p=n<11||"nearest"===a&&"asymmetric"===l&&"floor"===d;let g=0,m=0,y=0;return n>10?e.inputs.length>2?(g=1,m=2,y=3):(m=1,y=2):9===n&&(m=1),(0,r.createAttributeWithCacheKey)({opset:n,isResize:i,mode:a,scales:o,extrapolationValue:s,coordinateTransformMode:l,useExtrapolation:c,needRoiInput:u,nearestMode:d,cubicCoefficientA:f,excludeOutside:h,useNearest2xOptimization:p,roiInputIdx:g,scalesInputIdx:m,sizesInputIdx:y})};const s=(e,t,n)=>{const r=(0,i.getGlsl)(e.session.backend.glContext.version),[s,l]=e.calculateTextureWidthAndHeight(t[0].dims,a.TextureType.unpacked),u=t[0].dims.map(((e,t)=>Math.floor(e*n.scales[t]))),[c,d]=e.calculateTextureWidthAndHeight(u,a.TextureType.unpacked),f=u.length,h=new Array(f),p=new Array(f);let g=`\n      int output_pitches[${f}];\n      int input_pitches[${f}];\n      `;for(let i=f-1;i>=0;i--)h[i]=i===f-1?1:h[i+1]*u[i+1],p[i]=i===f-1?1:p[i+1]*t[0].dims[i+1],g+=`\n        output_pitches[${i}] = ${h[i]};\n        input_pitches[${i}] = ${p[i]};\n        `;const m=`\n      float getInputFloat(int index) {\n        vec2 coords = offsetToCoords(index, ${s}, ${l});\n        float value = getColorAsFloat(${r.texture2D}(X, coords));\n        return value;\n      }\n      `,y="nearest"===n.mode?`\n    ${m}\n    float process(int indices[${f}]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ${c}, ${d});\n\n      ${g}\n\n      int d, m;\n      for (int dim = 0; dim < ${f}; ++dim) {\n        d = output_index / output_pitches[dim];\n        m = output_index - d * output_pitches[dim];\n        output_index = m;\n\n        if (scales[dim] != 1 && d > 0) {\n          int d2 = d / scales[dim];\n          m = d - d2 * scales[dim];\n          d = d2;\n        }\n        input_index += input_pitches[dim] * d;\n      }\n\n      return getInputFloat(input_index);\n    }`:4===f?`\n    ${m}\n    float process(int indices[4]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ${c}, ${d});\n\n      ${g}\n\n      int m;\n      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m / output_pitches[1];\n      m = m - index_of_dim1 * output_pitches[1];\n      index_of_dim2 = m / output_pitches[2];\n      m = m - index_of_dim2 * output_pitches[2];\n      index_of_dim3 = m;\n\n      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;\n      index_of_input_dim2 = index_of_dim2 / scales[2];\n      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];\n      index_of_input_dim3 = index_of_dim3 / scales[3];\n      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];\n\n      input_index = index_of_dim0 * input_pitches[0] +\n            index_of_dim1 * input_pitches[1] +\n            index_of_input_dim2 * input_pitches[2] +\n            index_of_input_dim3;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim2 = false;\n      if (index_of_input_dim2 == (${t[0].dims[2]} - 1)) {\n        // It's the end in dimension 2\n        x01 = x00;\n        end_of_dim2 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[2]);\n      }\n\n      if (index_of_input_dim3 == (input_pitches[2] - 1)) {\n        // It's the end in dimension 3\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);\n    }`:`\n    ${m}\n    float process(int indices[2]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ${c}, ${d});\n\n      ${g}\n\n      int m;\n      int index_of_dim0, index_of_dim1;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m;\n\n      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;\n      index_of_input_dim0 = index_of_dim0 / scales[0];\n      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];\n      index_of_input_dim1 = index_of_dim1 / scales[1];\n      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];\n\n      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim0 = false;\n      if (index_of_input_dim0 == (${t[0].dims[0]} - 1)) {\n        // It's the end in dimension 0\n        x01 = x00;\n        end_of_dim0 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[0]);\n      }\n\n      if (index_of_input_dim1 == (input_pitches[0] - 1)) {\n        // It's the end in dimension 1\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);\n    }`;return Object.assign(Object.assign({},o),{output:{dims:u,type:t[0].type,textureType:a.TextureType.unpacked},shaderSource:y,variables:[{name:"scales",type:"int",arrayLength:n.scales.length,data:n.scales.map((e=>Math.ceil(e)))}]})};t.validateInputs=(e,t)=>{if(!e||t.opset<9&&1!==e.length||t.opset>=9&&t.opset<11&&2!==e.length||t.opset>=11&&e.length<2)throw new Error("invalid inputs.");if(t.scales.length>0&&e[0].dims.length!==t.scales.length)throw new Error("Invalid input shape.");if("string"===e[0].type)throw new Error("Invalid input tensor types.")},t.scalesValidation=(e,t,n)=>{if(n){for(const r of e)if(r<=0)throw new Error("Scale value should be greater than 0.")}else for(const r of e)if(r<1)throw new Error("Scale value should be greater than or equal to 1.");if(!("linear"!==t&&"cubic"!==t||2===e.length||4===e.length&&1===e[0]&&1===e[1]))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${n?"Resize":"Upsample"} opeartor.`)}},1958:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgramManager=void 0;const r=n(1670),i=n(6231),a=n(8879),o=n(5060);t.ProgramManager=class{constructor(e,t,n){this.profiler=e,this.glContext=t,this.textureLayoutStrategy=n,this.repo=new Map,this.attributesBound=!1}getArtifact(e){return this.repo.get(e)}setArtifact(e,t){this.repo.set(e,t)}run(e,t,n){var r;this.profiler.event("op",`ProgramManager.run ${null!==(r=e.programInfo.name)&&void 0!==r?r:"unknown kernel"}`,(()=>{var r;const a=this.glContext.gl,o=e.program;a.useProgram(o);try{this.bindOutput(n),this.attributesBound||this.bindAttributes(e.attribLocations),this.bindUniforms(e.uniformLocations,null!==(r=e.programInfo.variables)&&void 0!==r?r:[],t)}catch(t){throw i.Logger.error("ProgramManager",e.programInfo.shaderSource),t}this.profiler.event("backend","GlContext.draw()",(()=>{this.glContext.draw()}))}),this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach((e=>this.glContext.deleteProgram(e.program)))}build(e,t,n){return this.profiler.event("backend","ProgramManager.build",(()=>{const r=new a.GlslPreprocessor(this.glContext,e,t,n),i=r.preprocess(),o=this.compile(i);return{programInfo:e,program:o,uniformLocations:this.getUniformLocations(o,r.context.programInfo.inputNames,r.context.programInfo.variables),attribLocations:this.getAttribLocations(o)}}))}compile(e){if(!this.vertexShader){i.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const e=(0,o.getVertexShaderSource)(this.glContext.version);this.vertexShader=this.glContext.compileShader(e,this.glContext.gl.VERTEX_SHADER)}r.env.debug&&i.Logger.verbose("ProrgramManager",`FragShader:\n${e}\n`);const t=this.glContext.compileShader(e,this.glContext.gl.FRAGMENT_SHADER),n=this.glContext.createProgram(this.vertexShader,t);return this.glContext.deleteShader(t),n}bindOutput(e){const t=e.width,n=e.height;i.Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${t}/${n}, shape=${e.shape}, type=${e.tensor.type}`),this.glContext.attachFramebuffer(e.texture,t,n)}bindAttributes(e){const t=e.position,n=e.textureCoord;this.glContext.setVertexAttributes(t,n),this.attributesBound=!0}bindUniforms(e,t,n){var r;const i=this.glContext.gl;let a=0;for(const{name:o,type:s,location:l,arrayLength:u}of e){const e=null===(r=t.find((e=>e.name===o)))||void 0===r?void 0:r.data;if("sampler2D"!==s&&!e)throw new Error(`variable '${o}' does not have data defined in program info`);switch(s){case"sampler2D":this.bindTexture(n[a],l,a),a++;break;case"float":u?i.uniform1fv(l,e):i.uniform1f(l,e);break;case"int":u?i.uniform1iv(l,e):i.uniform1i(l,e);break;default:throw new Error(`Uniform not implemented: ${s}`)}}}bindTexture(e,t,n){this.glContext.bindTextureToUniform(e.texture,n,t)}getAttribLocations(e){return{position:this.getAttribLocation(e,"position"),textureCoord:this.getAttribLocation(e,"textureCoord")}}getUniformLocations(e,t,n){const r=[];if(t)for(const i of t)r.push({name:i,type:"sampler2D",location:this.getUniformLocation(e,i)});if(n)for(const i of n)r.push(Object.assign(Object.assign({},i),{location:this.getUniformLocation(e,i.name)}));return r}getUniformLocation(e,t){const n=this.glContext.gl.getUniformLocation(e,t);if(null===n)throw new Error(`Uniform ${t} not found.`);return n}getAttribLocation(e,t){return this.glContext.gl.getAttribLocation(e,t)}}},6416:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLSessionHandler=void 0;const r=n(6231),i=n(1047),a=n(8316),o=n(1640),s=n(1958),l=n(7859),u=n(5702);t.WebGLSessionHandler=class{constructor(e,t){this.backend=e,this.context=t,this.layoutStrategy=new l.PreferLogicalStrategy(e.glContext.maxTextureSize),this.programManager=new s.ProgramManager(this.context.profiler,e.glContext,this.layoutStrategy),this.textureManager=new u.TextureManager(e.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:"full"===e.textureCacheMode}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=e.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new a.WebGLInferenceHandler(this)}onGraphInitialized(e){const t=e.getValues().filter((e=>-1===e.from&&e.tensor)).map((e=>e.tensor.dataId));this.initializers=new Set(t)}isInitializer(e){return!!this.initializers&&this.initializers.has(e)}addInitializer(e){this.initializers.add(e)}getTextureData(e,t){return t?this.packedTextureDataCache.get(e):this.unpackedTextureDataCache.get(e)}setTextureData(e,t,n=!1){r.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),n?this.packedTextureDataCache.set(e,t):this.unpackedTextureDataCache.set(e,t)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach((e=>this.textureManager.releaseTexture(e,!0))),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach((e=>this.textureManager.releaseTexture(e,!0))),this.unpackedTextureDataCache=new Map}resolve(e,t,n){const r=(0,i.resolveOperator)(e,t,o.WEBGL_OP_RESOLVE_RULES);return{impl:r.opImpl,context:r.opInit?r.opInit(e,n):e}}}},7769:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Uint8DataEncoder=t.RGBAFloatDataEncoder=t.RedFloat32DataEncoder=void 0;const r=n(6231);t.RedFloat32DataEncoder=class{constructor(e,t=1){if(1===t)this.internalFormat=e.R32F,this.format=e.RED,this.textureType=e.FLOAT,this.channelSize=t;else{if(4!==t)throw new Error(`Invalid number of channels: ${t}`);this.internalFormat=e.RGBA32F,this.format=e.RGBA,this.textureType=e.FLOAT,this.channelSize=t}}encode(e,t){let n,i;return e.constructor!==Float32Array&&(r.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),i=new Float32Array(e)),t*this.channelSize>e.length?(r.Logger.warning("Encoder","Source data too small. Allocating larger array"),i=e,n=this.allocate(t*this.channelSize),i.forEach(((e,t)=>n[t]=e))):(i=e,n=i),n}allocate(e){return new Float32Array(4*e)}decode(e,t){return 1===this.channelSize?e.filter(((e,t)=>t%4==0)).subarray(0,t):e.subarray(0,t)}},t.RGBAFloatDataEncoder=class{constructor(e,t=1,n){if(1!==t&&4!==t)throw new Error(`Invalid number of channels: ${t}`);this.internalFormat=e.RGBA,this.format=e.RGBA,this.channelSize=t,this.textureType=n||e.FLOAT}encode(e,t){let n=e;return 1===this.channelSize&&(r.Logger.verbose("Encoder","Exploding into a larger array"),n=this.allocate(t),e.forEach(((e,t)=>n[4*t]=e))),n}allocate(e){return new Float32Array(4*e)}decode(e,t){return 1===this.channelSize?e.filter(((e,t)=>t%4==0)).subarray(0,t):e.subarray(0,t)}},t.Uint8DataEncoder=class{constructor(e,t=1){if(this.channelSize=4,1===t)this.internalFormat=e.ALPHA,this.format=e.ALPHA,this.textureType=e.UNSIGNED_BYTE,this.channelSize=t;else{if(4!==t)throw new Error(`Invalid number of channels: ${t}`);this.internalFormat=e.RGBA,this.format=e.RGBA,this.textureType=e.UNSIGNED_BYTE,this.channelSize=t}}encode(e,t){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}allocate(e){return new Uint8Array(e*this.channelSize)}decode(e,t){if(e instanceof Uint8Array)return e.subarray(0,t);throw new Error(`Invalid array type: ${e.constructor}`)}}},7859:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBatchDim=t.sizeToSquarishShape=t.getRowsCols=t.sizeFromShape=t.isInt=t.parseAxisParam=t.squeezeShape=t.PreferLogicalStrategy=t.AlwaysKeepOriginalSizeStrategy=void 0;const r=n(6231),i=n(2517);function a(e,t){const n=[],r=[],i=null!=t&&Array.isArray(t)&&0===t.length,a=null==t||i?null:o(t,e).sort();let s=0;for(let o=0;o<e.length;++o){if(null!=a){if(a[s]===o&&1!==e[o])throw new Error(`Can't squeeze axis ${o} since its dim '${e[o]}' is not 1`);(null==a[s]||a[s]>o)&&1===e[o]&&(n.push(e[o]),r.push(o)),a[s]<=o&&s++}1!==e[o]&&(n.push(e[o]),r.push(o))}return{newShape:n,keptDims:r}}function o(e,t){const n=t.length;return e=null==e?t.map(((e,t)=>t)):[].concat(e),(0,i.assert)(e.every((e=>e>=-n&&e<n)),(()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`)),(0,i.assert)(e.every(s),(()=>`All values in axis param must be integers but got axis ${e}`)),e.map((e=>e<0?n+e:e))}function s(e){return e%1==0}function l(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function u(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}t.AlwaysKeepOriginalSizeStrategy=class{constructor(e){this.maxTextureSize=e}computeTextureWH(e,t){if(0===e.length)return[1,1];const n=this.maxTextureSize;if(t&&void 0!==t.breakAxis){const i=t.breakAxis>=e.length?1:e.slice(t.breakAxis).reduce(((e,t)=>e*t)),a=t.breakAxis<=0?1:e.slice(0,t.breakAxis).reduce(((e,t)=>e*t));if(!(i>n||a>n))return[i,a];r.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${e}, breakAxis:${t.breakAxis}`)}const i=e.reduce(((e,t)=>e*t));let a=Math.floor(Math.sqrt(i));for(;a<n&&a<i&&i%a!=0;a++);if(a>=n||i%a!=0)throw new Error(`The given dimensions are outside this GPU's boundaries: ${e}`);return[a,i/a]}},t.PreferLogicalStrategy=class{constructor(e){this.maxTextureSize=e}computeTextureWH(e,t){const n=this.computeTexture(e,t);return t&&t.isPacked&&(n[0]/=2,n[1]/=2),t&&t.reverseWH?[n[1],n[0]]:n}computeTexture(e,t){const n=t&&t.isPacked;if(0===e.length)return n?[2,2]:[1,1];let i=this.maxTextureSize;if(t&&void 0!==t.breakAxis){const n=t.breakAxis>=e.length?1:e.slice(t.breakAxis).reduce(((e,t)=>e*t)),a=t.breakAxis<=0?1:e.slice(0,t.breakAxis).reduce(((e,t)=>e*t));if(!(n>i||a>i))return[n,a];r.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${e}, breakAxis:${t.breakAxis}`)}let o=e.slice(0);if(n&&(i*=2,o=o.map(((e,t)=>t>=o.length-2?o[t]%2==0?o[t]:o[t]+1:o[t])),1===o.length&&(o=[2,o[0]])),2!==o.length){const e=a(o);o=e.newShape}const s=l(o);return o.length<=1&&s<=i?[1,s]:2===o.length&&o[0]<=i&&o[1]<=i?o:3===o.length&&o[0]*o[1]<=i&&o[2]<=i?[o[0]*o[1],o[2]]:3===o.length&&o[0]<=i&&o[1]*o[2]<=i?[o[0],o[1]*o[2]]:4===o.length&&o[0]*o[1]*o[2]<=i&&o[3]<=i?[o[0]*o[1]*o[2],o[3]]:4===o.length&&o[0]<=i&&o[1]*o[2]*o[3]<=i?[o[0],o[1]*o[2]*o[3]]:n?u(s/4).map((e=>2*e)):u(s)}},t.squeezeShape=a,t.parseAxisParam=o,t.isInt=s,t.sizeFromShape=l,t.getRowsCols=function(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]},t.sizeToSquarishShape=u,t.getBatchDim=function(e,t=2){return l(e.slice(0,e.length-t))}},4057:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTextureLayoutFromShape=t.calculateTextureWidthAndHeight=t.createTextureLayoutFromTextureType=void 0;const r=n(2517),i=n(2039);t.createTextureLayoutFromTextureType=(e,n,r)=>{const a=r===i.TextureType.unpacked||r===i.TextureType.unpackedReversed?1:4,o=r===i.TextureType.packed,s=r===i.TextureType.unpackedReversed||r===i.TextureType.packed,l=r===i.TextureType.packedLastDimension?n.length-1:void 0,u=r===i.TextureType.packedLastDimension?n.map(((e,t)=>t===n.length-1?4*e:e)):void 0;return(0,t.createTextureLayoutFromShape)(e,n,a,u,{isPacked:o,reverseWH:s,breakAxis:l})},t.calculateTextureWidthAndHeight=(e,n,r)=>{const i=(0,t.createTextureLayoutFromTextureType)(e,n,r);return[i.width,i.height]},t.createTextureLayoutFromShape=(e,t,n=1,i,a)=>{const o=!(!a||!a.isPacked),[s,l]=e.computeTextureWH(o&&i||t,a),u=t.length;let c=t.slice(0);if(0===u&&(c=[1]),1===n)i=t;else if(o){if(4!==n)throw new Error("a packed texture must be 4-channel");i=t,u>0&&(c[u-1]=Math.ceil(c[u-1]/2)),u>1&&(c[u-2]=Math.ceil(c[u-2]/2))}else if(!i)throw new Error("Unpacked shape is needed when using channels > 1");return{width:s,height:l,channels:n,isPacked:o,shape:c,strides:r.ShapeUtil.computeStrides(c),unpackedShape:i,reversedWH:a&&a.reverseWH}}},5702:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextureManager=void 0;const r=n(6231);t.TextureManager=class{constructor(e,t,n,r){this.glContext=e,this.layoutStrategy=t,this.profiler=n,this.config=r,this.pendingRead=new Map,r.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(e,t,n,i){const a=this.toEncoderType(e),o=this.glContext.getEncoder(a,t.channels||1,i);if(t.isPacked&&1===i)throw new Error("not implemented");const s=t.width,l=t.height;let u,c;if(this.config.reuseTextures){u=`${s}x${l}_${o.format}_${o.internalFormat}_${o.textureType}`,c=this.inUseTextures.get(u),c||(c=[],this.inUseTextures.set(u,c));const t=this.idleTextures.get(u);if(t&&t.length>0){const r=t.pop();return c.push(r),1===i&&this.glContext.updateTexture(r,s,l,o,this.toTextureData(e,n)),r}}r.Logger.verbose("TextureManager",`Creating new texture of size ${t.width}x${t.height}`);const d=this.glContext.allocateTexture(s,l,o,this.toTextureData(e,n));return this.config.reuseTextures&&(c.push(d),this.textureLookup.set(d,u)),d}readTexture(e,t,n){return n||(n=1),this.profiler.event("backend","TextureManager.readTexture",(()=>{const r=e.shape.reduce(((e,t)=>e*t))*n,i=this.glContext.readTexture(e.texture,e.width,e.height,r,this.toEncoderType(t),n);return this.toTensorData(t,i)}))}async readTextureAsync(e,t,n){const r=e.tensor.dataId;if(n||(n=1),this.pendingRead.has(r)){const e=this.pendingRead.get(r);return new Promise((t=>null==e?void 0:e.push(t)))}return this.profiler.event("backend","TextureManager.readTextureAsync",(async()=>{this.pendingRead.set(r,[]);const i=e.shape.reduce(((e,t)=>e*t))*n;await this.glContext.createAndWaitForFence();const a=this.glContext.readTexture(e.texture,e.width,e.height,i,this.toEncoderType(t),n),o=this.toTensorData(t,a),s=this.pendingRead.get(r);return this.pendingRead.delete(r),null==s||s.forEach((e=>e(o))),o}))}readUint8TextureAsFloat(e){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",(()=>{const t=e.shape.reduce(((e,t)=>e*t)),n=this.glContext.readTexture(e.texture,e.width,e.height,4*t,"byte",4);return new Float32Array(n.buffer,n.byteOffset,t)}))}releaseTexture(e,t){let n;if(this.config.reuseTextures&&(n=this.textureLookup.get(e.texture),n)){t&&this.textureLookup.delete(n);const r=this.inUseTextures.get(n);if(r){const t=r.indexOf(e.texture);if(-1!==t){r.splice(t,1);let i=this.idleTextures.get(n);i||(i=[],this.idleTextures.set(n,i)),i.push(e.texture)}}}n&&!t||(r.Logger.verbose("TextureManager",`Deleting texture of size ${e.width}x${e.height}`),this.glContext.deleteTexture(e.texture))}toTensorData(e,t){switch(e){case"int16":return t instanceof Int16Array?t:Int16Array.from(t);case"int32":return t instanceof Int32Array?t:Int32Array.from(t);case"int8":return t instanceof Int8Array?t:Int8Array.from(t);case"uint16":return t instanceof Uint16Array?t:Uint16Array.from(t);case"uint32":return t instanceof Uint32Array?t:Uint32Array.from(t);case"uint8":case"bool":return t instanceof Uint8Array?t:Uint8Array.from(t);case"float32":return t instanceof Float32Array?t:Float32Array.from(t);case"float64":return t instanceof Float64Array?t:Float64Array.from(t);default:throw new Error(`TensorData type ${e} is not supported`)}}toTextureData(e,t){if(t)return t instanceof Float32Array?t:new Float32Array(t)}toEncoderType(e){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},2039:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TextureType=void 0,(n=t.TextureType||(t.TextureType={}))[n.unpacked=0]="unpacked",n[n.unpackedReversed=1]="unpackedReversed",n[n.packed=2]="packed",n[n.downloadUint8AsFloat=3]="downloadUint8AsFloat",n[n.packedLastDimension=4]="packedLastDimension"},9390:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlChannels=t.getCoordsDataType=t.getSqueezedParams=t.squeezeInputShape=t.generateShaderFuncNameFromInputSamplerNameAtOutCoords=t.generateShaderFuncNameFromInputSamplerName=t.repeatedTry=t.getPackedShape=void 0;const r=n(2517);t.getPackedShape=function(e){const t=e.length;return e.slice(0,t-1).concat(e[t-1]/4)},t.repeatedTry=async function(e,t=(e=>0),n){return new Promise(((r,i)=>{let a=0;const o=()=>{if(e())return void r();a++;const s=t(a);null!=n&&a>=n?i():setTimeout(o,s)};o()}))},t.generateShaderFuncNameFromInputSamplerName=function(e){return(0,r.assert)(void 0!==e&&0!==e.length,(()=>"empty string found for sampler name")),"get"+e.charAt(0).toUpperCase()+e.slice(1)},t.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(e){return(0,r.assert)(void 0!==e&&0!==e.length,(()=>"empty string found for sampler name")),"get"+e.charAt(0).toUpperCase()+e.slice(1)+"AtOutCoords"},t.squeezeInputShape=function(e,t){let n=JSON.parse(JSON.stringify(e));return n=t,n},t.getSqueezedParams=function(e,t){return t.map((t=>e[t])).join(", ")},t.getCoordsDataType=function(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)},t.getGlChannels=function(e=6){return["x","y","z","w","u","v"].slice(0,e)}},7305:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNewWebGLContext=t.createWebGLContext=void 0;const r=n(6231),i=n(1713),a={};function o(e){const t=function(){if("undefined"==typeof document){if("undefined"==typeof OffscreenCanvas)throw new TypeError("failed to create canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}const e=document.createElement("canvas");return e.width=1,e.height=1,e}();let n;const a={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!e||"webgl2"===e)&&(n=t.getContext("webgl2",a),n))try{return new i.WebGLContext(n,2)}catch(e){r.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${e}`)}if((!e||"webgl"===e)&&(n=t.getContext("webgl",a)||t.getContext("experimental-webgl",a),n))try{return new i.WebGLContext(n,1)}catch(e){r.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${e}`)}throw new Error("WebGL is not supported")}t.createWebGLContext=function e(t){let n;t&&"webgl2"!==t||!("webgl2"in a)?t&&"webgl"!==t||!("webgl"in a)||(n=a.webgl):n=a.webgl2,n=n||o(t),t=t||1===n.version?"webgl":"webgl2";const r=n.gl;return a[t]=n,r.isContextLost()?(delete a[t],e(t)):(r.disable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST),r.disable(r.BLEND),r.disable(r.DITHER),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SAMPLE_COVERAGE),r.enable(r.SCISSOR_TEST),r.enable(r.CULL_FACE),r.cullFace(r.BACK),n)},t.createNewWebGLContext=o},1713:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContext=t.linearSearchLastTrue=void 0;const o=n(1670),s=a(n(7769)),l=n(9390);function u(e){let t=0;for(;t<e.length&&e[t]();++t);return t-1}t.linearSearchLastTrue=u,t.WebGLContext=class{constructor(e,t){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=e,this.version=t,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(e,t,n,r){const i=this.gl,a=i.createTexture();i.bindTexture(i.TEXTURE_2D,a),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE);const o=r?n.encode(r,e*t):null;return i.texImage2D(i.TEXTURE_2D,0,n.internalFormat,e,t,0,n.format,n.textureType,o),this.checkError(),a}updateTexture(e,t,n,r,i){const a=this.gl;a.bindTexture(a.TEXTURE_2D,e);const o=r.encode(i,t*n);a.texSubImage2D(a.TEXTURE_2D,0,0,0,t,n,r.format,r.textureType,o),this.checkError()}attachFramebuffer(e,t,n){const r=this.gl;r.bindTexture(r.TEXTURE_2D,e),r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e,0),this.checkError(),r.viewport(0,0,t,n),r.scissor(0,0,t,n)}readTexture(e,t,n,r,i,a){const o=this.gl;a||(a=1),this.frameBufferBound||this.attachFramebuffer(e,t,n);const s=this.getEncoder(i,a),l=s.allocate(t*n);return o.bindTexture(o.TEXTURE_2D,e),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,e,0),o.readPixels(0,0,t,n,o.RGBA,s.textureType,l),this.checkError(),s.decode(l,r)}isFramebufferReady(){return!0}getActiveTexture(){const e=this.gl;return"TEXTURE"+(e.getParameter(this.gl.ACTIVE_TEXTURE)-e.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(e,t){const n=this.gl;n.vertexAttribPointer(e,3,n.FLOAT,!1,20,0),n.enableVertexAttribArray(e),-1!==t&&(n.vertexAttribPointer(t,2,n.FLOAT,!1,20,12),n.enableVertexAttribArray(t)),this.checkError()}createProgram(e,t){const n=this.gl,r=n.createProgram();return n.attachShader(r,e),n.attachShader(r,t),n.linkProgram(r),r}compileShader(e,t){const n=this.gl,r=n.createShader(t);if(!r)throw new Error(`createShader() returned null with type ${t}`);if(n.shaderSource(r,e),n.compileShader(r),!1===n.getShaderParameter(r,n.COMPILE_STATUS))throw new Error(`Failed to compile shader: ${n.getShaderInfoLog(r)}\nShader source:\n${e}`);return r}deleteShader(e){this.gl.deleteShader(e)}bindTextureToUniform(e,t,n){const r=this.gl;r.activeTexture(r.TEXTURE0+t),this.checkError(),r.bindTexture(r.TEXTURE_2D,e),this.checkError(),r.uniform1i(n,t),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(o.env.debug){const e=this.gl,t=e.getError();let n="";switch(t){case e.NO_ERROR:return;case e.INVALID_ENUM:n="INVALID_ENUM";break;case e.INVALID_VALUE:n="INVALID_VALUE";break;case e.INVALID_OPERATION:n="INVALID_OPERATION";break;case e.INVALID_FRAMEBUFFER_OPERATION:n="INVALID_FRAMEBUFFER_OPERATION";break;case e.OUT_OF_MEMORY:n="OUT_OF_MEMORY";break;case e.CONTEXT_LOST_WEBGL:n="CONTEXT_LOST_WEBGL";break;default:n=`Unknown WebGL Error: ${t.toString(16)}`}throw new Error(n)}}deleteTexture(e){this.gl.deleteTexture(e)}deleteProgram(e){this.gl.deleteProgram(e)}getEncoder(e,t,n=0){if(2===this.version)return new s.RedFloat32DataEncoder(this.gl,t);switch(e){case"float":return 1===n||this.isRenderFloat32Supported?new s.RGBAFloatDataEncoder(this.gl,t):new s.RGBAFloatDataEncoder(this.gl,t,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new s.Uint8DataEncoder(this.gl,t);default:throw new Error(`Invalid dataType: ${e}`)}}clearActiveTextures(){const e=this.gl;for(let t=0;t<this.maxTextureImageUnits;++t)e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(this.framebuffer),e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteBuffer(this.vertexbuffer),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const e=this.gl,t=e.createBuffer();if(!t)throw new Error("createBuffer() returned null");const n=this.createDefaultGeometry();return e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW),this.checkError(),t}createFramebuffer(){const e=this.gl.createFramebuffer();if(!e)throw new Error("createFramebuffer returned null");return e}queryVitalParameters(){const e=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),1===this.version&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){2===this.version?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const e=this.gl,t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);const n=2===this.version?e.RGBA32F:e.RGBA;e.texImage2D(e.TEXTURE_2D,0,n,1,1,0,e.RGBA,e.FLOAT,null);const r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0);const i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(t),e.deleteFramebuffer(r),i}checkRenderFloat32(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else{if(!this.textureFloatExtension)return!1;if(!this.gl.getExtension("WEBGL_color_buffer_float"))return!1}return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const e=this.gl;let t,n,r,i,a;try{t=e.createTexture(),n=e.createFramebuffer(),e.bindTexture(e.TEXTURE_2D,t);const o=2===this.version?e.RGBA32F:e.RGBA;return e.texImage2D(e.TEXTURE_2D,0,o,1,1,0,e.RGBA,e.FLOAT,null),e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),e.enable(e.BLEND),r=e.createShader(e.VERTEX_SHADER),!!r&&(e.shaderSource(r,"void main(){}"),e.compileShader(r),i=e.createShader(e.FRAGMENT_SHADER),!!i&&(e.shaderSource(i,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),e.compileShader(i),a=e.createProgram(),!!a&&(e.attachShader(a,r),e.attachShader(a,i),e.linkProgram(a),e.useProgram(a),e.drawArrays(e.POINTS,0,1),e.getError()===e.NO_ERROR)))}finally{e.disable(e.BLEND),a&&e.deleteProgram(a),r&&e.deleteShader(r),i&&e.deleteShader(i),n&&(e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(n)),t&&(e.bindTexture(e.TEXTURE_2D,null),e.deleteTexture(t))}}beginTimer(){if(2===this.version&&this.disjointTimerQueryWebgl2Extension){const e=this.gl,t=this.disjointTimerQueryWebgl2Extension,n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(2!==this.version||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const e=this.gl,t=this.disjointTimerQueryWebgl2Extension;e.endQuery(t.TIME_ELAPSED_EXT)}}isTimerResultAvailable(e){let t=!1,n=!1;if(2!==this.version||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const r=this.gl,i=this.disjointTimerQueryWebgl2Extension;t=r.getQueryParameter(e,r.QUERY_RESULT_AVAILABLE),n=r.getParameter(i.GPU_DISJOINT_EXT)}return t&&!n}getTimerResult(e){let t=0;if(2!==this.version)throw new Error("WebGL1 profiling currently not supported");{const n=this.gl;t=n.getQueryParameter(e,n.QUERY_RESULT),n.deleteQuery(e)}return t/1e6}async waitForQueryAndGetTime(e){return await(0,l.repeatedTry)((()=>this.isTimerResultAvailable(e))),this.getTimerResult(e)}async createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t;const n=e,r=n.fenceSync(n.SYNC_GPU_COMMANDS_COMPLETE,0);return e.flush(),t=null===r?()=>!0:()=>{const e=n.clientWaitSync(r,0,0);return e===n.ALREADY_SIGNALED||e===n.CONDITION_SATISFIED},{query:r,isFencePassed:t}}async pollFence(e){return new Promise((t=>{this.addItemToPoll((()=>e.isFencePassed()),(()=>t()))}))}pollItems(){const e=u(this.itemsToPoll.map((e=>e.isDoneFn)));for(let t=0;t<=e;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}async addItemToPoll(e,t){this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||await(0,l.repeatedTry)((()=>(this.pollItems(),0===this.itemsToPoll.length)))}}},1036:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExecutionPlan=void 0;const r=n(6231);class i{constructor(e,t){this.op=e,this.node=t}}t.ExecutionPlan=class{constructor(e,t,n){this.graph=e,this.profiler=n,this.initialize(t)}initialize(e){this.profiler.event("session","ExecutionPlan.initialize",(()=>{const t=this.graph.getNodes();if(t.length!==e.length)throw new Error("The size of nodes and OPs do not match.");this._ops=e.map(((e,n)=>new i(e,t[n]))),this.reset(),this._starter=[],this._ops.forEach(((e,t)=>{let n=!0;for(const r of e.node.inputs)if(!this._values[r]&&-1===this.graph.getInputIndices().indexOf(r)){n=!1;break}n&&this._starter.push(t)}))}))}reset(){this._values=this.graph.getValues().map((e=>e.tensor))}async execute(e,t){return this.profiler.event("session","ExecutionPlan.execute",(async()=>{this.reset();const n=e.createInferenceHandler(),i=this.graph.getInputIndices();if(t.length!==i.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${t.length} expected: ${i.length}`);t.forEach(((e,t)=>{const n=i[t];this._values[n]=e}));const a=this._starter.slice(0),o=this.graph.getValues(),s=this.graph.getNodes();let l=0;for(;l<a.length;){const e=a[l++],t=this._ops[e],i=t.node.inputs.map((e=>this._values[e]));if(-1!==i.indexOf(void 0))throw new Error(`unresolved input detected: op: ${t.node}`);const u=i;r.Logger.verbose("ExecPlan",`Runing op:${t.node.name} (${u.map(((e,n)=>`'${t.node.inputs[n]}': ${e.type}[${e.dims.join(",")}]`)).join(", ")})`);const c=await this.profiler.event("node",t.node.name,(async()=>t.op.impl(n,u,t.op.context)));if(c.length!==t.node.outputs.length)throw new Error("the size of output does not match model definition.");c.forEach(((e,n)=>{const r=t.node.outputs[n];if(this._values[r])throw new Error(`output [${r}] already has value: op:${t.node.name}`);this._values[r]=e}));const d=new Set;c.forEach(((e,n)=>{const r=t.node.outputs[n];for(const t of o[r].to){const e=s[t];let n=!0;for(const t of e.inputs)if(!this._values[t]){n=!1;break}n&&d.add(t)}})),a.push(...d)}const u=[];for(let e=0;e<this.graph.getOutputIndices().length;e++){const t=this.graph.getOutputIndices()[e],n=this._values[t];if(void 0===n)throw new Error(`required output [${t}] does not have value`);0===t?await n.getData():n.data,u.push(n)}return r.Logger.verbose("ExecPlan","disposing of inferenceHandler"),n.dispose(),u}))}}},7070:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Graph=void 0;const r=n(1446),i=n(7778),a=n(9395),o=n(9162),s=n(2517);var l=a.onnxruntime.experimental.fbs;t.Graph={from:(e,t)=>new d(e,t)};class u{constructor(e){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,e&&(this.type=s.ProtoUtil.tensorValueTypeFromProto(e.type.tensorType))}get from(){return this._from}get to(){return this._to}}class c{constructor(e,t){e instanceof r.onnx.NodeProto?(this.name=e.name,this.opType=e.opType,this.attributes=new i.Attribute(e.attribute)):e instanceof l.Node&&(this.name=null!=t?t:e.name(),this.opType=e.opType(),this.attributes=new i.Attribute(s.ProtoUtil.tensorAttributesFromORTFormat(e))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class d{constructor(e,t){if(!e)throw new TypeError("graph is empty");this.buildGraph(e),this.transformGraph(t),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(e){if(e instanceof r.onnx.GraphProto)this.buildGraphFromOnnxFormat(e);else{if(!(e instanceof l.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(e)}}buildGraphFromOnnxFormat(e){const t=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const n=new Map;if(!e.input)throw new Error("missing information in graph: input");const r=[];for(const i of e.input){if(t.has(i.name))throw new Error(`duplicated input name: ${i.name}`);const e=this._allData.push(new u(i))-1;t.set(i.name,e),r.push(i.name)}if(!e.initializer)throw new Error("missing information in graph: initializer");for(const i of e.initializer){let e=t.get(i.name);if(void 0===e){const n=new u;n.type={shape:{dims:s.ProtoUtil.tensorDimsFromProto(i.dims)},tensorType:s.ProtoUtil.tensorDataTypeFromProto(i.dataType)},e=this._allData.push(n)-1,t.set(i.name,e)}this._allData[e]._from=-1,this._allData[e].tensor=o.Tensor.fromProto(i)}for(let i=0;i<this._allData.length;i++)this._allData[i].tensor||(this._allInputIndices.push(i),this._allInputNames.push(r[i]));if(!e.output)throw new Error("missing information in graph: output");for(const i of e.output){if(t.has(i.name))throw new Error(`duplicated output name: ${i.name}`);const e=this._allData.push(new u(i))-1;t.set(i.name,e),this._allOutputIndices.push(e),this._allOutputNames.push(i.name)}if(!e.node)throw new Error("missing information in graph: node");for(const i of e.node){if(!i.name)for(let t=0;;t++){const e=`unnamed_${i.opType}_${t}`;if(!n.has(e)){i.name=e;break}}if(n.has(i.name))throw new Error(`duplicated node name: ${i.name}`);const e=this._nodes.push(new c(i))-1;n.set(i.name,e)}for(let i=0;i<this._nodes.length;i++){const n=this._nodes[i],r=e.node[i];if(!r.output)throw new Error(`missing output for node: ${r.name}`);for(const e of r.output){let a=t.get(e);if(void 0===a&&(a=this._allData.push(new u)-1,t.set(e,a)),n.outputs.push(a),void 0!==this._allData[a]._from)throw new Error(`multiple nodes output to one data value: ${a}`);if(this._allData[a]._from=i,"Constant"===r.opType){if(!r.attribute||1!==r.attribute.length||!r.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!r.output||1!==r.output.length)throw new Error("missing output or incorrect number of outputs for this Constant operator");n.outputs.pop(),n.executeNode=!1,this._allData[a]._from=-1,this._allData[a].tensor=o.Tensor.fromProto(r.attribute[0].t)}}}for(let i=0;i<this._nodes.length;i++){const n=this._nodes[i],r=e.node[i];if(!r.input)throw new Error(`missing input for node: ${r.name}`);for(const e of r.input){const a=t.get(e);if(void 0===a){if(""===e&&3===r.input.length&&"Resize"===r.opType)continue;throw new Error(`unrecognized input '${e}' for node: ${r.name}`)}n.inputs.push(a),this._allData[a]._to.push(i)}}return!0}buildGraphFromOrtFormat(e){var t,n,r;const i=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const a=new Map,d=[];for(let o=0;o<e.inputsLength();o++){const a=e.inputs(o);if(i.has(a))throw new Error(`duplicated input name: ${a}`);for(let o=0;o<e.nodeArgsLength();o++)if((null===(t=e.nodeArgs(o))||void 0===t?void 0:t.name())===a){const t=new u;if((null===(r=null===(n=e.nodeArgs(o))||void 0===n?void 0:n.type())||void 0===r?void 0:r.valueType())!==l.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const c=e.nodeArgs(o).type().value(new l.TensorTypeAndShape),f=s.ProtoUtil.tensorDataTypeFromProto(c.elemType()),h=c.shape(),p=[];for(let e=0;e<h.dimLength();e++)p.push(s.LongUtil.longToNumber(h.dim(e).value().dimValue()));t.type={shape:{dims:p},tensorType:f};const g=this._allData.push(t)-1;i.set(a,g),d.push(a)}}for(let l=0;l<e.initializersLength();l++){const t=e.initializers(l);let n=i.get(t.name());if(void 0===n){const e=new u,r=s.ProtoUtil.tensorDimsFromORTFormat(t),a=s.ProtoUtil.tensorDataTypeFromProto(t.dataType());e.type={shape:{dims:r},tensorType:a},n=this._allData.push(e)-1,i.set(t.name(),n)}this._allData[n]._from=-1,this._allData[n].tensor=o.Tensor.fromOrtTensor(t)}for(let o=0;o<this._allData.length;o++)this._allData[o].tensor||(this._allInputIndices.push(o),this._allInputNames.push(d[o]));for(let o=0;o<e.outputsLength();o++){const t=e.outputs(o);if(i.has(t))throw new Error(`duplicated output name: ${t}`);const n=this._allData.push(new u)-1;i.set(t,n),this._allOutputIndices.push(n),this._allOutputNames.push(t)}if(!e.nodes)throw new Error("missing information in graph: node");for(let o=0;o<e.nodesLength();o++){const t=e.nodes(o);let n=t.name();if(!n)for(let e=0;n=`unnamed_${t.opType()}_${e}`,a.has(n);e++);if(a.has(n))throw new Error(`duplicated node name: ${n}`);const r=this._nodes.push(new c(t,n))-1;a.set(n,r)}for(let s=0;s<this._nodes.length;s++){const t=this._nodes[s],n=e.nodes(s);if(null==n)throw new Error(`No node exists at index ${s}`);if(0===(null==n?void 0:n.outputsLength()))throw new Error(`missing output for node: ${n.name}`);for(let e=0;e<(null==n?void 0:n.outputsLength());e++){const r=null==n?void 0:n.outputs(e);let a=i.get(r);if(void 0===a&&(a=this._allData.push(new u)-1,i.set(r,a)),t.outputs.push(a),void 0!==this._allData[a]._from)throw new Error(`multiple nodes output to one data value: ${a}`);if(this._allData[a]._from=s,"Constant"===n.opType()){if(1!==n.attributesLength()||!n.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(1!==n.outputsLength())throw new Error("missing output or incorrect number of outputs for this Constant operator");t.outputs.pop(),t.executeNode=!1,this._allData[a]._from=-1,this._allData[a].tensor=o.Tensor.fromOrtTensor(n.attributes(0).t())}}}for(let o=0;o<this._nodes.length;o++){const t=this._nodes[o],n=e.nodes(o);if(0===n.inputsLength())throw new Error(`missing input for node: ${n.name}`);for(let e=0;e<n.inputsLength();e++){const r=n.inputs(e),a=i.get(r);if(void 0===a)throw new Error(`unrecognized input '${r}' for node: ${n.name()}`);t.inputs.push(a),this._allData[a]._to.push(o)}}}checkIsAcyclic(){const e=new Set;this._allInputIndices.forEach((t=>{this._allData[t]._to.forEach((t=>{e.add(t)}))}));const t=Array.from(e),n=new Array(this._nodes.length).fill("white");for(;t.length>0;){const e=t.pop();"gray"===n[e]?n[e]="black":(t.push(e),n[e]="gray",this._nodes[e].outputs.forEach((r=>{const i=this._allData[r];if(void 0!==i.tensor)throw new Error("node outputs should not be initialized");if(i._from!==e)throw new Error("from property of the Value object doesn't match index of Node being processed");i._to.forEach((e=>{if("gray"===n[e])throw new Error("model graph is cyclic");"white"===n[e]&&t.push(e)}))})))}}transformGraph(e){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),e&&e.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let e=0;for(let t=0;t<this._nodes.length;t++)this._nodes[t].executeNode?e>0&&(this._nodes[t].inputs.forEach((n=>{const r=this._allData[n]._to.indexOf(t+e);-1!==r&&(this._allData[n]._to[r]=t)})),this._nodes[t].outputs.forEach((n=>{this._allData[n]._from&&this._allData[n]._from===t+e&&(this._allData[n]._from=t)}))):(e++,this._nodes[t].outputs.forEach((e=>{this._allData[e]._from=-2})),this._nodes.splice(t,1),t--);e=0;for(let t=0;t<this._allData.length;t++)if(-2!==this._allData[t].from||-1!==this._allOutputIndices.indexOf(t+e)){if(e>0){let n=-1;void 0!==this._allData[t].from&&-1!==this._allData[t].from?(n=this._nodes[this._allData[t].from].outputs.indexOf(t+e),-1!==n&&(this._nodes[this._allData[t].from].outputs[n]=t)):(n=this._allInputIndices.indexOf(t+e),-1!==n&&(this._allInputIndices[n]=t)),this._allData[t].to.forEach((r=>{n=this._nodes[r].inputs.indexOf(t+e),-1!==n&&(this._nodes[r].inputs[n]=t)})),0===this._allData[t].to.length&&(n=this._allOutputIndices.indexOf(t+e),-1!==n&&(this._allOutputIndices[n]=t))}}else e++,this._allData.splice(t,1),t--}deleteNode(e){const t=this._nodes[e];if(t.outputs.length>1)for(let s=1;s<t.outputs.length;s++)if(this._allData[t.outputs[s]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ");t.executeNode=!1;const n=t.inputs[0],r=t.outputs[0],i=this._allData[r].to,a=this._allData[n].to.indexOf(e);if(-1===a)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[n].to.splice(a,1),this._allData[r]._to=[];const o=this._allOutputIndices.indexOf(r);if(-1!==o&&(this._allOutputIndices[o]=n),i&&i.length>0)for(const s of i){const e=this._nodes[s].inputs.indexOf(r);if(-1===e)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[s].inputs[e]=n,this._allData[n].to.push(s)}}removeAllDropoutNodes(){let e=0;for(const t of this._nodes){if("Dropout"===t.opType){if(1!==t.inputs.length)throw new Error("Dropout nodes should only contain one input. ");if(1!==t.outputs.length&&2!==t.outputs.length)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(2===t.outputs.length&&0!==this._allData[t.outputs[1]]._to.length)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(e)}e++}}removeAllIdentityNodes(){let e=0;for(const t of this._nodes)"Identity"===t.opType&&this.deleteNode(e),e++}isActivation(e){switch(e.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const e of this._nodes)if("Conv"===e.opType){const n=this._allData[e.outputs[0]]._to;if(1===n.length&&this.isActivation(this._nodes[n[0]])){const r=this._nodes[n[0]];if("Clip"===r.opType)if(1===r.inputs.length)try{e.attributes.set("activation_params","floats",[r.attributes.getFloat("min"),r.attributes.getFloat("max")])}catch(t){e.attributes.set("activation_params","floats",[s.MIN_CLIP,s.MAX_CLIP])}else{if(!(r.inputs.length>=3&&void 0!==this._allData[r.inputs[1]].tensor&&void 0!==this._allData[r.inputs[2]].tensor))continue;e.attributes.set("activation_params","floats",[this._allData[r.inputs[1]].tensor.floatData[0],this._allData[r.inputs[2]].tensor.floatData[0]])}e.attributes.set("activation","string",r.opType),this.deleteNode(n[0])}}}}},6231:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.now=t.Profiler=t.Logger=void 0;const n={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},r={none:new class{log(e,t,n){}},console:new class{log(e,t,n){console.log(`${this.color(e)} ${n?"\x1b[35m"+n+"\x1b[0m ":""}${t}`)}color(e){switch(e){case"verbose":return"\x1b[34;40mv\x1b[0m";case"info":return"\x1b[32mi\x1b[0m";case"warning":return"\x1b[30;43mw\x1b[0m";case"error":return"\x1b[31;40me\x1b[0m";case"fatal":return"\x1b[101mf\x1b[0m";default:throw new Error(`unsupported severity: ${e}`)}}}},i={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let a={"":i};function o(e,t,n,r){if(void 0===t)return i=e,{verbose:o.verbose.bind(null,i),info:o.info.bind(null,i),warning:o.warning.bind(null,i),error:o.error.bind(null,i),fatal:o.fatal.bind(null,i)};if(void 0===n)s(e,t);else if("number"==typeof n&&void 0===r)s(e,t);else if("string"==typeof n&&void 0===r)s(e,n,0,t);else{if("string"!=typeof n||"number"!=typeof r)throw new TypeError("input is valid");s(e,n,0,t)}var i}function s(e,t,i,o){const s=a[o||""]||a[""];n[e]<n[s.minimalSeverity]||(s.logDateTime&&(t=`${(new Date).toISOString()}|${t}`),s.logSourceLocation,r[s.provider].log(e,t,o))}!function(e){function t(e){a={},n("",e||{})}function n(e,n){if("*"===e)t(n);else{const t=a[e]||i;a[e]={provider:n.provider||t.provider,minimalSeverity:n.minimalSeverity||t.minimalSeverity,logDateTime:void 0===n.logDateTime?t.logDateTime:n.logDateTime,logSourceLocation:void 0===n.logSourceLocation?t.logSourceLocation:n.logSourceLocation}}}e.verbose=function(t,n){e("verbose",t,n)},e.info=function(t,n){e("info",t,n)},e.warning=function(t,n){e("warning",t,n)},e.error=function(t,n){e("error",t,n)},e.fatal=function(t,n){e("fatal",t,n)},e.reset=t,e.set=n,e.setWithEnv=function(e){const t={};e.logLevel&&(t.minimalSeverity=e.logLevel),n("",t)}}(o||(o={})),t.Logger=o;class l{constructor(e,t,n,r,i,a){this.category=e,this.name=t,this.startTime=n,this.endCallback=r,this.timer=i,this.ctx=a}end(){return this.endCallback(this)}async checkTimer(){if(void 0===this.ctx||void 0===this.timer)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}}class u{constructor(e,t,n,r){this.category=e,this.name=t,this.startTime=n,this.endTime=r}}t.Profiler=class{static create(e){return void 0===e?new this:new this(e.maxNumberEvents,e.flushBatchSize,e.flushIntervalInMilliseconds)}constructor(e,t,n){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=void 0===e?1e4:e,this._flushBatchSize=void 0===t?10:t,this._flushIntervalInMilliseconds=void 0===n?5e3:n}start(){this._started=!0,this._timingEvents=[],this._flushTime=(0,t.now)(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(e,t,n,r){const i=this._started?this.begin(e,t,r):void 0;let a=!1;const o=n();if(o&&"function"==typeof o.then)return a=!0,new Promise(((e,t)=>{o.then((async t=>{i&&await i.end(),e(t)}),(async e=>{i&&await i.end(),t(e)}))}));if(!a&&i){const e=i.end();if(e&&"function"==typeof e.then)return new Promise(((t,n)=>{e.then((()=>{t(o)}),(e=>{n(e)}))}))}return o}begin(e,n,r){if(!this._started)throw new Error("profiler is not started yet");if(void 0===r){const r=(0,t.now)();return this.flush(r),new l(e,n,r,(e=>this.endSync(e)))}{const t=r.beginTimer();return new l(e,n,0,(async e=>this.end(e)),t,r)}}async end(e){const t=await e.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new u(e.category,e.name,e.startTime,t)),this.flush(t))}endSync(e){const n=(0,t.now)();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new u(e.category,e.name,e.startTime,n)),this.flush(n))}logOneEvent(e){t.Logger.verbose(`Profiler.${e.category}`,`${(e.endTime-e.startTime).toFixed(2)}ms on event '${e.name}' at ${e.endTime.toFixed(2)}`)}flush(e){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||e-this._flushTime>=this._flushIntervalInMilliseconds){for(const e=this._flushPointer;this._flushPointer<e+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=(0,t.now)()}}get started(){return this._started}},t.now="undefined"!=typeof performance&&performance.now?()=>performance.now():Date.now},2644:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;const r=n(5686),i=n(1446),a=n(7070),o=n(9395),s=n(2517);var l=o.onnxruntime.experimental.fbs;t.Model=class{constructor(){}load(e,t,n){if(!n)try{return void this.loadFromOnnxFormat(e,t)}catch(e){if(void 0!==n)throw e}this.loadFromOrtFormat(e,t)}loadFromOnnxFormat(e,t){const n=i.onnx.ModelProto.decode(e);if(s.LongUtil.longToNumber(n.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=n.opsetImport.map((e=>({domain:e.domain,version:s.LongUtil.longToNumber(e.version)}))),this._graph=a.Graph.from(n.graph,t)}loadFromOrtFormat(e,t){const n=new r.flatbuffers.ByteBuffer(e),i=l.InferenceSession.getRootAsInferenceSession(n).model();if(s.LongUtil.longToNumber(i.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let r=0;r<i.opsetImportLength();r++){const e=i.opsetImport(r);this._opsets.push({domain:null==e?void 0:e.domain(),version:s.LongUtil.longToNumber(e.version())})}this._graph=a.Graph.from(i.graph(),t)}get graph(){return this._graph}get opsets(){return this._opsets}}},782:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FLOAT_TYPES=t.INT_TYPES=t.NUMBER_TYPES=void 0,t.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],t.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],t.FLOAT_TYPES=["float32","float64"]},1047:(e,t)=>{"use strict";function n(e,t){if(t.endsWith("+")){const n=Number.parseInt(t.substring(0,t.length-1),10);return!isNaN(n)&&n<=e}if(2===t.split("-").length){const n=t.split("-"),r=Number.parseInt(n[0],10),i=Number.parseInt(n[1],10);return!isNaN(r)&&!isNaN(i)&&r<=e&&e<=i}return Number.parseInt(t,10)===e}Object.defineProperty(t,"__esModule",{value:!0}),t.resolveOperator=void 0,t.resolveOperator=function(e,t,r){for(const i of r){const r=i[0],a=i[1],o=i[2],s=i[3],l=i[4];if(e.opType===r)for(const e of t)if((e.domain===a||"ai.onnx"===e.domain&&""===a)&&n(e.version,o))return{opImpl:s,opInit:l}}throw new TypeError(`cannot resolve operator '${e.opType}' with opsets: ${t.map((e=>`${e.domain||"ai.onnx"} v${e.version}`)).join(", ")}`)}},9395:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onnxruntime=void 0;const r=n(5686);var i,a;(function(e){let t;!function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.FLOAT=1]="FLOAT",e[e.INT=2]="INT",e[e.STRING=3]="STRING",e[e.TENSOR=4]="TENSOR",e[e.GRAPH=5]="GRAPH",e[e.FLOATS=6]="FLOATS",e[e.INTS=7]="INTS",e[e.STRINGS=8]="STRINGS",e[e.TENSORS=9]="TENSORS",e[e.GRAPHS=10]="GRAPHS",e[e.SPARSE_TENSOR=11]="SPARSE_TENSOR",e[e.SPARSE_TENSORS=12]="SPARSE_TENSORS"}(t=e.AttributeType||(e.AttributeType={}))})((a=(i=t.onnxruntime||(t.onnxruntime={})).experimental||(i.experimental={})).fbs||(a.fbs={})),function(e){!function(e){!function(e){let t;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VALUE=1]="VALUE",e[e.PARAM=2]="PARAM"}(t=e.DimensionValueType||(e.DimensionValueType={}))}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){let t;!function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.FLOAT=1]="FLOAT",e[e.UINT8=2]="UINT8",e[e.INT8=3]="INT8",e[e.UINT16=4]="UINT16",e[e.INT16=5]="INT16",e[e.INT32=6]="INT32",e[e.INT64=7]="INT64",e[e.STRING=8]="STRING",e[e.BOOL=9]="BOOL",e[e.FLOAT16=10]="FLOAT16",e[e.DOUBLE=11]="DOUBLE",e[e.UINT32=12]="UINT32",e[e.UINT64=13]="UINT64",e[e.COMPLEX64=14]="COMPLEX64",e[e.COMPLEX128=15]="COMPLEX128",e[e.BFLOAT16=16]="BFLOAT16"}(t=e.TensorDataType||(e.TensorDataType={}))}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){let t;!function(e){e[e.Primitive=0]="Primitive",e[e.Fused=1]="Fused"}(t=e.NodeType||(e.NodeType={}))}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){let t;!function(e){e[e.NONE=0]="NONE",e[e.tensor_type=1]="tensor_type",e[e.sequence_type=2]="sequence_type",e[e.map_type=3]="map_type"}(t=e.TypeInfoValue||(e.TypeInfoValue={}))}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsShape(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsShape(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}dim(t,n){let r=this.bb.__offset(this.bb_pos,4);return r?(n||new e.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}dimLength(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0}static startShape(e){e.startObject(1)}static addDim(e,t){e.addFieldOffset(0,t,0)}static createDimVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startDimVector(e,t){e.startVector(4,t,4)}static endShape(e){return e.endObject()}static createShape(e,t){return n.startShape(e),n.addDim(e,t),n.endShape(e)}}t.Shape=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDimension(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDimension(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}value(t){let n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}denotation(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startDimension(e){e.startObject(2)}static addValue(e,t){e.addFieldOffset(0,t,0)}static addDenotation(e,t){e.addFieldOffset(1,t,0)}static endDimension(e){return e.endObject()}static createDimension(e,t,r){return n.startDimension(e),n.addValue(e,t),n.addDenotation(e,r),n.endDimension(e)}}t.Dimension=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDimensionValue(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDimensionValue(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}dimType(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):e.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}dimParam(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null}static startDimensionValue(e){e.startObject(3)}static addDimType(t,n){t.addFieldInt8(0,n,e.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(e,t){e.addFieldInt64(1,t,e.createLong(0,0))}static addDimParam(e,t){e.addFieldOffset(2,t,0)}static endDimensionValue(e){return e.endObject()}static createDimensionValue(e,t,r,i){return n.startDimensionValue(e),n.addDimType(e,t),n.addDimValue(e,r),n.addDimParam(e,i),n.endDimensionValue(e)}}t.DimensionValue=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTensorTypeAndShape(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTensorTypeAndShape(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}elemType(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.TensorDataType.UNDEFINED}shape(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startTensorTypeAndShape(e){e.startObject(2)}static addElemType(t,n){t.addFieldInt32(0,n,e.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(e,t){e.addFieldOffset(1,t,0)}static endTensorTypeAndShape(e){return e.endObject()}static createTensorTypeAndShape(e,t,r){return n.startTensorTypeAndShape(e),n.addElemType(e,t),n.addShape(e,r),n.endTensorTypeAndShape(e)}}t.TensorTypeAndShape=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMapType(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMapType(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}keyType(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.TensorDataType.UNDEFINED}valueType(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startMapType(e){e.startObject(2)}static addKeyType(t,n){t.addFieldInt32(0,n,e.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(e,t){e.addFieldOffset(1,t,0)}static endMapType(e){return e.endObject()}static createMapType(e,t,r){return n.startMapType(e),n.addKeyType(e,t),n.addValueType(e,r),n.endMapType(e)}}t.MapType=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSequenceType(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSequenceType(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}elemType(t){let n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startSequenceType(e){e.startObject(1)}static addElemType(e,t){e.addFieldOffset(0,t,0)}static endSequenceType(e){return e.endObject()}static createSequenceType(e,t){return n.startSequenceType(e),n.addElemType(e,t),n.endSequenceType(e)}}t.SequenceType=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){(e.fbs||(e.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(e,t,n,r){return e.prep(4,12),e.writeInt32(r),e.writeInt32(n),e.writeInt32(t),e.offset()}}}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNodeEdge(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNodeEdge(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}nodeIndex(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint32(this.bb_pos+e):0}inputEdges(t,n){let r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+r)+12*t,this.bb):null}inputEdgesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}outputEdges(t,n){let r=this.bb.__offset(this.bb_pos,8);return r?(n||new e.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+r)+12*t,this.bb):null}outputEdgesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}static startNodeEdge(e){e.startObject(3)}static addNodeIndex(e,t){e.addFieldInt32(0,t,0)}static addInputEdges(e,t){e.addFieldOffset(1,t,0)}static startInputEdgesVector(e,t){e.startVector(12,t,4)}static addOutputEdges(e,t){e.addFieldOffset(2,t,0)}static startOutputEdgesVector(e,t){e.startVector(12,t,4)}static endNodeEdge(e){return e.endObject()}static createNodeEdge(e,t,r,i){return n.startNodeEdge(e),n.addNodeIndex(e,t),n.addInputEdges(e,r),n.addOutputEdges(e,i),n.endNodeEdge(e)}}t.NodeEdge=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNode(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNode(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}docString(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}domain(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null}sinceVersion(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt32(this.bb_pos+e):0}index(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readUint32(this.bb_pos+e):0}opType(e){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__string(this.bb_pos+t,e):null}type(){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.NodeType.Primitive}executionProviderType(e){let t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__string(this.bb_pos+t,e):null}inputs(e,t){let n=this.bb.__offset(this.bb_pos,20);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}inputsLength(){let e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__vector_len(this.bb_pos+e):0}outputs(e,t){let n=this.bb.__offset(this.bb_pos,22);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}outputsLength(){let e=this.bb.__offset(this.bb_pos,22);return e?this.bb.__vector_len(this.bb_pos+e):0}attributes(t,n){let r=this.bb.__offset(this.bb_pos,24);return r?(n||new e.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}attributesLength(){let e=this.bb.__offset(this.bb_pos,24);return e?this.bb.__vector_len(this.bb_pos+e):0}inputArgCounts(e){let t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+4*e):0}inputArgCountsLength(){let e=this.bb.__offset(this.bb_pos,26);return e?this.bb.__vector_len(this.bb_pos+e):0}inputArgCountsArray(){let e=this.bb.__offset(this.bb_pos,26);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}implicitInputs(e,t){let n=this.bb.__offset(this.bb_pos,28);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}implicitInputsLength(){let e=this.bb.__offset(this.bb_pos,28);return e?this.bb.__vector_len(this.bb_pos+e):0}static startNode(e){e.startObject(13)}static addName(e,t){e.addFieldOffset(0,t,0)}static addDocString(e,t){e.addFieldOffset(1,t,0)}static addDomain(e,t){e.addFieldOffset(2,t,0)}static addSinceVersion(e,t){e.addFieldInt32(3,t,0)}static addIndex(e,t){e.addFieldInt32(4,t,0)}static addOpType(e,t){e.addFieldOffset(5,t,0)}static addType(t,n){t.addFieldInt32(6,n,e.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(e,t){e.addFieldOffset(7,t,0)}static addInputs(e,t){e.addFieldOffset(8,t,0)}static createInputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startInputsVector(e,t){e.startVector(4,t,4)}static addOutputs(e,t){e.addFieldOffset(9,t,0)}static createOutputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startOutputsVector(e,t){e.startVector(4,t,4)}static addAttributes(e,t){e.addFieldOffset(10,t,0)}static createAttributesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startAttributesVector(e,t){e.startVector(4,t,4)}static addInputArgCounts(e,t){e.addFieldOffset(11,t,0)}static createInputArgCountsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addInt32(t[n]);return e.endVector()}static startInputArgCountsVector(e,t){e.startVector(4,t,4)}static addImplicitInputs(e,t){e.addFieldOffset(12,t,0)}static createImplicitInputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startImplicitInputsVector(e,t){e.startVector(4,t,4)}static endNode(e){return e.endObject()}static createNode(e,t,r,i,a,o,s,l,u,c,d,f,h,p){return n.startNode(e),n.addName(e,t),n.addDocString(e,r),n.addDomain(e,i),n.addSinceVersion(e,a),n.addIndex(e,o),n.addOpType(e,s),n.addType(e,l),n.addExecutionProviderType(e,u),n.addInputs(e,c),n.addOutputs(e,d),n.addAttributes(e,f),n.addInputArgCounts(e,h),n.addImplicitInputs(e,p),n.endNode(e)}}t.Node=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsValueInfo(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsValueInfo(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}docString(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}type(t){let n=this.bb.__offset(this.bb_pos,8);return n?(t||new e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startValueInfo(e){e.startObject(3)}static addName(e,t){e.addFieldOffset(0,t,0)}static addDocString(e,t){e.addFieldOffset(1,t,0)}static addType(e,t){e.addFieldOffset(2,t,0)}static endValueInfo(e){return e.endObject()}static createValueInfo(e,t,r,i){return n.startValueInfo(e),n.addName(e,t),n.addDocString(e,r),n.addType(e,i),n.endValueInfo(e)}}t.ValueInfo=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTypeInfo(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTypeInfo(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}denotation(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}valueType(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):e.experimental.fbs.TypeInfoValue.NONE}value(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null}static startTypeInfo(e){e.startObject(3)}static addDenotation(e,t){e.addFieldOffset(0,t,0)}static addValueType(t,n){t.addFieldInt8(1,n,e.experimental.fbs.TypeInfoValue.NONE)}static addValue(e,t){e.addFieldOffset(2,t,0)}static endTypeInfo(e){return e.endObject()}static createTypeInfo(e,t,r,i){return n.startTypeInfo(e),n.addDenotation(e,t),n.addValueType(e,r),n.addValue(e,i),n.endTypeInfo(e)}}t.TypeInfo=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsOperatorSetId(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsOperatorSetId(e,n){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}domain(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}version(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}static startOperatorSetId(e){e.startObject(2)}static addDomain(e,t){e.addFieldOffset(0,t,0)}static addVersion(e,t){e.addFieldInt64(1,t,e.createLong(0,0))}static endOperatorSetId(e){return e.endObject()}static createOperatorSetId(e,n,r){return t.startOperatorSetId(e),t.addDomain(e,n),t.addVersion(e,r),t.endOperatorSetId(e)}}e.OperatorSetId=t}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTensor(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTensor(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}docString(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}dims(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}dimsLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}dataType(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.TensorDataType.UNDEFINED}rawData(e){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0}rawDataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}rawDataArray(){let e=this.bb.__offset(this.bb_pos,12);return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}stringData(e,t){let n=this.bb.__offset(this.bb_pos,14);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}stringDataLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}static startTensor(e){e.startObject(6)}static addName(e,t){e.addFieldOffset(0,t,0)}static addDocString(e,t){e.addFieldOffset(1,t,0)}static addDims(e,t){e.addFieldOffset(2,t,0)}static createDimsVector(e,t){e.startVector(8,t.length,8);for(let n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()}static startDimsVector(e,t){e.startVector(8,t,8)}static addDataType(t,n){t.addFieldInt32(3,n,e.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(e,t){e.addFieldOffset(4,t,0)}static createRawDataVector(e,t){e.startVector(1,t.length,1);for(let n=t.length-1;n>=0;n--)e.addInt8(t[n]);return e.endVector()}static startRawDataVector(e,t){e.startVector(1,t,1)}static addStringData(e,t){e.addFieldOffset(5,t,0)}static createStringDataVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startStringDataVector(e,t){e.startVector(4,t,4)}static endTensor(e){return e.endObject()}static createTensor(e,t,r,i,a,o,s){return n.startTensor(e),n.addName(e,t),n.addDocString(e,r),n.addDims(e,i),n.addDataType(e,a),n.addRawData(e,o),n.addStringData(e,s),n.endTensor(e)}}t.Tensor=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseTensor(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseTensor(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}values(t){let n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}indices(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dims(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}dimsLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSparseTensor(e){e.startObject(3)}static addValues(e,t){e.addFieldOffset(0,t,0)}static addIndices(e,t){e.addFieldOffset(1,t,0)}static addDims(e,t){e.addFieldOffset(2,t,0)}static createDimsVector(e,t){e.startVector(8,t.length,8);for(let n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()}static startDimsVector(e,t){e.startVector(8,t,8)}static endSparseTensor(e){return e.endObject()}static createSparseTensor(e,t,r,i){return n.startSparseTensor(e),n.addValues(e,t),n.addIndices(e,r),n.addDims(e,i),n.endSparseTensor(e)}}t.SparseTensor=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsAttribute(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsAttribute(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}docString(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}type(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.AttributeType.UNDEFINED}f(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readFloat32(this.bb_pos+e):0}i(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}s(e){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__string(this.bb_pos+t,e):null}t(t){let n=this.bb.__offset(this.bb_pos,16);return n?(t||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}g(t){let n=this.bb.__offset(this.bb_pos,18);return n?(t||new e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}floats(e){let t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readFloat32(this.bb.__vector(this.bb_pos+t)+4*e):0}floatsLength(){let e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__vector_len(this.bb_pos+e):0}floatsArray(){let e=this.bb.__offset(this.bb_pos,20);return e?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}ints(e){let t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}intsLength(){let e=this.bb.__offset(this.bb_pos,22);return e?this.bb.__vector_len(this.bb_pos+e):0}strings(e,t){let n=this.bb.__offset(this.bb_pos,24);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}stringsLength(){let e=this.bb.__offset(this.bb_pos,24);return e?this.bb.__vector_len(this.bb_pos+e):0}tensors(t,n){let r=this.bb.__offset(this.bb_pos,26);return r?(n||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}tensorsLength(){let e=this.bb.__offset(this.bb_pos,26);return e?this.bb.__vector_len(this.bb_pos+e):0}graphs(t,n){let r=this.bb.__offset(this.bb_pos,28);return r?(n||new e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}graphsLength(){let e=this.bb.__offset(this.bb_pos,28);return e?this.bb.__vector_len(this.bb_pos+e):0}static startAttribute(e){e.startObject(13)}static addName(e,t){e.addFieldOffset(0,t,0)}static addDocString(e,t){e.addFieldOffset(1,t,0)}static addType(t,n){t.addFieldInt32(2,n,e.experimental.fbs.AttributeType.UNDEFINED)}static addF(e,t){e.addFieldFloat32(3,t,0)}static addI(e,t){e.addFieldInt64(4,t,e.createLong(0,0))}static addS(e,t){e.addFieldOffset(5,t,0)}static addT(e,t){e.addFieldOffset(6,t,0)}static addG(e,t){e.addFieldOffset(7,t,0)}static addFloats(e,t){e.addFieldOffset(8,t,0)}static createFloatsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addFloat32(t[n]);return e.endVector()}static startFloatsVector(e,t){e.startVector(4,t,4)}static addInts(e,t){e.addFieldOffset(9,t,0)}static createIntsVector(e,t){e.startVector(8,t.length,8);for(let n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()}static startIntsVector(e,t){e.startVector(8,t,8)}static addStrings(e,t){e.addFieldOffset(10,t,0)}static createStringsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startStringsVector(e,t){e.startVector(4,t,4)}static addTensors(e,t){e.addFieldOffset(11,t,0)}static createTensorsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startTensorsVector(e,t){e.startVector(4,t,4)}static addGraphs(e,t){e.addFieldOffset(12,t,0)}static createGraphsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startGraphsVector(e,t){e.startVector(4,t,4)}static endAttribute(e){return e.endObject()}static createAttribute(e,t,r,i,a,o,s,l,u,c,d,f,h,p){return n.startAttribute(e),n.addName(e,t),n.addDocString(e,r),n.addType(e,i),n.addF(e,a),n.addI(e,o),n.addS(e,s),n.addT(e,l),n.addG(e,u),n.addFloats(e,c),n.addInts(e,d),n.addStrings(e,f),n.addTensors(e,h),n.addGraphs(e,p),n.endAttribute(e)}}t.Attribute=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsGraph(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsGraph(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}initializers(t,n){let r=this.bb.__offset(this.bb_pos,4);return r?(n||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}initializersLength(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0}nodeArgs(t,n){let r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}nodeArgsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}nodes(t,n){let r=this.bb.__offset(this.bb_pos,8);return r?(n||new e.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}nodesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}maxNodeIndex(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readUint32(this.bb_pos+e):0}nodeEdges(t,n){let r=this.bb.__offset(this.bb_pos,12);return r?(n||new e.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}nodeEdgesLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}inputs(e,t){let n=this.bb.__offset(this.bb_pos,14);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}inputsLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}outputs(e,t){let n=this.bb.__offset(this.bb_pos,16);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}outputsLength(){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}sparseInitializers(t,n){let r=this.bb.__offset(this.bb_pos,18);return r?(n||new e.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}sparseInitializersLength(){let e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__vector_len(this.bb_pos+e):0}static startGraph(e){e.startObject(8)}static addInitializers(e,t){e.addFieldOffset(0,t,0)}static createInitializersVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startInitializersVector(e,t){e.startVector(4,t,4)}static addNodeArgs(e,t){e.addFieldOffset(1,t,0)}static createNodeArgsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startNodeArgsVector(e,t){e.startVector(4,t,4)}static addNodes(e,t){e.addFieldOffset(2,t,0)}static createNodesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startNodesVector(e,t){e.startVector(4,t,4)}static addMaxNodeIndex(e,t){e.addFieldInt32(3,t,0)}static addNodeEdges(e,t){e.addFieldOffset(4,t,0)}static createNodeEdgesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startNodeEdgesVector(e,t){e.startVector(4,t,4)}static addInputs(e,t){e.addFieldOffset(5,t,0)}static createInputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startInputsVector(e,t){e.startVector(4,t,4)}static addOutputs(e,t){e.addFieldOffset(6,t,0)}static createOutputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startOutputsVector(e,t){e.startVector(4,t,4)}static addSparseInitializers(e,t){e.addFieldOffset(7,t,0)}static createSparseInitializersVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startSparseInitializersVector(e,t){e.startVector(4,t,4)}static endGraph(e){return e.endObject()}static createGraph(e,t,r,i,a,o,s,l,u){return n.startGraph(e),n.addInitializers(e,t),n.addNodeArgs(e,r),n.addNodes(e,i),n.addMaxNodeIndex(e,a),n.addNodeEdges(e,o),n.addInputs(e,s),n.addOutputs(e,l),n.addSparseInitializers(e,u),n.endGraph(e)}}t.Graph=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsModel(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsModel(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}irVersion(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}opsetImport(t,n){let r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}opsetImportLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}producerName(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null}producerVersion(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__string(this.bb_pos+t,e):null}domain(e){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__string(this.bb_pos+t,e):null}modelVersion(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}docString(e){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__string(this.bb_pos+t,e):null}graph(t){let n=this.bb.__offset(this.bb_pos,18);return n?(t||new e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}graphDocString(e){let t=this.bb.__offset(this.bb_pos,20);return t?this.bb.__string(this.bb_pos+t,e):null}static startModel(e){e.startObject(9)}static addIrVersion(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addOpsetImport(e,t){e.addFieldOffset(1,t,0)}static createOpsetImportVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startOpsetImportVector(e,t){e.startVector(4,t,4)}static addProducerName(e,t){e.addFieldOffset(2,t,0)}static addProducerVersion(e,t){e.addFieldOffset(3,t,0)}static addDomain(e,t){e.addFieldOffset(4,t,0)}static addModelVersion(e,t){e.addFieldInt64(5,t,e.createLong(0,0))}static addDocString(e,t){e.addFieldOffset(6,t,0)}static addGraph(e,t){e.addFieldOffset(7,t,0)}static addGraphDocString(e,t){e.addFieldOffset(8,t,0)}static endModel(e){return e.endObject()}static createModel(e,t,r,i,a,o,s,l,u,c){return n.startModel(e),n.addIrVersion(e,t),n.addOpsetImport(e,r),n.addProducerName(e,i),n.addProducerVersion(e,a),n.addDomain(e,o),n.addModelVersion(e,s),n.addDocString(e,l),n.addGraph(e,u),n.addGraphDocString(e,c),n.endModel(e)}}t.Model=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsKernelCreateInfos(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKernelCreateInfos(e,n){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}nodeIndices(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb.__vector(this.bb_pos+t)+4*e):0}nodeIndicesLength(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0}nodeIndicesArray(){let e=this.bb.__offset(this.bb_pos,4);return e?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}kernelDefHashes(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}kernelDefHashesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}static startKernelCreateInfos(e){e.startObject(2)}static addNodeIndices(e,t){e.addFieldOffset(0,t,0)}static createNodeIndicesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addInt32(t[n]);return e.endVector()}static startNodeIndicesVector(e,t){e.startVector(4,t,4)}static addKernelDefHashes(e,t){e.addFieldOffset(1,t,0)}static createKernelDefHashesVector(e,t){e.startVector(8,t.length,8);for(let n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()}static startKernelDefHashesVector(e,t){e.startVector(8,t,8)}static endKernelCreateInfos(e){return e.endObject()}static createKernelCreateInfos(e,n,r){return t.startKernelCreateInfos(e),t.addNodeIndices(e,n),t.addKernelDefHashes(e,r),t.endKernelCreateInfos(e)}}e.KernelCreateInfos=t}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSubGraphSessionState(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSubGraphSessionState(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}graphId(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}sessionState(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startSubGraphSessionState(e){e.startObject(2)}static addGraphId(e,t){e.addFieldOffset(0,t,0)}static addSessionState(e,t){e.addFieldOffset(1,t,0)}static endSubGraphSessionState(e){let t=e.endObject();return e.requiredField(t,4),t}static createSubGraphSessionState(e,t,r){return n.startSubGraphSessionState(e),n.addGraphId(e,t),n.addSessionState(e,r),n.endSubGraphSessionState(e)}}t.SubGraphSessionState=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSessionState(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSessionState(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}kernels(t){let n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}subGraphSessionStates(t,n){let r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}subGraphSessionStatesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSessionState(e){e.startObject(2)}static addKernels(e,t){e.addFieldOffset(0,t,0)}static addSubGraphSessionStates(e,t){e.addFieldOffset(1,t,0)}static createSubGraphSessionStatesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startSubGraphSessionStatesVector(e,t){e.startVector(4,t,4)}static endSessionState(e){return e.endObject()}static createSessionState(e,t,r){return n.startSessionState(e),n.addKernels(e,t),n.addSubGraphSessionStates(e,r),n.endSessionState(e)}}t.SessionState=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInferenceSession(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInferenceSession(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static bufferHasIdentifier(e){return e.__has_identifier("ORTM")}ortVersion(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}model(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}sessionState(t){let n=this.bb.__offset(this.bb_pos,8);return n?(t||new e.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startInferenceSession(e){e.startObject(3)}static addOrtVersion(e,t){e.addFieldOffset(0,t,0)}static addModel(e,t){e.addFieldOffset(1,t,0)}static addSessionState(e,t){e.addFieldOffset(2,t,0)}static endInferenceSession(e){return e.endObject()}static finishInferenceSessionBuffer(e,t){e.finish(t,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(e,t){e.finish(t,"ORTM",!0)}static createInferenceSession(e,t,r,i){return n.startInferenceSession(e),n.addOrtVersion(e,t),n.addModel(e,r),n.addSessionState(e,i),n.endInferenceSession(e)}}t.InferenceSession=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={}))},7448:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnnxjsSessionHandler=void 0;const r=n(1670),i=n(9162);t.OnnxjsSessionHandler=class{constructor(e){this.session=e,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(e,t,n){const a=new Map;for(const r in e)if(Object.hasOwnProperty.call(e,r)){const t=e[r];a.set(r,new i.Tensor(t.dims,t.type,void 0,void 0,t.data))}const o=await this.session.run(a),s={};return o.forEach(((e,t)=>{s[t]=new r.Tensor(e.type,e.data,e.dims)})),s}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6919:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Session=void 0;const r=n(7067),i=n(1296),a=n(7091),o=n(1036),s=n(6231),l=n(2644);t.Session=class{constructor(e={}){this._initialized=!1,this.backendHint=e.backendHint,this.profiler=s.Profiler.create(e.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(e,t,n){await this.profiler.event("session","Session.loadModel",(async()=>{const o=await(0,a.resolveBackend)(this.backendHint);if(this.sessionHandler=o.createSessionHandler(this.context),this._model=new l.Model,"string"==typeof e){const t=e.endsWith(".ort");if("undefined"==typeof fetch){const n=await(0,i.promisify)(r.readFile)(e);this.initialize(n,t)}else{const n=await fetch(e),r=await n.arrayBuffer();this.initialize(new Uint8Array(r),t)}}else if(ArrayBuffer.isView(e))this.initialize(e);else{const r=new Uint8Array(e,t||0,n||e.byteLength);this.initialize(r)}}))}initialize(e,t){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",(()=>{const n=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(e,n,t),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new o.ExecutionPlan(this._model.graph,this._ops,this.profiler)})),this._initialized=!0}async run(e){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",(async()=>{const t=this.normalizeAndValidateInputs(e),n=await this._executionPlan.execute(this.sessionHandler,t);return this.createOutput(n)}))}normalizeAndValidateInputs(e){const t=this._model.graph.getInputNames();if(Array.isArray(e)){if(e.length!==t.length)throw new Error(`incorrect input array length: expected ${t.length} but got ${e.length}`)}else{if(e.size!==t.length)throw new Error(`incorrect input map size: expected ${t.length} but got ${e.size}`);const n=new Array(e.size);let r=0;for(let i=0;i<t.length;++i){const a=e.get(t[i]);if(!a)throw new Error(`missing input tensor for: '${name}'`);n[r++]=a}e=n}if(this.context.graphInputTypes&&0!==this.context.graphInputTypes.length&&this.context.graphInputDims&&0!==this.context.graphInputDims.length)this.validateInputTensorDims(this.context.graphInputDims,e,!1);else{const t=this._model.graph.getInputIndices(),n=this._model.graph.getValues(),r=new Array(t.length);for(let i=0;i<t.length;++i){const a=n[t[i]];r[i]=a.type.shape.dims,this.context.graphInputTypes.push(a.type.tensorType),this.context.graphInputDims.push(e[i].dims)}this.validateInputTensorDims(r,e,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,e),e}validateInputTensorTypes(e,t){for(let n=0;n<t.length;n++){const r=e[n],i=t[n].type;if(r!==i)throw new Error(`input tensor[${n}] check failed: expected type '${r}' but got ${i}`)}}validateInputTensorDims(e,t,n){for(let r=0;r<t.length;r++){const i=e[r],a=t[r].dims;if(!this.compareTensorDims(i,a,n))throw new Error(`input tensor[${r}] check failed: expected shape '[${i.join(",")}]' but got [${a.join(",")}]`)}}compareTensorDims(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r]&&(!n||0!==e[r]))return!1;return!0}createOutput(e){const t=this._model.graph.getOutputNames();if(e.length!==t.length)throw new Error("expected number of outputs do not match number of generated outputs");const n=new Map;for(let r=0;r<t.length;++r)n.set(t[r],e[r]);return n}initializeOps(e){const t=e.getNodes();this._ops=new Array(t.length);for(let n=0;n<t.length;n++)this._ops[n]=this.sessionHandler.resolve(t[n],this._model.opsets,e)}}},9162:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Tensor=void 0;const i=n(3442),a=r(n(3720)),o=n(1446),s=n(9395),l=n(2517);var u=s.onnxruntime.experimental.fbs;class c{get data(){if(void 0===this.cache){const e=this.dataProvider(this.dataId);if(e.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=e}return this.cache}get stringData(){if("string"!==this.type)throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if("string"!==this.type)return this.data;throw new TypeError("type cannot be non-number (string)")}get(e){return this.data[l.ShapeUtil.indicesToOffset(e,this.strides)]}set(e,t){this.data[l.ShapeUtil.indicesToOffset(e,this.strides)]=t}async getData(){return void 0===this.cache&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=l.ShapeUtil.computeStrides(this.dims)),this._strides}constructor(e,t,n,r,a,o=i.Guid.create()){this.dims=e,this.type=t,this.dataProvider=n,this.asyncDataProvider=r,this.cache=a,this.dataId=o,this.size=l.ShapeUtil.validateDimsAndCalcSize(e);const s=this.size,u=void 0===n&&void 0===r&&void 0===a;if(void 0!==a&&a.length!==s)throw new RangeError("Input dims doesn't match data length.");if("string"===t){if(!(void 0===a||Array.isArray(a)&&a.every((e=>"string"==typeof e))))throw new TypeError("cache should be a string array");u&&(this.cache=new Array(s))}else{if(void 0!==a){const e=f(t);if(!(a instanceof e))throw new TypeError(`cache should be type ${e.name}`)}if(u){const e=new ArrayBuffer(s*function(e){switch(e){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${e}`)}}(t));this.cache=function(e,t){return new(f(t))(e)}(e,t)}}}static fromProto(e){if(!e)throw new Error("cannot construct Value from an empty tensor");const t=l.ProtoUtil.tensorDataTypeFromProto(e.dataType),n=l.ProtoUtil.tensorDimsFromProto(e.dims),r=new c(n,t);if("string"===t)e.stringData.forEach(((e,t)=>{r.data[t]=(0,l.decodeUtf8String)(e)}));else if(e.rawData&&"number"==typeof e.rawData.byteLength&&e.rawData.byteLength>0){const t=r.data,n=new DataView(e.rawData.buffer,e.rawData.byteOffset,e.rawData.byteLength),i=d(e.dataType),a=e.rawData.byteLength/i;if(e.rawData.byteLength%i!=0)throw new Error("invalid buffer length");if(t.length!==a)throw new Error("buffer length mismatch");for(let r=0;r<a;r++){const a=p(n,e.dataType,r*i);t[r]=a}}else{let t;switch(e.dataType){case o.onnx.TensorProto.DataType.FLOAT:t=e.floatData;break;case o.onnx.TensorProto.DataType.INT32:case o.onnx.TensorProto.DataType.INT16:case o.onnx.TensorProto.DataType.UINT16:case o.onnx.TensorProto.DataType.INT8:case o.onnx.TensorProto.DataType.UINT8:case o.onnx.TensorProto.DataType.BOOL:t=e.int32Data;break;case o.onnx.TensorProto.DataType.INT64:t=e.int64Data;break;case o.onnx.TensorProto.DataType.DOUBLE:t=e.doubleData;break;case o.onnx.TensorProto.DataType.UINT32:case o.onnx.TensorProto.DataType.UINT64:t=e.uint64Data;break;default:throw new Error("unspecific error")}if(null==t)throw new Error("failed to populate data from a tensorproto value");const n=r.data;if(n.length!==t.length)throw new Error("array length mismatch");for(let r=0;r<t.length;r++){const i=t[r];a.default.isLong(i)?n[r]=h(i,e.dataType):n[r]=i}}return r}static fromData(e,t,n){return new c(t,n,void 0,void 0,e)}static fromOrtTensor(e){if(!e)throw new Error("cannot construct Value from an empty tensor");const t=l.ProtoUtil.tensorDimsFromORTFormat(e),n=l.ProtoUtil.tensorDataTypeFromProto(e.dataType()),r=new c(t,n);if("string"===n)for(let i=0;i<e.stringDataLength();i++)r.data[i]=e.stringData(i);else if(e.rawDataArray()&&"number"==typeof e.rawDataLength()&&e.rawDataLength()>0){const t=r.data,n=new DataView(e.rawDataArray().buffer,e.rawDataArray().byteOffset,e.rawDataLength()),i=d(e.dataType()),a=e.rawDataLength()/i;if(e.rawDataLength()%i!=0)throw new Error("invalid buffer length");if(t.length!==a)throw new Error("buffer length mismatch");for(let r=0;r<a;r++){const a=p(n,e.dataType(),r*i);t[r]=a}}return r}}function d(e){switch(e){case o.onnx.TensorProto.DataType.UINT8:case o.onnx.TensorProto.DataType.INT8:case o.onnx.TensorProto.DataType.BOOL:return 1;case o.onnx.TensorProto.DataType.UINT16:case o.onnx.TensorProto.DataType.INT16:return 2;case o.onnx.TensorProto.DataType.FLOAT:case o.onnx.TensorProto.DataType.INT32:case o.onnx.TensorProto.DataType.UINT32:return 4;case o.onnx.TensorProto.DataType.INT64:case o.onnx.TensorProto.DataType.DOUBLE:case o.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${o.onnx.TensorProto.DataType[e]}`)}}function f(e){switch(e){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function h(e,t){if(t===o.onnx.TensorProto.DataType.INT64||t===u.TensorDataType.INT64){if(e.greaterThanOrEqual(2147483648)||e.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(t!==o.onnx.TensorProto.DataType.UINT32&&t!==u.TensorDataType.UINT32&&t!==o.onnx.TensorProto.DataType.UINT64&&t!==u.TensorDataType.UINT64)throw new TypeError(`not a LONG type: ${o.onnx.TensorProto.DataType[t]}`);if(e.greaterThanOrEqual(4294967296)||e.lessThan(0))throw new TypeError("uint64 is not supported")}return e.toNumber()}function p(e,t,n){switch(t){case o.onnx.TensorProto.DataType.BOOL:case o.onnx.TensorProto.DataType.UINT8:return e.getUint8(n);case o.onnx.TensorProto.DataType.INT8:return e.getInt8(n);case o.onnx.TensorProto.DataType.UINT16:return e.getUint16(n,!0);case o.onnx.TensorProto.DataType.INT16:return e.getInt16(n,!0);case o.onnx.TensorProto.DataType.FLOAT:return e.getFloat32(n,!0);case o.onnx.TensorProto.DataType.INT32:return e.getInt32(n,!0);case o.onnx.TensorProto.DataType.UINT32:return e.getUint32(n,!0);case o.onnx.TensorProto.DataType.INT64:return h(a.default.fromBits(e.getUint32(n,!0),e.getUint32(n+4,!0),!1),t);case o.onnx.TensorProto.DataType.DOUBLE:return e.getFloat64(n,!0);case o.onnx.TensorProto.DataType.UINT64:return h(a.default.fromBits(e.getUint32(n,!0),e.getUint32(n+4,!0),!0),t);default:throw new Error(`cannot read from DataView for type ${o.onnx.TensorProto.DataType[t]}`)}}t.Tensor=c},2517:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeUtf8String=t.MAX_CLIP=t.MIN_CLIP=t.PoolConvUtil=t.ReduceUtil=t.SplitUtil=t.MathUtil=t.ShapeUtil=t.LongUtil=t.ProtoUtil=t.GemmUtil=t.arrayCopyHelper=t.BroadcastUtil=t.MatMulUtil=t.ArrayUtil=t.assert=t.checkInputsShape=void 0;const i=n(5686),a=r(n(3720)),o=n(1446),s=n(9162);t.checkInputsShape=function(e,...t){if(!e||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].dims||e[n].dims.length!==t[n])return!1;return!0},t.assert=function(e,t){if(!e)throw new Error("string"==typeof t?t:t())},t.ArrayUtil=class{static arraysEqual(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}};class l{static preprocessInputShapes(e,t){return[1===e.length?[1,e[0]]:e,1===t.length?[t[0],1]:t]}static postprocessOutputShape(e,t,n){1===t&&e.splice(e.length-2,1),1===n&&e.pop()}static calcMatMulShape(e,t){return e[1]!==t[0]?void 0:[e[0],t[1]]}}t.MatMulUtil=l;class u{static calcShape(e,t,n=!1){const r=e.length,i=t.length;if(0===r)return t;if(0===i)return e;const a=Math.max(e.length,t.length),o=new Array(a);if(n){if(r<2||i<2)return;const n=l.calcMatMulShape([e[r-2],e[r-1]],[t[i-2],t[i-1]]);if(void 0===n)return;[o[a-2],o[a-1]]=n}for(let s=n?3:1;s<=a;s++){const n=r-s<0?1:e[r-s],l=i-s<0?1:t[i-s];if(n!==l&&n>1&&l>1)return;o[a-s]=Math.max(n,l)}return o}static index(e,t){const n=new Array(t.length);return u.fillIndex(e,t,n),n}static fillIndex(e,t,n){const r=e.length-t.length;for(let i=0;i<t.length;i++)n[i]=e[r+i]%t[i]}static calc(e,t,n,r,i){const a=u.calcShape(e.dims,t.dims);if(a){if(r&&!f.areEqual(a,e.dims))return;const o=f.size(a),l=r?e:new s.Tensor(a,i||e.type);if(0===a.length)l.set([],n(e.get([]),t.get([])));else{const r=new Array(a.length),i=new Array(e.dims.length),s=new Array(t.dims.length);let c,d=0,f=0,h=!1,p=!1;0===e.dims.length&&(d=e.get([]),h=!0),0===t.dims.length&&(f=t.get([]),p=!0);for(let g=0;g<o;g++){c=g;for(let e=a.length-1;e>=0;e--)r[e]=c%a[e],c=Math.floor(c/a[e]);h||(u.fillIndex(r,e.dims,i),d=e.get(i)),p||(u.fillIndex(r,t.dims,s),f=t.get(s)),l.set(r,n(d,f))}}return l}}static isValidBroadcast(e,t){const n=e.length,r=t.length;if(n>r)return!1;for(let i=1;i<=n;i++)if(1!==e[n-i]&&e[n-i]!==t[r-i])return!1;return!0}static getBroadcastDims(e,t){const n=e.length,r=[];for(let i=0;i<n;i++){const a=n-1-i,o=e[a]||1;(t[t.length-1-i]||1)>1&&1===o&&r.unshift(a)}return r}}t.BroadcastUtil=u,t.arrayCopyHelper=function(e,t,n,r,i){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+i>t.length)throw new Error("source indices to be copied are outside bounds");if(n+i>e.length)throw new Error("target array is too small to hold result");for(let a=0;a<i;a++)e[n+a]=t[r+a]},t.GemmUtil=class{static getShapeOfGemmResult(e,t,n,r,i){if(2!==e.length||2!==n.length)throw new Error("shape need to be of size 2");let a,o,s;t?(a=e[1],o=e[0]):(a=e[0],o=e[1]);let l=-1;if(r?(s=n[0],l=1):(s=n[1],l=0),n[l]!==o)throw new Error("dimension mismatch");if(a<=0||s<=0||o<=0)throw new Error("invalid shape specified");if(i&&!u.isValidBroadcast(i,[a,s]))throw new Error("gemm: invalid bias shape for broadcast");return[a,s,o]}};class c{static tensorDataTypeFromProto(e){switch(e){case o.onnx.TensorProto.DataType.INT8:return"int8";case o.onnx.TensorProto.DataType.UINT8:return"uint8";case o.onnx.TensorProto.DataType.BOOL:return"bool";case o.onnx.TensorProto.DataType.INT16:return"int16";case o.onnx.TensorProto.DataType.UINT16:return"uint16";case o.onnx.TensorProto.DataType.INT32:return"int32";case o.onnx.TensorProto.DataType.UINT32:return"uint32";case o.onnx.TensorProto.DataType.FLOAT:return"float32";case o.onnx.TensorProto.DataType.DOUBLE:return"float64";case o.onnx.TensorProto.DataType.STRING:return"string";case o.onnx.TensorProto.DataType.INT64:return"int32";case o.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${o.onnx.TensorProto.DataType[e]}`)}}static tensorDataTypeStringToEnum(e){switch(e){case"int8":return o.onnx.TensorProto.DataType.INT8;case"uint8":return o.onnx.TensorProto.DataType.UINT8;case"bool":return o.onnx.TensorProto.DataType.BOOL;case"int16":return o.onnx.TensorProto.DataType.INT16;case"uint16":return o.onnx.TensorProto.DataType.UINT16;case"int32":return o.onnx.TensorProto.DataType.INT32;case"uint32":return o.onnx.TensorProto.DataType.UINT32;case"float32":return o.onnx.TensorProto.DataType.FLOAT;case"float64":return o.onnx.TensorProto.DataType.DOUBLE;case"string":return o.onnx.TensorProto.DataType.STRING;case"int64":return o.onnx.TensorProto.DataType.INT64;case"uint64":return o.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${e}`)}}static tensorDimsFromProto(e){return e.map((e=>a.default.isLong(e)?e.toNumber():e))}static tensorValueTypeFromProto(e){return{tensorType:c.tensorDataTypeFromProto(e.elemType),shape:{dims:c.tensorDimsFromProto(e.shape.dim.map((e=>e.dimValue)))}}}static tensorDimsFromORTFormat(e){const t=[];for(let n=0;n<e.dimsLength();n++)t.push(d.longToNumber(e.dims(n)));return t}static tensorAttributesFromORTFormat(e){const t=[];for(let n=0;n<e.attributesLength();n++)t.push(e.attributes(n));return t}}t.ProtoUtil=c;class d{static longToNumber(e,t){return a.default.isLong(e)?e.toNumber():e instanceof i.flatbuffers.Long?a.default.fromValue({low:e.low,high:e.high,unsigned:null!=t&&t}).toNumber():e}static isLong(e){return a.default.isLong(e)||e instanceof i.flatbuffers.Long}}t.LongUtil=d;class f{static size(e){return f.getSizeFromDimensionRange(e,0,e.length)}static sizeFromDimension(e,t){if(t<0||t>e.length)throw new Error(`invalid dimension of ${t} for sizeFromDimension as Tensor has ${e.length} dimensions.`);return f.getSizeFromDimensionRange(e,t,e.length)}static sizeToDimension(e,t){if(t<0||t>e.length)throw new Error(`invalid dimension of ${t} for sizeToDimension as Tensor has ${e.length} dimensions.`);return f.getSizeFromDimensionRange(e,0,t)}static getSizeFromDimensionRange(e,t,n){let r=1;for(let i=t;i<n;i++){if(e[i]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");r*=e[i]}return r}static computeStrides(e){const t=e.length;if(0===t)return[];if(1===t)return[1];const n=new Array(t);n[t-1]=1,n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}static transpose(e){return e.slice().reverse()}static indicesToOffset(e,t,n){void 0===n&&(n=e.length);let r=0;for(let i=0;i<n;++i)r+=t[i]*e[i];return r}static offsetToIndices(e,t){const n=t.length;if(0===n)return[];if(1===n)return[e*t[0]];const r=new Array(t.length);for(let i=0;i<r.length-1;++i)r[i]=Math.floor(e/t[i]),e-=r[i]*t[i];return r[r.length-1]=e,r}static normalizeAxis(e,t){if(e<-t&&e>=t)throw new Error("unsupported axis for this operation.");return e<0?e+t:e}static normalizeAxes(e,t){return e.map((e=>this.normalizeAxis(e,t)))}static incrementIndex(e,t,n){if(0===t.length||0===e.length)throw new Error("Index incrementing unsupported for scalar Tensor");if(void 0===n)n=t.length;else if(n<=0||n>t.length)throw new Error("Incorrect axis to increment on");for(let r=n-1;r>=0&&(e[r]++,!(e[r]<t[r]));--r)e[r]=0}static calculateReshapedDims(e,t){if(0===t.length){if(0===e.length||1===f.size(e))return[];throw new Error("cannot reshape to a scalar Tensor")}const n=t.length,r=new Array(n);let i=-1,a=1;for(let s=0;s<n;s++){if(t[s]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(-1===t[s]){if(-1!==i)throw new Error("at most one dimension in shape hints can be -1");i=s}else{if(0===t[s]){if(s>=e.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");r[s]=e[s]}else r[s]=t[s];a*=r[s]}}const o=f.size(e);if(-1!==i){if(o%a!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${e}] Output shape: [${t}]`);r[i]=o/a}else if(a!==o)throw new Error("reshapedDims and originalDims don't have matching sizes");return r}static sortBasedOnPerm(e,t){return t?t.map((t=>e[t])):e.slice().reverse()}static padShape(e,t){const n=e.length;return e.map(((e,r)=>e+t[r]+t[r+n]))}static areEqual(e,t){return e.length===t.length&&e.every(((e,n)=>e===t[n]))}static validateDimsAndCalcSize(e){if(e.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let t=1;for(const n of e){if(!Number.isInteger(n))throw new TypeError(`Invalid shape: ${n} is not an integer`);if(n<0||n>2147483647)throw new TypeError(`Invalid shape: length ${n} is not allowed`);t*=n}return t}static flattenShape(e,t){t<0&&(t+=e.length);const n=e.reduce(((e,t)=>e*t),1),r=e.slice(t).reduce(((e,t)=>e*t),1);return[n/r,r]}static squeezeShape(e,t){const n=new Array;t=f.normalizeAxes(t,e.length);for(let r=0;r<e.length;r++){const i=t.indexOf(r)>=0;if(i&&1!==e[r])throw new Error("squeeze an axis of size different than 1");(0===t.length&&e[r]>1||t.length>0&&!i)&&n.push(e[r])}return n}static unsqueezeShape(e,t){const n=new Array(e.length+t.length);n.fill(0);for(let i=0;i<t.length;i++){const e=f.normalizeAxis(t[i],n.length);if(e>=n.length)throw new Error("'axes' has an out of range axis");if(0!==n[e])throw new Error("'axes' has a duplicate axis");n[e]=1}let r=0;for(let i=0;i<n.length;i++)0===n[i]&&(n[i]=e[r++]);if(r!==e.length)throw new Error("the unsqueezed dimension could not be established");return n}}t.ShapeUtil=f,t.MathUtil=class{static sqr(e,t,n,r,i){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+i>t.length)throw new Error("source indices to be copied are outside bounds");if(n+i>e.length)throw new Error("target array is too small to hold result");for(let a=0;a<i;a++)e[n+a]+=Math.pow(t[r+a],2)}static axpy(e,t,n,r,i,a){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+i>t.length)throw new Error("source indices to be copied are outside bounds");if(n+i>e.length)throw new Error("target array is too small to hold result");for(let o=0;o<i;o++)e[n+o]+=a*t[r+o]}static powx(e,t,n,r,i,a){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+i>t.length)throw new Error("source indices to be copied are outside bounds");if(n+i>e.length)throw new Error("target array is too small to hold result");for(let o=0;o<i;o++)e[n+o]=Math.pow(t[r+o],a)}static mul(e,t,n,r,i){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+i>t.length)throw new Error("source indices to be copied are outside bounds");if(n+i>e.length)throw new Error("target array is too small to hold result");for(let a=0;a<i;a++)e[n+a]=t[r+a]*e[n+a]}};class h{static splitShape(e,t,n,r){if(0===n.length){if(!r)throw new Error("need to know number of outputs when the 'split' attribute is not specified");h.determineSplit(e[t],r,n)}const i=[],a=[0];for(let o=0;o<n.length;++o){0!==o&&a.push(a[o-1]+n[o-1]);const r=e.slice();r[t]=n[o],i.push(r)}return[i,a]}static determineSplit(e,t,n){if(e%t!=0)throw new Error("cannot split tensor to equal sized parts");for(let r=0;r<t;++r)n.push(e/t)}}t.SplitUtil=h;class p{static calcReduce(e,t,n,r,i){const a=e.dims.slice(0);0===t.length&&a.forEach(((e,n)=>t.push(n)));const o=p.calcReduceShape(a,t,!0),l=f.size(o),c=new s.Tensor(o,e.type),d=f.computeStrides(o),h=f.computeStrides(a),g=new Array(a.length);for(let s=0;s<l;s++){const n=f.offsetToIndices(s,d);u.fillIndex(n,a,g),c.set(n,p.calcReduceByAxis(e.numberData,t,a,0,f.indicesToOffset(g,h),r,i))}return n?c:new s.Tensor(p.calcReduceShape(a,t,n),c.type,void 0,void 0,c.data,c.dataId)}static calcReduceByAxis(e,t,n,r,i,a,o){let s=0;if(r>=t.length)return a(e[i]);const l=t[r],u=l>=n.length?1:f.size(n.slice(l+1));for(let c=0;c<n[l];c++)s=0===c?p.calcReduceByAxis(e,t,n,r+1,i,a,o):o(s,p.calcReduceByAxis(e,t,n,r+1,i,a,o)),i+=u;return s}static calcReduceShape(e,t,n){const r=e.slice();for(let i=0;i<t.length;i++)r[t[i]]=n?1:0;return r.filter((e=>0!==e))}}t.ReduceUtil=p;class g{static adjustPoolAttributes(e,t,n,r,i,a){if(!e&&n.length!==t.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(e)for(let o=0;o<t.length-2;o++)o>=n.length?n.push(t[o+2]):n[o]=t[o+2];for(let o=0;o<n.length;o++)if(o<r.length){if(r[o]<0)throw new Error("strides should be greater than or equal to 1")}else r.push(1);for(let o=0;o<n.length;o++)if(o<i.length){if(i[o]<0)throw new Error("dilations should be greater than or equal to 1")}else i.push(1);for(let o=0;o<2*n.length;o++)if(o<a.length){if(a[o]<0)throw new Error("pad should be greater than or equal to 1")}else a.push(0);for(let o=0;o<n.length;o++){if(n[o]<=0)throw new Error("kernel shapes need to be greater than 0");if(a[o]>=n[o]||a[o+n.length]>=n[o])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(e,t,n,r,i,a){if(a){if(i.length!==2*(e.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(t.length!==e.length-2)throw new Error("length of strides should be the length of data dimensions");if(r.length!==e.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let o=0;o<e.length-2;o++)g.adjustPadAndReturnShape(e[o+2],t[o],n[o],r[o],i,o,o+e.length-2,a)}}static computePoolOutputShape(e,t,n,r,i,a,o){if(t.length<=0)throw new Error("input shape must be of size greater than 0");const s=[t[0],t[1]];return g.computeShapeHelper(e,t,s,n,r,i,a,o),s}static computeConvOutputShape(e,t,n,r,i,a,o){if(e.length<=0||t.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const s=[e[0],t[0]];return g.computeShapeHelper(!1,e,s,n,r,i,a,o),s}static computeShapeHelper(e,t,n,r,i,a,o,s){if(e)for(let l=0;l<t.length-2;l++)n.push(1);else for(let l=0;l<t.length-2;l++)n.push(g.adjustPadAndReturnShape(t[l+2],r[l],i[l],a[l],o,l,l+t.length-2,s))}static adjustPadAndReturnShape(e,t,n,r,i,a,o,s){const l=n*(r-1)+1;if(!s||"NOTSET"===s)return Math.floor((e+i[a]+i[o]-l)/t+1);switch(s){case"VALID":return i[a]=0,i[o]=0,Math.floor((e-l)/t+1);case"SAME_LOWER":case"SAME_UPPER":if(1!==n)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const n=((e+t-1)/t-1)*t+r-e;return i[a]="SAME_LOWER"===s?Math.floor((n+1)/2):Math.floor(n/2),i[o]=n-i[a],Math.floor((e+n-r)/t+1)}default:throw new Error("Unsupported AutoPad type")}}}t.PoolConvUtil=g,t.MIN_CLIP=-34028234663852886e22,t.MAX_CLIP=34028234663852886e22,t.decodeUtf8String=function(e){return(new TextDecoder).decode(e)}},7967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iterateExtraOptions=void 0,t.iterateExtraOptions=(e,n,r,i)=>{if("object"==typeof e&&null!==e){if(r.has(e))throw new Error("Circular reference in options");r.add(e)}Object.entries(e).forEach((([e,a])=>{const o=n?n+e:e;if("object"==typeof a)(0,t.iterateExtraOptions)(a,o+".",r,i);else if("string"==typeof a||"number"==typeof a)i(o,a.toString());else{if("boolean"!=typeof a)throw new Error("Can't handle extra config type: "+typeof a);i(o,a?"1":"0")}}))}},2157:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initOrt=t.initWasm=void 0;const s=n(1670),l=o(n(349)),u=n(6361),c=()=>!!s.env.wasm.proxy&&"undefined"!=typeof document;let d,f,h,p=!1,g=!1,m=!1;const y=[],_=[],b=[],v=[],w=[],x=[],k=()=>{if(p||!g||m||!d)throw new Error("worker not ready")},S=e=>{switch(e.data.type){case"init-wasm":p=!1,e.data.err?(m=!0,f[1](e.data.err)):(g=!0,f[0]());break;case"init-ort":e.data.err?h[1](e.data.err):h[0]();break;case"create_allocate":e.data.err?y.shift()[1](e.data.err):y.shift()[0](e.data.out);break;case"create_finalize":e.data.err?_.shift()[1](e.data.err):_.shift()[0](e.data.out);break;case"create":e.data.err?b.shift()[1](e.data.err):b.shift()[0](e.data.out);break;case"release":e.data.err?v.shift()[1](e.data.err):v.shift()[0]();break;case"run":e.data.err?w.shift()[1](e.data.err):w.shift()[0](e.data.out);break;case"end-profiling":e.data.err?x.shift()[1](e.data.err):x.shift()[0]()}},T="undefined"!=typeof document?null===(r=null===document||void 0===document?void 0:document.currentScript)||void 0===r?void 0:r.src:void 0;t.initWasm=async()=>{if(c()){if(g)return;if(p)throw new Error("multiple calls to 'initWasm()' detected.");if(m)throw new Error("previous call to 'initWasm()' failed.");return p=!0,void 0===s.env.wasm.wasmPaths&&T&&0!==T.indexOf("blob:")&&(s.env.wasm.wasmPaths=T.substr(0,+T.lastIndexOf("/")+1)),new Promise(((e,t)=>{null==d||d.terminate(),d=n(9710).Z(),d.onmessage=S,f=[e,t];const r={type:"init-wasm",in:s.env.wasm};d.postMessage(r)}))}return(0,u.initializeWebAssembly)(s.env.wasm)},t.initOrt=async(e,t)=>{if(c())return k(),new Promise(((n,r)=>{h=[n,r];const i={type:"init-ort",in:{numThreads:e,loggingLevel:t}};d.postMessage(i)}));l.initOrt(e,t)},t.createSessionAllocate=async e=>c()?(k(),new Promise(((t,n)=>{y.push([t,n]);const r={type:"create_allocate",in:{model:e}};d.postMessage(r,[e.buffer])}))):l.createSessionAllocate(e),t.createSessionFinalize=async(e,t)=>c()?(k(),new Promise(((n,r)=>{_.push([n,r]);const i={type:"create_finalize",in:{modeldata:e,options:t}};d.postMessage(i)}))):l.createSessionFinalize(e,t),t.createSession=async(e,t)=>c()?(k(),new Promise(((n,r)=>{b.push([n,r]);const i={type:"create",in:{model:e,options:t}};d.postMessage(i,[e.buffer])}))):l.createSession(e,t),t.releaseSession=async e=>{if(c())return k(),new Promise(((t,n)=>{v.push([t,n]);const r={type:"release",in:e};d.postMessage(r)}));l.releaseSession(e)},t.run=async(e,t,n,r,i)=>c()?(k(),new Promise(((a,o)=>{w.push([a,o]);const s={type:"run",in:{sessionId:e,inputIndices:t,inputs:n,outputIndices:r,options:i}};d.postMessage(s,l.extractTransferableBuffers(n))}))):l.run(e,t,n,r,i),t.endProfiling=async e=>{if(c())return k(),new Promise(((t,n)=>{x.push([t,n]);const r={type:"end-profiling",in:e};d.postMessage(r)}));l.endProfiling(e)}},586:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const r=n(7967),i=n(4983),a=n(6361);t.setRunOptions=e=>{const t=(0,a.getInstance)();let n=0;const o=[],s=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))s.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))s.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===(null==e?void 0:e.terminate)&&(s.terminate=!1);let a=0;if(void 0!==(null==e?void 0:e.tag)&&(a=(0,i.allocWasmString)(e.tag,o)),n=t._OrtCreateRunOptions(s.logSeverityLevel,s.logVerbosityLevel,!!s.terminate,a),0===n)throw new Error("Can't create run options");return void 0!==(null==e?void 0:e.extra)&&(0,r.iterateExtraOptions)(e.extra,"",new WeakSet,((e,r)=>{const a=(0,i.allocWasmString)(e,o),s=(0,i.allocWasmString)(r,o);if(0!==t._OrtAddRunConfigEntry(n,a,s))throw new Error(`Can't set a run config entry: ${e} - ${r}`)})),[n,o]}catch(e){throw 0!==n&&t._OrtReleaseRunOptions(n),o.forEach(t._free),e}}},2306:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnnxruntimeWebAssemblySessionHandler=void 0;const r=n(2806),i=n(1670),a=n(2850),o=n(2157);let s;t.OnnxruntimeWebAssemblySessionHandler=class{async createSessionAllocate(e){const t=await fetch(e),n=await t.arrayBuffer();return(0,o.createSessionAllocate)(new Uint8Array(n))}async loadModel(e,t){if(s||(await(0,o.initOrt)(i.env.wasm.numThreads,(e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${e}`)}})(i.env.logLevel)),s=!0),"string"==typeof e)if("undefined"==typeof fetch){const n=await(0,a.promisify)(r.readFile)(e);[this.sessionId,this.inputNames,this.outputNames]=await(0,o.createSession)(n,t)}else{const n=await this.createSessionAllocate(e);[this.sessionId,this.inputNames,this.outputNames]=await(0,o.createSessionFinalize)(n,t)}else[this.sessionId,this.inputNames,this.outputNames]=await(0,o.createSession)(e,t)}async dispose(){return(0,o.releaseSession)(this.sessionId)}async run(e,t,n){const r=[],a=[];Object.entries(e).forEach((e=>{const t=e[0],n=e[1],i=this.inputNames.indexOf(t);if(-1===i)throw new Error(`invalid input '${t}'`);r.push(n),a.push(i)}));const s=[];Object.entries(t).forEach((e=>{const t=e[0],n=this.outputNames.indexOf(t);if(-1===n)throw new Error(`invalid output '${t}'`);s.push(n)}));const l=await(0,o.run)(this.sessionId,a,r.map((e=>[e.type,e.dims,e.data])),s,n),u={};for(let o=0;o<l.length;o++)u[this.outputNames[s[o]]]=new i.Tensor(l[o][0],l[o][2],l[o][1]);return u}startProfiling(){}endProfiling(){(0,o.endProfiling)(this.sessionId)}}},4919:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const r=n(7967),i=n(4983),a=n(6361);t.setSessionOptions=e=>{const t=(0,a.getInstance)();let n=0;const o=[],s=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1")})(s);try{void 0===(null==e?void 0:e.graphOptimizationLevel)&&(s.graphOptimizationLevel="all");const l=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}})(s.graphOptimizationLevel);void 0===(null==e?void 0:e.enableCpuMemArena)&&(s.enableCpuMemArena=!0),void 0===(null==e?void 0:e.enableMemPattern)&&(s.enableMemPattern=!0),void 0===(null==e?void 0:e.executionMode)&&(s.executionMode="sequential");const u=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}})(s.executionMode);let c=0;if(void 0!==(null==e?void 0:e.logId)&&(c=(0,i.allocWasmString)(e.logId,o)),void 0===(null==e?void 0:e.logSeverityLevel))s.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))s.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);if(void 0===(null==e?void 0:e.enableProfiling)&&(s.enableProfiling=!1),n=t._OrtCreateSessionOptions(l,!!s.enableCpuMemArena,!!s.enableMemPattern,u,!!s.enableProfiling,0,c,s.logSeverityLevel,s.logVerbosityLevel),0===n)throw new Error("Can't create session options");return(null==e?void 0:e.executionProviders)&&((e,t,n)=>{for(const r of t){let t="string"==typeof r?r:r.name;switch(t){case"xnnpack":t="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${t}`)}const o=(0,i.allocWasmString)(t,n);if(0!==(0,a.getInstance)()._OrtAppendExecutionProvider(e,o))throw new Error(`Can't append execution provider: ${t}`)}})(n,e.executionProviders,o),void 0!==(null==e?void 0:e.extra)&&(0,r.iterateExtraOptions)(e.extra,"",new WeakSet,((e,r)=>{const a=(0,i.allocWasmString)(e,o),s=(0,i.allocWasmString)(r,o);if(0!==t._OrtAddSessionConfigEntry(n,a,s))throw new Error(`Can't set a session config entry: ${e} - ${r}`)})),[n,o]}catch(e){throw 0!==n&&t._OrtReleaseSessionOptions(n),o.forEach(t._free),e}}},4983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allocWasmString=void 0;const r=n(6361);t.allocWasmString=(e,t)=>{const n=(0,r.getInstance)(),i=n.lengthBytesUTF8(e)+1,a=n._malloc(i);return n.stringToUTF8(e,a,i),t.push(a),a}},349:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initOrt=void 0;const r=n(586),i=n(4919),a=n(4983),o=n(6361);t.initOrt=(e,t)=>{const n=(0,o.getInstance)()._OrtInit(e,t);if(0!==n)throw new Error(`Can't initialize onnxruntime. error code = ${n}`)};const s=new Map;t.createSessionAllocate=e=>{const t=(0,o.getInstance)(),n=t._malloc(e.byteLength);return t.HEAPU8.set(e,n),[n,e.byteLength]},t.createSessionFinalize=(e,t)=>{const n=(0,o.getInstance)();let r=0,a=0,l=[];try{if([a,l]=(0,i.setSessionOptions)(t),r=n._OrtCreateSession(e[0],e[1],a),0===r)throw new Error("Can't create a session")}finally{n._free(e[0]),n._OrtReleaseSessionOptions(a),l.forEach(n._free)}const u=n._OrtGetInputCount(r),c=n._OrtGetOutputCount(r),d=[],f=[],h=[],p=[];for(let i=0;i<u;i++){const e=n._OrtGetInputName(r,i);if(0===e)throw new Error("Can't get an input name");f.push(e),d.push(n.UTF8ToString(e))}for(let i=0;i<c;i++){const e=n._OrtGetOutputName(r,i);if(0===e)throw new Error("Can't get an output name");p.push(e),h.push(n.UTF8ToString(e))}return s.set(r,[r,f,p]),[r,d,h]},t.createSession=(e,n)=>{const r=(0,t.createSessionAllocate)(e);return(0,t.createSessionFinalize)(r,n)},t.releaseSession=e=>{const t=(0,o.getInstance)(),n=s.get(e);if(!n)throw new Error("invalid session id");const r=n[0],i=n[1],a=n[2];i.forEach(t._OrtFree),a.forEach(t._OrtFree),t._OrtReleaseSession(r),s.delete(e)};const l=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},u=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${e}`)}},c=e=>{switch(e){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}};t.run=(e,t,n,i,d)=>{const f=(0,o.getInstance)(),h=s.get(e);if(!h)throw new Error("invalid session id");const p=h[0],g=h[1],m=h[2],y=t.length,_=i.length;let b=0,v=[];const w=[],x=[];try{[b,v]=(0,r.setRunOptions)(d);for(let t=0;t<y;t++){const e=n[t][0],r=n[t][1],i=n[t][2];let o,s;if(Array.isArray(i)){s=4*i.length,o=f._malloc(s),x.push(o);let e=o/4;for(let t=0;t<i.length;t++){if("string"!=typeof i[t])throw new TypeError(`tensor data at index ${t} is not a string`);f.HEAPU32[e++]=(0,a.allocWasmString)(i[t],x)}}else s=i.byteLength,o=f._malloc(s),x.push(o),f.HEAPU8.set(new Uint8Array(i.buffer,i.byteOffset,s),o);const u=f.stackSave(),c=f.stackAlloc(4*r.length);try{let t=c/4;r.forEach((e=>f.HEAP32[t++]=e));const n=f._OrtCreateTensor(l(e),o,s,c,r.length);if(0===n)throw new Error("Can't create a tensor");w.push(n)}finally{f.stackRestore(u)}}const e=f.stackSave(),o=f.stackAlloc(4*y),s=f.stackAlloc(4*y),h=f.stackAlloc(4*_),k=f.stackAlloc(4*_);try{let e=o/4,n=s/4,r=h/4,a=k/4;for(let i=0;i<y;i++)f.HEAPU32[e++]=w[i],f.HEAPU32[n++]=g[t[i]];for(let t=0;t<_;t++)f.HEAPU32[r++]=0,f.HEAPU32[a++]=m[i[t]];let l=f._OrtRun(p,s,o,y,k,_,h,b);const d=[];if(0===l)for(let t=0;t<_;t++){const e=f.HEAPU32[h/4+t],n=f.stackSave(),r=f.stackAlloc(16);let i,a=0;try{if(l=f._OrtGetTensorData(e,r,r+4,r+8,r+12),0!==l)throw new Error(`Can't access output tensor data. error code = ${l}`);let t=r/4;const n=f.HEAPU32[t++];a=f.HEAPU32[t++];const o=f.HEAPU32[t++],s=f.HEAPU32[t++],h=[];for(let e=0;e<s;e++)h.push(f.HEAPU32[o/4+e]);f._OrtFree(o);const p=0===h.length?1:h.reduce(((e,t)=>e*t));if(i=u(n),"string"===i){const e=[];let t=a/4;for(let n=0;n<p;n++){const r=f.HEAPU32[t++],i=n===p-1?void 0:f.HEAPU32[t]-r;e.push(f.UTF8ToString(r,i))}d.push([i,h,e])}else{const e=new(c(i))(p);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(f.HEAPU8.subarray(a,a+e.byteLength)),d.push([i,h,e])}}finally{f.stackRestore(n),"string"===i&&a&&f._free(a),f._OrtReleaseTensor(e)}}if(0===l)return d;throw new Error(`failed to call OrtRun(). error code = ${l}.`)}finally{f.stackRestore(e)}}finally{w.forEach(f._OrtReleaseTensor),x.forEach(f._free),f._OrtReleaseRunOptions(b),v.forEach(f._free)}},t.endProfiling=e=>{const t=(0,o.getInstance)(),n=s.get(e);if(!n)throw new Error("invalid session id");const r=n[0],i=t._OrtEndProfiling(r);if(0===i)throw new Error("Can't get an profile file name");t._OrtFree(i)},t.extractTransferableBuffers=e=>{const t=[];for(const n of e){const e=n[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},6361:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const s=a(n(6449)),l=o(n(932)),u=n(3474);let c,d=!1,f=!1,h=!1;const p=(e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm";t.initializeWebAssembly=async e=>{if(d)return Promise.resolve();if(f)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(h)throw new Error("previous call to 'initializeWebAssembly()' failed.");f=!0;const t=e.initTimeout,r=e.numThreads,i=e.simd,a=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),o=i&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),g="string"==typeof e.wasmPaths?e.wasmPaths:void 0,m=p(!1,a),y=p(o,a),_="object"==typeof e.wasmPaths?e.wasmPaths[y]:void 0;let b=!1;const v=[];if(t>0&&v.push(new Promise((e=>{setTimeout((()=>{b=!0,e()}),t)}))),v.push(new Promise(((e,t)=>{const r=a?u:l.default,i={locateFile:(e,t)=>a&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(4154)],{type:"text/javascript"})):e===m?null!=_?_:(null!=g?g:t)+y:t+e};if(a)if("undefined"==typeof Blob)i.mainScriptUrlOrBlob=s.join("/","ort-wasm-threaded.js");else{const e=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;i.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}r(i).then((t=>{f=!1,d=!0,c=t,e()}),(e=>{f=!1,h=!0,t(e)}))}))),await Promise.race(v),b)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},t.getInstance=()=>{if(d&&c)return c;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!d||f||h||(f=!0,null===(e=c.PThread)||void 0===e||e.terminateAllThreads(),c=void 0,f=!1,d=!1,h=!0)}},9710:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(477),i=n.n(r);function a(){return i()('/*!\n* ONNX Runtime Web v1.14.0\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var t={474:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){function e(){return j.buffer!=D&&N(j.buffer),P}function r(){return j.buffer!=D&&N(j.buffer),U}function a(){return j.buffer!=D&&N(j.buffer),F}function i(){return j.buffer!=D&&N(j.buffer),I}function o(){return j.buffer!=D&&N(j.buffer),W}var u,c,s;t=t||{},u||(u=void 0!==t?t:{}),u.ready=new Promise((function(t,e){c=t,s=e}));var l,f,p,h,d,y,b=Object.assign({},u),m="./this.program",g=(t,e)=>{throw e},v="object"==typeof window,w="function"==typeof importScripts,_="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,O=u.ENVIRONMENT_IS_PTHREAD||!1,A="";function S(t){return u.locateFile?u.locateFile(t,A):A+t}if(_){let e;A=w?n(908).dirname(A)+"/":"//",y=()=>{d||(h=n(384),d=n(908))},l=function(t,e){return y(),t=d.normalize(t),h.readFileSync(t,e?void 0:"utf8")},p=t=>((t=l(t,!0)).buffer||(t=new Uint8Array(t)),t),f=(t,e,n)=>{y(),t=d.normalize(t),h.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(m=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof ct))throw t})),process.on("unhandledRejection",(function(t){throw t})),g=(t,e)=>{if(Q())throw process.exitCode=t,e;e instanceof ct||x("exiting due to exception: "+e),process.exit(t)},u.inspect=function(){return"[Emscripten Module object]"};try{e=n(925)}catch(t){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),t}n.g.Worker=e.Worker}else(v||w)&&(w?A=self.location.href:"undefined"!=typeof document&&document.currentScript&&(A=document.currentScript.src),_scriptDir&&(A=_scriptDir),A=0!==A.indexOf("blob:")?A.substr(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1):"",_||(l=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},w&&(p=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),f=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)}));_&&"undefined"==typeof performance&&(n.g.performance=n(953).performance);var T=console.log.bind(console),E=console.warn.bind(console);_&&(y(),T=t=>h.writeSync(1,t+"\\n"),E=t=>h.writeSync(2,t+"\\n"));var M,C=u.print||T,x=u.printErr||E;Object.assign(u,b),b=null,u.thisProgram&&(m=u.thisProgram),u.quit&&(g=u.quit),u.wasmBinary&&(M=u.wasmBinary);var R=u.noExitRuntime||!1;"object"!=typeof WebAssembly&&at("no native wasm support detected");var j,k,D,P,U,F,I,W,H=!1,L="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function z(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&L)return L.decode(t.buffer instanceof SharedArrayBuffer?t.slice(e,n):t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function Y(t,e){return(t>>>=0)?z(r(),t,e):""}function B(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function G(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function N(t){D=t,u.HEAP8=P=new Int8Array(t),u.HEAP16=new Int16Array(t),u.HEAP32=F=new Int32Array(t),u.HEAPU8=U=new Uint8Array(t),u.HEAPU16=new Uint16Array(t),u.HEAPU32=I=new Uint32Array(t),u.HEAPF32=new Float32Array(t),u.HEAPF64=W=new Float64Array(t)}O&&(D=u.buffer);var V=u.INITIAL_MEMORY||16777216;if(O)j=u.wasmMemory,D=u.buffer;else if(u.wasmMemory)j=u.wasmMemory;else if(!((j=new WebAssembly.Memory({initial:V/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw x("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),_&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");j&&(D=j.buffer),V=D.byteLength,N(D);var $,q=[],X=[],J=[],Z=[];function Q(){return R||!1}function K(){var t=u.preRun.shift();q.unshift(t)}var tt,et=0,nt=null,rt=null;function at(t){throw O?postMessage({cmd:"onAbort",arg:t}):u.onAbort&&u.onAbort(t),x(t="Aborted("+t+")"),H=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),s(t),t}function it(){return tt.startsWith("data:application/octet-stream;base64,")}function ot(){var t=tt;try{if(t==tt&&M)return new Uint8Array(M);if(p)return p(t);throw"both async and sync fetching of the wasm failed"}catch(t){at(t)}}tt="ort-wasm-threaded.wasm",it()||(tt=S(tt));var ut={};function ct(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function st(t){(t=ht.Vb[t])||at(),ht.mc(t)}function lt(t){var e=ht.Cc();if(!e)return 6;ht.ac.push(e),ht.Vb[t.Ub]=e,e.Ub=t.Ub;var n={cmd:"run",start_routine:t.Ic,arg:t.zc,pthread_ptr:t.Ub};return e.$b=()=>{n.time=performance.now(),e.postMessage(n,t.Nc)},e.loaded&&(e.$b(),delete e.$b),0}function ft(t){if(O)return $t(1,1,t);Q()||(ht.oc(),u.onExit&&u.onExit(t),H=!0),g(t,new ct(t))}function pt(t,e){if(!e&&O)throw bt(t),"unwind";Q()||O||(me(),dt(J),be(0),re[1].length&&ae(1,10),re[2].length&&ae(2,10),ht.oc()),ft(t)}var ht={Yb:[],ac:[],qc:[],Vb:{},fc:function(){O&&ht.Ec()},Pc:function(){},Ec:function(){ht.receiveObjectTransfer=ht.Gc,ht.threadInitTLS=ht.pc,ht.setExitStatus=ht.nc,R=!1},nc:function(){},oc:function(){for(var t of Object.values(ht.Vb))ht.mc(t);for(t of ht.Yb)t.terminate();ht.Yb=[]},mc:function(t){var e=t.Ub;delete ht.Vb[e],ht.Yb.push(t),ht.ac.splice(ht.ac.indexOf(t),1),t.Ub=0,Oe(e)},Gc:function(){},pc:function(){ht.qc.forEach((t=>t()))},Fc:function(t,e){t.onmessage=n=>{var r=(n=n.data).cmd;if(t.Ub&&(ht.Bc=t.Ub),n.targetThread&&n.targetThread!=he()){var a=ht.Vb[n.Qc];a?a.postMessage(n,n.transferList):x(\'Internal error! Worker sent a message "\'+r+\'" to target pthread \'+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?zt(n.queue):"spawnThread"===r?lt(n):"cleanupThread"===r?st(n.thread):"killThread"===r?(n=n.thread,r=ht.Vb[n],delete ht.Vb[n],r.terminate(),Oe(n),ht.ac.splice(ht.ac.indexOf(r),1),r.Ub=0):"cancelThread"===r?ht.Vb[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(t.loaded=!0,e&&e(t),t.$b&&(t.$b(),delete t.$b)):"print"===r?C("Thread "+n.threadId+": "+n.text):"printErr"===r?x("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?t.postMessage(n):"onAbort"===r?u.onAbort&&u.onAbort(n.arg):r&&x("worker sent an unknown command "+r);ht.Bc=void 0},t.onerror=t=>{throw x("worker sent an error! "+t.filename+":"+t.lineno+": "+t.message),t},_&&(t.on("message",(function(e){t.onmessage({data:e})})),t.on("error",(function(e){t.onerror(e)})),t.on("detachedExit",(function(){}))),t.postMessage({cmd:"load",urlOrBlob:u.mainScriptUrlOrBlob||_scriptDir,wasmMemory:j,wasmModule:k})},yc:function(){var t=S("ort-wasm-threaded.worker.js");ht.Yb.push(new Worker(t))},Cc:function(){return 0==ht.Yb.length&&(ht.yc(),ht.Fc(ht.Yb[0])),ht.Yb.pop()}};function dt(t){for(;0<t.length;)t.shift()(u)}function yt(t){var e=Ee();return t=t(),Me(e),t}function bt(t){if(O)return $t(2,0,t);try{pt(t)}catch(t){t instanceof ct||"unwind"==t||g(1,t)}}u.PThread=ht,u.establishStackSpace=function(){var t=he(),e=a()[t+44>>2>>>0];t=a()[t+48>>2>>>0],Te(e,e-t),Me(e)};var mt=[];function gt(t){var e=mt[t];return e||(t>=mt.length&&(mt.length=t+1),mt[t]=e=$.get(t)),e}u.invokeEntryPoint=function(t,e){t=gt(t)(e),Q()?ht.nc(t):Ae(t)};var vt,wt,_t=[],Ot=0,At=0;function St(t){this.Zb=t,this.Sb=t-24,this.xc=function(t){i()[this.Sb+4>>2>>>0]=t},this.bc=function(){return i()[this.Sb+4>>2>>>0]},this.wc=function(t){i()[this.Sb+8>>2>>>0]=t},this.Dc=function(){return i()[this.Sb+8>>2>>>0]},this.rc=function(){a()[this.Sb>>2>>>0]=0},this.hc=function(t){t=t?1:0,e()[this.Sb+12>>0>>>0]=t},this.uc=function(){return 0!=e()[this.Sb+12>>0>>>0]},this.ic=function(t){t=t?1:0,e()[this.Sb+13>>0>>>0]=t},this.kc=function(){return 0!=e()[this.Sb+13>>0>>>0]},this.fc=function(t,e){this.cc(0),this.xc(t),this.wc(e),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(a(),this.Sb>>2,1)},this.Hc=function(){return 1===Atomics.sub(a(),this.Sb>>2,1)},this.cc=function(t){i()[this.Sb+16>>2>>>0]=t},this.tc=function(){return i()[this.Sb+16>>2>>>0]},this.vc=function(){if(Re(this.bc()))return i()[this.Zb>>2>>>0];var t=this.tc();return 0!==t?t:this.Zb}}function Tt(t){return ye(new St(t).Sb)}function Et(t,e,n,r){return O?$t(3,1,t,e,n,r):Mt(t,e,n,r)}function Mt(t,e,n,r){if("undefined"==typeof SharedArrayBuffer)return x("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return O&&0===a.length?Et(t,e,n,r):(t={Ic:n,Ub:t,zc:r,Nc:a},O?(t.Oc="spawnThread",postMessage(t,a),0):lt(t))}function Ct(t,e,n){return O?$t(4,1,t,e,n):0}function xt(t,e){if(O)return $t(5,1,t,e)}function Rt(t,e){if(O)return $t(6,1,t,e)}function jt(t,e,n){if(O)return $t(7,1,t,e,n)}function kt(t,e,n){return O?$t(8,1,t,e,n):0}function Dt(t,e){if(O)return $t(9,1,t,e)}function Pt(t,e,n){if(O)return $t(10,1,t,e,n)}function Ut(t,e,n,r){if(O)return $t(11,1,t,e,n,r)}function Ft(t,e,n,r){if(O)return $t(12,1,t,e,n,r)}function It(t,e,n,r){if(O)return $t(13,1,t,e,n,r)}function Wt(t){if(O)return $t(14,1,t)}function Ht(t,e){if(O)return $t(15,1,t,e)}function Lt(t,e,n){if(O)return $t(16,1,t,e,n)}function zt(t){Atomics.store(a(),t>>2,1),he()&&_e(t),Atomics.compareExchange(a(),t>>2,1,0)}function Yt(t){return i()[t>>>2]+4294967296*a()[t+4>>>2]}function Bt(t,e,n,r,a,i){return O?$t(17,1,t,e,n,r,a,i):-52}function Gt(t,e,n,r,a,i){if(O)return $t(18,1,t,e,n,r,a,i)}function Nt(t){var n=G(t)+1,r=de(n);return r&&B(t,e(),r,n),r}function Vt(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}if(O)return $t(19,1,t,e,n);var o=(new Date).getFullYear(),u=new Date(o,0,1),c=new Date(o,6,1);o=u.getTimezoneOffset();var s=c.getTimezoneOffset(),l=Math.max(o,s);a()[t>>2>>>0]=60*l,a()[e>>2>>>0]=Number(o!=s),t=r(u),e=r(c),t=Nt(t),e=Nt(e),s<o?(i()[n>>2>>>0]=t,i()[n+4>>2>>>0]=e):(i()[n>>2>>>0]=e,i()[n+4>>2>>>0]=t)}function $t(t,e){var n=arguments.length-2,r=arguments;return yt((()=>{for(var a=Ce(8*n),i=a>>3,u=0;u<n;u++){var c=r[2+u];o()[i+u>>>0]=c}return we(t,n,a,e)}))}u.executeNotifiedProxyingQueue=zt,wt=_?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:O?()=>performance.now()-u.__performance_now_clock_drift:()=>performance.now();var qt,Xt=[],Jt={};function Zt(){if(!qt){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:m||"./this.program"};for(t in Jt)void 0===Jt[t]?delete e[t]:e[t]=Jt[t];var n=[];for(t in e)n.push(t+"="+e[t]);qt=n}return qt}function Qt(t,n){if(O)return $t(20,1,t,n);var r=0;return Zt().forEach((function(a,o){var u=n+r;for(o=i()[t+4*o>>2>>>0]=u,u=0;u<a.length;++u)e()[o++>>0>>>0]=a.charCodeAt(u);e()[o>>0>>>0]=0,r+=a.length+1})),0}function Kt(t,e){if(O)return $t(21,1,t,e);var n=Zt();i()[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),i()[e>>2>>>0]=r,0}function te(t){return O?$t(22,1,t):52}function ee(t,e,n,r){return O?$t(23,1,t,e,n,r):52}function ne(t,e,n,r,a){return O?$t(24,1,t,e,n,r,a):70}var re=[null,[],[]];function ae(t,e){var n=re[t];0===e||10===e?((1===t?C:x)(z(n,0)),n.length=0):n.push(e)}function ie(t,e,n,a){if(O)return $t(25,1,t,e,n,a);for(var o=0,u=0;u<n;u++){var c=i()[e>>2>>>0],s=i()[e+4>>2>>>0];e+=8;for(var l=0;l<s;l++)ae(t,r()[c+l>>>0]);o+=s}return i()[a>>2>>>0]=o,0}var oe=0;function ue(t){return 0==t%4&&(0!=t%100||0==t%400)}var ce=[31,29,31,30,31,30,31,31,30,31,30,31],se=[31,28,31,30,31,30,31,31,30,31,30,31];function le(t,n,r,i){function o(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function u(t,e){return o(t,e,"0")}function c(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function s(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function l(t){var e=t.Wb;for(t=new Date(new Date(t.Xb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(ue(t.getFullYear())?ce:se)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=s(new Date(t.getFullYear(),0,4)),n=s(n),0>=c(e,t)?0>=c(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var f=a()[i+40>>2>>>0];for(var p in i={Lc:a()[i>>2>>>0],Kc:a()[i+4>>2>>>0],dc:a()[i+8>>2>>>0],jc:a()[i+12>>2>>>0],ec:a()[i+16>>2>>>0],Xb:a()[i+20>>2>>>0],Tb:a()[i+24>>2>>>0],Wb:a()[i+28>>2>>>0],Rc:a()[i+32>>2>>>0],Jc:a()[i+36>>2>>>0],Mc:f?Y(f):""},r=Y(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var h="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(t){return h[t.Tb].substring(0,3)},"%A":function(t){return h[t.Tb]},"%b":function(t){return d[t.ec].substring(0,3)},"%B":function(t){return d[t.ec]},"%C":function(t){return u((t.Xb+1900)/100|0,2)},"%d":function(t){return u(t.jc,2)},"%e":function(t){return o(t.jc,2," ")},"%g":function(t){return l(t).toString().substring(2)},"%G":function(t){return l(t)},"%H":function(t){return u(t.dc,2)},"%I":function(t){return 0==(t=t.dc)?t=12:12<t&&(t-=12),u(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.ec-1;e+=(ue(t.Xb+1900)?ce:se)[n++]);return u(t.jc+e,3)},"%m":function(t){return u(t.ec+1,2)},"%M":function(t){return u(t.Kc,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.dc&&12>t.dc?"AM":"PM"},"%S":function(t){return u(t.Lc,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Tb||7},"%U":function(t){return u(Math.floor((t.Wb+7-t.Tb)/7),2)},"%V":function(t){var e=Math.floor((t.Wb+7-(t.Tb+6)%7)/7);if(2>=(t.Tb+371-t.Wb-2)%7&&e++,e)53==e&&(4==(n=(t.Tb+371-t.Wb)%7)||3==n&&ue(t.Xb)||(e=1));else{e=52;var n=(t.Tb+7-t.Wb-1)%7;(4==n||5==n&&ue(t.Xb%400-1))&&e++}return u(e,2)},"%w":function(t){return t.Tb},"%W":function(t){return u(Math.floor((t.Wb+7-(t.Tb+6)%7)/7),2)},"%y":function(t){return(t.Xb+1900).toString().substring(2)},"%Y":function(t){return t.Xb+1900},"%z":function(t){var e=0<=(t=t.Jc);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.Mc},"%%":function(){return"%"}},r=r.replace(/%%/g,"\\0\\0"),f)r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](i)));return p=function(t){var e=Array(G(t)+1);return B(t,e,0,e.length),e}(r=r.replace(/\\0\\0/g,"%")),p.length>n?0:(function(t,n){e().set(t,n>>>0)}(p,t),p.length-1)}ht.fc();var fe=[null,ft,bt,Et,Ct,xt,Rt,jt,kt,Dt,Pt,Ut,Ft,It,Wt,Ht,Lt,Bt,Gt,Vt,Qt,Kt,te,ee,ne,ie],pe={b:function(t){return de(t+24)+24},n:function(t){return(t=new St(t)).uc()||(t.hc(!0),Ot--),t.ic(!1),_t.push(t),t.sc(),t.vc()},ma:function(t){throw x("Unexpected exception thrown, this is not properly supported - aborting"),H=!0,t},x:function(){Se(0);var t=_t.pop();if(t.Hc()&&!t.kc()){var e=t.Dc();e&&gt(e)(t.Zb),Tt(t.Zb)}At=0},e:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},l:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},h:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},t:Tt,M:function(){var t=_t.pop();t||at("no exception to throw");var e=t.Zb;throw t.kc()||(_t.push(t),t.ic(!0),t.hc(!1),Ot++),At=e,e},c:function(t,e,n){throw new St(t).fc(e,n),At=t,Ot++,t},pa:function(){return Ot},Fa:function(t){ge(t,!w,1,!v),ht.pc()},T:function(t){O?postMessage({cmd:"cleanupThread",thread:t}):st(t)},xa:Mt,j:function(t){throw At||(At=t),t},H:Ct,Ma:xt,ua:Rt,wa:jt,oa:kt,Ka:Dt,Ca:Pt,Ja:Ut,V:Ft,va:It,sa:Wt,La:Ht,ta:Lt,Ta:function(){},X:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(t,e,n,r){if(t==e)setTimeout((()=>zt(r)));else if(O)postMessage({targetThread:t,cmd:"processProxyingQueue",queue:r});else{if(!(t=ht.Vb[t]))return;t.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},Ea:function(){return-1},Pa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getUTCSeconds(),a()[e+4>>2>>>0]=t.getUTCMinutes(),a()[e+8>>2>>>0]=t.getUTCHours(),a()[e+12>>2>>>0]=t.getUTCDate(),a()[e+16>>2>>>0]=t.getUTCMonth(),a()[e+20>>2>>>0]=t.getUTCFullYear()-1900,a()[e+24>>2>>>0]=t.getUTCDay(),t=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[e+28>>2>>>0]=t},Qa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),a()[e+20>>2>>>0]=t.getFullYear()-1900,a()[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1),r=(t.getTime()-n.getTime())/864e5|0;a()[e+28>>2>>>0]=r,a()[e+36>>2>>>0]=-60*t.getTimezoneOffset(),r=new Date(t.getFullYear(),6,1).getTimezoneOffset(),t=0|(r!=(n=n.getTimezoneOffset())&&t.getTimezoneOffset()==Math.min(n,r)),a()[e+32>>2>>>0]=t},Ra:function(t){var e=new Date(a()[t+20>>2>>>0]+1900,a()[t+16>>2>>>0],a()[t+12>>2>>>0],a()[t+8>>2>>>0],a()[t+4>>2>>>0],a()[t>>2>>>0],0),n=a()[t+32>>2>>>0],r=e.getTimezoneOffset(),i=new Date(e.getFullYear(),0,1),o=new Date(e.getFullYear(),6,1).getTimezoneOffset(),u=i.getTimezoneOffset(),c=Math.min(u,o);return 0>n?a()[t+32>>2>>>0]=Number(o!=u&&c==r):0<n!=(c==r)&&(o=Math.max(u,o),e.setTime(e.getTime()+6e4*((0<n?c:o)-r))),a()[t+24>>2>>>0]=e.getDay(),n=(e.getTime()-i.getTime())/864e5|0,a()[t+28>>2>>>0]=n,a()[t>>2>>>0]=e.getSeconds(),a()[t+4>>2>>>0]=e.getMinutes(),a()[t+8>>2>>>0]=e.getHours(),a()[t+12>>2>>>0]=e.getDate(),a()[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},Aa:Bt,Ba:Gt,Sa:function t(e,n,r){t.Ac||(t.Ac=!0,Vt(e,n,r))},y:function(){at("")},U:function(){if(!_&&!w){var t="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";vt||(vt={}),vt[t]||(vt[t]=1,_&&(t="warning: "+t),x(t))}},ra:function(){return 4294901760},B:wt,Ia:function(t,e,n){r().copyWithin(t>>>0,e>>>0,e+n>>>0)},F:function(){return _?n(993).cpus().length:navigator.hardwareConcurrency},Da:function(t,e,n){Xt.length=e,n>>=3;for(var r=0;r<e;r++)Xt[r]=o()[n+r>>>0];return(0>t?ut[-t-1]:fe[t]).apply(null,Xt)},qa:function(t){var e=r().length;if((t>>>=0)<=e||4294901760<t)return!1;for(var n=1;4>=n;n*=2){var a=e*(1+.2/n);a=Math.min(a,t+100663296);var i=Math;a=Math.max(t,a),i=i.min.call(i,4294901760,a+(65536-a%65536)%65536);t:{try{j.grow(i-D.byteLength+65535>>>16),N(j.buffer);var o=1;break t}catch(t){}o=void 0}if(o)return!0}return!1},Na:function(){throw"unwind"},Ga:Qt,Ha:Kt,J:pt,I:te,S:ee,ga:ne,R:ie,d:function(){return oe},na:function t(r,a){t.lc||(t.lc=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(_)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>at("randomDevice")}());for(var i=0;i<a;i++)e()[r+i>>0>>>0]=t.lc();return 0},ia:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ja:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},K:function(t){var e=Ee();try{return gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},f:function(t,e){var n=Ee();try{return gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},P:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},Q:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},k:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},p:function(t,e,n,r){var a=Ee();try{return gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},q:function(t,e,n,r,a){var i=Ee();try{return gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},N:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},s:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},w:function(t,e,n,r,a,i,o){var u=Ee();try{return gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},L:function(t,e,n,r,a,i,o,u){var c=Ee();try{return gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},E:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{return gt(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=Ee();try{return He(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},_:function(t,e,n,r,a,i,o){var u=Ee();try{return ke(t,e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},Z:function(t,e,n,r,a){var i=Ee();try{return Le(t,e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},ca:function(t,e,n,r){var a=Ee();try{return Ie(t,e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},$:function(t){var e=Ee();try{return je(t)}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},ba:function(t,e){var n=Ee();try{return We(t,e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},Y:function(t,e,n){var r=Ee();try{return De(t,e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},g:function(t){var e=Ee();try{gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},r:function(t,e){var n=Ee();try{gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},i:function(t,e,n){var r=Ee();try{gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ha:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},m:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},v:function(t,e,n,r,a){var i=Ee();try{gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},u:function(t,e,n,r,a,i){var o=Ee();try{gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},O:function(t,e,n,r,a,i,o){var u=Ee();try{gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},A:function(t,e,n,r,a,i,o,u){var c=Ee();try{gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},ka:function(t,e,n,r,a,i,o,u,c){var s=Ee();try{gt(t)(e,n,r,a,i,o,u,c)}catch(t){if(Me(s),t!==t+0)throw t;Se(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l){var f=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(Me(f),t!==t+0)throw t;Se(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(Me(b),t!==t+0)throw t;Se(1,0)}},fa:function(t,e,n,r,a,i,o,u){var c=Ee();try{Pe(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},da:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{Fe(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},ea:function(t,e,n,r,a,i){var o=Ee();try{Ue(t,e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},o:function(t){return t},a:j||u.wasmMemory,G:function(t){oe=t},la:le,z:function(t,e,n,r){return le(t,e,n,r)}};!function(){function t(t,e){u.asm=t.exports,ht.qc.push(u.asm.sb),$=u.asm.ub,X.unshift(u.asm.Va),k=e,O||(et--,u.monitorRunDependencies&&u.monitorRunDependencies(et),0==et&&(null!==nt&&(clearInterval(nt),nt=null),rt&&(t=rt,rt=null,t())))}function e(e){t(e.instance,e.module)}function n(t){return function(){if(!M&&(v||w)){if("function"==typeof fetch&&!tt.startsWith("file://"))return fetch(tt,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+tt+"\'";return t.arrayBuffer()})).catch((function(){return ot()}));if(f)return new Promise((function(t,e){f(tt,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return ot()}))}().then((function(t){return WebAssembly.instantiate(t,r)})).then((function(t){return t})).then(t,(function(t){x("failed to asynchronously prepare wasm: "+t),at(t)}))}var r={a:pe};if(O||(et++,u.monitorRunDependencies&&u.monitorRunDependencies(et)),u.instantiateWasm)try{return u.instantiateWasm(r,t)}catch(t){return x("Module.instantiateWasm callback failed with error: "+t),!1}(M||"function"!=typeof WebAssembly.instantiateStreaming||it()||tt.startsWith("file://")||_||"function"!=typeof fetch?n(e):fetch(tt,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,r).then(e,(function(t){return x("wasm streaming compile failed: "+t),x("falling back to ArrayBuffer instantiation"),n(e)}))}))).catch(s)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.Va).apply(null,arguments)},u._OrtInit=function(){return(u._OrtInit=u.asm.Wa).apply(null,arguments)},u._OrtCreateSessionOptions=function(){return(u._OrtCreateSessionOptions=u.asm.Xa).apply(null,arguments)},u._OrtAppendExecutionProvider=function(){return(u._OrtAppendExecutionProvider=u.asm.Ya).apply(null,arguments)},u._OrtAddSessionConfigEntry=function(){return(u._OrtAddSessionConfigEntry=u.asm.Za).apply(null,arguments)},u._OrtReleaseSessionOptions=function(){return(u._OrtReleaseSessionOptions=u.asm._a).apply(null,arguments)},u._OrtCreateSession=function(){return(u._OrtCreateSession=u.asm.$a).apply(null,arguments)},u._OrtReleaseSession=function(){return(u._OrtReleaseSession=u.asm.ab).apply(null,arguments)},u._OrtGetInputCount=function(){return(u._OrtGetInputCount=u.asm.bb).apply(null,arguments)},u._OrtGetOutputCount=function(){return(u._OrtGetOutputCount=u.asm.cb).apply(null,arguments)},u._OrtGetInputName=function(){return(u._OrtGetInputName=u.asm.db).apply(null,arguments)},u._OrtGetOutputName=function(){return(u._OrtGetOutputName=u.asm.eb).apply(null,arguments)},u._OrtFree=function(){return(u._OrtFree=u.asm.fb).apply(null,arguments)},u._OrtCreateTensor=function(){return(u._OrtCreateTensor=u.asm.gb).apply(null,arguments)},u._OrtGetTensorData=function(){return(u._OrtGetTensorData=u.asm.hb).apply(null,arguments)},u._OrtReleaseTensor=function(){return(u._OrtReleaseTensor=u.asm.ib).apply(null,arguments)},u._OrtCreateRunOptions=function(){return(u._OrtCreateRunOptions=u.asm.jb).apply(null,arguments)},u._OrtAddRunConfigEntry=function(){return(u._OrtAddRunConfigEntry=u.asm.kb).apply(null,arguments)},u._OrtReleaseRunOptions=function(){return(u._OrtReleaseRunOptions=u.asm.lb).apply(null,arguments)},u._OrtRun=function(){return(u._OrtRun=u.asm.mb).apply(null,arguments)},u._OrtEndProfiling=function(){return(u._OrtEndProfiling=u.asm.nb).apply(null,arguments)};var he=u._pthread_self=function(){return(he=u._pthread_self=u.asm.ob).apply(null,arguments)},de=u._malloc=function(){return(de=u._malloc=u.asm.pb).apply(null,arguments)},ye=u._free=function(){return(ye=u._free=u.asm.qb).apply(null,arguments)},be=u._fflush=function(){return(be=u._fflush=u.asm.rb).apply(null,arguments)};u.__emscripten_tls_init=function(){return(u.__emscripten_tls_init=u.asm.sb).apply(null,arguments)};var me=u.___funcs_on_exit=function(){return(me=u.___funcs_on_exit=u.asm.tb).apply(null,arguments)},ge=u.__emscripten_thread_init=function(){return(ge=u.__emscripten_thread_init=u.asm.vb).apply(null,arguments)};u.__emscripten_thread_crashed=function(){return(u.__emscripten_thread_crashed=u.asm.wb).apply(null,arguments)};var ve,we=u._emscripten_run_in_main_runtime_thread_js=function(){return(we=u._emscripten_run_in_main_runtime_thread_js=u.asm.xb).apply(null,arguments)},_e=u.__emscripten_proxy_execute_task_queue=function(){return(_e=u.__emscripten_proxy_execute_task_queue=u.asm.yb).apply(null,arguments)},Oe=u.__emscripten_thread_free_data=function(){return(Oe=u.__emscripten_thread_free_data=u.asm.zb).apply(null,arguments)},Ae=u.__emscripten_thread_exit=function(){return(Ae=u.__emscripten_thread_exit=u.asm.Ab).apply(null,arguments)},Se=u._setThrew=function(){return(Se=u._setThrew=u.asm.Bb).apply(null,arguments)},Te=u._emscripten_stack_set_limits=function(){return(Te=u._emscripten_stack_set_limits=u.asm.Cb).apply(null,arguments)},Ee=u.stackSave=function(){return(Ee=u.stackSave=u.asm.Db).apply(null,arguments)},Me=u.stackRestore=function(){return(Me=u.stackRestore=u.asm.Eb).apply(null,arguments)},Ce=u.stackAlloc=function(){return(Ce=u.stackAlloc=u.asm.Fb).apply(null,arguments)},xe=u.___cxa_can_catch=function(){return(xe=u.___cxa_can_catch=u.asm.Gb).apply(null,arguments)},Re=u.___cxa_is_pointer_type=function(){return(Re=u.___cxa_is_pointer_type=u.asm.Hb).apply(null,arguments)},je=u.dynCall_j=function(){return(je=u.dynCall_j=u.asm.Ib).apply(null,arguments)},ke=u.dynCall_iiiiij=function(){return(ke=u.dynCall_iiiiij=u.asm.Jb).apply(null,arguments)},De=u.dynCall_jii=function(){return(De=u.dynCall_jii=u.asm.Kb).apply(null,arguments)},Pe=u.dynCall_viiiiij=function(){return(Pe=u.dynCall_viiiiij=u.asm.Lb).apply(null,arguments)},Ue=u.dynCall_vjji=function(){return(Ue=u.dynCall_vjji=u.asm.Mb).apply(null,arguments)},Fe=u.dynCall_viiijjjii=function(){return(Fe=u.dynCall_viiijjjii=u.asm.Nb).apply(null,arguments)},Ie=u.dynCall_iij=function(){return(Ie=u.dynCall_iij=u.asm.Ob).apply(null,arguments)},We=u.dynCall_ji=function(){return(We=u.dynCall_ji=u.asm.Pb).apply(null,arguments)},He=u.dynCall_iiiiiij=function(){return(He=u.dynCall_iiiiiij=u.asm.Qb).apply(null,arguments)},Le=u.dynCall_iiij=function(){return(Le=u.dynCall_iiij=u.asm.Rb).apply(null,arguments)};function ze(){function t(){if(!ve&&(ve=!0,u.calledRun=!0,!H)&&(O||dt(X),c(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),!O)){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;){var t=u.postRun.shift();Z.unshift(t)}dt(Z)}}if(!(0<et))if(O)c(u),O||dt(X),postMessage({cmd:"loaded"});else{if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)K();dt(q),0<et||(u.setStatus?(u.setStatus("Running..."),setTimeout((function(){setTimeout((function(){u.setStatus("")}),1),t()}),1)):t())}}if(u.UTF8ToString=Y,u.stringToUTF8=function(t,e,n){return B(t,r(),e,n)},u.lengthBytesUTF8=G,u.keepRuntimeAlive=Q,u.wasmMemory=j,u.stackSave=Ee,u.stackRestore=Me,u.stackAlloc=Ce,u.ExitStatus=ct,u.PThread=ht,rt=function t(){ve||ze(),ve||(rt=t)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return ze(),t.ready});t.exports=r},932:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){var e,r,a;t=t||{},e||(e=void 0!==t?t:{}),e.ready=new Promise((function(t,e){r=t,a=e}));var i,o,u,c,s,l,f=Object.assign({},e),p="./this.program",h=(t,e)=>{throw e},d="object"==typeof window,y="function"==typeof importScripts,b="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,m="";b?(m=y?n(908).dirname(m)+"/":"//",l=()=>{s||(c=n(384),s=n(908))},i=function(t,e){return l(),t=s.normalize(t),c.readFileSync(t,e?void 0:"utf8")},u=t=>((t=i(t,!0)).buffer||(t=new Uint8Array(t)),t),o=(t,e,n)=>{l(),t=s.normalize(t),c.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof J))throw t})),process.on("unhandledRejection",(function(t){throw t})),h=(t,e)=>{if(_||0<L)throw process.exitCode=t,e;e instanceof J||w("exiting due to exception: "+e),process.exit(t)},e.inspect=function(){return"[Emscripten Module object]"}):(d||y)&&(y?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),_scriptDir&&(m=_scriptDir),m=0!==m.indexOf("blob:")?m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},y&&(u=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),o=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)});var g,v=e.print||console.log.bind(console),w=e.printErr||console.warn.bind(console);Object.assign(e,f),f=null,e.thisProgram&&(p=e.thisProgram),e.quit&&(h=e.quit),e.wasmBinary&&(g=e.wasmBinary);var _=e.noExitRuntime||!1;"object"!=typeof WebAssembly&&V("no native wasm support detected");var O,A,S,T,E,M,C=!1,x="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function R(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&x)return x.decode(t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function j(t,e){return(t>>>=0)?R(T,t,e):""}function k(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function D(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function P(){var t=O.buffer;A=t,e.HEAP8=S=new Int8Array(t),e.HEAP16=new Int16Array(t),e.HEAP32=E=new Int32Array(t),e.HEAPU8=T=new Uint8Array(t),e.HEAPU16=new Uint16Array(t),e.HEAPU32=M=new Uint32Array(t),e.HEAPF32=new Float32Array(t),e.HEAPF64=new Float64Array(t)}var U,F=[],I=[],W=[],H=[],L=0;function z(){var t=e.preRun.shift();F.unshift(t)}var Y,B=0,G=null,N=null;function V(t){throw e.onAbort&&e.onAbort(t),w(t="Aborted("+t+")"),C=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),a(t),t}function $(){return Y.startsWith("data:application/octet-stream;base64,")}if(Y="ort-wasm.wasm",!$()){var q=Y;Y=e.locateFile?e.locateFile(q,m):m+q}function X(){var t=Y;try{if(t==Y&&g)return new Uint8Array(g);if(u)return u(t);throw"both async and sync fetching of the wasm failed"}catch(t){V(t)}}function J(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function Z(t){for(;0<t.length;)t.shift()(e)}var Q=[],K=0,tt=0;function et(t){this.Db=t,this.zb=t-24,this.Ub=function(t){M[this.zb+4>>2>>>0]=t},this.Eb=function(){return M[this.zb+4>>2>>>0]},this.Sb=function(t){M[this.zb+8>>2>>>0]=t},this.Wb=function(){return M[this.zb+8>>2>>>0]},this.Tb=function(){E[this.zb>>2>>>0]=0},this.Ib=function(t){S[this.zb+12>>0>>>0]=t?1:0},this.Pb=function(){return 0!=S[this.zb+12>>0>>>0]},this.Jb=function(t){S[this.zb+13>>0>>>0]=t?1:0},this.Lb=function(){return 0!=S[this.zb+13>>0>>>0]},this.Rb=function(t,e){this.Fb(0),this.Ub(t),this.Sb(e),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){E[this.zb>>2>>>0]+=1},this.Xb=function(){var t=E[this.zb>>2>>>0];return E[this.zb>>2>>>0]=t-1,1===t},this.Fb=function(t){M[this.zb+16>>2>>>0]=t},this.Ob=function(){return M[this.zb+16>>2>>>0]},this.Qb=function(){if(Mt(this.Eb()))return M[this.Db>>2>>>0];var t=this.Ob();return 0!==t?t:this.Db}}function nt(t){return vt(new et(t).zb)}var rt=[];function at(t){var e=rt[t];return e||(t>=rt.length&&(rt.length=t+1),rt[t]=e=U.get(t)),e}function it(t){var e=D(t)+1,n=gt(e);return n&&k(t,S,n,e),n}var ot={};function ut(){if(!ct){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(t in ot)void 0===ot[t]?delete e[t]:e[t]=ot[t];var n=[];for(t in e)n.push(t+"="+e[t]);ct=n}return ct}var ct,st=[null,[],[]];function lt(t,e){var n=st[t];0===e||10===e?((1===t?v:w)(R(n,0)),n.length=0):n.push(e)}var ft=0;function pt(t){return 0==t%4&&(0!=t%100||0==t%400)}var ht=[31,29,31,30,31,30,31,31,30,31,30,31],dt=[31,28,31,30,31,30,31,31,30,31,30,31];function yt(t,e,n,r){function a(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function i(t,e){return a(t,e,"0")}function o(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function u(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function c(t){var e=t.Bb;for(t=new Date(new Date(t.Cb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(pt(t.getFullYear())?ht:dt)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=u(new Date(t.getFullYear(),0,4)),n=u(n),0>=o(e,t)?0>=o(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var s=E[r+40>>2>>>0];for(var l in r={$b:E[r>>2>>>0],Zb:E[r+4>>2>>>0],Gb:E[r+8>>2>>>0],Kb:E[r+12>>2>>>0],Hb:E[r+16>>2>>>0],Cb:E[r+20>>2>>>0],Ab:E[r+24>>2>>>0],Bb:E[r+28>>2>>>0],bc:E[r+32>>2>>>0],Yb:E[r+36>>2>>>0],ac:s?j(s):""},n=j(n),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),s[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(l in s={"%a":function(t){return f[t.Ab].substring(0,3)},"%A":function(t){return f[t.Ab]},"%b":function(t){return p[t.Hb].substring(0,3)},"%B":function(t){return p[t.Hb]},"%C":function(t){return i((t.Cb+1900)/100|0,2)},"%d":function(t){return i(t.Kb,2)},"%e":function(t){return a(t.Kb,2," ")},"%g":function(t){return c(t).toString().substring(2)},"%G":function(t){return c(t)},"%H":function(t){return i(t.Gb,2)},"%I":function(t){return 0==(t=t.Gb)?t=12:12<t&&(t-=12),i(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.Hb-1;e+=(pt(t.Cb+1900)?ht:dt)[n++]);return i(t.Kb+e,3)},"%m":function(t){return i(t.Hb+1,2)},"%M":function(t){return i(t.Zb,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.Gb&&12>t.Gb?"AM":"PM"},"%S":function(t){return i(t.$b,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Ab||7},"%U":function(t){return i(Math.floor((t.Bb+7-t.Ab)/7),2)},"%V":function(t){var e=Math.floor((t.Bb+7-(t.Ab+6)%7)/7);if(2>=(t.Ab+371-t.Bb-2)%7&&e++,e)53==e&&(4==(n=(t.Ab+371-t.Bb)%7)||3==n&&pt(t.Cb)||(e=1));else{e=52;var n=(t.Ab+7-t.Bb-1)%7;(4==n||5==n&&pt(t.Cb%400-1))&&e++}return i(e,2)},"%w":function(t){return t.Ab},"%W":function(t){return i(Math.floor((t.Bb+7-(t.Ab+6)%7)/7),2)},"%y":function(t){return(t.Cb+1900).toString().substring(2)},"%Y":function(t){return t.Cb+1900},"%z":function(t){var e=0<=(t=t.Yb);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.ac},"%%":function(){return"%"}},n=n.replace(/%%/g,"\\0\\0"),s)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),s[l](r)));return l=function(t){var e=Array(D(t)+1);return k(t,e,0,e.length),e}(n=n.replace(/\\0\\0/g,"%")),l.length>e?0:(S.set(l,t>>>0),l.length-1)}var bt={a:function(t){return gt(t+24)+24},m:function(t){return(t=new et(t)).Pb()||(t.Ib(!0),K--),t.Jb(!1),Q.push(t),t.Nb(),t.Qb()},ia:function(t){throw w("Unexpected exception thrown, this is not properly supported - aborting"),C=!0,t},w:function(){Ot(0);var t=Q.pop();if(t.Xb()&&!t.Lb()){var e=t.Wb();e&&at(e)(t.Db),nt(t.Db)}tt=0},d:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},k:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},g:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},s:nt,L:function(){var t=Q.pop();t||V("no exception to throw");var e=t.Db;throw t.Lb()||(Q.push(t),t.Jb(!0),t.Ib(!1),K++),tt=e,e},b:function(t,e,n){throw new et(t).Rb(e,n),tt=t,K++,t},la:function(){return K},i:function(t){throw tt||(tt=t),t},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getUTCSeconds(),E[e+4>>2>>>0]=t.getUTCMinutes(),E[e+8>>2>>>0]=t.getUTCHours(),E[e+12>>2>>>0]=t.getUTCDate(),E[e+16>>2>>>0]=t.getUTCMonth(),E[e+20>>2>>>0]=t.getUTCFullYear()-1900,E[e+24>>2>>>0]=t.getUTCDay(),E[e+28>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getSeconds(),E[e+4>>2>>>0]=t.getMinutes(),E[e+8>>2>>>0]=t.getHours(),E[e+12>>2>>>0]=t.getDate(),E[e+16>>2>>>0]=t.getMonth(),E[e+20>>2>>>0]=t.getFullYear()-1900,E[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1);E[e+28>>2>>>0]=(t.getTime()-n.getTime())/864e5|0,E[e+36>>2>>>0]=-60*t.getTimezoneOffset();var r=new Date(t.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),E[e+32>>2>>>0]=0|(r!=n&&t.getTimezoneOffset()==Math.min(n,r))},Fa:function(t){var e=new Date(E[t+20>>2>>>0]+1900,E[t+16>>2>>>0],E[t+12>>2>>>0],E[t+8>>2>>>0],E[t+4>>2>>>0],E[t>>2>>>0],0),n=E[t+32>>2>>>0],r=e.getTimezoneOffset(),a=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1).getTimezoneOffset(),o=a.getTimezoneOffset(),u=Math.min(o,i);return 0>n?E[t+32>>2>>>0]=Number(i!=o&&u==r):0<n!=(u==r)&&(i=Math.max(o,i),e.setTime(e.getTime()+6e4*((0<n?u:i)-r))),E[t+24>>2>>>0]=e.getDay(),E[t+28>>2>>>0]=(e.getTime()-a.getTime())/864e5|0,E[t>>2>>>0]=e.getSeconds(),E[t+4>>2>>>0]=e.getMinutes(),E[t+8>>2>>>0]=e.getHours(),E[t+12>>2>>>0]=e.getDate(),E[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function t(e,n,r){t.Vb||(t.Vb=!0,function(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}var a=(new Date).getFullYear(),i=new Date(a,0,1),o=new Date(a,6,1);a=i.getTimezoneOffset();var u=o.getTimezoneOffset();E[t>>2>>>0]=60*Math.max(a,u),E[e>>2>>>0]=Number(a!=u),t=r(i),e=r(o),t=it(t),e=it(e),u<a?(M[n>>2>>>0]=t,M[n+4>>2>>>0]=e):(M[n>>2>>>0]=e,M[n+4>>2>>>0]=t)}(e,n,r))},B:function(){V("")},ma:function(){return 4294901760},I:b?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:()=>performance.now(),xa:function(t,e,n){T.copyWithin(t>>>0,e>>>0,e+n>>>0)},G:function(t){var e=T.length;if(4294901760<(t>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=e*(1+.2/n);r=Math.min(r,t+100663296);var a=Math;r=Math.max(t,r),a=a.min.call(a,4294901760,r+(65536-r%65536)%65536);t:{try{O.grow(a-A.byteLength+65535>>>16),P();var i=1;break t}catch(t){}i=void 0}if(i)return!0}return!1},va:function(t,e){var n=0;return ut().forEach((function(r,a){var i=e+n;for(a=M[t+4*a>>2>>>0]=i,i=0;i<r.length;++i)S[a++>>0>>>0]=r.charCodeAt(i);S[a>>0>>>0]=0,n+=r.length+1})),0},wa:function(t,e){var n=ut();M[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),M[e>>2>>>0]=r,0},ba:function(t){_||0<L||(_t(),Z(W),wt(0),st[1].length&&lt(1,10),st[2].length&&lt(2,10)),_||0<L||(e.onExit&&e.onExit(t),C=!0),h(t,new J(t))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(t,e,n,r){for(var a=0,i=0;i<n;i++){var o=M[e>>2>>>0],u=M[e+4>>2>>>0];e+=8;for(var c=0;c<u;c++)lt(t,T[o+c>>>0]);a+=u}return M[r>>2>>>0]=a,0},c:function(){return ft},ja:function t(e,r){t.Mb||(t.Mb=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(b)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>V("randomDevice")}());for(var a=0;a<r;a++)S[e+a>>0>>>0]=t.Mb();return 0},ea:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},fa:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},J:function(t){var e=At();try{return at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},e:function(t,e){var n=At();try{return at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},N:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},O:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},j:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},o:function(t,e,n,r){var a=At();try{return at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},p:function(t,e,n,r,a){var i=At();try{return at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},M:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},r:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},v:function(t,e,n,r,a,i,o){var u=At();try{return at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},K:function(t,e,n,r,a,i,o,u){var c=At();try{return at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{return at(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},X:function(t,e,n,r,a,i,o,u){var c=At();try{return Ft(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},V:function(t,e,n,r,a,i,o){var u=At();try{return xt(t,e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},U:function(t,e,n,r,a){var i=At();try{return It(t,e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},Z:function(t,e,n,r){var a=At();try{return Pt(t,e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},W:function(t){var e=At();try{return Ct(t)}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},Y:function(t,e){var n=At();try{return Ut(t,e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},T:function(t,e,n){var r=At();try{return Rt(t,e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},f:function(t){var e=At();try{at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},q:function(t,e){var n=At();try{at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},h:function(t,e,n){var r=At();try{at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},da:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},l:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},t:function(t,e,n,r,a){var i=At();try{at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},u:function(t,e,n,r,a,i){var o=At();try{at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},x:function(t,e,n,r,a,i,o){var u=At();try{at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},z:function(t,e,n,r,a,i,o,u){var c=At();try{at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},ga:function(t,e,n,r,a,i,o,u,c){var s=At();try{at(t)(e,n,r,a,i,o,u,c)}catch(t){if(St(s),t!==t+0)throw t;Ot(1,0)}},A:function(t,e,n,r,a,i,o,u,c,s,l){var f=At();try{at(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(St(f),t!==t+0)throw t;Ot(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=At();try{at(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(St(b),t!==t+0)throw t;Ot(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=At();try{jt(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},_:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{Dt(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},$:function(t,e,n,r,a,i){var o=At();try{kt(t,e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},n:function(t){return t},F:function(t){ft=t},ha:yt,y:function(t,e,n,r){return yt(t,e,n,r)}};!function(){function t(t){e.asm=t.exports,O=e.asm.Ka,P(),U=e.asm.ib,I.unshift(e.asm.La),B--,e.monitorRunDependencies&&e.monitorRunDependencies(B),0==B&&(null!==G&&(clearInterval(G),G=null),N&&(t=N,N=null,t()))}function n(e){t(e.instance)}function r(t){return function(){if(!g&&(d||y)){if("function"==typeof fetch&&!Y.startsWith("file://"))return fetch(Y,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+Y+"\'";return t.arrayBuffer()})).catch((function(){return X()}));if(o)return new Promise((function(t,e){o(Y,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return X()}))}().then((function(t){return WebAssembly.instantiate(t,i)})).then((function(t){return t})).then(t,(function(t){w("failed to asynchronously prepare wasm: "+t),V(t)}))}var i={a:bt};if(B++,e.monitorRunDependencies&&e.monitorRunDependencies(B),e.instantiateWasm)try{return e.instantiateWasm(i,t)}catch(t){return w("Module.instantiateWasm callback failed with error: "+t),!1}(g||"function"!=typeof WebAssembly.instantiateStreaming||$()||Y.startsWith("file://")||b||"function"!=typeof fetch?r(n):fetch(Y,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,i).then(n,(function(t){return w("wasm streaming compile failed: "+t),w("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.La).apply(null,arguments)},e._OrtInit=function(){return(e._OrtInit=e.asm.Ma).apply(null,arguments)},e._OrtCreateSessionOptions=function(){return(e._OrtCreateSessionOptions=e.asm.Na).apply(null,arguments)},e._OrtAppendExecutionProvider=function(){return(e._OrtAppendExecutionProvider=e.asm.Oa).apply(null,arguments)},e._OrtAddSessionConfigEntry=function(){return(e._OrtAddSessionConfigEntry=e.asm.Pa).apply(null,arguments)},e._OrtReleaseSessionOptions=function(){return(e._OrtReleaseSessionOptions=e.asm.Qa).apply(null,arguments)},e._OrtCreateSession=function(){return(e._OrtCreateSession=e.asm.Ra).apply(null,arguments)},e._OrtReleaseSession=function(){return(e._OrtReleaseSession=e.asm.Sa).apply(null,arguments)},e._OrtGetInputCount=function(){return(e._OrtGetInputCount=e.asm.Ta).apply(null,arguments)},e._OrtGetOutputCount=function(){return(e._OrtGetOutputCount=e.asm.Ua).apply(null,arguments)},e._OrtGetInputName=function(){return(e._OrtGetInputName=e.asm.Va).apply(null,arguments)},e._OrtGetOutputName=function(){return(e._OrtGetOutputName=e.asm.Wa).apply(null,arguments)},e._OrtFree=function(){return(e._OrtFree=e.asm.Xa).apply(null,arguments)},e._OrtCreateTensor=function(){return(e._OrtCreateTensor=e.asm.Ya).apply(null,arguments)},e._OrtGetTensorData=function(){return(e._OrtGetTensorData=e.asm.Za).apply(null,arguments)},e._OrtReleaseTensor=function(){return(e._OrtReleaseTensor=e.asm._a).apply(null,arguments)},e._OrtCreateRunOptions=function(){return(e._OrtCreateRunOptions=e.asm.$a).apply(null,arguments)},e._OrtAddRunConfigEntry=function(){return(e._OrtAddRunConfigEntry=e.asm.ab).apply(null,arguments)},e._OrtReleaseRunOptions=function(){return(e._OrtReleaseRunOptions=e.asm.bb).apply(null,arguments)},e._OrtRun=function(){return(e._OrtRun=e.asm.cb).apply(null,arguments)},e._OrtEndProfiling=function(){return(e._OrtEndProfiling=e.asm.db).apply(null,arguments)};var mt,gt=e._malloc=function(){return(gt=e._malloc=e.asm.eb).apply(null,arguments)},vt=e._free=function(){return(vt=e._free=e.asm.fb).apply(null,arguments)},wt=e._fflush=function(){return(wt=e._fflush=e.asm.gb).apply(null,arguments)},_t=e.___funcs_on_exit=function(){return(_t=e.___funcs_on_exit=e.asm.hb).apply(null,arguments)},Ot=e._setThrew=function(){return(Ot=e._setThrew=e.asm.jb).apply(null,arguments)},At=e.stackSave=function(){return(At=e.stackSave=e.asm.kb).apply(null,arguments)},St=e.stackRestore=function(){return(St=e.stackRestore=e.asm.lb).apply(null,arguments)},Tt=e.stackAlloc=function(){return(Tt=e.stackAlloc=e.asm.mb).apply(null,arguments)},Et=e.___cxa_can_catch=function(){return(Et=e.___cxa_can_catch=e.asm.nb).apply(null,arguments)},Mt=e.___cxa_is_pointer_type=function(){return(Mt=e.___cxa_is_pointer_type=e.asm.ob).apply(null,arguments)},Ct=e.dynCall_j=function(){return(Ct=e.dynCall_j=e.asm.pb).apply(null,arguments)},xt=e.dynCall_iiiiij=function(){return(xt=e.dynCall_iiiiij=e.asm.qb).apply(null,arguments)},Rt=e.dynCall_jii=function(){return(Rt=e.dynCall_jii=e.asm.rb).apply(null,arguments)},jt=e.dynCall_viiiiij=function(){return(jt=e.dynCall_viiiiij=e.asm.sb).apply(null,arguments)},kt=e.dynCall_vjji=function(){return(kt=e.dynCall_vjji=e.asm.tb).apply(null,arguments)},Dt=e.dynCall_viiijjjii=function(){return(Dt=e.dynCall_viiijjjii=e.asm.ub).apply(null,arguments)},Pt=e.dynCall_iij=function(){return(Pt=e.dynCall_iij=e.asm.vb).apply(null,arguments)},Ut=e.dynCall_ji=function(){return(Ut=e.dynCall_ji=e.asm.wb).apply(null,arguments)},Ft=e.dynCall_iiiiiij=function(){return(Ft=e.dynCall_iiiiiij=e.asm.xb).apply(null,arguments)},It=e.dynCall_iiij=function(){return(It=e.dynCall_iiij=e.asm.yb).apply(null,arguments)};function Wt(){function t(){if(!mt&&(mt=!0,e.calledRun=!0,!C)){if(Z(I),r(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;){var t=e.postRun.shift();H.unshift(t)}Z(H)}}if(!(0<B)){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)z();Z(F),0<B||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),t()}),1)):t())}}if(e.UTF8ToString=j,e.stringToUTF8=function(t,e,n){return k(t,T,e,n)},e.lengthBytesUTF8=D,e.stackSave=At,e.stackRestore=St,e.stackAlloc=Tt,N=function t(){mt||Wt(),mt||(N=t)},e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();return Wt(),t.ready});t.exports=r},967:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.iterateExtraOptions=void 0,e.iterateExtraOptions=(t,n,r,a)=>{if("object"==typeof t&&null!==t){if(r.has(t))throw new Error("Circular reference in options");r.add(t)}Object.entries(t).forEach((([t,i])=>{const o=n?n+t:t;if("object"==typeof i)(0,e.iterateExtraOptions)(i,o+".",r,a);else if("string"==typeof i||"number"==typeof i)a(o,i.toString());else{if("boolean"!=typeof i)throw new Error("Can\'t handle extra config type: "+typeof i);a(o,i?"1":"0")}}))}},586:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setRunOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setRunOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};try{if(void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);void 0===(null==t?void 0:t.terminate)&&(u.terminate=!1);let i=0;if(void 0!==(null==t?void 0:t.tag)&&(i=(0,a.allocWasmString)(t.tag,o)),n=e._OrtCreateRunOptions(u.logSeverityLevel,u.logVerbosityLevel,!!u.terminate,i),0===n)throw new Error("Can\'t create run options");return void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddRunConfigEntry(n,i,u))throw new Error(`Can\'t set a run config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseRunOptions(n),o.forEach(e._free),t}}},919:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setSessionOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setSessionOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};(t=>{t.extra||(t.extra={}),t.extra.session||(t.extra.session={});const e=t.extra.session;e.use_ort_model_bytes_directly||(e.use_ort_model_bytes_directly="1")})(u);try{void 0===(null==t?void 0:t.graphOptimizationLevel)&&(u.graphOptimizationLevel="all");const c=(t=>{switch(t){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${t}`)}})(u.graphOptimizationLevel);void 0===(null==t?void 0:t.enableCpuMemArena)&&(u.enableCpuMemArena=!0),void 0===(null==t?void 0:t.enableMemPattern)&&(u.enableMemPattern=!0),void 0===(null==t?void 0:t.executionMode)&&(u.executionMode="sequential");const s=(t=>{switch(t){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${t}`)}})(u.executionMode);let l=0;if(void 0!==(null==t?void 0:t.logId)&&(l=(0,a.allocWasmString)(t.logId,o)),void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);if(void 0===(null==t?void 0:t.enableProfiling)&&(u.enableProfiling=!1),n=e._OrtCreateSessionOptions(c,!!u.enableCpuMemArena,!!u.enableMemPattern,s,!!u.enableProfiling,0,l,u.logSeverityLevel,u.logVerbosityLevel),0===n)throw new Error("Can\'t create session options");return(null==t?void 0:t.executionProviders)&&((t,e,n)=>{for(const r of e){let e="string"==typeof r?r:r.name;switch(e){case"xnnpack":e="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${e}`)}const o=(0,a.allocWasmString)(e,n);if(0!==(0,i.getInstance)()._OrtAppendExecutionProvider(t,o))throw new Error(`Can\'t append execution provider: ${e}`)}})(n,t.executionProviders,o),void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddSessionConfigEntry(n,i,u))throw new Error(`Can\'t set a session config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseSessionOptions(n),o.forEach(e._free),t}}},983:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allocWasmString=void 0;const r=n(361);e.allocWasmString=(t,e)=>{const n=(0,r.getInstance)(),a=n.lengthBytesUTF8(t)+1,i=n._malloc(a);return n.stringToUTF8(t,i,a),e.push(i),i}},349:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractTransferableBuffers=e.endProfiling=e.run=e.releaseSession=e.createSession=e.createSessionFinalize=e.createSessionAllocate=e.initOrt=void 0;const r=n(586),a=n(919),i=n(983),o=n(361);e.initOrt=(t,e)=>{const n=(0,o.getInstance)()._OrtInit(t,e);if(0!==n)throw new Error(`Can\'t initialize onnxruntime. error code = ${n}`)};const u=new Map;e.createSessionAllocate=t=>{const e=(0,o.getInstance)(),n=e._malloc(t.byteLength);return e.HEAPU8.set(t,n),[n,t.byteLength]},e.createSessionFinalize=(t,e)=>{const n=(0,o.getInstance)();let r=0,i=0,c=[];try{if([i,c]=(0,a.setSessionOptions)(e),r=n._OrtCreateSession(t[0],t[1],i),0===r)throw new Error("Can\'t create a session")}finally{n._free(t[0]),n._OrtReleaseSessionOptions(i),c.forEach(n._free)}const s=n._OrtGetInputCount(r),l=n._OrtGetOutputCount(r),f=[],p=[],h=[],d=[];for(let t=0;t<s;t++){const e=n._OrtGetInputName(r,t);if(0===e)throw new Error("Can\'t get an input name");p.push(e),f.push(n.UTF8ToString(e))}for(let t=0;t<l;t++){const e=n._OrtGetOutputName(r,t);if(0===e)throw new Error("Can\'t get an output name");d.push(e),h.push(n.UTF8ToString(e))}return u.set(r,[r,p,d]),[r,f,h]},e.createSession=(t,n)=>{const r=(0,e.createSessionAllocate)(t);return(0,e.createSessionFinalize)(r,n)},e.releaseSession=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=n[1],i=n[2];a.forEach(e._OrtFree),i.forEach(e._OrtFree),e._OrtReleaseSession(r),u.delete(t)};const c=t=>{switch(t){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${t}`)}},s=t=>{switch(t){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${t}`)}},l=t=>{switch(t){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${t}`)}};e.run=(t,e,n,a,f)=>{const p=(0,o.getInstance)(),h=u.get(t);if(!h)throw new Error("invalid session id");const d=h[0],y=h[1],b=h[2],m=e.length,g=a.length;let v=0,w=[];const _=[],O=[];try{[v,w]=(0,r.setRunOptions)(f);for(let t=0;t<m;t++){const e=n[t][0],r=n[t][1],a=n[t][2];let o,u;if(Array.isArray(a)){u=4*a.length,o=p._malloc(u),O.push(o);let t=o/4;for(let e=0;e<a.length;e++){if("string"!=typeof a[e])throw new TypeError(`tensor data at index ${e} is not a string`);p.HEAPU32[t++]=(0,i.allocWasmString)(a[e],O)}}else u=a.byteLength,o=p._malloc(u),O.push(o),p.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),o);const s=p.stackSave(),l=p.stackAlloc(4*r.length);try{let t=l/4;r.forEach((e=>p.HEAP32[t++]=e));const n=p._OrtCreateTensor(c(e),o,u,l,r.length);if(0===n)throw new Error("Can\'t create a tensor");_.push(n)}finally{p.stackRestore(s)}}const t=p.stackSave(),o=p.stackAlloc(4*m),u=p.stackAlloc(4*m),h=p.stackAlloc(4*g),A=p.stackAlloc(4*g);try{let n=o/4,r=u/4,i=h/4,c=A/4;for(let t=0;t<m;t++)p.HEAPU32[n++]=_[t],p.HEAPU32[r++]=y[e[t]];for(let t=0;t<g;t++)p.HEAPU32[i++]=0,p.HEAPU32[c++]=b[a[t]];let f=p._OrtRun(d,u,o,m,A,g,h,v);const w=[];if(0===f)for(let t=0;t<g;t++){const e=p.HEAPU32[h/4+t],n=p.stackSave(),r=p.stackAlloc(16);let a,i=0;try{if(f=p._OrtGetTensorData(e,r,r+4,r+8,r+12),0!==f)throw new Error(`Can\'t access output tensor data. error code = ${f}`);let t=r/4;const o=p.HEAPU32[t++];i=p.HEAPU32[t++];const u=p.HEAPU32[t++],c=p.HEAPU32[t++],h=[];for(let t=0;t<c;t++)h.push(p.HEAPU32[u/4+t]);p._OrtFree(u);const d=0===h.length?1:h.reduce(((t,e)=>t*e));if(a=s(o),"string"===a){const t=[];let e=i/4;for(let n=0;n<d;n++){const r=p.HEAPU32[e++],a=n===d-1?void 0:p.HEAPU32[e]-r;t.push(p.UTF8ToString(r,a))}w.push([a,h,t])}else{const t=new(l(a))(d);new Uint8Array(t.buffer,t.byteOffset,t.byteLength).set(p.HEAPU8.subarray(i,i+t.byteLength)),w.push([a,h,t])}}finally{p.stackRestore(n),"string"===a&&i&&p._free(i),p._OrtReleaseTensor(e)}}if(0===f)return w;throw new Error(`failed to call OrtRun(). error code = ${f}.`)}finally{p.stackRestore(t)}}finally{_.forEach(p._OrtReleaseTensor),O.forEach(p._free),p._OrtReleaseRunOptions(v),w.forEach(p._free)}},e.endProfiling=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=e._OrtEndProfiling(r);if(0===a)throw new Error("Can\'t get an profile file name");e._OrtFree(a)},e.extractTransferableBuffers=t=>{const e=[];for(const n of t){const t=n[2];!Array.isArray(t)&&t.buffer&&e.push(t.buffer)}return e}},361:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(e,n);a&&!("get"in a?!e.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,a)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return a(e,t),e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.getInstance=e.initializeWebAssembly=void 0;const u=i(n(449)),c=o(n(932)),s=n(474);let l,f=!1,p=!1,h=!1;const d=(t,e)=>e?t?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":t?"ort-wasm-simd.wasm":"ort-wasm.wasm";e.initializeWebAssembly=async t=>{if(f)return Promise.resolve();if(p)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(h)throw new Error("previous call to \'initializeWebAssembly()\' failed.");p=!0;const e=t.initTimeout,r=t.numThreads,a=t.simd,i=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(t){return!1}})(),o=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(t){return!1}})(),y="string"==typeof t.wasmPaths?t.wasmPaths:void 0,b=d(!1,i),m=d(o,i),g="object"==typeof t.wasmPaths?t.wasmPaths[m]:void 0;let v=!1;const w=[];if(e>0&&w.push(new Promise((t=>{setTimeout((()=>{v=!0,t()}),e)}))),w.push(new Promise(((t,e)=>{const r=i?s:c.default,a={locateFile:(t,e)=>i&&t.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(154)],{type:"text/javascript"})):t===b?null!=g?g:(null!=y?y:e)+m:e+t};if(i)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=u.join("/","ort-wasm-threaded.js");else{const t=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([t],{type:"text/javascript"})}r(a).then((e=>{p=!1,f=!0,l=e,t()}),(t=>{p=!1,h=!0,e(t)}))}))),await Promise.race(w),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${e}ms`)},e.getInstance=()=>{if(f&&l)return l;throw new Error("WebAssembly is not initialized yet.")},e.dispose=()=>{var t;!f||p||h||(p=!0,null===(t=l.PThread)||void 0===t||t.terminateAllThreads(),l=void 0,p=!1,f=!1,h=!0)}},154:t=>{"use strict";t.exports=\'"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\\n\'},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";const t=n(349),e=n(361);self.onmessage=n=>{switch(n.data.type){case"init-wasm":(0,e.initializeWebAssembly)(n.data.in).then((()=>postMessage({type:"init-wasm"})),(t=>postMessage({type:"init-wasm",err:t})));break;case"init-ort":try{const{numThreads:e,loggingLevel:r}=n.data.in;(0,t.initOrt)(e,r),postMessage({type:"init-ort"})}catch(t){postMessage({type:"init-ort",err:t})}break;case"create_allocate":try{const{model:e}=n.data.in,r=(0,t.createSessionAllocate)(e);postMessage({type:"create_allocate",out:r})}catch(t){postMessage({type:"create_allocate",err:t})}break;case"create_finalize":try{const{modeldata:e,options:r}=n.data.in,a=(0,t.createSessionFinalize)(e,r);postMessage({type:"create_finalize",out:a})}catch(t){postMessage({type:"create_finalize",err:t})}break;case"create":try{const{model:e,options:r}=n.data.in,a=(0,t.createSession)(e,r);postMessage({type:"create",out:a})}catch(t){postMessage({type:"create",err:t})}break;case"release":try{const e=n.data.in;(0,t.releaseSession)(e),postMessage({type:"release"})}catch(t){postMessage({type:"release",err:t})}break;case"run":try{const{sessionId:e,inputIndices:r,inputs:a,outputIndices:i,options:o}=n.data.in,u=(0,t.run)(e,r,a,i,o);postMessage({type:"run",out:u},(0,t.extractTransferableBuffers)(u))}catch(t){postMessage({type:"run",err:t})}break;case"end-profiling":try{const e=n.data.in;(0,t.endProfiling)(e),postMessage({type:"end-profiling"})}catch(t){postMessage({type:"end-profiling",err:t})}}}})()})();\n',"Worker",void 0,void 0)}},477:e=>{"use strict";e.exports=function(e,t,n,r){var i=self||window;try{try{var a;try{a=new i.Blob([e])}catch(t){(a=new(i.BlobBuilder||i.WebKitBlobBuilder||i.MozBlobBuilder||i.MSBlobBuilder)).append(e),a=a.getBlob()}var o=i.URL||i.webkitURL,s=o.createObjectURL(a),l=new i[t](s,n);return o.revokeObjectURL(s),l}catch(r){return new i[t]("data:application/javascript,".concat(encodeURIComponent(e)),n)}}catch(e){if(!r)throw Error("Inline worker is not supported");return new i[t](r,n)}}},4154:e=>{"use strict";e.exports='"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\n'},1670:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_MODULE__1670__},7067:()=>{},1296:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},2806:()=>{},6449:()=>{},2850:()=>{},5381:()=>{},5686:(e,t,n)=>{"use strict";n.r(t),n.d(t,{flatbuffers:()=>r});var r={};r.Offset,r.Table,r.SIZEOF_SHORT=2,r.SIZEOF_INT=4,r.FILE_IDENTIFIER_LENGTH=4,r.SIZE_PREFIX_LENGTH=4,r.Encoding={UTF8_BYTES:1,UTF16_STRING:2},r.int32=new Int32Array(2),r.float32=new Float32Array(r.int32.buffer),r.float64=new Float64Array(r.int32.buffer),r.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],r.Long=function(e,t){this.low=0|e,this.high=0|t},r.Long.create=function(e,t){return 0==e&&0==t?r.Long.ZERO:new r.Long(e,t)},r.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},r.Long.prototype.equals=function(e){return this.low==e.low&&this.high==e.high},r.Long.ZERO=new r.Long(0,0),r.Builder=function(e){if(e)t=e;else var t=1024;this.bb=r.ByteBuffer.allocate(t),this.space=t,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},r.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},r.Builder.prototype.forceDefaults=function(e){this.force_defaults=e},r.Builder.prototype.dataBuffer=function(){return this.bb},r.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},r.Builder.prototype.prep=function(e,t){e>this.minalign&&(this.minalign=e);for(var n=1+~(this.bb.capacity()-this.space+t)&e-1;this.space<n+e+t;){var i=this.bb.capacity();this.bb=r.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(n)},r.Builder.prototype.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},r.Builder.prototype.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e)},r.Builder.prototype.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},r.Builder.prototype.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},r.Builder.prototype.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},r.Builder.prototype.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},r.Builder.prototype.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},r.Builder.prototype.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},r.Builder.prototype.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},r.Builder.prototype.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},r.Builder.prototype.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},r.Builder.prototype.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},r.Builder.prototype.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},r.Builder.prototype.addFieldInt8=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt8(t),this.slot(e))},r.Builder.prototype.addFieldInt16=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt16(t),this.slot(e))},r.Builder.prototype.addFieldInt32=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt32(t),this.slot(e))},r.Builder.prototype.addFieldInt64=function(e,t,n){!this.force_defaults&&t.equals(n)||(this.addInt64(t),this.slot(e))},r.Builder.prototype.addFieldFloat32=function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat32(t),this.slot(e))},r.Builder.prototype.addFieldFloat64=function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat64(t),this.slot(e))},r.Builder.prototype.addFieldOffset=function(e,t,n){(this.force_defaults||t!=n)&&(this.addOffset(t),this.slot(e))},r.Builder.prototype.addFieldStruct=function(e,t,n){t!=n&&(this.nested(t),this.slot(e))},r.Builder.prototype.nested=function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},r.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},r.Builder.prototype.slot=function(e){this.vtable[e]=this.offset()},r.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},r.Builder.growByteBuffer=function(e){var t=e.capacity();if(3221225472&t)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var n=t<<1,i=r.ByteBuffer.allocate(n);return i.setPosition(n-t),i.bytes().set(e.bytes(),n-t),i},r.Builder.prototype.addOffset=function(e){this.prep(r.SIZEOF_INT,0),this.writeInt32(this.offset()-e+r.SIZEOF_INT)},r.Builder.prototype.startObject=function(e){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()},r.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),t=this.vtable_in_use-1;t>=0&&0==this.vtable[t];t--);for(var n=t+1;t>=0;t--)this.addInt16(0!=this.vtable[t]?e-this.vtable[t]:0);this.addInt16(e-this.object_start);var i=(n+2)*r.SIZEOF_SHORT;this.addInt16(i);var a=0,o=this.space;e:for(t=0;t<this.vtables.length;t++){var s=this.bb.capacity()-this.vtables[t];if(i==this.bb.readInt16(s)){for(var l=r.SIZEOF_SHORT;l<i;l+=r.SIZEOF_SHORT)if(this.bb.readInt16(o+l)!=this.bb.readInt16(s+l))continue e;a=this.vtables[t];break}}return a?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,a-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},r.Builder.prototype.finish=function(e,t,n){var i=n?r.SIZE_PREFIX_LENGTH:0;if(t){var a=t;if(this.prep(this.minalign,r.SIZEOF_INT+r.FILE_IDENTIFIER_LENGTH+i),a.length!=r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+r.FILE_IDENTIFIER_LENGTH);for(var o=r.FILE_IDENTIFIER_LENGTH-1;o>=0;o--)this.writeInt8(a.charCodeAt(o))}this.prep(this.minalign,r.SIZEOF_INT+i),this.addOffset(e),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},r.Builder.prototype.finishSizePrefixed=function(e,t){this.finish(e,t,!0)},r.Builder.prototype.requiredField=function(e,t){var n=this.bb.capacity()-e,r=n-this.bb.readInt32(n);if(0==this.bb.readInt16(r+t))throw new Error("FlatBuffers: field "+t+" must be set")},r.Builder.prototype.startVector=function(e,t,n){this.notNested(),this.vector_num_elems=t,this.prep(r.SIZEOF_INT,e*t),this.prep(n,e*t)},r.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},r.Builder.prototype.createString=function(e){if(e instanceof Uint8Array)var t=e;else{t=[];for(var n=0;n<e.length;){var r,i=e.charCodeAt(n++);(r=i<55296||i>=56320?i:(i<<10)+e.charCodeAt(n++)+-56613888)<128?t.push(r):(r<2048?t.push(r>>6&31|192):(r<65536?t.push(r>>12&15|224):t.push(r>>18&7|240,r>>12&63|128),t.push(r>>6&63|128)),t.push(63&r|128))}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),n=0;for(var a=this.space,o=this.bb.bytes();n<t.length;n++)o[a++]=t[n];return this.endVector()},r.Builder.prototype.createLong=function(e,t){return r.Long.create(e,t)},r.ByteBuffer=function(e){this.bytes_=e,this.position_=0},r.ByteBuffer.allocate=function(e){return new r.ByteBuffer(new Uint8Array(e))},r.ByteBuffer.prototype.clear=function(){this.position_=0},r.ByteBuffer.prototype.bytes=function(){return this.bytes_},r.ByteBuffer.prototype.position=function(){return this.position_},r.ByteBuffer.prototype.setPosition=function(e){this.position_=e},r.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},r.ByteBuffer.prototype.readInt8=function(e){return this.readUint8(e)<<24>>24},r.ByteBuffer.prototype.readUint8=function(e){return this.bytes_[e]},r.ByteBuffer.prototype.readInt16=function(e){return this.readUint16(e)<<16>>16},r.ByteBuffer.prototype.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},r.ByteBuffer.prototype.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},r.ByteBuffer.prototype.readUint32=function(e){return this.readInt32(e)>>>0},r.ByteBuffer.prototype.readInt64=function(e){return new r.Long(this.readInt32(e),this.readInt32(e+4))},r.ByteBuffer.prototype.readUint64=function(e){return new r.Long(this.readUint32(e),this.readUint32(e+4))},r.ByteBuffer.prototype.readFloat32=function(e){return r.int32[0]=this.readInt32(e),r.float32[0]},r.ByteBuffer.prototype.readFloat64=function(e){return r.int32[r.isLittleEndian?0:1]=this.readInt32(e),r.int32[r.isLittleEndian?1:0]=this.readInt32(e+4),r.float64[0]},r.ByteBuffer.prototype.writeInt8=function(e,t){this.bytes_[e]=t},r.ByteBuffer.prototype.writeUint8=function(e,t){this.bytes_[e]=t},r.ByteBuffer.prototype.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},r.ByteBuffer.prototype.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},r.ByteBuffer.prototype.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},r.ByteBuffer.prototype.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},r.ByteBuffer.prototype.writeInt64=function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)},r.ByteBuffer.prototype.writeUint64=function(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)},r.ByteBuffer.prototype.writeFloat32=function(e,t){r.float32[0]=t,this.writeInt32(e,r.int32[0])},r.ByteBuffer.prototype.writeFloat64=function(e,t){r.float64[0]=t,this.writeInt32(e,r.int32[r.isLittleEndian?0:1]),this.writeInt32(e+4,r.int32[r.isLittleEndian?1:0])},r.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+r.SIZEOF_INT+r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var e="",t=0;t<r.FILE_IDENTIFIER_LENGTH;t++)e+=String.fromCharCode(this.readInt8(this.position_+r.SIZEOF_INT+t));return e},r.ByteBuffer.prototype.__offset=function(e,t){var n=e-this.readInt32(e);return t<this.readInt16(n)?this.readInt16(n+t):0},r.ByteBuffer.prototype.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},r.ByteBuffer.prototype.__string=function(e,t){e+=this.readInt32(e);var n=this.readInt32(e),i="",a=0;if(e+=r.SIZEOF_INT,t===r.Encoding.UTF8_BYTES)return this.bytes_.subarray(e,e+n);for(;a<n;){var o,s=this.readUint8(e+a++);if(s<192)o=s;else{var l=this.readUint8(e+a++);if(s<224)o=(31&s)<<6|63&l;else{var u=this.readUint8(e+a++);o=s<240?(15&s)<<12|(63&l)<<6|63&u:(7&s)<<18|(63&l)<<12|(63&u)<<6|63&this.readUint8(e+a++)}}o<65536?i+=String.fromCharCode(o):(o-=65536,i+=String.fromCharCode(55296+(o>>10),56320+(1023&o)))}return i},r.ByteBuffer.prototype.__indirect=function(e){return e+this.readInt32(e)},r.ByteBuffer.prototype.__vector=function(e){return e+this.readInt32(e)+r.SIZEOF_INT},r.ByteBuffer.prototype.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},r.ByteBuffer.prototype.__has_identifier=function(e){if(e.length!=r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+r.FILE_IDENTIFIER_LENGTH);for(var t=0;t<r.FILE_IDENTIFIER_LENGTH;t++)if(e.charCodeAt(t)!=this.readInt8(this.position_+r.SIZEOF_INT+t))return!1;return!0},r.ByteBuffer.prototype.createLong=function(e,t){return r.Long.create(e,t)}}},__webpack_module_cache__={};function __nested_webpack_require_546802__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__nested_webpack_require_546802__),n.exports}__nested_webpack_require_546802__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __nested_webpack_require_546802__.d(t,{a:t}),t},__nested_webpack_require_546802__.d=(e,t)=>{for(var n in t)__nested_webpack_require_546802__.o(t,n)&&!__nested_webpack_require_546802__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__nested_webpack_require_546802__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__nested_webpack_require_546802__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__nested_webpack_require_546802__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __nested_webpack_exports__=__nested_webpack_require_546802__(6018);return __nested_webpack_exports__})(),module.exports=e(__webpack_require__(3898))},6920:e=>{"use strict";e.exports=(e,t)=>(t=t||(()=>{}),e.then((e=>new Promise((e=>{e(t())})).then((()=>e))),(e=>new Promise((e=>{e(t())})).then((()=>{throw e})))))},1321:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2985),i=n(56),a=n(7251),o=()=>{},s=new i.TimeoutError;t.default=class extends r{constructor(e){var t,n,r,i;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=o,this._resolveIdle=o,!("number"===typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:a.default},e)).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(n=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==n?n:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(i=null===(r=e.interval)||void 0===r?void 0:r.toString())&&void 0!==i?i:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=o,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=o,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(void 0===this._intervalId){const t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout((()=>{this._onResumeInterval()}),t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval((()=>{this._onInterval()}),this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"===typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise(((n,r)=>{this._queue.enqueue((async()=>{this._pendingCount++,this._intervalCount++;try{const a=void 0===this._timeout&&void 0===t.timeout?e():i.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,(()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&r(s)}));n(await a)}catch(a){r(a)}this._next()}),t),this._tryToStartAnother(),this.emit("add")}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise((e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}}))}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise((e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}}))}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}},8081:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){let r=0,i=e.length;for(;i>0;){const a=i/2|0;let o=r+a;n(e[o],t)<=0?(r=++o,i-=a+1):i=a}return r}},7251:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8081);t.default=class{constructor(){this._queue=[]}enqueue(e,t){const n={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(n);const i=r.default(this._queue,n,((e,t)=>t.priority-e.priority));this._queue.splice(i,0,n)}dequeue(){const e=this._queue.shift();return null===e||void 0===e?void 0:e.run}filter(e){return this._queue.filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return this._queue.length}}},8121:(e,t,n)=>{"use strict";const r=n(420),i=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class a extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,({message:e}=e)):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const o=(e,t)=>new Promise(((n,o)=>{t={onFailedAttempt:()=>{},retries:10,...t};const s=r.operation(t);s.attempt((async r=>{try{n(await e(r))}catch(u){if(!(u instanceof Error))return void o(new TypeError(`Non-error was thrown: "${u}". You should only throw errors.`));if(u instanceof a)s.stop(),o(u.originalError);else if(u instanceof TypeError&&(l=u.message,!i.includes(l)))s.stop(),o(u);else{((e,t,n)=>{const r=n.retries-(t-1);e.attemptNumber=t,e.retriesLeft=r})(u,r,t);try{await t.onFailedAttempt(u)}catch(u){return void o(u)}s.retry(u)||o(s.mainError())}}var l}))}));e.exports=o,e.exports.default=o,e.exports.AbortError=a},56:(e,t,n)=>{"use strict";const r=n(6920);class i extends Error{constructor(e){super(e),this.name="TimeoutError"}}const a=(e,t,n)=>new Promise(((a,o)=>{if("number"!==typeof t||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0)return void a(e);const s=setTimeout((()=>{if("function"===typeof n){try{a(n())}catch(s){o(s)}return}const r=n instanceof Error?n:new i("string"===typeof n?n:`Promise timed out after ${t} milliseconds`);"function"===typeof e.cancel&&e.cancel(),o(r)}),t);r(e.then(a,o),(()=>{clearTimeout(s)}))}));e.exports=a,e.exports.default=a,e.exports.TimeoutError=i},165:(e,t,n)=>{let r;e.exports="function"===typeof queueMicrotask?queueMicrotask.bind("undefined"!==typeof window?window:n.g):e=>(r||(r=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)))},6024:(e,t,n)=>{"use strict";var r=n(6665),i=n(3167);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function g(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,_);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,_);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,_);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var v=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var D,j=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var B=!1;function z(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function $(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case x:return"Portal";case T:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,ke=null,Se=null;function Te(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Ae(){if(ke){var e=ke,t=Se;if(Se=ke=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Oe(e,t){return e(t)}function Ce(){}var Ie=!1;function Pe(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Oe(e,t,n)}finally{Ie=!1,(null!==ke||null!==Se)&&(Ce(),Ae())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Le=!1;if(c)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ce){Le=!1}function Ne(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var De=!1,je=null,Fe=!1,Be=null,ze={onError:function(e){De=!0,je=e}};function $e(e,t,n,r,i,a,o,s,l){De=!1,je=null,Ne.apply(ze,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ue(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var qe=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Ze=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ye=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Qe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function _t(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,kt,St,Tt,Et=!1,At=[],Ot=null,Ct=null,It=null,Pt=new Map,Mt=new Map,Lt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Dt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=_i(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Tt(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ve=r,n.target.dispatchEvent(r),ve=null,t.shift()}return!0}function Bt(e,t,n){Ft(e)&&n.delete(t)}function zt(){Et=!1,null!==Ot&&Ft(Ot)&&(Ot=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==It&&Ft(It)&&(It=null),Pt.forEach(Bt),Mt.forEach(Bt)}function $t(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Ut(e){function t(t){return $t(t,e)}if(0<At.length){$t(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ot&&$t(Ot,e),null!==Ct&&$t(Ct,e),null!==It&&$t(It,e),Pt.forEach(t),Mt.forEach(t),n=0;n<Lt.length;n++)(r=Lt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)jt(n),null===n.blockedOn&&Lt.shift()}var Vt=v.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=bt,a=Vt.transition;Vt.transition=null;try{bt=1,qt(e,t,n,r)}finally{bt=i,Vt.transition=a}}function Gt(e,t,n,r){var i=bt,a=Vt.transition;Vt.transition=null;try{bt=4,qt(e,t,n,r)}finally{bt=i,Vt.transition=a}}function qt(e,t,n,r){if(Wt){var i=Zt(e,t,n,r);if(null===i)Wr(e,t,r,Kt,n),Nt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ot=Dt(Ot,e,t,n,r,i),!0;case"dragenter":return Ct=Dt(Ct,e,t,n,r,i),!0;case"mouseover":return It=Dt(It,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Dt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Mt.set(a,Dt(Mt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Nt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Zt(e,t,n,r))&&Wr(e,t,r,Kt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Kt=null;function Zt(e,t,n,r){if(Kt=null,null!==(e=_i(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=Jt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Qt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),dn=j({},un,{view:0,detail:0}),fn=an(dn),hn=j({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(hn),gn=an(j({},hn,{dataTransfer:0})),mn=an(j({},dn,{relatedTarget:0})),yn=an(j({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=j({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(_n),vn=an(j({},un,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Tn(){return Sn}var En=j({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=an(En),On=an(j({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(j({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),In=an(j({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=j({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=an(Pn),Ln=[9,13,27,32],Rn=c&&"CompositionEvent"in window,Nn=null;c&&"documentMode"in document&&(Nn=document.documentMode);var Dn=c&&"TextEvent"in window&&!Nn,jn=c&&(!Rn||Nn&&8<Nn&&11>=Nn),Fn=String.fromCharCode(32),Bn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ee(r),0<(t=Gr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,qn=null;function Kn(e){Fr(e,0)}function Zn(e){if(q(vi(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(c){var Jn;if(c){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"===typeof er.oninput}Jn=Qn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),qn=Gn=null)}function nr(e){if("value"===e.propertyName&&Zn(qn)){var t=[];Hn(t,qn,e,we(e)),Pe(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(qn)}function ar(e,t){if("click"===e)return Zn(t)}function or(e,t){if("input"===e||"change"===e)return Zn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,_r=null,br=!1;function vr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==K(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},_r&&lr(_r,r)||(_r=r,0<(r=Gr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Sr={};function Tr(e){if(kr[e])return kr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return kr[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Tr("animationend"),Ar=Tr("animationiteration"),Or=Tr("animationstart"),Cr=Tr("transitionend"),Ir=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){Ir.set(e,t),l(t,[e])}for(var Lr=0;Lr<Pr.length;Lr++){var Rr=Pr[Lr];Mr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Mr(Er,"onAnimationEnd"),Mr(Ar,"onAnimationIteration"),Mr(Or,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Cr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,u){if($e.apply(this,arguments),De){if(!De)throw Error(a(198));var c=je;De=!1,je=null,Fe||(Fe=!0,Be=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;jr(i,s,u),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;jr(i,s,u),a=l}}}if(Fe)throw e=Be,Fe=!1,Be=null,e}function Br(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var $r="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[$r]){e[$r]=!0,o.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$r]||(t[$r]=!0,zr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Xt(t)){case 1:var i=Ht;break;case 4:i=Gt;break;default:i=qt}n=i.bind(null,t,n,e),i=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=_i(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var s=Ir.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=An;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case Er:case Ar:case Or:l=yn;break;case Cr:l=In;break;case"scroll":l=fn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var g=(h=p).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==f&&(null!=(g=Me(p,f))&&c.push(Hr(p,g,h)))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ve||!(u=n.relatedTarget||n.fromElement)||!_i(u)&&!u[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?_i(u):null)&&(u!==(d=Ue(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=On,g="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:vi(l),h=null==u?s:vi(u),(s=new c(g,p+"leave",l,n,i)).target=d,s.relatedTarget=h,g=null,_i(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=h,c.relatedTarget=d,g=c),d=g,l&&u)e:{for(f=u,p=0,h=c=l;h;h=qr(h))p++;for(h=0,g=f;g;g=qr(g))h++;for(;0<p-h;)c=qr(c),p--;for(;0<h-p;)f=qr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=qr(c),f=qr(f)}c=null}else c=null;null!==l&&Kr(o,s,l,c,!1),null!==u&&null!==d&&Kr(o,d,u,c,!0)}if("select"===(l=(s=r?vi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Xn;else if(Wn(s))if(Yn)m=or;else{m=ir;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?vi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,_r=null);break;case"focusout":_r=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,vr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":vr(o,n,i)}var _;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(_=en()):(Jt="value"in(Yt=i)?Yt.value:Yt.textContent,Un=!0)),0<(y=Gr(r,b)).length&&(b=new vn(b,e,null,n,i),o.push({event:b,listeners:y}),_?b.data=_:null!==(_=$n(n))&&(b.data=_))),(_=Dn?function(e,t){switch(e){case"compositionend":return $n(t);case"keypress":return 32!==t.which?null:(Bn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Rn&&zn(e,t)?(e=en(),Qt=Jt=Yt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new vn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=_))}Fr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Me(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Me(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Me(n,a))&&o.unshift(Hr(n,l,s)):i||null!=(l=Me(n,a))&&o.push(Hr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Zr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Zr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Qr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,hi="__reactProps$"+di,pi="__reactContainer$"+di,gi="__reactEvents$"+di,mi="__reactListeners$"+di,yi="__reactHandles$"+di;function _i(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[hi]||null}var xi=[],ki=-1;function Si(e){return{current:e}}function Ti(e){0>ki||(e.current=xi[ki],xi[ki]=null,ki--)}function Ei(e,t){ki++,xi[ki]=e.current,e.current=t}var Ai={},Oi=Si(Ai),Ci=Si(!1),Ii=Ai;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ai;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Li(){Ti(Ci),Ti(Oi)}function Ri(e,t,n){if(Oi.current!==Ai)throw Error(a(168));Ei(Oi,t),Ei(Ci,n)}function Ni(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,V(e)||"Unknown",i));return j({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ai,Ii=Oi.current,Ei(Oi,e),Ei(Ci,Ci.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ni(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ci),Ti(Oi),Ei(Oi,e)):Ti(Ci),Ei(Ci,n)}var Fi=null,Bi=!1,zi=!1;function $i(e){null===Fi?Fi=[e]:Fi.push(e)}function Ui(){if(!zi&&null!==Fi){zi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Bi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),qe(Qe,Ui),i}finally{bt=t,zi=!1}}return null}var Vi=[],Wi=0,Hi=null,Gi=0,qi=[],Ki=0,Zi=null,Xi=1,Yi="";function Ji(e,t){Vi[Wi++]=Gi,Vi[Wi++]=Hi,Hi=e,Gi=t}function Qi(e,t,n){qi[Ki++]=Xi,qi[Ki++]=Yi,qi[Ki++]=Zi,Zi=e;var r=Xi;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else Xi=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Ji(e,1),Qi(e,1,0))}function ta(e){for(;e===Hi;)Hi=Vi[--Wi],Vi[Wi]=null,Gi=Vi[--Wi],Vi[Wi]=null;for(;e===Zi;)Zi=qi[--Ki],qi[Ki]=null,Yi=qi[--Ki],qi[Ki]=null,Xi=qi[--Ki],qi[Ki]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Mu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Zi?{id:Xi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=ui(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=ui(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ui(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=ui(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var ga=v.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),_a=null,ba=null,va=null;function wa(){va=ba=_a=null}function xa(e){var t=ya.current;Ti(ya),e._currentValue=t}function ka(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){_a=e,va=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vs=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(va!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===_a)throw Error(a(308));ba=e,_a.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ea=null;function Aa(e){null===Ea?Ea=[e]:Ea.push(e)}function Oa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Aa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ca(e,r)}function Ca(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ia=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ma(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function La(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ca(e,n)}return null===(i=r.interleaved)?(t.next=t,Aa(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ca(e,n)}function Na(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_t(e,n)}}function Da(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Ia=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,c=u=l=null,s=a;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(f=t,h=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=g.payload)?p.call(h,d,f):p)||void 0===f)break e;d=j({},d,f);break e;case 2:Ia=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);jl|=o,e.lanes=o,e.memoizedState=d}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ba=(new r.Component).refs;function za(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var $a={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),a=La(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(ru(t,e,i,r),Na(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),a=La(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(ru(t,e,i,r),Na(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),r=nu(e),i=La(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(ru(t,e,r,n),Na(t,e,r))}};function Ua(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function Va(e,t,n){var r=!1,i=Ai,a=t.contextType;return"object"===typeof a&&null!==a?a=Ta(a):(i=Mi(t)?Ii:Oi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ai),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=$a,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&$a.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ba,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ta(a):(a=Mi(t)?Ii:Oi.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(za(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&$a.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ba&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ka(e){return(0,e._init)(e._payload)}function Za(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ru(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===M&&Ka(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Nu(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Du(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Nu(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case x:return(t=Bu(t,e.mode,n)).return=e,t;case M:return f(e,(0,t._init)(t._payload),n)}if(te(t)||N(t))return(t=Du(t,e.mode,n,null)).return=e,t;qa(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?u(e,t,n,r):null;case x:return n.key===i?c(e,t,n,r):null;case M:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||N(n))return null!==i?null:d(e,t,n,r,null);qa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case M:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||N(r))return d(t,e=e.get(n)||null,r,i,null);qa(t,r)}return null}function g(i,a,s,l){for(var u=null,c=null,d=a,g=a=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var y=h(i,d,s[g],l);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(i,d),a=o(y,a,g),null===c?u=y:c.sibling=y,c=y,d=m}if(g===s.length)return n(i,d),ia&&Ji(i,g),u;if(null===d){for(;g<s.length;g++)null!==(d=f(i,s[g],l))&&(a=o(d,a,g),null===c?u=d:c.sibling=d,c=d);return ia&&Ji(i,g),u}for(d=r(i,d);g<s.length;g++)null!==(m=p(d,i,g,s[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),a=o(m,a,g),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(i,e)})),ia&&Ji(i,g),u}function m(i,s,l,u){var c=N(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var d=c=null,g=s,m=s=0,y=null,_=l.next();null!==g&&!_.done;m++,_=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=h(i,g,_.value,u);if(null===b){null===g&&(g=y);break}e&&g&&null===b.alternate&&t(i,g),s=o(b,s,m),null===d?c=b:d.sibling=b,d=b,g=y}if(_.done)return n(i,g),ia&&Ji(i,m),c;if(null===g){for(;!_.done;m++,_=l.next())null!==(_=f(i,_.value,u))&&(s=o(_,s,m),null===d?c=_:d.sibling=_,d=_);return ia&&Ji(i,m),c}for(g=r(i,g);!_.done;m++,_=l.next())null!==(_=p(g,i,m,_.value,u))&&(e&&null!==_.alternate&&g.delete(null===_.key?m:_.key),s=o(_,s,m),null===d?c=_:d.sibling=_,d=_);return e&&g.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),c}return function e(r,a,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var u=o.key,c=a;null!==c;){if(c.key===u){if((u=o.type)===k){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===M&&Ka(u)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ga(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===k?((a=Du(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=Nu(o.type,o.key,o.props,null,r.mode,l)).ref=Ga(r,a,o),l.return=r,r=l)}return s(r);case x:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Bu(o,r.mode,l)).return=r,r=a}return s(r);case M:return e(r,a,(c=o._init)(o._payload),l)}if(te(o))return g(r,a,o,l);if(N(o))return m(r,a,o,l);qa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fu(o,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var Xa=Za(!0),Ya=Za(!1),Ja={},Qa=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Qa,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Qa),Ei(Qa,t)}function io(){Ti(Qa),Ti(eo),Ti(to)}function ao(e){no(to.current);var t=no(Qa.current),n=le(t,e.type);t!==n&&(Ei(eo,e),Ei(Qa,n))}function oo(e){eo.current===e&&(Ti(Qa),Ti(eo))}var so=Si(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uo=[];function co(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var fo=v.ReactCurrentDispatcher,ho=v.ReactCurrentBatchConfig,po=0,go=null,mo=null,yo=null,_o=!1,bo=!1,vo=0,wo=0;function xo(){throw Error(a(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,go=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:ls,e=n(r,i),bo){o=0;do{if(bo=!1,vo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=us,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=go=null,_o=!1,t)throw Error(a(300));return e}function To(){var e=0!==vo;return vo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?go.memoizedState=yo=e:yo=yo.next=e,yo}function Ao(){if(null===mo){var e=go.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?go.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?go.memoizedState=yo=e:yo=yo.next=e}return yo}function Oo(e,t){return"function"===typeof t?t(e):t}function Co(e){var t=Ao(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,u=null,c=o;do{var d=c.lane;if((po&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=r):u=u.next=f,go.lanes|=d,jl|=d}c=c.next}while(null!==c&&c!==o);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(vs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,go.lanes|=o,jl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Io(e){var t=Ao(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(vs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Mo(e,t){var n=go,r=Ao(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,vs=!0),r=r.queue,Wo(No.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Bo(9,Ro.bind(null,n,r,i,t),void 0,null),null===Il)throw Error(a(349));0!==(30&po)||Lo(n,t,i)}return i}function Lo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=go.updateQueue)?(t={lastEffect:null,stores:null},go.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Do(t)&&jo(e)}function No(e,t,n){return n((function(){Do(t)&&jo(e)}))}function Do(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function jo(e){var t=Ca(e,1);null!==t&&ru(t,e,1,-1)}function Fo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,go,e),[t.memoizedState,e]}function Bo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=go.updateQueue)?(t={lastEffect:null,stores:null},go.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zo(){return Ao().memoizedState}function $o(e,t,n,r){var i=Eo();go.flags|=e,i.memoizedState=Bo(1|t,n,void 0,void 0===r?null:r)}function Uo(e,t,n,r){var i=Ao();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&ko(r,o.deps))return void(i.memoizedState=Bo(t,n,a,r))}go.flags|=e,i.memoizedState=Bo(1|t,n,a,r)}function Vo(e,t){return $o(8390656,8,e,t)}function Wo(e,t){return Uo(2048,8,e,t)}function Ho(e,t){return Uo(4,2,e,t)}function Go(e,t){return Uo(4,4,e,t)}function qo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ko(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4,4,qo.bind(null,t,e),n)}function Zo(){}function Xo(e,t){var n=Ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=Ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,vs=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),go.lanes|=n,jl|=n,e.baseState=!0),t)}function Qo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function es(){return Ao().memoizedState}function ts(e,t,n){var r=nu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Oa(e,t,n,r))){ru(n,e,r,tu()),as(n,t,r)}}function ns(e,t,n){var r=nu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(i.next=i,Aa(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Oa(e,t,i,r))&&(ru(n,e,r,i=tu()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===go||null!==t&&t===go}function is(e,t){bo=_o=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_t(e,n)}}var os={readContext:Ta,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Ta,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:Vo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,$o(4194308,4,qo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $o(4194308,4,e,t)},useInsertionEffect:function(e,t){return $o(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,go,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Fo,useDebugValue:Zo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Qo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=go,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Il)throw Error(a(349));0!==(30&po)||Lo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Vo(No.bind(null,r,o,e),[e]),r.flags|=2048,Bo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Il.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=vo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Ta,useCallback:Xo,useContext:Ta,useEffect:Wo,useImperativeHandle:Ko,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:Yo,useReducer:Co,useRef:zo,useState:function(){return Co(Oo)},useDebugValue:Zo,useDeferredValue:function(e){return Jo(Ao(),mo.memoizedState,e)},useTransition:function(){return[Co(Oo)[0],Ao().memoizedState]},useMutableSource:Po,useSyncExternalStore:Mo,useId:es,unstable_isNewReconciler:!1},us={readContext:Ta,useCallback:Xo,useContext:Ta,useEffect:Wo,useImperativeHandle:Ko,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:Yo,useReducer:Io,useRef:zo,useState:function(){return Io(Oo)},useDebugValue:Zo,useDeferredValue:function(e){var t=Ao();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Io(Oo)[0],Ao().memoizedState]},useMutableSource:Po,useSyncExternalStore:Mo,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=$(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=La(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Gl=r),fs(0,t)},n}function gs(e,t,n){(n=La(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Eu.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function _s(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=La(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=v.ReactCurrentOwner,vs=!1;function ws(e,t,n,r){t.child=null===e?Ya(t,null,n,r):Xa(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=To(),null===e||vs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function ks(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Lu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Ru(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(vs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(vs=!0)}}return As(e,t,n,r,i)}function Ts(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Rl,Ll),Ll|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Rl,Ll),Ll|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Rl,Ll),Ll|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Rl,Ll),Ll|=r;return ws(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function As(e,t,n,r,i){var a=Mi(n)?Ii:Oi.current;return a=Pi(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=To(),null===e||vs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Os(e,t,n,r,i){if(Mi(n)){var a=!0;Di(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Ws(e,t),Va(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ta(u):u=Pi(t,u=Mi(n)?Ii:Oi.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&Wa(t,o,r,u),Ia=!1;var f=t.memoizedState;o.state=f,ja(t,r,o,i),l=t.memoizedState,s!==r||f!==l||Ci.current||Ia?("function"===typeof c&&(za(t,n,c,r),l=t.memoizedState),(s=Ia||Ua(t,n,s,r,f,l,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ma(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ma(t.type,s),o.props=u,d=t.pendingProps,f=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ta(l):l=Pi(t,l=Mi(n)?Ii:Oi.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==l)&&Wa(t,o,r,l),Ia=!1,f=t.memoizedState,o.state=f,ja(t,r,o,i);var p=t.memoizedState;s!==d||f!==p||Ci.current||Ia?("function"===typeof h&&(za(t,n,h,r),p=t.memoizedState),(u=Ia||Ua(t,n,u,r,f,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,a,i)}function Cs(e,t,n,r,i,a){Es(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Hs(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Is(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Ps(e,t,n,r,i){return ha(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Ms,Ls,Rs,Ns,Ds={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(so,1&o),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=ju(l,i,0,null),e=Du(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Ds,e):Bs(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,zs(e,t,s,r=ds(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=ju({mode:"visible",children:r.children},i,0,null),(o=Du(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=Ds,o);if(0===(1&t.mode))return zs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,zs(e,t,s,r=ds(o=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),vs||l){if(null!==(r=Il)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ca(e,i),ru(r,e,i,-1))}return mu(),zs(e,t,s,r=ds(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ou.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ui(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(qi[Ki++]=Xi,qi[Ki++]=Yi,qi[Ki++]=Zi,Xi=e.id,Yi=e.overflow,Zi=t),t=Bs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Ru(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Ru(r,s):(s=Du(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?js(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,i}return e=(s=e.child).sibling,i=Ru(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Bs(e,t){return(t=ju({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function $s(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ka(e.return,t,n)}function Us(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$s(e,n,t);else if(19===e.tag)$s(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Us(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Us(t,!0,n,null,a);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ru(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ru(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return Mi(t.type)&&Li(),qs(t),null;case 3:return r=t.stateNode,io(),Ti(Ci),Ti(Oi),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(su(aa),aa=null))),Ls(e,t),qs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return qs(t),null}if(e=no(Qa.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Nr.length;i++)Br(Nr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":X(r,o),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Br("invalid",r);break;case"textarea":ie(r,o),Br("invalid",r)}for(var l in _e(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":G(r),Q(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Qr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fi]=t,e[hi]=r,Ms(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Nr.length;i++)Br(Nr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":X(e,r),i=Z(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(o in _e(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Br("scroll",e):null!=c&&b(e,o,c,l))}switch(n){case"input":G(e),Q(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)Ns(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Qa.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return qs(t),null;case 13:if(Ti(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),ha(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),o=!1}else null!==aa&&(su(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Nl&&(Nl=3):mu())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return io(),Ls(e,t),null===e&&Ur(t.stateNode.containerInfo),qs(t),null;case 10:return xa(t.type._context),qs(t),null;case 19:if(Ti(so),null===(o=t.memoizedState))return qs(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Gs(o,!1);else{if(0!==Nl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Gs(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Vl&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ia)return qs(t),null}else 2*Ye()-o.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=so.current,Ei(so,r?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return fu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ll)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Zs(e,t){switch(ta(t),t.tag){case 1:return Mi(t.type)&&Li(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ti(Ci),Ti(Oi),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ti(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fu(),null;default:return null}}Ms=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ls=function(){},Rs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Qa.current);var a,o=null;switch(n){case"input":i=Z(e,i),r=Z(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Qr)}for(c in _e(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Br("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ns=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Ys=!1,Js="function"===typeof WeakSet?WeakSet:Set,Qs=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tu(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Tu(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tl(t,n,a)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[gi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,fl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||el(n,t);case 6:var r=dl,i=fl;dl=null,hl(e,t,n),fl=i,null!==(dl=r)&&(fl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(fl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ut(e)):li(dl,n.stateNode));break;case 4:r=dl,i=fl,dl=n.stateNode.containerInfo,fl=!0,hl(e,t,n),dl=r,fl=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tl(n,t,o),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Ys&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Tu(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,hl(e,t,n),Ys=r):hl(e,t,n);break;default:hl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Cu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,fl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===dl)throw Error(a(160));pl(o,s,i),dl=null,fl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Tu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),_l(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(m){Tu(e,e.return,m)}try{rl(5,e,e.return)}catch(m){Tu(e,e.return,m)}}break;case 1:ml(t,e),_l(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(ml(t,e),_l(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){Tu(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&Y(i,o),be(l,s);var c=be(l,o);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];"style"===d?me(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):b(i,d,f,c)}switch(l){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Tu(e,e.return,m)}}break;case 6:if(ml(t,e),_l(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Tu(e,e.return,m)}}break;case 3:if(ml(t,e),_l(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(m){Tu(e,e.return,m)}break;case 4:default:ml(t,e),_l(e);break;case 13:ml(t,e),_l(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Ul=Ye())),4&r&&gl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(c=Ys)||d,ml(t,e),Ys=c):ml(t,e),_l(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Qs=e,d=e.child;null!==d;){for(f=Qs=d;null!==Qs;){switch(p=(h=Qs).child,h.tag){case 0:case 11:case 14:case 15:rl(4,h,h.return);break;case 1:el(h,h.return);var g=h.stateNode;if("function"===typeof g.componentWillUnmount){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Tu(r,n,m)}}break;case 5:el(h,h.return);break;case 22:if(null!==h.memoizedState){xl(f);continue}}null!==p?(p.return=h,Qs=p):xl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=f.stateNode,s=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ge("display",s))}catch(m){Tu(e,e.return,m)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Tu(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ml(t,e),_l(e),4&r&&gl(e);case 21:}}function _l(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),cl(e,ll(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ul(e,ll(e),o);break;default:throw Error(a(161))}}catch(s){Tu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Qs=e,vl(e,t,n)}function vl(e,t,n){for(var r=0!==(1&e.mode);null!==Qs;){var i=Qs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xs;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ys;s=Xs;var u=Ys;if(Xs=o,(Ys=l)&&!u)for(Qs=i;null!==Qs;)l=(o=Qs).child,22===o.tag&&null!==o.memoizedState?kl(i):null!==l?(l.return=o,Qs=l):kl(i);for(;null!==a;)Qs=a,vl(a,t,n),a=a.sibling;Qs=i,Xs=s,Ys=u}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Qs=a):wl(e)}}function wl(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ut(f)}}}break;default:throw Error(a(163))}Ys||512&t.flags&&al(t)}catch(h){Tu(t,t.return,h)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function xl(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function kl(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Tu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Tu(t,i,l)}}var a=t.return;try{al(t)}catch(l){Tu(t,a,l)}break;case 5:var o=t.return;try{al(t)}catch(l){Tu(t,o,l)}}}catch(l){Tu(t,t.return,l)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var Sl,Tl=Math.ceil,El=v.ReactCurrentDispatcher,Al=v.ReactCurrentOwner,Ol=v.ReactCurrentBatchConfig,Cl=0,Il=null,Pl=null,Ml=0,Ll=0,Rl=Si(0),Nl=0,Dl=null,jl=0,Fl=0,Bl=0,zl=null,$l=null,Ul=0,Vl=1/0,Wl=null,Hl=!1,Gl=null,ql=null,Kl=!1,Zl=null,Xl=0,Yl=0,Jl=null,Ql=-1,eu=0;function tu(){return 0!==(6&Cl)?Ye():-1!==Ql?Ql:Ql=Ye()}function nu(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Ml?Ml&-Ml:null!==ga.transition?(0===eu&&(eu=gt()),eu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function ru(e,t,n,r){if(50<Yl)throw Yl=0,Jl=null,Error(a(185));yt(e,n,r),0!==(2&Cl)&&e===Il||(e===Il&&(0===(2&Cl)&&(Fl|=n),4===Nl&&lu(e,Ml)),iu(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(Vl=Ye()+500,Bi&&Ui()))}function iu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=ht(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Il?Ml:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Bi=!0,$i(e)}(uu.bind(null,e)):$i(uu.bind(null,e)),oi((function(){0===(6&Cl)&&Ui()})),n=null;else{switch(vt(r)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Iu(n,au.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function au(e,t){if(Ql=-1,eu=0,0!==(6&Cl))throw Error(a(327));var n=e.callbackNode;if(ku()&&e.callbackNode!==n)return null;var r=ft(e,e===Il?Ml:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yu(e,r);else{t=r;var i=Cl;Cl|=2;var o=gu();for(Il===e&&Ml===t||(Wl=null,Vl=Ye()+500,hu(e,t));;)try{bu();break}catch(l){pu(e,l)}wa(),El.current=o,Cl=i,null!==Pl?t=0:(Il=null,Ml=0,t=Nl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ou(e,i))),1===t)throw n=Dl,hu(e,0),lu(e,r),iu(e,Ye()),n;if(6===t)lu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yu(e,r))&&(0!==(o=pt(e))&&(r=o,t=ou(e,o))),1===t))throw n=Dl,hu(e,0),lu(e,r),iu(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xu(e,$l,Wl);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=Ul+500-Ye())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xu.bind(null,e,$l,Wl),t);break}xu(e,$l,Wl);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tl(r/1960))-r)){e.timeoutHandle=ri(xu.bind(null,e,$l,Wl),r);break}xu(e,$l,Wl);break;default:throw Error(a(329))}}}return iu(e,Ye()),e.callbackNode===n?au.bind(null,e):null}function ou(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=yu(e,t))&&(t=$l,$l=n,null!==t&&su(t)),e}function su(e){null===$l?$l=e:$l.push.apply($l,e)}function lu(e,t){for(t&=~Bl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uu(e){if(0!==(6&Cl))throw Error(a(327));ku();var t=ft(e,0);if(0===(1&t))return iu(e,Ye()),null;var n=yu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Dl,hu(e,0),lu(e,t),iu(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,$l,Wl),iu(e,Ye()),null}function cu(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Vl=Ye()+500,Bi&&Ui())}}function du(e){null!==Zl&&0===Zl.tag&&0===(6&Cl)&&ku();var t=Cl;Cl|=1;var n=Ol.transition,r=bt;try{if(Ol.transition=null,bt=1,e)return e()}finally{bt=r,Ol.transition=n,0===(6&(Cl=t))&&Ui()}}function fu(){Ll=Rl.current,Ti(Rl)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Li();break;case 3:io(),Ti(Ci),Ti(Oi),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ti(so);break;case 10:xa(r.type._context);break;case 22:case 23:fu()}n=n.return}if(Il=e,Pl=e=Ru(e.current,null),Ml=Ll=t,Nl=0,Dl=null,Bl=Fl=jl=0,$l=zl=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function pu(e,t){for(;;){var n=Pl;try{if(wa(),fo.current=os,_o){for(var r=go.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}_o=!1}if(po=0,yo=mo=go=null,bo=!1,vo=0,Al.current=null,null===n||null===n.return){Nl=1,Dl=t,Pl=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=Ml,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,_s(p,s,l,0,t),1&p.mode&&ms(o,c,t),u=c;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(u),t.updateQueue=m}else g.add(u);break e}if(0===(1&t)){ms(o,c,t),mu();break e}u=Error(a(426))}else if(ia&&1&l.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),_s(y,s,l,0,t),pa(cs(u,l));break e}}o=u=cs(u,l),4!==Nl&&(Nl=2),null===zl?zl=[o]:zl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Da(o,ps(0,u,t));break e;case 1:l=u;var _=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof _.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Da(o,gs(o,l,t));break e}}o=o.return}while(null!==o)}wu(n)}catch(v){t=v,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function gu(){var e=El.current;return El.current=os,null===e?os:e}function mu(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Il||0===(268435455&jl)&&0===(268435455&Fl)||lu(Il,Ml)}function yu(e,t){var n=Cl;Cl|=2;var r=gu();for(Il===e&&Ml===t||(Wl=null,hu(e,t));;)try{_u();break}catch(i){pu(e,i)}if(wa(),Cl=n,El.current=r,null!==Pl)throw Error(a(261));return Il=null,Ml=0,Nl}function _u(){for(;null!==Pl;)vu(Pl)}function bu(){for(;null!==Pl&&!Ze();)vu(Pl)}function vu(e){var t=Sl(e.alternate,e,Ll);e.memoizedProps=e.pendingProps,null===t?wu(e):Pl=t,Al.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Ll)))return void(Pl=n)}else{if(null!==(n=Zs(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Nl=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Nl&&(Nl=5)}function xu(e,t,n){var r=bt,i=Ol.transition;try{Ol.transition=null,bt=1,function(e,t,n,r){do{ku()}while(null!==Zl);if(0!==(6&Cl))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Il&&(Pl=Il=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Iu(tt,(function(){return ku(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ol.transition,Ol.transition=null;var s=bt;bt=1;var l=Cl;Cl|=4,Al.current=null,function(e,t){if(ei=Wt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(l=s+i),f!==o||0!==r&&3!==f.nodeType||(u=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===i&&(l=s),h===o&&++d===r&&(u=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,_=t.stateNode,b=_.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(a(163))}}catch(w){Tu(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}g=nl,nl=!1}(e,n),yl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Xe(),Cl=l,bt=s,Ol.transition=o}else e.current=n;if(Kl&&(Kl=!1,Zl=e,Xl=i),o=e.pendingLanes,0===o&&(ql=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),iu(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Gl,Gl=null,e;0!==(1&Xl)&&0!==e.tag&&ku(),o=e.pendingLanes,0!==(1&o)?e===Jl?Yl++:(Yl=0,Jl=e):Yl=0,Ui()}(e,t,n,r)}finally{Ol.transition=i,bt=r}return null}function ku(){if(null!==Zl){var e=vt(Xl),t=Ol.transition,n=bt;try{if(Ol.transition=null,bt=16>e?16:e,null===Zl)var r=!1;else{if(e=Zl,Zl=null,Xl=0,0!==(6&Cl))throw Error(a(331));var i=Cl;for(Cl|=4,Qs=e.current;null!==Qs;){var o=Qs,s=o.child;if(0!==(16&Qs.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Qs=c;null!==Qs;){var d=Qs;switch(d.tag){case 0:case 11:case 15:rl(8,d,o)}var f=d.child;if(null!==f)f.return=d,Qs=f;else for(;null!==Qs;){var h=(d=Qs).sibling,p=d.return;if(ol(d),d===c){Qs=null;break}if(null!==h){h.return=p,Qs=h;break}Qs=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Qs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(o=Qs).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var _=o.sibling;if(null!==_){_.return=o.return,Qs=_;break e}Qs=o.return}}var b=e.current;for(Qs=b;null!==Qs;){var v=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==v)v.return=s,Qs=v;else e:for(s=b;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(x){Tu(l,l.return,x)}if(l===s){Qs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Qs=w;break e}Qs=l.return}}if(Cl=i,Ui(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Ol.transition=t}}return!1}function Su(e,t,n){e=Ra(e,t=ps(0,t=cs(n,t),1),1),t=tu(),null!==e&&(yt(e,1,t),iu(e,t))}function Tu(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Ra(t,e=gs(t,e=cs(n,e),1),1),e=tu(),null!==t&&(yt(t,1,e),iu(t,e));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Ml&n)===n&&(4===Nl||3===Nl&&(130023424&Ml)===Ml&&500>Ye()-Ul?hu(e,0):Bl|=n),iu(e,t)}function Au(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tu();null!==(e=Ca(e,t))&&(yt(e,t,n),iu(e,n))}function Ou(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Au(e,n)}function Cu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Au(e,n)}function Iu(e,t){return qe(e,t)}function Pu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mu(e,t,n,r){return new Pu(e,t,n,r)}function Lu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ru(e,t){var n=e.alternate;return null===n?((n=Mu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Lu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Du(n.children,i,o,t);case S:s=8,i|=8;break;case T:return(e=Mu(12,n,t,2|i)).elementType=T,e.lanes=o,e;case C:return(e=Mu(13,n,t,i)).elementType=C,e.lanes=o,e;case I:return(e=Mu(19,n,t,i)).elementType=I,e.lanes=o,e;case L:return ju(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case A:s=9;break e;case O:s=11;break e;case P:s=14;break e;case M:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Mu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Du(e,t,n,r){return(e=Mu(7,e,r,t)).lanes=n,e}function ju(e,t,n,r){return(e=Mu(22,e,r,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function Fu(e,t,n){return(e=Mu(6,e,null,t)).lanes=n,e}function Bu(e,t,n){return(t=Mu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $u(e,t,n,r,i,a,o,s,l){return e=new zu(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Mu(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function Uu(e){if(!e)return Ai;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Mi(n))return Ni(e,n,t)}return t}function Vu(e,t,n,r,i,a,o,s,l){return(e=$u(n,r,!0,e,0,a,0,s,l)).context=Uu(null),n=e.current,(a=La(r=tu(),i=nu(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,yt(e,i,r),iu(e,r),e}function Wu(e,t,n,r){var i=t.current,a=tu(),o=nu(i);return n=Uu(n),null===t.context?t.context=n:t.pendingContext=n,(t=La(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(ru(e,i,o,a),Na(e,i,o)),o}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qu(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)vs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return vs=!1,function(e,t,n){switch(t.tag){case 3:Is(t),ha();break;case 5:ao(t);break;case 1:Mi(t.type)&&Di(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ei(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ei(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return Hs(e,t,n)}(e,t,n);vs=0!==(131072&e.flags)}else vs=!1,ia&&0!==(1048576&t.flags)&&Qi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Pi(t,Oi.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=To();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mi(r)?(o=!0,Di(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=$a,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Cs(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Lu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===P)return 14}return 2}(r),e=ma(r,e),i){case 0:t=As(null,t,r,e,n);break e;case 1:t=Os(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=ks(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Os(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Is(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ma(e,t),ja(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=ui(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ua(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Es(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ei(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ci.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=La(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),ka(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ka(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ta(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),ks(e,t,r,i=ma(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ws(e,t),t.tag=1,Mi(r)?(e=!0,Di(t)):e=!1,Sa(t,n),Va(t,r,i),Ha(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return Ts(e,t,n)}throw Error(a(156,t.tag))};var Ku="function"===typeof reportError?reportError:function(e){console.error(e)};function Zu(e){this._internalRoot=e}function Xu(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qu(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hu(o);s.call(e)}}Wu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hu(o);a.call(e)}}var o=Vu(t,r,e,0,null,!1,0,"",Qu);return e._reactRootContainer=o,e[pi]=o.current,Ur(8===e.nodeType?e.parentNode:e),du(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hu(l);s.call(e)}}var l=$u(e,0,!1,null,0,!1,0,"",Qu);return e._reactRootContainer=l,e[pi]=l.current,Ur(8===e.nodeType?e.parentNode:e),du((function(){Wu(t,l,n,r)})),l}(n,t,e,i,r);return Hu(o)}Xu.prototype.render=Zu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wu(e,t,null,null)},Xu.prototype.unmount=Zu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;du((function(){Wu(null,e,null,null)})),t[pi]=null}},Xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(_t(t,1|n),iu(t,Ye()),0===(6&Cl)&&(Vl=Ye()+500,Ui()))}break;case 13:du((function(){var t=Ca(e,1);if(null!==t){var n=tu();ru(t,e,1,n)}})),qu(e,1)}},xt=function(e){if(13===e.tag){var t=Ca(e,134217728);if(null!==t)ru(t,e,134217728,tu());qu(e,134217728)}},kt=function(e){if(13===e.tag){var t=nu(e),n=Ca(e,t);if(null!==n)ru(n,e,t,tu());qu(e,t)}},St=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));q(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Oe=cu,Ce=du;var tc={usingClientEntryPoint:!1,Events:[bi,vi,wi,Ee,Ae,cu]},nc={findFiberByHostInstance:_i,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yu(e))throw Error(a(299));var n=!1,r="",i=Ku;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=$u(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Zu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return du(e)},t.hydrate=function(e,t,n){if(!Ju(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Ku;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vu(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xu(t)},t.render=function(e,t,n){if(!Ju(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(a(40));return!!e._reactRootContainer&&(du((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ju(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},4657:(e,t,n)=>{"use strict";var r=n(3672);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},3672:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6024)},3259:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FiActivity:()=>d,FiAirplay:()=>f,FiAlertCircle:()=>h,FiAlertOctagon:()=>p,FiAlertTriangle:()=>g,FiAlignCenter:()=>m,FiAlignJustify:()=>y,FiAlignLeft:()=>_,FiAlignRight:()=>b,FiAnchor:()=>v,FiAperture:()=>w,FiArchive:()=>x,FiArrowDown:()=>E,FiArrowDownCircle:()=>k,FiArrowDownLeft:()=>S,FiArrowDownRight:()=>T,FiArrowLeft:()=>O,FiArrowLeftCircle:()=>A,FiArrowRight:()=>I,FiArrowRightCircle:()=>C,FiArrowUp:()=>R,FiArrowUpCircle:()=>P,FiArrowUpLeft:()=>M,FiArrowUpRight:()=>L,FiAtSign:()=>N,FiAward:()=>D,FiBarChart:()=>F,FiBarChart2:()=>j,FiBattery:()=>z,FiBatteryCharging:()=>B,FiBell:()=>U,FiBellOff:()=>$,FiBluetooth:()=>V,FiBold:()=>W,FiBook:()=>G,FiBookOpen:()=>H,FiBookmark:()=>q,FiBox:()=>K,FiBriefcase:()=>Z,FiCalendar:()=>X,FiCamera:()=>J,FiCameraOff:()=>Y,FiCast:()=>Q,FiCheck:()=>ne,FiCheckCircle:()=>ee,FiCheckSquare:()=>te,FiChevronDown:()=>re,FiChevronLeft:()=>ie,FiChevronRight:()=>ae,FiChevronUp:()=>oe,FiChevronsDown:()=>se,FiChevronsLeft:()=>le,FiChevronsRight:()=>ue,FiChevronsUp:()=>ce,FiChrome:()=>de,FiCircle:()=>fe,FiClipboard:()=>he,FiClock:()=>pe,FiCloud:()=>ve,FiCloudDrizzle:()=>ge,FiCloudLightning:()=>me,FiCloudOff:()=>ye,FiCloudRain:()=>_e,FiCloudSnow:()=>be,FiCode:()=>we,FiCodepen:()=>xe,FiCodesandbox:()=>ke,FiCoffee:()=>Se,FiColumns:()=>Te,FiCommand:()=>Ee,FiCompass:()=>Ae,FiCopy:()=>Oe,FiCornerDownLeft:()=>Ce,FiCornerDownRight:()=>Ie,FiCornerLeftDown:()=>Pe,FiCornerLeftUp:()=>Me,FiCornerRightDown:()=>Le,FiCornerRightUp:()=>Re,FiCornerUpLeft:()=>Ne,FiCornerUpRight:()=>De,FiCpu:()=>je,FiCreditCard:()=>Fe,FiCrop:()=>Be,FiCrosshair:()=>ze,FiDatabase:()=>$e,FiDelete:()=>Ue,FiDisc:()=>Ve,FiDollarSign:()=>We,FiDownload:()=>Ge,FiDownloadCloud:()=>He,FiDroplet:()=>qe,FiEdit:()=>Xe,FiEdit2:()=>Ke,FiEdit3:()=>Ze,FiExternalLink:()=>Ye,FiEye:()=>Qe,FiEyeOff:()=>Je,FiFacebook:()=>et,FiFastForward:()=>tt,FiFeather:()=>nt,FiFigma:()=>rt,FiFile:()=>st,FiFileMinus:()=>it,FiFilePlus:()=>at,FiFileText:()=>ot,FiFilm:()=>lt,FiFilter:()=>ut,FiFlag:()=>ct,FiFolder:()=>ht,FiFolderMinus:()=>dt,FiFolderPlus:()=>ft,FiFrown:()=>pt,FiGift:()=>gt,FiGitBranch:()=>mt,FiGitCommit:()=>yt,FiGitMerge:()=>_t,FiGitPullRequest:()=>bt,FiGithub:()=>vt,FiGitlab:()=>wt,FiGlobe:()=>xt,FiGrid:()=>kt,FiHardDrive:()=>St,FiHash:()=>Tt,FiHeadphones:()=>Et,FiHeart:()=>At,FiHelpCircle:()=>Ot,FiHexagon:()=>Ct,FiHome:()=>It,FiImage:()=>Pt,FiInbox:()=>Mt,FiInfo:()=>Lt,FiInstagram:()=>Rt,FiItalic:()=>Nt,FiKey:()=>Dt,FiLayers:()=>jt,FiLayout:()=>Ft,FiLifeBuoy:()=>Bt,FiLink:()=>$t,FiLink2:()=>zt,FiLinkedin:()=>Ut,FiList:()=>Vt,FiLoader:()=>Wt,FiLock:()=>Ht,FiLogIn:()=>Gt,FiLogOut:()=>qt,FiMail:()=>Kt,FiMap:()=>Xt,FiMapPin:()=>Zt,FiMaximize:()=>Jt,FiMaximize2:()=>Yt,FiMeh:()=>Qt,FiMenu:()=>en,FiMessageCircle:()=>tn,FiMessageSquare:()=>nn,FiMic:()=>an,FiMicOff:()=>rn,FiMinimize:()=>sn,FiMinimize2:()=>on,FiMinus:()=>cn,FiMinusCircle:()=>ln,FiMinusSquare:()=>un,FiMonitor:()=>dn,FiMoon:()=>fn,FiMoreHorizontal:()=>hn,FiMoreVertical:()=>pn,FiMousePointer:()=>gn,FiMove:()=>mn,FiMusic:()=>yn,FiNavigation:()=>bn,FiNavigation2:()=>_n,FiOctagon:()=>vn,FiPackage:()=>wn,FiPaperclip:()=>xn,FiPause:()=>Sn,FiPauseCircle:()=>kn,FiPenTool:()=>Tn,FiPercent:()=>En,FiPhone:()=>Ln,FiPhoneCall:()=>An,FiPhoneForwarded:()=>On,FiPhoneIncoming:()=>Cn,FiPhoneMissed:()=>In,FiPhoneOff:()=>Pn,FiPhoneOutgoing:()=>Mn,FiPieChart:()=>Rn,FiPlay:()=>Dn,FiPlayCircle:()=>Nn,FiPlus:()=>Bn,FiPlusCircle:()=>jn,FiPlusSquare:()=>Fn,FiPocket:()=>zn,FiPower:()=>$n,FiPrinter:()=>Un,FiRadio:()=>Vn,FiRefreshCcw:()=>Wn,FiRefreshCw:()=>Hn,FiRepeat:()=>Gn,FiRewind:()=>qn,FiRotateCcw:()=>Kn,FiRotateCw:()=>Zn,FiRss:()=>Xn,FiSave:()=>Yn,FiScissors:()=>Jn,FiSearch:()=>Qn,FiSend:()=>er,FiServer:()=>tr,FiSettings:()=>nr,FiShare:()=>ir,FiShare2:()=>rr,FiShield:()=>or,FiShieldOff:()=>ar,FiShoppingBag:()=>sr,FiShoppingCart:()=>lr,FiShuffle:()=>ur,FiSidebar:()=>cr,FiSkipBack:()=>dr,FiSkipForward:()=>fr,FiSlack:()=>hr,FiSlash:()=>pr,FiSliders:()=>gr,FiSmartphone:()=>mr,FiSmile:()=>yr,FiSpeaker:()=>_r,FiSquare:()=>br,FiStar:()=>vr,FiStopCircle:()=>wr,FiSun:()=>xr,FiSunrise:()=>kr,FiSunset:()=>Sr,FiTablet:()=>Tr,FiTag:()=>Er,FiTarget:()=>Ar,FiTerminal:()=>Or,FiThermometer:()=>Cr,FiThumbsDown:()=>Ir,FiThumbsUp:()=>Pr,FiToggleLeft:()=>Mr,FiToggleRight:()=>Lr,FiTrash:()=>Nr,FiTrash2:()=>Rr,FiTrello:()=>Dr,FiTrendingDown:()=>jr,FiTrendingUp:()=>Fr,FiTriangle:()=>Br,FiTruck:()=>zr,FiTv:()=>$r,FiTwitter:()=>Ur,FiType:()=>Vr,FiUmbrella:()=>Wr,FiUnderline:()=>Hr,FiUnlock:()=>Gr,FiUpload:()=>Kr,FiUploadCloud:()=>qr,FiUser:()=>Qr,FiUserCheck:()=>Zr,FiUserMinus:()=>Xr,FiUserPlus:()=>Yr,FiUserX:()=>Jr,FiUsers:()=>ei,FiVideo:()=>ni,FiVideoOff:()=>ti,FiVoicemail:()=>ri,FiVolume:()=>si,FiVolume1:()=>ii,FiVolume2:()=>ai,FiVolumeX:()=>oi,FiWatch:()=>li,FiWifi:()=>ci,FiWifiOff:()=>ui,FiWind:()=>di,FiX:()=>gi,FiXCircle:()=>fi,FiXOctagon:()=>hi,FiXSquare:()=>pi,FiYoutube:()=>mi,FiZap:()=>_i,FiZapOff:()=>yi,FiZoomIn:()=>bi,FiZoomOut:()=>vi});var r=n(6665),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=r.createContext&&r.createContext(i),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n};function l(e){return e&&e.map((function(e,t){return r.createElement(e.tag,o({key:t},e.attr),l(e.child))}))}function u(e){return function(t){return r.createElement(c,o({attr:o({},e.attr)},t),l(e.child))}}function c(e){var t=function(t){var n,i=e.size||t.size||"1em";t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className);var a=e.attr,l=e.title,u=s(e,["attr","title"]);return r.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,u,{className:n,style:o({color:e.color||t.color},t.style,e.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),l&&r.createElement("title",null,l),e.children)};return void 0!==a?r.createElement(a.Consumer,null,(function(e){return t(e)})):t(i)}function d(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"}}]})(e)}function f(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}},{tag:"polygon",attr:{points:"12 15 17 21 7 21 12 15"}}]})(e)}function h(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"16"}}]})(e)}function p(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"16"}}]})(e)}function g(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"}},{tag:"line",attr:{x1:"12",y1:"17",x2:"12",y2:"17"}}]})(e)}function m(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"10",x2:"6",y2:"10"}},{tag:"line",attr:{x1:"21",y1:"6",x2:"3",y2:"6"}},{tag:"line",attr:{x1:"21",y1:"14",x2:"3",y2:"14"}},{tag:"line",attr:{x1:"18",y1:"18",x2:"6",y2:"18"}}]})(e)}function y(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"21",y1:"10",x2:"3",y2:"10"}},{tag:"line",attr:{x1:"21",y1:"6",x2:"3",y2:"6"}},{tag:"line",attr:{x1:"21",y1:"14",x2:"3",y2:"14"}},{tag:"line",attr:{x1:"21",y1:"18",x2:"3",y2:"18"}}]})(e)}function _(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"17",y1:"10",x2:"3",y2:"10"}},{tag:"line",attr:{x1:"21",y1:"6",x2:"3",y2:"6"}},{tag:"line",attr:{x1:"21",y1:"14",x2:"3",y2:"14"}},{tag:"line",attr:{x1:"17",y1:"18",x2:"3",y2:"18"}}]})(e)}function b(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"21",y1:"10",x2:"7",y2:"10"}},{tag:"line",attr:{x1:"21",y1:"6",x2:"3",y2:"6"}},{tag:"line",attr:{x1:"21",y1:"14",x2:"3",y2:"14"}},{tag:"line",attr:{x1:"21",y1:"18",x2:"7",y2:"18"}}]})(e)}function v(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"5",r:"3"}},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"8"}},{tag:"path",attr:{d:"M5 12H2a10 10 0 0 0 20 0h-3"}}]})(e)}function w(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"14.31",y1:"8",x2:"20.05",y2:"17.94"}},{tag:"line",attr:{x1:"9.69",y1:"8",x2:"21.17",y2:"8"}},{tag:"line",attr:{x1:"7.38",y1:"12",x2:"13.12",y2:"2.06"}},{tag:"line",attr:{x1:"9.69",y1:"16",x2:"3.95",y2:"6.06"}},{tag:"line",attr:{x1:"14.31",y1:"16",x2:"2.83",y2:"16"}},{tag:"line",attr:{x1:"16.62",y1:"12",x2:"10.88",y2:"21.94"}}]})(e)}function x(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"21 8 21 21 3 21 3 8"}},{tag:"rect",attr:{x:"1",y:"3",width:"22",height:"5"}},{tag:"line",attr:{x1:"10",y1:"12",x2:"14",y2:"12"}}]})(e)}function k(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"polyline",attr:{points:"8 12 12 16 16 12"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"}}]})(e)}function S(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"17",y1:"7",x2:"7",y2:"17"}},{tag:"polyline",attr:{points:"17 17 7 17 7 7"}}]})(e)}function T(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"7",y1:"7",x2:"17",y2:"17"}},{tag:"polyline",attr:{points:"17 7 17 17 7 17"}}]})(e)}function E(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"polyline",attr:{points:"19 12 12 19 5 12"}}]})(e)}function A(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"polyline",attr:{points:"12 8 8 12 12 16"}},{tag:"line",attr:{x1:"16",y1:"12",x2:"8",y2:"12"}}]})(e)}function O(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"}},{tag:"polyline",attr:{points:"12 19 5 12 12 5"}}]})(e)}function C(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"polyline",attr:{points:"12 16 16 12 12 8"}},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"}}]})(e)}function I(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}},{tag:"polyline",attr:{points:"12 5 19 12 12 19"}}]})(e)}function P(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"polyline",attr:{points:"16 12 12 8 8 12"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"8"}}]})(e)}function M(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"17",y1:"17",x2:"7",y2:"7"}},{tag:"polyline",attr:{points:"7 17 7 7 17 7"}}]})(e)}function L(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"7",y1:"17",x2:"17",y2:"7"}},{tag:"polyline",attr:{points:"7 7 17 7 17 17"}}]})(e)}function R(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"}},{tag:"polyline",attr:{points:"5 12 12 5 19 12"}}]})(e)}function N(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"4"}},{tag:"path",attr:{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"}}]})(e)}function D(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"}},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"}}]})(e)}function j(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"}},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"}},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"}}]})(e)}function F(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"10"}},{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"4"}},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"16"}}]})(e)}function B(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"}},{tag:"line",attr:{x1:"23",y1:"13",x2:"23",y2:"11"}},{tag:"polyline",attr:{points:"11 6 7 12 13 12 9 18"}}]})(e)}function z(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"6",width:"18",height:"12",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"23",y1:"13",x2:"23",y2:"11"}}]})(e)}function $(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"}},{tag:"path",attr:{d:"M18.63 13A17.89 17.89 0 0 1 18 8"}},{tag:"path",attr:{d:"M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14"}},{tag:"path",attr:{d:"M18 8a6 6 0 0 0-9.33-5"}},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"}}]})(e)}function U(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"}}]})(e)}function V(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6.5 6.5 17.5 17.5 12 23 12 1 17.5 6.5 6.5 17.5"}}]})(e)}function W(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"}},{tag:"path",attr:{d:"M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"}}]})(e)}function H(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}}]})(e)}function G(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"}}]})(e)}function q(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"}}]})(e)}function K(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"}},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"}}]})(e)}function Z(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"}}]})(e)}function X(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"}},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"}}]})(e)}function Y(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"}},{tag:"path",attr:{d:"M21 21H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3m3-3h6l2 3h4a2 2 0 0 1 2 2v9.34m-7.72-2.06a4 4 0 1 1-5.56-5.56"}}]})(e)}function J(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"}}]})(e)}function Q(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 16.1A5 5 0 0 1 5.9 20M2 12.05A9 9 0 0 1 9.95 20M2 8V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6"}},{tag:"line",attr:{x1:"2",y1:"20",x2:"2",y2:"20"}}]})(e)}function ee(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"}}]})(e)}function te(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"}},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"}}]})(e)}function ne(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"}}]})(e)}function re(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"}}]})(e)}function ie(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"}}]})(e)}function ae(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"}}]})(e)}function oe(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"}}]})(e)}function se(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"7 13 12 18 17 13"}},{tag:"polyline",attr:{points:"7 6 12 11 17 6"}}]})(e)}function le(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"11 17 6 12 11 7"}},{tag:"polyline",attr:{points:"18 17 13 12 18 7"}}]})(e)}function ue(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"13 17 18 12 13 7"}},{tag:"polyline",attr:{points:"6 17 11 12 6 7"}}]})(e)}function ce(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"17 11 12 6 7 11"}},{tag:"polyline",attr:{points:"17 18 12 13 7 18"}}]})(e)}function de(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"4"}},{tag:"line",attr:{x1:"21.17",y1:"8",x2:"12",y2:"8"}},{tag:"line",attr:{x1:"3.95",y1:"6.06",x2:"8.54",y2:"14"}},{tag:"line",attr:{x1:"10.88",y1:"21.94",x2:"15.46",y2:"14"}}]})(e)}function fe(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}}]})(e)}function he(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}},{tag:"rect",attr:{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}}]})(e)}function pe(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"polyline",attr:{points:"12 6 12 12 16 14"}}]})(e)}function ge(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"19",x2:"8",y2:"21"}},{tag:"line",attr:{x1:"8",y1:"13",x2:"8",y2:"15"}},{tag:"line",attr:{x1:"16",y1:"19",x2:"16",y2:"21"}},{tag:"line",attr:{x1:"16",y1:"13",x2:"16",y2:"15"}},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"}},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"17"}},{tag:"path",attr:{d:"M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"}}]})(e)}function me(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"}},{tag:"polyline",attr:{points:"13 11 9 17 15 17 11 23"}}]})(e)}function ye(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"}},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"}}]})(e)}function _e(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16",y1:"13",x2:"16",y2:"21"}},{tag:"line",attr:{x1:"8",y1:"13",x2:"8",y2:"21"}},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"23"}},{tag:"path",attr:{d:"M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"}}]})(e)}function be(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"}},{tag:"line",attr:{x1:"8",y1:"16",x2:"8",y2:"16"}},{tag:"line",attr:{x1:"8",y1:"20",x2:"8",y2:"20"}},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"18"}},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"22"}},{tag:"line",attr:{x1:"16",y1:"16",x2:"16",y2:"16"}},{tag:"line",attr:{x1:"16",y1:"20",x2:"16",y2:"20"}}]})(e)}function ve(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"}}]})(e)}function we(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 18 22 12 16 6"}},{tag:"polyline",attr:{points:"8 6 2 12 8 18"}}]})(e)}function xe(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2"}},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"15.5"}},{tag:"polyline",attr:{points:"22 8.5 12 15.5 2 8.5"}},{tag:"polyline",attr:{points:"2 15.5 12 8.5 22 15.5"}},{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"8.5"}}]})(e)}function ke(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}},{tag:"polyline",attr:{points:"7.5 4.21 12 6.81 16.5 4.21"}},{tag:"polyline",attr:{points:"7.5 19.79 7.5 14.6 3 12"}},{tag:"polyline",attr:{points:"21 12 16.5 14.6 16.5 19.79"}},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"}},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"}}]})(e)}function Se(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8h1a4 4 0 0 1 0 8h-1"}},{tag:"path",attr:{d:"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"}},{tag:"line",attr:{x1:"6",y1:"1",x2:"6",y2:"4"}},{tag:"line",attr:{x1:"10",y1:"1",x2:"10",y2:"4"}},{tag:"line",attr:{x1:"14",y1:"1",x2:"14",y2:"4"}}]})(e)}function Te(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3h7a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-7m0-18H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7m0-18v18"}}]})(e)}function Ee(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"}}]})(e)}function Ae(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"polygon",attr:{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"}}]})(e)}function Oe(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}}]})(e)}function Ce(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 10 4 15 9 20"}},{tag:"path",attr:{d:"M20 4v7a4 4 0 0 1-4 4H4"}}]})(e)}function Ie(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 10 20 15 15 20"}},{tag:"path",attr:{d:"M4 4v7a4 4 0 0 0 4 4h12"}}]})(e)}function Pe(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"14 15 9 20 4 15"}},{tag:"path",attr:{d:"M20 4h-7a4 4 0 0 0-4 4v12"}}]})(e)}function Me(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"14 9 9 4 4 9"}},{tag:"path",attr:{d:"M20 20h-7a4 4 0 0 1-4-4V4"}}]})(e)}function Le(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"10 15 15 20 20 15"}},{tag:"path",attr:{d:"M4 4h7a4 4 0 0 1 4 4v12"}}]})(e)}function Re(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"10 9 15 4 20 9"}},{tag:"path",attr:{d:"M4 20h7a4 4 0 0 0 4-4V4"}}]})(e)}function Ne(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 14 4 9 9 4"}},{tag:"path",attr:{d:"M20 20v-7a4 4 0 0 0-4-4H4"}}]})(e)}function De(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 14 20 9 15 4"}},{tag:"path",attr:{d:"M4 20v-7a4 4 0 0 1 4-4h12"}}]})(e)}function je(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"}},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"}},{tag:"line",attr:{x1:"9",y1:"1",x2:"9",y2:"4"}},{tag:"line",attr:{x1:"15",y1:"1",x2:"15",y2:"4"}},{tag:"line",attr:{x1:"9",y1:"20",x2:"9",y2:"23"}},{tag:"line",attr:{x1:"15",y1:"20",x2:"15",y2:"23"}},{tag:"line",attr:{x1:"20",y1:"9",x2:"23",y2:"9"}},{tag:"line",attr:{x1:"20",y1:"14",x2:"23",y2:"14"}},{tag:"line",attr:{x1:"1",y1:"9",x2:"4",y2:"9"}},{tag:"line",attr:{x1:"1",y1:"14",x2:"4",y2:"14"}}]})(e)}function Fe(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"}}]})(e)}function Be(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6.13 1L6 16a2 2 0 0 0 2 2h15"}},{tag:"path",attr:{d:"M1 6.13L16 6a2 2 0 0 1 2 2v15"}}]})(e)}function ze(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"22",y1:"12",x2:"18",y2:"12"}},{tag:"line",attr:{x1:"6",y1:"12",x2:"2",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"6",x2:"12",y2:"2"}},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"18"}}]})(e)}function $e(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"}},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"}},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"}}]})(e)}function Ue(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"}},{tag:"line",attr:{x1:"18",y1:"9",x2:"12",y2:"15"}},{tag:"line",attr:{x1:"12",y1:"9",x2:"18",y2:"15"}}]})(e)}function Ve(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}}]})(e)}function We(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"}},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}}]})(e)}function He(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"8 17 12 21 16 17"}},{tag:"line",attr:{x1:"12",y1:"12",x2:"12",y2:"21"}},{tag:"path",attr:{d:"M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"}}]})(e)}function Ge(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"7 10 12 15 17 10"}},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"}}]})(e)}function qe(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"}}]})(e)}function Ke(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}}]})(e)}function Ze(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"}},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"}}]})(e)}function Xe(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}}]})(e)}function Ye(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}},{tag:"polyline",attr:{points:"15 3 21 3 21 9"}},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"}}]})(e)}function Je(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"}}]})(e)}function Qe(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}}]})(e)}function et(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"}}]})(e)}function tt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 19 22 12 13 5 13 19"}},{tag:"polygon",attr:{points:"2 19 11 12 2 5 2 19"}}]})(e)}function nt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"}},{tag:"line",attr:{x1:"16",y1:"8",x2:"2",y2:"22"}},{tag:"line",attr:{x1:"17.5",y1:"15",x2:"9",y2:"15"}}]})(e)}function rt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 5.5A3.5 3.5 0 0 1 8.5 2H12v7H8.5A3.5 3.5 0 0 1 5 5.5z"}},{tag:"path",attr:{d:"M12 2h3.5a3.5 3.5 0 1 1 0 7H12V2z"}},{tag:"path",attr:{d:"M12 12.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 1 1-7 0z"}},{tag:"path",attr:{d:"M5 19.5A3.5 3.5 0 0 1 8.5 16H12v3.5a3.5 3.5 0 1 1-7 0z"}},{tag:"path",attr:{d:"M5 12.5A3.5 3.5 0 0 1 8.5 9H12v7H8.5A3.5 3.5 0 0 1 5 12.5z"}}]})(e)}function it(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}},{tag:"polyline",attr:{points:"14 2 14 8 20 8"}},{tag:"line",attr:{x1:"9",y1:"15",x2:"15",y2:"15"}}]})(e)}function at(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}},{tag:"polyline",attr:{points:"14 2 14 8 20 8"}},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"9",y1:"15",x2:"15",y2:"15"}}]})(e)}function ot(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}},{tag:"polyline",attr:{points:"14 2 14 8 20 8"}},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"}},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"}},{tag:"polyline",attr:{points:"10 9 9 9 8 9"}}]})(e)}function st(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}},{tag:"polyline",attr:{points:"13 2 13 9 20 9"}}]})(e)}function lt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"2.18",ry:"2.18"}},{tag:"line",attr:{x1:"7",y1:"2",x2:"7",y2:"22"}},{tag:"line",attr:{x1:"17",y1:"2",x2:"17",y2:"22"}},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"}},{tag:"line",attr:{x1:"2",y1:"7",x2:"7",y2:"7"}},{tag:"line",attr:{x1:"2",y1:"17",x2:"7",y2:"17"}},{tag:"line",attr:{x1:"17",y1:"17",x2:"22",y2:"17"}},{tag:"line",attr:{x1:"17",y1:"7",x2:"22",y2:"7"}}]})(e)}function ut(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}}]})(e)}function ct(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}},{tag:"line",attr:{x1:"4",y1:"22",x2:"4",y2:"15"}}]})(e)}function dt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}},{tag:"line",attr:{x1:"9",y1:"14",x2:"15",y2:"14"}}]})(e)}function ft(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}},{tag:"line",attr:{x1:"12",y1:"11",x2:"12",y2:"17"}},{tag:"line",attr:{x1:"9",y1:"14",x2:"15",y2:"14"}}]})(e)}function ht(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}}]})(e)}function pt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"path",attr:{d:"M16 16s-1.5-2-4-2-4 2-4 2"}},{tag:"line",attr:{x1:"9",y1:"9",x2:"9.01",y2:"9"}},{tag:"line",attr:{x1:"15",y1:"9",x2:"15.01",y2:"9"}}]})(e)}function gt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 12 20 22 4 22 4 12"}},{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"5"}},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"7"}},{tag:"path",attr:{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"}},{tag:"path",attr:{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"}}]})(e)}function mt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"6",y1:"3",x2:"6",y2:"15"}},{tag:"circle",attr:{cx:"18",cy:"6",r:"3"}},{tag:"circle",attr:{cx:"6",cy:"18",r:"3"}},{tag:"path",attr:{d:"M18 9a9 9 0 0 1-9 9"}}]})(e)}function yt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"4"}},{tag:"line",attr:{x1:"1.05",y1:"12",x2:"7",y2:"12"}},{tag:"line",attr:{x1:"17.01",y1:"12",x2:"22.96",y2:"12"}}]})(e)}function _t(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"18",r:"3"}},{tag:"circle",attr:{cx:"6",cy:"6",r:"3"}},{tag:"path",attr:{d:"M6 21V9a9 9 0 0 0 9 9"}}]})(e)}function bt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"18",r:"3"}},{tag:"circle",attr:{cx:"6",cy:"6",r:"3"}},{tag:"path",attr:{d:"M13 6h3a2 2 0 0 1 2 2v7"}},{tag:"line",attr:{x1:"6",y1:"9",x2:"6",y2:"21"}}]})(e)}function vt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"}}]})(e)}function wt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z"}}]})(e)}function xt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"}},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}}]})(e)}function kt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"}},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"}}]})(e)}function St(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"12",x2:"2",y2:"12"}},{tag:"path",attr:{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"}},{tag:"line",attr:{x1:"6",y1:"16",x2:"6",y2:"16"}},{tag:"line",attr:{x1:"10",y1:"16",x2:"10",y2:"16"}}]})(e)}function Tt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"}},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"}},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"}},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"}}]})(e)}function Et(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 18v-6a9 9 0 0 1 18 0v6"}},{tag:"path",attr:{d:"M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"}}]})(e)}function At(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"}}]})(e)}function Ot(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}},{tag:"line",attr:{x1:"12",y1:"17",x2:"12",y2:"17"}}]})(e)}function Ct(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}}]})(e)}function It(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"}}]})(e)}function Pt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"}},{tag:"polyline",attr:{points:"21 15 16 10 5 21"}}]})(e)}function Mt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 16 12 14 15 10 15 8 12 2 12"}},{tag:"path",attr:{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"}}]})(e)}function Lt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"8"}}]})(e)}function Rt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}},{tag:"path",attr:{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}},{tag:"line",attr:{x1:"17.5",y1:"6.5",x2:"17.5",y2:"6.5"}}]})(e)}function Nt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"4",x2:"10",y2:"4"}},{tag:"line",attr:{x1:"14",y1:"20",x2:"5",y2:"20"}},{tag:"line",attr:{x1:"15",y1:"4",x2:"9",y2:"20"}}]})(e)}function Dt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"}}]})(e)}function jt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"}},{tag:"polyline",attr:{points:"2 17 12 22 22 17"}},{tag:"polyline",attr:{points:"2 12 12 17 22 12"}}]})(e)}function Ft(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"3",y1:"9",x2:"21",y2:"9"}},{tag:"line",attr:{x1:"9",y1:"21",x2:"9",y2:"9"}}]})(e)}function Bt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"4"}},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"9.17",y2:"9.17"}},{tag:"line",attr:{x1:"14.83",y1:"14.83",x2:"19.07",y2:"19.07"}},{tag:"line",attr:{x1:"14.83",y1:"9.17",x2:"19.07",y2:"4.93"}},{tag:"line",attr:{x1:"14.83",y1:"9.17",x2:"18.36",y2:"5.64"}},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"9.17",y2:"14.83"}}]})(e)}function zt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"}},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"}}]})(e)}function $t(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}}]})(e)}function Ut(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}},{tag:"rect",attr:{x:"2",y:"9",width:"4",height:"12"}},{tag:"circle",attr:{cx:"4",cy:"4",r:"2"}}]})(e)}function Vt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"3",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"12",x2:"3",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"3",y2:"18"}}]})(e)}function Wt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"}},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"}},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"}},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"}},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"}},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"}},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"}},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"}}]})(e)}function Ht(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"}}]})(e)}function Gt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}},{tag:"polyline",attr:{points:"10 17 15 12 10 7"}},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"}}]})(e)}function qt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}},{tag:"polyline",attr:{points:"16 17 21 12 16 7"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"}}]})(e)}function Kt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}},{tag:"polyline",attr:{points:"22,6 12,13 2,6"}}]})(e)}function Zt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"}}]})(e)}function Xt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"}},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"18"}},{tag:"line",attr:{x1:"16",y1:"6",x2:"16",y2:"22"}}]})(e)}function Yt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 3 21 3 21 9"}},{tag:"polyline",attr:{points:"9 21 3 21 3 15"}},{tag:"line",attr:{x1:"21",y1:"3",x2:"14",y2:"10"}},{tag:"line",attr:{x1:"3",y1:"21",x2:"10",y2:"14"}}]})(e)}function Jt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"}}]})(e)}function Qt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"8",y1:"15",x2:"16",y2:"15"}},{tag:"line",attr:{x1:"9",y1:"9",x2:"9.01",y2:"9"}},{tag:"line",attr:{x1:"15",y1:"9",x2:"15.01",y2:"9"}}]})(e)}function en(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"}}]})(e)}function tn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"}}]})(e)}function nn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}}]})(e)}function rn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"}},{tag:"path",attr:{d:"M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"}},{tag:"path",attr:{d:"M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"}},{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"23"}},{tag:"line",attr:{x1:"8",y1:"23",x2:"16",y2:"23"}}]})(e)}function an(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}},{tag:"path",attr:{d:"M19 10v2a7 7 0 0 1-14 0v-2"}},{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"23"}},{tag:"line",attr:{x1:"8",y1:"23",x2:"16",y2:"23"}}]})(e)}function on(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 14 10 14 10 20"}},{tag:"polyline",attr:{points:"20 10 14 10 14 4"}},{tag:"line",attr:{x1:"14",y1:"10",x2:"21",y2:"3"}},{tag:"line",attr:{x1:"3",y1:"21",x2:"10",y2:"14"}}]})(e)}function sn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"}}]})(e)}function ln(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"}}]})(e)}function un(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"}}]})(e)}function cn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(e)}function dn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"8",y1:"21",x2:"16",y2:"21"}},{tag:"line",attr:{x1:"12",y1:"17",x2:"12",y2:"21"}}]})(e)}function fn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}}]})(e)}function hn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"}},{tag:"circle",attr:{cx:"19",cy:"12",r:"1"}},{tag:"circle",attr:{cx:"5",cy:"12",r:"1"}}]})(e)}function pn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"}},{tag:"circle",attr:{cx:"12",cy:"5",r:"1"}},{tag:"circle",attr:{cx:"12",cy:"19",r:"1"}}]})(e)}function gn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"}},{tag:"path",attr:{d:"M13 13l6 6"}}]})(e)}function mn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"5 9 2 12 5 15"}},{tag:"polyline",attr:{points:"9 5 12 2 15 5"}},{tag:"polyline",attr:{points:"15 19 12 22 9 19"}},{tag:"polyline",attr:{points:"19 9 22 12 19 15"}},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"22"}}]})(e)}function yn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 18V5l12-2v13"}},{tag:"circle",attr:{cx:"6",cy:"18",r:"3"}},{tag:"circle",attr:{cx:"18",cy:"16",r:"3"}}]})(e)}function _n(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 19 21 12 17 5 21 12 2"}}]})(e)}function bn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"3 11 22 2 13 21 11 13 3 11"}}]})(e)}function vn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"}}]})(e)}function wn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"}},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"}},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"}}]})(e)}function xn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"}}]})(e)}function kn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"10",y1:"15",x2:"10",y2:"9"}},{tag:"line",attr:{x1:"14",y1:"15",x2:"14",y2:"9"}}]})(e)}function Sn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"6",y:"4",width:"4",height:"16"}},{tag:"rect",attr:{x:"14",y:"4",width:"4",height:"16"}}]})(e)}function Tn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 19l7-7 3 3-7 7-3-3z"}},{tag:"path",attr:{d:"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"}},{tag:"path",attr:{d:"M2 2l7.586 7.586"}},{tag:"circle",attr:{cx:"11",cy:"11",r:"2"}}]})(e)}function En(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"5",x2:"5",y2:"19"}},{tag:"circle",attr:{cx:"6.5",cy:"6.5",r:"2.5"}},{tag:"circle",attr:{cx:"17.5",cy:"17.5",r:"2.5"}}]})(e)}function An(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}}]})(e)}function On(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"19 1 23 5 19 9"}},{tag:"line",attr:{x1:"15",y1:"5",x2:"23",y2:"5"}},{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}}]})(e)}function Cn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 2 16 8 22 8"}},{tag:"line",attr:{x1:"23",y1:"1",x2:"16",y2:"8"}},{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}}]})(e)}function In(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"23",y1:"1",x2:"17",y2:"7"}},{tag:"line",attr:{x1:"17",y1:"1",x2:"23",y2:"7"}},{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}}]})(e)}function Pn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91"}},{tag:"line",attr:{x1:"23",y1:"1",x2:"1",y2:"23"}}]})(e)}function Mn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 7 23 1 17 1"}},{tag:"line",attr:{x1:"16",y1:"8",x2:"23",y2:"1"}},{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}}]})(e)}function Ln(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}}]})(e)}function Rn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"}}]})(e)}function Nn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"polygon",attr:{points:"10 8 16 12 10 16 10 8"}}]})(e)}function Dn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"}}]})(e)}function jn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"}},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"}}]})(e)}function Fn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"}},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"}}]})(e)}function Bn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(e)}function zn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 3h16a2 2 0 0 1 2 2v6a10 10 0 0 1-10 10A10 10 0 0 1 2 11V5a2 2 0 0 1 2-2z"}},{tag:"polyline",attr:{points:"8 10 12 14 16 10"}}]})(e)}function $n(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18.36 6.64a9 9 0 1 1-12.73 0"}},{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"12"}}]})(e)}function Un(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 6 2 18 2 18 9"}},{tag:"path",attr:{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}},{tag:"rect",attr:{x:"6",y:"14",width:"12",height:"8"}}]})(e)}function Vn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"2"}},{tag:"path",attr:{d:"M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"}}]})(e)}function Wn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"1 4 1 10 7 10"}},{tag:"polyline",attr:{points:"23 20 23 14 17 14"}},{tag:"path",attr:{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}}]})(e)}function Hn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"}},{tag:"polyline",attr:{points:"1 20 1 14 7 14"}},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"}}]})(e)}function Gn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"17 1 21 5 17 9"}},{tag:"path",attr:{d:"M3 11V9a4 4 0 0 1 4-4h14"}},{tag:"polyline",attr:{points:"7 23 3 19 7 15"}},{tag:"path",attr:{d:"M21 13v2a4 4 0 0 1-4 4H3"}}]})(e)}function qn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"11 19 2 12 11 5 11 19"}},{tag:"polygon",attr:{points:"22 19 13 12 22 5 22 19"}}]})(e)}function Kn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"1 4 1 10 7 10"}},{tag:"path",attr:{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"}}]})(e)}function Zn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"}},{tag:"path",attr:{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"}}]})(e)}function Xn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 11a9 9 0 0 1 9 9"}},{tag:"path",attr:{d:"M4 4a16 16 0 0 1 16 16"}},{tag:"circle",attr:{cx:"5",cy:"19",r:"1"}}]})(e)}function Yn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"}},{tag:"polyline",attr:{points:"7 3 7 8 15 8"}}]})(e)}function Jn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"6",cy:"6",r:"3"}},{tag:"circle",attr:{cx:"6",cy:"18",r:"3"}},{tag:"line",attr:{x1:"20",y1:"4",x2:"8.12",y2:"15.88"}},{tag:"line",attr:{x1:"14.47",y1:"14.48",x2:"20",y2:"20"}},{tag:"line",attr:{x1:"8.12",y1:"8.12",x2:"12",y2:"12"}}]})(e)}function Qn(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(e)}function er(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"}},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"}}]})(e)}function tr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"8",rx:"2",ry:"2"}},{tag:"rect",attr:{x:"2",y:"14",width:"20",height:"8",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"6",y2:"6"}},{tag:"line",attr:{x1:"6",y1:"18",x2:"6",y2:"18"}}]})(e)}function nr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}}]})(e)}function rr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"}},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"}},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"}},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"}}]})(e)}function ir(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}},{tag:"polyline",attr:{points:"16 6 12 2 8 6"}},{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"15"}}]})(e)}function ar(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19.69 14a6.9 6.9 0 0 0 .31-2V5l-8-3-3.16 1.18"}},{tag:"path",attr:{d:"M4.73 4.73L4 5v7c0 6 8 10 8 10a20.29 20.29 0 0 0 5.62-4.38"}},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"}}]})(e)}function or(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}}]})(e)}function sr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"}},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"}}]})(e)}function lr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"}},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"}},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"}}]})(e)}function ur(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 3 21 3 21 8"}},{tag:"line",attr:{x1:"4",y1:"20",x2:"21",y2:"3"}},{tag:"polyline",attr:{points:"21 16 21 21 16 21"}},{tag:"line",attr:{x1:"15",y1:"15",x2:"21",y2:"21"}},{tag:"line",attr:{x1:"4",y1:"4",x2:"9",y2:"9"}}]})(e)}function cr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"9",y1:"3",x2:"9",y2:"21"}}]})(e)}function dr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"19 20 9 12 19 4 19 20"}},{tag:"line",attr:{x1:"5",y1:"19",x2:"5",y2:"5"}}]})(e)}function fr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 4 15 12 5 20 5 4"}},{tag:"line",attr:{x1:"19",y1:"5",x2:"19",y2:"19"}}]})(e)}function hr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.5 10c-.83 0-1.5-.67-1.5-1.5v-5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5z"}},{tag:"path",attr:{d:"M20.5 10H19V8.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}},{tag:"path",attr:{d:"M9.5 14c.83 0 1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5S8 21.33 8 20.5v-5c0-.83.67-1.5 1.5-1.5z"}},{tag:"path",attr:{d:"M3.5 14H5v1.5c0 .83-.67 1.5-1.5 1.5S2 16.33 2 15.5 2.67 14 3.5 14z"}},{tag:"path",attr:{d:"M14 14.5c0-.83.67-1.5 1.5-1.5h5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-5c-.83 0-1.5-.67-1.5-1.5z"}},{tag:"path",attr:{d:"M15.5 19H14v1.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"}},{tag:"path",attr:{d:"M10 9.5C10 8.67 9.33 8 8.5 8h-5C2.67 8 2 8.67 2 9.5S2.67 11 3.5 11h5c.83 0 1.5-.67 1.5-1.5z"}},{tag:"path",attr:{d:"M8.5 5H10V3.5C10 2.67 9.33 2 8.5 2S7 2.67 7 3.5 7.67 5 8.5 5z"}}]})(e)}function pr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07"}}]})(e)}function gr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"21",x2:"4",y2:"14"}},{tag:"line",attr:{x1:"4",y1:"10",x2:"4",y2:"3"}},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"3"}},{tag:"line",attr:{x1:"20",y1:"21",x2:"20",y2:"16"}},{tag:"line",attr:{x1:"20",y1:"12",x2:"20",y2:"3"}},{tag:"line",attr:{x1:"1",y1:"14",x2:"7",y2:"14"}},{tag:"line",attr:{x1:"9",y1:"8",x2:"15",y2:"8"}},{tag:"line",attr:{x1:"17",y1:"16",x2:"23",y2:"16"}}]})(e)}function mr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"18"}}]})(e)}function yr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"path",attr:{d:"M8 14s1.5 2 4 2 4-2 4-2"}},{tag:"line",attr:{x1:"9",y1:"9",x2:"9.01",y2:"9"}},{tag:"line",attr:{x1:"15",y1:"9",x2:"15.01",y2:"9"}}]})(e)}function _r(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}},{tag:"circle",attr:{cx:"12",cy:"14",r:"4"}},{tag:"line",attr:{x1:"12",y1:"6",x2:"12",y2:"6"}}]})(e)}function br(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}}]})(e)}function vr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}}]})(e)}function wr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"}}]})(e)}function xr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"}},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"}},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"}},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"}},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}}]})(e)}function kr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 18a5 5 0 0 0-10 0"}},{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"9"}},{tag:"line",attr:{x1:"4.22",y1:"10.22",x2:"5.64",y2:"11.64"}},{tag:"line",attr:{x1:"1",y1:"18",x2:"3",y2:"18"}},{tag:"line",attr:{x1:"21",y1:"18",x2:"23",y2:"18"}},{tag:"line",attr:{x1:"18.36",y1:"11.64",x2:"19.78",y2:"10.22"}},{tag:"line",attr:{x1:"23",y1:"22",x2:"1",y2:"22"}},{tag:"polyline",attr:{points:"8 6 12 2 16 6"}}]})(e)}function Sr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 18a5 5 0 0 0-10 0"}},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"2"}},{tag:"line",attr:{x1:"4.22",y1:"10.22",x2:"5.64",y2:"11.64"}},{tag:"line",attr:{x1:"1",y1:"18",x2:"3",y2:"18"}},{tag:"line",attr:{x1:"21",y1:"18",x2:"23",y2:"18"}},{tag:"line",attr:{x1:"18.36",y1:"11.64",x2:"19.78",y2:"10.22"}},{tag:"line",attr:{x1:"23",y1:"22",x2:"1",y2:"22"}},{tag:"polyline",attr:{points:"16 5 12 9 8 5"}}]})(e)}function Tr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2",transform:"rotate(180 12 12)"}},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"18"}}]})(e)}function Er(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}},{tag:"line",attr:{x1:"7",y1:"7",x2:"7",y2:"7"}}]})(e)}function Ar(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"}}]})(e)}function Or(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 17 10 11 4 5"}},{tag:"line",attr:{x1:"12",y1:"19",x2:"20",y2:"19"}}]})(e)}function Cr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"}}]})(e)}function Ir(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"}}]})(e)}function Pr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"}}]})(e)}function Mr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"}},{tag:"circle",attr:{cx:"8",cy:"12",r:"3"}}]})(e)}function Lr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"}},{tag:"circle",attr:{cx:"16",cy:"12",r:"3"}}]})(e)}function Rr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(e)}function Nr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}}]})(e)}function Dr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"rect",attr:{x:"7",y:"7",width:"3",height:"9"}},{tag:"rect",attr:{x:"14",y:"7",width:"3",height:"5"}}]})(e)}function jr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"}},{tag:"polyline",attr:{points:"17 18 23 18 23 12"}}]})(e)}function Fr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"}},{tag:"polyline",attr:{points:"17 6 23 6 23 12"}}]})(e)}function Br(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}}]})(e)}function zr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"}},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"}},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"}},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"}}]})(e)}function $r(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"15",rx:"2",ry:"2"}},{tag:"polyline",attr:{points:"17 2 12 7 7 2"}}]})(e)}function Ur(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"}}]})(e)}function Vr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 7 4 4 20 4 20 7"}},{tag:"line",attr:{x1:"9",y1:"20",x2:"15",y2:"20"}},{tag:"line",attr:{x1:"12",y1:"4",x2:"12",y2:"20"}}]})(e)}function Wr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 12a11.05 11.05 0 0 0-22 0zm-5 7a3 3 0 0 1-6 0v-7"}}]})(e)}function Hr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"}},{tag:"line",attr:{x1:"4",y1:"21",x2:"20",y2:"21"}}]})(e)}function Gr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 9.9-1"}}]})(e)}function qr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 16 12 12 8 16"}},{tag:"line",attr:{x1:"12",y1:"12",x2:"12",y2:"21"}},{tag:"path",attr:{d:"M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"}},{tag:"polyline",attr:{points:"16 16 12 12 8 16"}}]})(e)}function Kr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"17 8 12 3 7 8"}},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"}}]})(e)}function Zr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"}},{tag:"polyline",attr:{points:"17 11 19 13 23 9"}}]})(e)}function Xr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"}},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"}}]})(e)}function Yr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"}},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"}},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"}}]})(e)}function Jr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"}},{tag:"line",attr:{x1:"18",y1:"8",x2:"23",y2:"13"}},{tag:"line",attr:{x1:"23",y1:"8",x2:"18",y2:"13"}}]})(e)}function Qr(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"}}]})(e)}function ei(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"}},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"}},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"}}]})(e)}function ti(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"}},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"}}]})(e)}function ni(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"23 7 16 12 23 17 23 7"}},{tag:"rect",attr:{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"}}]})(e)}function ri(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"5.5",cy:"11.5",r:"4.5"}},{tag:"circle",attr:{cx:"18.5",cy:"11.5",r:"4.5"}},{tag:"line",attr:{x1:"5.5",y1:"16",x2:"18.5",y2:"16"}}]})(e)}function ii(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}},{tag:"path",attr:{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}}]})(e)}function ai(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}},{tag:"path",attr:{d:"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"}}]})(e)}function oi(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}},{tag:"line",attr:{x1:"23",y1:"9",x2:"17",y2:"15"}},{tag:"line",attr:{x1:"17",y1:"9",x2:"23",y2:"15"}}]})(e)}function si(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}}]})(e)}function li(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"7"}},{tag:"polyline",attr:{points:"12 9 12 12 13.5 13.5"}},{tag:"path",attr:{d:"M16.51 17.35l-.35 3.83a2 2 0 0 1-2 1.82H9.83a2 2 0 0 1-2-1.82l-.35-3.83m.01-10.7l.35-3.83A2 2 0 0 1 9.83 1h4.35a2 2 0 0 1 2 1.82l.35 3.83"}}]})(e)}function ui(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"}},{tag:"path",attr:{d:"M16.72 11.06A10.94 10.94 0 0 1 19 12.55"}},{tag:"path",attr:{d:"M5 12.55a10.94 10.94 0 0 1 5.17-2.39"}},{tag:"path",attr:{d:"M10.71 5.05A16 16 0 0 1 22.58 9"}},{tag:"path",attr:{d:"M1.42 9a15.91 15.91 0 0 1 4.7-2.88"}},{tag:"path",attr:{d:"M8.53 16.11a6 6 0 0 1 6.95 0"}},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"20"}}]})(e)}function ci(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12.55a11 11 0 0 1 14.08 0"}},{tag:"path",attr:{d:"M1.42 9a16 16 0 0 1 21.16 0"}},{tag:"path",attr:{d:"M8.53 16.11a6 6 0 0 1 6.95 0"}},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"20"}}]})(e)}function di(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"}}]})(e)}function fi(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"}},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"}}]})(e)}function hi(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"}},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"}},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"}}]})(e)}function pi(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"}},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"}}]})(e)}function gi(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(e)}function mi(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"}},{tag:"polygon",attr:{points:"9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"}}]})(e)}function yi(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"12.41 6.75 13 2 10.57 4.92"}},{tag:"polyline",attr:{points:"18.57 12.91 21 10 15.66 10"}},{tag:"polyline",attr:{points:"8 8 3 14 12 14 11 22 16 16"}},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"}}]})(e)}function _i(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"}}]})(e)}function bi(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}},{tag:"line",attr:{x1:"11",y1:"8",x2:"11",y2:"14"}},{tag:"line",attr:{x1:"8",y1:"11",x2:"14",y2:"11"}}]})(e)}function vi(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}},{tag:"line",attr:{x1:"8",y1:"11",x2:"14",y2:"11"}}]})(e)}},2663:(e,t,n)=>{"use strict";var r=n(6665),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=u,t.jsxs=u},960:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function _(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=y.prototype;var v=b.prototype=new _;v.constructor=b,g(v,y.prototype),v.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:k.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+O(l,0):a,w(o)?(i="",null!=e&&(i=e.replace(A,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(A,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",w(e))for(var u=0;u<e.length;u++){var c=a+O(s=e[u],u);l+=C(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=C(s=s.value,t,i,c=a+O(s,u++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},L={transition:null},R={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:L,ReactCurrentOwner:k};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)x.call(t,u)&&!S.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.2.0"},6665:(e,t,n)=>{"use strict";e.exports=n(960)},397:(e,t,n)=>{"use strict";e.exports=n(2663)},420:(e,t,n)=>{e.exports=n(5354)},5354:(e,t,n)=>{var r=n(6028);t.operation=function(e){var n=t.timeouts(e);return new r(n,{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var r=[],i=0;i<t.retries;i++)r.push(this.createTimeout(i,t));return e&&e.forever&&!r.length&&r.push(this.createTimeout(i,t)),r.sort((function(e,t){return e-t})),r},t.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1,r=Math.round(n*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return r=Math.min(r,t.maxTimeout)},t.wrap=function(e,n,r){if(n instanceof Array&&(r=n,n=null),!r)for(var i in r=[],e)"function"===typeof e[i]&&r.push(i);for(var a=0;a<r.length;a++){var o=r[a],s=e[o];e[o]=function(r){var i=t.operation(n),a=Array.prototype.slice.call(arguments,1),o=a.pop();a.push((function(e){i.retry(e)||(e&&(arguments[0]=i.mainError()),o.apply(this,arguments))})),i.attempt((function(){r.apply(e,a)}))}.bind(e,s),e[o].options=n}}},6028:e=>{function t(e,t){"boolean"===typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(void 0===n){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1)}var r=this;return this._timer=setTimeout((function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout((function(){r._operationTimeoutCb(r._attempts)}),r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)}),n),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){n._operationTimeoutCb()}),n._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],a=i.message,o=(e[a]||0)+1;e[a]=o,o>=n&&(t=i,n=o)}return t}},4323:(e,t,n)=>{e.exports=function(e,t,n){if("number"!==typeof t)throw new Error("second argument must be a Number");let i,a,o,s,l,u,c=!0;Array.isArray(e)?(i=[],o=a=e.length):(s=Object.keys(e),i={},o=a=s.length);function d(e){function t(){n&&n(e,i),n=null}c?r(t):t()}function f(t,n,r){if(i[t]=r,n&&(l=!0),0===--o||n)d(n);else if(!l&&u<a){let t;s?(t=s[u],u+=1,e[t]((function(e,n){f(t,e,n)}))):(t=u,u+=1,e[t]((function(e,n){f(t,e,n)})))}}u=t,o?s?s.some((function(n,r){return e[n]((function(e,t){f(n,e,t)})),r===t-1})):e.some((function(e,n){return e((function(e,t){f(n,e,t)})),n===t-1})):d(null);c=!1};const r=n(165)},7752:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,_="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(m=!1,v(e),!g)if(null!==r(u))g=!0,L(x);else{var t=r(c);null!==t&&R(w,t.startTime-e)}}function x(e,n){g=!1,m&&(m=!1,_(E),E=-1),p=!0;var a=h;try{for(v(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!C());){var o=f.callback;if("function"===typeof o){f.callback=null,h=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(u)&&i(u),v(n)}else i(u);f=r(u)}if(null!==f)var l=!0;else{var d=r(c);null!==d&&R(w,d.startTime-n),l=!1}return l}finally{f=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,T=null,E=-1,A=5,O=-1;function C(){return!(t.unstable_now()-O<A)}function I(){if(null!==T){var e=t.unstable_now();O=e;var n=!0;try{n=T(!0,e)}finally{n?k():(S=!1,T=null)}}else S=!1}if("function"===typeof b)k=function(){b(I)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,M=P.port2;P.port1.onmessage=I,k=function(){M.postMessage(null)}}else k=function(){y(I,0)};function L(e){T=e,S||(S=!0,k())}function R(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,L(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(m?(_(E),E=-1):m=!0,R(w,a-o))):(e.sortIndex=s,n(u,e),g||p||(g=!0,L(x))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},3167:(e,t,n)=>{"use strict";e.exports=n(7752)},7303:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.styleq=void 0;var n=new WeakMap;function r(e){var t,r,i;return null!=e&&(t=!0===e.disableCache,r=!0===e.disableMix,i=e.transform),function(){for(var e=[],a="",o=null,s=t?null:n,l=new Array(arguments.length),u=0;u<arguments.length;u++)l[u]=arguments[u];for(;l.length>0;){var c=l.pop();if(null!=c&&!1!==c)if(Array.isArray(c))for(var d=0;d<c.length;d++)l.push(c[d]);else{var f=null!=i?i(c):c;if(f.$$css){var h="";if(null!=s&&s.has(f)){var p=s.get(f);null!=p&&(h=p[0],e.push.apply(e,p[1]),s=p[2])}else{var g=[];for(var m in f){var y=f[m];"$$css"!==m&&("string"===typeof y||null===y?e.includes(m)||(e.push(m),null!=s&&g.push(m),"string"===typeof y&&(h+=h?" "+y:y)):console.error("styleq: ".concat(m," typeof ").concat(String(y),' is not "string" or "null".')))}if(null!=s){var _=new WeakMap;s.set(f,[h,g,_]),s=_}}h&&(a=a?h+" "+a:h)}else if(r)null==o&&(o={}),o=Object.assign({},f,o);else{var b=null;for(var v in f){var w=f[v];void 0!==w&&(e.includes(v)||(null!=w&&(null==o&&(o={}),null==b&&(b={}),b[v]=w),e.push(v),s=null))}null!=b&&(o=Object.assign(b,o))}}}return[a,o]}}var i=r();t.styleq=i,i.factory=r},975:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localizeStyle=function(e,t){if(null!=e[r]){var a=t?1:0;if(n.has(e)){var o=n.get(e),s=o[a];return null==s&&(s=i(e,t),o[a]=s,n.set(e,o)),s}var l=i(e,t),u=new Array(2);return u[a]=l,n.set(e,u),l}return e};var n=new WeakMap,r="$$css$localize";function i(e,t){var n={};for(var i in e)if(i!==r){var a=e[i];Array.isArray(a)?n[i]=t?a[1]:a[0]:n[i]=a}return n}},9930:(e,t,n)=>{"use strict";var r=n(6665);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return s((function(){i.value=n,i.getSnapshot=t,u(i)&&c({inst:i})}),[e,n,t]),o((function(){return u(i)&&c({inst:i}),e((function(){u(i)&&c({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},8437:(e,t,n)=>{"use strict";var r=n(6665),i=n(3563);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=u((function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,l=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,i]);var h=o(e,d[0],d[1]);return l((function(){f.hasValue=!0,f.value=h}),[h]),c(h),h}},3563:(e,t,n)=>{"use strict";e.exports=n(9930)},833:(e,t,n)=>{"use strict";e.exports=n(8437)},9228:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});const r={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var i,a=new Uint8Array(16);function o(){if(!i&&!(i="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(a)}n(6252);for(var s=[],l=0;l<256;++l)s.push((l+256).toString(16).slice(1));function u(e,t=0){return(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase()}const c=function(e,t,n){if(r.randomUUID&&!t&&!e)return r.randomUUID();var i=(e=e||{}).random||(e.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=i[a];return t}return u(i)}},6252:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;const i=function(e){return"string"===typeof e&&r.test(e)}},8530:(e,t,n)=>{"use strict";let r;n.r(t),n.d(t,{Segment:()=>O,Session:()=>C,SessionBuilder:()=>I,SessionError:()=>P,Transcript:()=>M,default:()=>j,initSync:()=>N,start:()=>S}),e=n.hmd(e);const i=new Array(128).fill(void 0);function a(e){return i[e]}i.push(void 0,null,!0,!1);let o=i.length;function s(e){const t=a(e);return function(e){e<132||(i[e]=o,o=e)}(e),t}const l="undefined"!==typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};"undefined"!==typeof TextDecoder&&l.decode();let u=null;function c(){return null!==u&&0!==u.byteLength||(u=new Uint8Array(r.memory.buffer)),u}function d(e,t){return e>>>=0,l.decode(c().subarray(e,e+t))}function f(e){o===i.length&&i.push(i.length+1);const t=o;return o=i[t],i[t]=e,t}function h(e){const t=typeof e;if("number"==t||"boolean"==t||null==e)return`${e}`;if("string"==t)return`"${e}"`;if("symbol"==t){const t=e.description;return null==t?"Symbol":`Symbol(${t})`}if("function"==t){const t=e.name;return"string"==typeof t&&t.length>0?`Function(${t})`:"Function"}if(Array.isArray(e)){const t=e.length;let n="[";t>0&&(n+=h(e[0]));for(let r=1;r<t;r++)n+=", "+h(e[r]);return n+="]",n}const n=/\[object ([^\]]+)\]/.exec(toString.call(e));let r;if(!(n.length>1))return toString.call(e);if(r=n[1],"Object"==r)try{return"Object("+JSON.stringify(e)+")"}catch(i){return"Object"}return e instanceof Error?`${e.name}: ${e.message}\n${e.stack}`:r}let p=0;const g="undefined"!==typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},m="function"===typeof g.encodeInto?function(e,t){return g.encodeInto(e,t)}:function(e,t){const n=g.encode(e);return t.set(n),{read:e.length,written:n.length}};function y(e,t,n){if(void 0===n){const n=g.encode(e),r=t(n.length,1)>>>0;return c().subarray(r,r+n.length).set(n),p=n.length,r}let r=e.length,i=t(r,1)>>>0;const a=c();let o=0;for(;o<r;o++){const t=e.charCodeAt(o);if(t>127)break;a[i+o]=t}if(o!==r){0!==o&&(e=e.slice(o)),i=n(i,r,r=o+3*e.length,1)>>>0;const t=c().subarray(i+o,i+r);o+=m(e,t).written}return p=o,i}let _=null;function b(){return null!==_&&0!==_.byteLength||(_=new Int32Array(r.memory.buffer)),_}function v(e){return void 0===e||null===e}function w(e,t,n,i){const a={a:e,b:t,cnt:1,dtor:n},o=(...e)=>{a.cnt++;const t=a.a;a.a=0;try{return i(t,a.b,...e)}finally{0===--a.cnt?r.__wbindgen_export_2.get(a.dtor)(t,a.b):a.a=t}};return o.original=a,o}function x(e,t,n){r.__wbindgen_export_3(e,t,f(n))}function k(e,t){const n=t(1*e.length,1)>>>0;return c().set(e,n/1),p=e.length,n}function S(){r.start()}function T(e,t){try{return e.apply(this,t)}catch(n){r.__wbindgen_export_5(f(n))}}let E=null;function A(e,t){return e>>>=0,(null!==E&&0!==E.byteLength||(E=new Uint32Array(r.memory.buffer)),E).subarray(e/4,e/4+t)}class O{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_segment_free(e)}}class C{static __wrap(e){e>>>=0;const t=Object.create(C.prototype);return t.__wbg_ptr=e,t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_session_free(e)}run(e){const t=k(e,r.__wbindgen_export_0),n=p;return s(r.session_run(this.__wbg_ptr,t,n))}stream(e,t,n){const i=k(e,r.__wbindgen_export_0),a=p;return s(r.session_stream(this.__wbg_ptr,i,a,t,f(n)))}}class I{static __wrap(e){e>>>=0;const t=Object.create(I.prototype);return t.__wbg_ptr=e,t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_sessionbuilder_free(e)}constructor(){const e=r.sessionbuilder_new();return I.__wrap(e)}setTokenizer(e){const t=this.__destroy_into_raw(),n=k(e,r.__wbindgen_export_0),i=p,a=r.sessionbuilder_setTokenizer(t,n,i);return I.__wrap(a)}setModel(e){const t=this.__destroy_into_raw(),n=k(e,r.__wbindgen_export_0),i=p,a=r.sessionbuilder_setModel(t,n,i);return I.__wrap(a)}build(){const e=this.__destroy_into_raw();return s(r.sessionbuilder_build(e))}}class P{static __wrap(e){e>>>=0;const t=Object.create(P.prototype);return t.__wbg_ptr=e,t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_sessionerror_free(e)}static new(e){const t=y(e,r.__wbindgen_export_0,r.__wbindgen_export_1),n=p,i=r.sessionerror_new(t,n);return P.__wrap(i)}toString(){let e,t;try{const a=r.__wbindgen_add_to_stack_pointer(-16);r.sessionerror_toString(a,this.__wbg_ptr);var n=b()[a/4+0],i=b()[a/4+1];return e=n,t=i,d(n,i)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_export_4(e,t,1)}}}class M{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_transcript_free(e)}}function L(){const t={wbg:{}};return t.wbg.__wbg_Window_17fd8eee712535f9=function(e){return f(a(e).Window)},t.wbg.__wbindgen_is_undefined=function(e){return void 0===a(e)},t.wbg.__wbindgen_object_drop_ref=function(e){s(e)},t.wbg.__wbg_WorkerGlobalScope_f93b9996824ad878=function(e){return f(a(e).WorkerGlobalScope)},t.wbg.__wbg_navigator_7c9103698acde322=function(e){return f(a(e).navigator)},t.wbg.__wbg_gpu_24536c9523d924b1=function(e){return f(a(e).gpu)},t.wbg.__wbg_navigator_41bd88b80ed4685e=function(e){return f(a(e).navigator)},t.wbg.__wbg_gpu_1678673f109c8aeb=function(e){return f(a(e).gpu)},t.wbg.__wbg_session_new=function(e){return f(C.__wrap(e))},t.wbg.__wbg_call_01734de55d61e11d=function(){return T((function(e,t,n){return f(a(e).call(a(t),a(n)))}),arguments)},t.wbg.__wbg_new_b51585de1b234aff=function(){return f(new Object)},t.wbg.__wbg_new_898a68150f225f2e=function(){return f(new Array)},t.wbg.__wbg_set_502d29070ea18557=function(e,t,n){a(e)[t>>>0]=s(n)},t.wbg.__wbg_set_20cbc34131e76824=function(e,t,n){a(e)[s(t)]=s(n)},t.wbg.__wbg_sessionerror_new=function(e){return f(P.__wrap(e))},t.wbg.__wbg_new_43f1b47c28813cbd=function(e,t){try{var n={a:e,b:t};const i=new Promise(((e,t)=>{const i=n.a;n.a=0;try{return function(e,t,n,i){r.__wbindgen_export_6(e,t,f(n),f(i))}(i,n.b,e,t)}finally{n.a=i}}));return f(i)}finally{n.a=n.b=0}},t.wbg.__wbindgen_string_new=function(e,t){return f(d(e,t))},t.wbg.__wbindgen_number_new=function(e){return f(e)},t.wbg.__wbg_new_abda76e883ba8a5f=function(){return f(new Error)},t.wbg.__wbg_stack_658279fe44541cf6=function(e,t){const n=y(a(t).stack,r.__wbindgen_export_0,r.__wbindgen_export_1),i=p;b()[e/4+1]=i,b()[e/4+0]=n},t.wbg.__wbg_error_f851667af71bcfc6=function(e,t){let n,i;try{n=e,i=t,console.error(d(e,t))}finally{r.__wbindgen_export_4(n,i,1)}},t.wbg.__wbg_crypto_c48a774b022d20ac=function(e){return f(a(e).crypto)},t.wbg.__wbindgen_is_object=function(e){const t=a(e);return"object"===typeof t&&null!==t},t.wbg.__wbg_process_298734cf255a885d=function(e){return f(a(e).process)},t.wbg.__wbg_versions_e2e78e134e3e5d01=function(e){return f(a(e).versions)},t.wbg.__wbg_node_1cd7a5d853dbea79=function(e){return f(a(e).node)},t.wbg.__wbindgen_is_string=function(e){return"string"===typeof a(e)},t.wbg.__wbg_msCrypto_bcb970640f50a1e8=function(e){return f(a(e).msCrypto)},t.wbg.__wbg_newwithlength_e5d69174d6984cd7=function(e){return f(new Uint8Array(e>>>0))},t.wbg.__wbg_require_8f08ceecec0f4fee=function(){return T((function(){return f(e.require)}),arguments)},t.wbg.__wbindgen_is_function=function(e){return"function"===typeof a(e)},t.wbg.__wbindgen_memory=function(){return f(r.memory)},t.wbg.__wbg_buffer_085ec1f694018c4f=function(e){return f(a(e).buffer)},t.wbg.__wbg_newwithbyteoffsetandlength_6da8e527659b86aa=function(e,t,n){return f(new Uint8Array(a(e),t>>>0,n>>>0))},t.wbg.__wbg_randomFillSync_dc1e9a60c158336d=function(){return T((function(e,t){a(e).randomFillSync(s(t))}),arguments)},t.wbg.__wbg_subarray_13db269f57aa838d=function(e,t,n){return f(a(e).subarray(t>>>0,n>>>0))},t.wbg.__wbg_getRandomValues_37fa2ca9e4e07fab=function(){return T((function(e,t){a(e).getRandomValues(a(t))}),arguments)},t.wbg.__wbg_new_8125e318e6245eed=function(e){return f(new Uint8Array(a(e)))},t.wbg.__wbg_set_5cf90238115182c3=function(e,t,n){a(e).set(a(t),n>>>0)},t.wbg.__wbg_get_97b561fb56f034b5=function(){return T((function(e,t){return f(Reflect.get(a(e),a(t)))}),arguments)},t.wbg.__wbg_now_0cfdc90c97d0c24b=function(e){return a(e).now()},t.wbg.__wbg_self_1ff1d729e9aae938=function(){return T((function(){return f(self.self)}),arguments)},t.wbg.__wbg_window_5f4faef6c12b79ec=function(){return T((function(){return f(window.window)}),arguments)},t.wbg.__wbg_globalThis_1d39714405582d3c=function(){return T((function(){return f(globalThis.globalThis)}),arguments)},t.wbg.__wbg_global_651f05c6a0944d1c=function(){return T((function(){return f(n.g.global)}),arguments)},t.wbg.__wbg_newnoargs_581967eacc0e2604=function(e,t){return f(new Function(d(e,t)))},t.wbg.__wbg_call_cb65541d95d71282=function(){return T((function(e,t){return f(a(e).call(a(t)))}),arguments)},t.wbg.__wbindgen_object_clone_ref=function(e){return f(a(e))},t.wbg.__wbindgen_debug_string=function(e,t){const n=y(h(a(t)),r.__wbindgen_export_0,r.__wbindgen_export_1),i=p;b()[e/4+1]=i,b()[e/4+0]=n},t.wbg.__wbindgen_throw=function(e,t){throw new Error(d(e,t))},t.wbg.__wbg_then_b2267541e2a73865=function(e,t,n){return f(a(e).then(a(t),a(n)))},t.wbg.__wbindgen_cb_drop=function(e){const t=s(e).original;if(1==t.cnt--)return t.a=0,!0;return!1},t.wbg.__wbg_resolve_53698b95aaf7fcf8=function(e){return f(Promise.resolve(a(e)))},t.wbg.__wbg_then_f7e06ee3c11698eb=function(e,t){return f(a(e).then(a(t)))},t.wbg.__wbg_set_092e06b0f9d71865=function(){return T((function(e,t,n){return Reflect.set(a(e),a(t),a(n))}),arguments)},t.wbg.__wbg_debug_9a6b3243fbbebb61=function(e){console.debug(a(e))},t.wbg.__wbg_error_788ae33f81d3b84b=function(e){console.error(a(e))},t.wbg.__wbg_info_2e30e8204b29d91d=function(e){console.info(a(e))},t.wbg.__wbg_log_1d3ae0273d8f4f8a=function(e){console.log(a(e))},t.wbg.__wbg_warn_d60e832f9882c1b2=function(e){console.warn(a(e))},t.wbg.__wbg_performance_e5eb61626698b7a4=function(e){return f(a(e).performance)},t.wbg.__wbg_now_928014da6271b17c=function(e){return a(e).now()},t.wbg.__wbg_instanceof_GpuAdapter_c0a5a310603ba618=function(e){let t;try{t=a(e)instanceof GPUAdapter}catch{t=!1}return t},t.wbg.__wbg_queue_f2aeb5c277e56f93=function(e){return f(a(e).queue)},t.wbg.__wbindgen_string_get=function(e,t){const n=a(t),i="string"===typeof n?n:void 0;var o=v(i)?0:y(i,r.__wbindgen_export_0,r.__wbindgen_export_1),s=p;b()[e/4+1]=s,b()[e/4+0]=o},t.wbg.__wbg_has_8720889cf3ad610c=function(e,t,n){return a(e).has(d(t,n))},t.wbg.__wbg_maxTextureDimension1D_4d1ddb46ed9dc470=function(e){return a(e).maxTextureDimension1D},t.wbg.__wbg_maxTextureDimension2D_37a46e61490c8297=function(e){return a(e).maxTextureDimension2D},t.wbg.__wbg_maxTextureDimension3D_7e3a97204d211743=function(e){return a(e).maxTextureDimension3D},t.wbg.__wbg_maxTextureArrayLayers_fee4db585706a5eb=function(e){return a(e).maxTextureArrayLayers},t.wbg.__wbg_maxBindGroups_dc8a5f97ba653c91=function(e){return a(e).maxBindGroups},t.wbg.__wbg_maxBindingsPerBindGroup_3d5ab311420be5df=function(e){return a(e).maxBindingsPerBindGroup},t.wbg.__wbg_maxDynamicUniformBuffersPerPipelineLayout_6b839b7dc97f34f0=function(e){return a(e).maxDynamicUniformBuffersPerPipelineLayout},t.wbg.__wbg_maxDynamicStorageBuffersPerPipelineLayout_5328cd2b9d884831=function(e){return a(e).maxDynamicStorageBuffersPerPipelineLayout},t.wbg.__wbg_maxSampledTexturesPerShaderStage_ac006b00cf776b4a=function(e){return a(e).maxSampledTexturesPerShaderStage},t.wbg.__wbg_maxSamplersPerShaderStage_dc092d6a272be20a=function(e){return a(e).maxSamplersPerShaderStage},t.wbg.__wbg_maxStorageBuffersPerShaderStage_dc5b58734b9ab932=function(e){return a(e).maxStorageBuffersPerShaderStage},t.wbg.__wbg_maxStorageTexturesPerShaderStage_2fec939cb0d5bbfd=function(e){return a(e).maxStorageTexturesPerShaderStage},t.wbg.__wbg_maxUniformBuffersPerShaderStage_b30d53cbf89caeae=function(e){return a(e).maxUniformBuffersPerShaderStage},t.wbg.__wbg_maxUniformBufferBindingSize_eec576e1342504b5=function(e){return a(e).maxUniformBufferBindingSize},t.wbg.__wbg_maxStorageBufferBindingSize_1ef0cc5e43dad09b=function(e){return a(e).maxStorageBufferBindingSize},t.wbg.__wbg_maxVertexBuffers_b4d31be9e3f93990=function(e){return a(e).maxVertexBuffers},t.wbg.__wbg_maxBufferSize_2d8398a691b9a8ce=function(e){return a(e).maxBufferSize},t.wbg.__wbg_maxVertexAttributes_904c5eb19a6f6c65=function(e){return a(e).maxVertexAttributes},t.wbg.__wbg_maxVertexBufferArrayStride_6800975c373d83bc=function(e){return a(e).maxVertexBufferArrayStride},t.wbg.__wbg_minUniformBufferOffsetAlignment_3af8c32faa30c5d8=function(e){return a(e).minUniformBufferOffsetAlignment},t.wbg.__wbg_minStorageBufferOffsetAlignment_766ef8ea8f9fe6e1=function(e){return a(e).minStorageBufferOffsetAlignment},t.wbg.__wbg_maxInterStageShaderComponents_b9f179b1cde06d08=function(e){return a(e).maxInterStageShaderComponents},t.wbg.__wbg_maxComputeWorkgroupStorageSize_9318e498283b79fb=function(e){return a(e).maxComputeWorkgroupStorageSize},t.wbg.__wbg_maxComputeInvocationsPerWorkgroup_2bfea723194ac5a0=function(e){return a(e).maxComputeInvocationsPerWorkgroup},t.wbg.__wbg_maxComputeWorkgroupSizeX_91fc9ba04de4148f=function(e){return a(e).maxComputeWorkgroupSizeX},t.wbg.__wbg_maxComputeWorkgroupSizeY_9052627dce4a7d1f=function(e){return a(e).maxComputeWorkgroupSizeY},t.wbg.__wbg_maxComputeWorkgroupSizeZ_45a1a82f8446a750=function(e){return a(e).maxComputeWorkgroupSizeZ},t.wbg.__wbg_maxComputeWorkgroupsPerDimension_100ee7392cc04c20=function(e){return a(e).maxComputeWorkgroupsPerDimension},t.wbg.__wbg_push_ca1c26067ef907ac=function(e,t){return a(e).push(a(t))},t.wbg.__wbg_createRenderPipeline_745f00bcb1ca6edf=function(e,t){return f(a(e).createRenderPipeline(a(t)))},t.wbg.__wbg_error_f85e77a2651e41dc=function(e){return f(a(e).error)},t.wbg.__wbg_valueOf_cefb0eb7807e83fb=function(e){return f(a(e).valueOf())},t.wbg.__wbg_instanceof_GpuValidationError_af2aa2e306669317=function(e){let t;try{t=a(e)instanceof GPUValidationError}catch{t=!1}return t},t.wbg.__wbg_message_c934153af8567cdb=function(e,t){const n=y(a(t).message,r.__wbindgen_export_0,r.__wbindgen_export_1),i=p;b()[e/4+1]=i,b()[e/4+0]=n},t.wbg.__wbg_instanceof_GpuOutOfMemoryError_45166ef4e2774fbe=function(e){let t;try{t=a(e)instanceof GPUOutOfMemoryError}catch{t=!1}return t},t.wbg.__wbg_instanceof_Object_3daa8298c86298be=function(e){let t;try{t=a(e)instanceof Object}catch{t=!1}return t},t.wbg.__wbg_buffer_f5b7059c439f330d=function(e){return f(a(e).buffer)},t.wbg.__wbg_writeBuffer_becf0c8f0323ffd7=function(e,t,n,r,i,o){a(e).writeBuffer(a(t),n,a(r),i,o)},t.wbg.__wbg_instanceof_Window_9029196b662bc42a=function(e){let t;try{t=a(e)instanceof Window}catch{t=!1}return t},t.wbg.__wbg_document_f7ace2b956f30a4f=function(e){const t=a(e).document;return v(t)?0:f(t)},t.wbg.__wbg_querySelectorAll_c03e8664a5a0f0c5=function(){return T((function(e,t,n){return f(a(e).querySelectorAll(d(t,n)))}),arguments)},t.wbg.__wbg_get_c77649dd3862b63a=function(e,t){const n=a(e)[t>>>0];return v(n)?0:f(n)},t.wbg.__wbg_getContext_7c5944ea807bf5d3=function(){return T((function(e,t,n){const r=a(e).getContext(d(t,n));return v(r)?0:f(r)}),arguments)},t.wbg.__wbg_instanceof_GpuCanvasContext_7a77e275c38d41d8=function(e){let t;try{t=a(e)instanceof GPUCanvasContext}catch{t=!1}return t},t.wbg.__wbg_requestAdapter_d8298d7a27a391f0=function(e,t){return f(a(e).requestAdapter(a(t)))},t.wbg.__wbg_requestDevice_068e794820eb88eb=function(e,t){return f(a(e).requestDevice(a(t)))},t.wbg.__wbg_features_88901f43932fb28e=function(e){return f(a(e).features)},t.wbg.__wbg_limits_a7f3fbf58768b61f=function(e){return f(a(e).limits)},t.wbg.__wbg_getPreferredCanvasFormat_1f6c9ef810196b92=function(e){return f(a(e).getPreferredCanvasFormat())},t.wbg.__wbg_setwidth_a667a942dba6656e=function(e,t){a(e).width=t>>>0},t.wbg.__wbg_setheight_a747d440760fe5aa=function(e,t){a(e).height=t>>>0},t.wbg.__wbg_setwidth_15266a5e81f43cf0=function(e,t){a(e).width=t>>>0},t.wbg.__wbg_setheight_2e9bab573f1775a6=function(e,t){a(e).height=t>>>0},t.wbg.__wbg_configure_93a57a4e5e0f8bcf=function(e,t){a(e).configure(a(t))},t.wbg.__wbg_getCurrentTexture_ecedc4f6f71990d2=function(e){return f(a(e).getCurrentTexture())},t.wbg.__wbg_features_dfb2178c91fa1dd7=function(e){return f(a(e).features)},t.wbg.__wbg_limits_45ceb777867eb768=function(e){return f(a(e).limits)},t.wbg.__wbg_createShaderModule_59bbf537b8b5cf7c=function(e,t){return f(a(e).createShaderModule(a(t)))},t.wbg.__wbg_createBindGroupLayout_af3b9d9ee0a1f5f9=function(e,t){return f(a(e).createBindGroupLayout(a(t)))},t.wbg.__wbg_createBindGroup_fa5515d52f9c6a69=function(e,t){return f(a(e).createBindGroup(a(t)))},t.wbg.__wbg_createPipelineLayout_1e10c8281fb85c01=function(e,t){return f(a(e).createPipelineLayout(a(t)))},t.wbg.__wbg_createComputePipeline_89131452dfd12672=function(e,t){return f(a(e).createComputePipeline(a(t)))},t.wbg.__wbg_createBuffer_36e159f52cc644a7=function(e,t){return f(a(e).createBuffer(a(t)))},t.wbg.__wbg_createTexture_dbd00b550944125c=function(e,t){return f(a(e).createTexture(a(t)))},t.wbg.__wbg_createSampler_09cd36835c9befb3=function(e,t){return f(a(e).createSampler(a(t)))},t.wbg.__wbg_createQuerySet_ccb746122176f8e5=function(e,t){return f(a(e).createQuerySet(a(t)))},t.wbg.__wbg_createCommandEncoder_a50a1dab2b499b95=function(e,t){return f(a(e).createCommandEncoder(a(t)))},t.wbg.__wbg_createRenderBundleEncoder_ad2d0237f581427b=function(e,t){return f(a(e).createRenderBundleEncoder(a(t)))},t.wbg.__wbg_setonuncapturederror_b3c814f611d5e585=function(e,t){a(e).onuncapturederror=a(t)},t.wbg.__wbg_pushErrorScope_0728aae3f2d3ed48=function(e,t){a(e).pushErrorScope(s(t))},t.wbg.__wbg_popErrorScope_19075fb98a08b740=function(e){return f(a(e).popErrorScope())},t.wbg.__wbg_mapAsync_91acdcf41b7ae21d=function(e,t,n,r){return f(a(e).mapAsync(t>>>0,n,r))},t.wbg.__wbg_getMappedRange_becef7e3d9dc5489=function(e,t,n){return f(a(e).getMappedRange(t,n))},t.wbg.__wbg_length_72e2208bbc0efc61=function(e){return a(e).length},t.wbg.__wbg_unmap_1677c09514e08e64=function(e){a(e).unmap()},t.wbg.__wbg_createView_3e46af1f54fdcd1f=function(e,t){return f(a(e).createView(a(t)))},t.wbg.__wbg_destroy_9b5398e5b148e210=function(e){a(e).destroy()},t.wbg.__wbg_destroy_728f676d96e34538=function(e){a(e).destroy()},t.wbg.__wbg_getBindGroupLayout_20dc45d52b96fa42=function(e,t){return f(a(e).getBindGroupLayout(t>>>0))},t.wbg.__wbg_getBindGroupLayout_dfc1b97f78c04beb=function(e,t){return f(a(e).getBindGroupLayout(t>>>0))},t.wbg.__wbg_copyBufferToBuffer_79ac12f409453cf0=function(e,t,n,r,i,o){a(e).copyBufferToBuffer(a(t),n,a(r),i,o)},t.wbg.__wbg_copyBufferToTexture_ac956e6d47c24e73=function(e,t,n,r){a(e).copyBufferToTexture(a(t),a(n),a(r))},t.wbg.__wbg_copyTextureToBuffer_787ec8d8c4c216f1=function(e,t,n,r){a(e).copyTextureToBuffer(a(t),a(n),a(r))},t.wbg.__wbg_copyTextureToTexture_a86e849469b0ef38=function(e,t,n,r){a(e).copyTextureToTexture(a(t),a(n),a(r))},t.wbg.__wbg_beginComputePass_579a2563c561da68=function(e,t){return f(a(e).beginComputePass(a(t)))},t.wbg.__wbg_end_dab719019df5969c=function(e){a(e).end()},t.wbg.__wbg_beginRenderPass_d04327f7231bd5af=function(e,t){return f(a(e).beginRenderPass(a(t)))},t.wbg.__wbg_end_bdfb66792e0c59a2=function(e){a(e).end()},t.wbg.__wbg_label_c7970304720cf8b0=function(e,t){const n=y(a(t).label,r.__wbindgen_export_0,r.__wbindgen_export_1),i=p;b()[e/4+1]=i,b()[e/4+0]=n},t.wbg.__wbg_finish_d1049a13335e8326=function(e,t){return f(a(e).finish(a(t)))},t.wbg.__wbg_finish_5153789564a5eee5=function(e){return f(a(e).finish())},t.wbg.__wbg_clearBuffer_c370e7adb8398388=function(e,t,n){a(e).clearBuffer(a(t),n)},t.wbg.__wbg_clearBuffer_b8e6751290709d43=function(e,t,n,r){a(e).clearBuffer(a(t),n,r)},t.wbg.__wbg_writeTimestamp_107647519ce52436=function(e,t,n){a(e).writeTimestamp(a(t),n>>>0)},t.wbg.__wbg_resolveQuerySet_8ac49c71e15cdf6a=function(e,t,n,r,i,o){a(e).resolveQuerySet(a(t),n>>>0,r>>>0,a(i),o>>>0)},t.wbg.__wbg_finish_863657abae52896e=function(e){return f(a(e).finish())},t.wbg.__wbg_finish_e580ef236d53f04b=function(e,t){return f(a(e).finish(a(t)))},t.wbg.__wbg_usage_f5b34f3e0170424b=function(e){return a(e).usage},t.wbg.__wbg_size_6540ddb49e0d7120=function(e){return a(e).size},t.wbg.__wbg_writeTexture_465ecc6146e5052c=function(e,t,n,r,i){a(e).writeTexture(a(t),a(n),a(r),a(i))},t.wbg.__wbg_copyExternalImageToTexture_819ec294d299f624=function(e,t,n,r){a(e).copyExternalImageToTexture(a(t),a(n),a(r))},t.wbg.__wbg_submit_3104e9b014f75846=function(e,t){a(e).submit(a(t))},t.wbg.__wbg_setPipeline_598117fdeb73cf8f=function(e,t){a(e).setPipeline(a(t))},t.wbg.__wbg_setBindGroup_c619f49c16ef095b=function(e,t,n){a(e).setBindGroup(t>>>0,a(n))},t.wbg.__wbg_setBindGroup_dffce83253968cdd=function(e,t,n,r,i,o,s){a(e).setBindGroup(t>>>0,a(n),A(r,i),o,s>>>0)},t.wbg.__wbg_dispatchWorkgroups_c484cd3530a3801d=function(e,t,n,r){a(e).dispatchWorkgroups(t>>>0,n>>>0,r>>>0)},t.wbg.__wbg_dispatchWorkgroupsIndirect_2b89ee1731fab5f8=function(e,t,n){a(e).dispatchWorkgroupsIndirect(a(t),n)},t.wbg.__wbg_setPipeline_66f1e900256fc946=function(e,t){a(e).setPipeline(a(t))},t.wbg.__wbg_setBindGroup_e6d2dd2ab3573b6d=function(e,t,n){a(e).setBindGroup(t>>>0,a(n))},t.wbg.__wbg_setBindGroup_6bc8944422dbb3cd=function(e,t,n,r,i,o,s){a(e).setBindGroup(t>>>0,a(n),A(r,i),o,s>>>0)},t.wbg.__wbg_setIndexBuffer_4dc5432dc348458d=function(e,t,n,r){a(e).setIndexBuffer(a(t),s(n),r)},t.wbg.__wbg_setIndexBuffer_f3bae4da9e407eaf=function(e,t,n,r,i){a(e).setIndexBuffer(a(t),s(n),r,i)},t.wbg.__wbg_setVertexBuffer_c782d133fd439184=function(e,t,n,r){a(e).setVertexBuffer(t>>>0,a(n),r)},t.wbg.__wbg_setVertexBuffer_4da0a96267ce82db=function(e,t,n,r,i){a(e).setVertexBuffer(t>>>0,a(n),r,i)},t.wbg.__wbg_draw_3958097471a10642=function(e,t,n,r,i){a(e).draw(t>>>0,n>>>0,r>>>0,i>>>0)},t.wbg.__wbg_drawIndexed_8856cc4ccffa3498=function(e,t,n,r,i,o){a(e).drawIndexed(t>>>0,n>>>0,r>>>0,i,o>>>0)},t.wbg.__wbg_drawIndirect_95c6eb1494a44d06=function(e,t,n){a(e).drawIndirect(a(t),n)},t.wbg.__wbg_drawIndexedIndirect_0404fa6cb9a6db25=function(e,t,n){a(e).drawIndexedIndirect(a(t),n)},t.wbg.__wbg_setPipeline_18ce556bdea62cc5=function(e,t){a(e).setPipeline(a(t))},t.wbg.__wbg_setBindGroup_ed098a3302f084a7=function(e,t,n){a(e).setBindGroup(t>>>0,a(n))},t.wbg.__wbg_setBindGroup_ce4432036922cd83=function(e,t,n,r,i,o,s){a(e).setBindGroup(t>>>0,a(n),A(r,i),o,s>>>0)},t.wbg.__wbg_setIndexBuffer_1f4a86d1cc8c16d9=function(e,t,n,r){a(e).setIndexBuffer(a(t),s(n),r)},t.wbg.__wbg_setIndexBuffer_9f8493460611f96b=function(e,t,n,r,i){a(e).setIndexBuffer(a(t),s(n),r,i)},t.wbg.__wbg_setVertexBuffer_2a2c84d65c1063f9=function(e,t,n,r){a(e).setVertexBuffer(t>>>0,a(n),r)},t.wbg.__wbg_setVertexBuffer_176c2dff823c42c1=function(e,t,n,r,i){a(e).setVertexBuffer(t>>>0,a(n),r,i)},t.wbg.__wbg_draw_6357a5fbc8a6b097=function(e,t,n,r,i){a(e).draw(t>>>0,n>>>0,r>>>0,i>>>0)},t.wbg.__wbg_drawIndexed_5d1dd89d7375148c=function(e,t,n,r,i,o){a(e).drawIndexed(t>>>0,n>>>0,r>>>0,i,o>>>0)},t.wbg.__wbg_drawIndirect_8dd595dc622e21ac=function(e,t,n){a(e).drawIndirect(a(t),n)},t.wbg.__wbg_drawIndexedIndirect_526599171cfbbee5=function(e,t,n){a(e).drawIndexedIndirect(a(t),n)},t.wbg.__wbg_setBlendConstant_e89574db5137b2f6=function(e,t){a(e).setBlendConstant(a(t))},t.wbg.__wbg_setScissorRect_0af8c89e90a6e89c=function(e,t,n,r,i){a(e).setScissorRect(t>>>0,n>>>0,r>>>0,i>>>0)},t.wbg.__wbg_setViewport_9c5fb686baf1cf4f=function(e,t,n,r,i,o,s){a(e).setViewport(t,n,r,i,o,s)},t.wbg.__wbg_setStencilReference_71be0db67db2f7ab=function(e,t){a(e).setStencilReference(t>>>0)},t.wbg.__wbg_executeBundles_0a1fdfd83c1a3e57=function(e,t){a(e).executeBundles(a(t))},t.wbg.__wbindgen_closure_wrapper4020=function(e,t,n){return f(w(e,t,255,x))},t.wbg.__wbindgen_closure_wrapper5256=function(e,t,n){return f(w(e,t,255,x))},t.wbg.__wbindgen_closure_wrapper5263=function(e,t,n){return f(w(e,t,255,x))},t}function R(e,t){return r=e.exports,D.__wbindgen_wasm_module=t,_=null,E=null,u=null,r.__wbindgen_start(),r}function N(e){if(void 0!==r)return r;const t=L();e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e));return R(new WebAssembly.Instance(e,t),e)}async function D(e){if(void 0!==r)return r;"undefined"===typeof e&&(e=new URL(n(2747),n.b));const t=L();("string"===typeof e||"function"===typeof Request&&e instanceof Request||"function"===typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:i,module:a}=await async function(e,t){if("function"===typeof Response&&e instanceof Response){if("function"===typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(n){if("application/wasm"==e.headers.get("Content-Type"))throw n;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n)}const r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await e,t);return R(i,a)}const j=D},2747:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/whisper-webgpu_bg.54871d98a52f156e380f.wasm"},3145:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.r(t),n.d(t,{default:()=>r})},467:(e,t,n)=>{"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,l,"next",e)}function l(e){r(o,i,a,s,l,"throw",e)}s(void 0)}))}}n.r(t),n.d(t,{default:()=>i})},3029:(e,t,n)=>{"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.r(t),n.d(t,{default:()=>r})},2901:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(816);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.default)(i.key),i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},4467:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(816);function i(e,t,n){return(t=(0,r.default)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},8168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.r(t),n.d(t,{default:()=>r})},3954:(e,t,n)=>{"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.r(t),n.d(t,{default:()=>r})},5361:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}n.r(t),n.d(t,{default:()=>i})},9379:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(4467);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},45:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(8587);function i(e,t){if(null==e)return{};var n,i,a=(0,r.default)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},8587:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}n.r(t),n.d(t,{default:()=>r})},388:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2284);function i(e,t){if(t&&("object"==(0,r.default)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}},296:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(7800);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||(0,r.default)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},5458:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(3145);var i=n(7800);function a(e){return function(e){if(Array.isArray(e))return(0,r.default)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.default)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},816:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2284);function i(e){var t=function(e,t){if("object"!=(0,r.default)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=(0,r.default)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.default)(t)?t:t+""}},2284:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.r(t),n.d(t,{default:()=>r})},7800:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(3145);function i(e,t){if(e){if("string"==typeof e)return(0,r.default)(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.default)(e,t):void 0}}},4960:(e,t,n)=>{"use strict";n.r(t),n.d(t,{HuggingFaceTransformersEmbeddings:()=>a});var r=n(9177),i=n(834);class a extends r.Embeddings{constructor(e){super(e??{}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"Xenova/all-MiniLM-L6-v2"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"Xenova/all-MiniLM-L6-v2"}),Object.defineProperty(this,"batchSize",{enumerable:!0,configurable:!0,writable:!0,value:512}),Object.defineProperty(this,"stripNewLines",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pipelinePromise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.modelName=e?.model??e?.modelName??this.model,this.model=this.modelName,this.stripNewLines=e?.stripNewLines??this.stripNewLines,this.timeout=e?.timeout}async embedDocuments(e){const t=(0,i.chunkArray)(this.stripNewLines?e.map((e=>e.replace(/\n/g," "))):e,this.batchSize).map((e=>this.runEmbedding(e))),n=await Promise.all(t),r=[];for(let i=0;i<n.length;i+=1){const e=n[i];for(let t=0;t<e.length;t+=1)r.push(e[t])}return r}async embedQuery(e){return(await this.runEmbedding([this.stripNewLines?e.replace(/\n/g," "):e]))[0]}async runEmbedding(e){const t=await(this.pipelinePromise??=(await Promise.resolve().then(n.bind(n,1988))).pipeline("feature-extraction",this.model));return this.caller.call((async()=>(await t(e,{pooling:"mean",normalize:!0})).tolist()))}}},6999:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BaseCallbackHandler:()=>s});var r=n(9228),i=n(7949),a=n(6306);class o{}class s extends o{get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,(0,i.get_lc_unique_name)(this.constructor)]}constructor(e){super(),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreLLM",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreChain",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreAgent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreRetriever",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"raiseError",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"awaitHandlers",{enumerable:!0,configurable:!0,writable:!0,value:"true"!==(0,a.getEnvironmentVariable)("LANGCHAIN_CALLBACKS_BACKGROUND")}),this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever,this.raiseError=e.raiseError??this.raiseError,this.awaitHandlers=this.raiseError||(e._awaitHandler??this.awaitHandlers))}copy(){return new this.constructor(this)}toJSON(){return i.Serializable.prototype.toJSON.call(this)}toJSONNotImplemented(){return i.Serializable.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){return new class extends s{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:r.default()}),Object.assign(this,e)}}}}},9761:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BaseCallbackManager:()=>Q,CallbackManager:()=>ae,CallbackManagerForChainRun:()=>re,CallbackManagerForLLMRun:()=>ne,CallbackManagerForRetrieverRun:()=>te,CallbackManagerForToolRun:()=>ie,TraceGroup:()=>se,ensureHandler:()=>oe,parseCallbackConfigArg:()=>J,traceAsGroup:()=>le});var r=n(9228),i=n(6999),a=n(5133),o=n(5569);function s(e,t){return`${e.open}${t}${e.close}`}function l(e,t){try{return JSON.stringify(e,null,2)}catch(n){return t}}function u(e){if(!e.end_time)return"";const t=e.end_time-e.start_time;return t<1e3?`${t}ms`:`${(t/1e3).toFixed(2)}s`}const{color:c}=a;class d extends o.BaseTracer{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"console_callback_handler"})}persistRun(e){return Promise.resolve()}getParents(e){const t=[];let n=e;for(;n.parent_run_id;){const e=this.runMap.get(n.parent_run_id);if(!e)break;t.push(e),n=e}return t}getBreadcrumbs(e){const t=[...this.getParents(e).reverse(),e].map(((e,t,n)=>{const r=`${e.execution_order}:${e.run_type}:${e.name}`;return t===n.length-1?s(a.bold,r):r})).join(" > ");return s(c.grey,t)}onChainStart(e){const t=this.getBreadcrumbs(e);console.log(`${s(c.green,"[chain/start]")} [${t}] Entering Chain run with input: ${l(e.inputs,"[inputs]")}`)}onChainEnd(e){const t=this.getBreadcrumbs(e);console.log(`${s(c.cyan,"[chain/end]")} [${t}] [${u(e)}] Exiting Chain run with output: ${l(e.outputs,"[outputs]")}`)}onChainError(e){const t=this.getBreadcrumbs(e);console.log(`${s(c.red,"[chain/error]")} [${t}] [${u(e)}] Chain run errored with error: ${l(e.error,"[error]")}`)}onLLMStart(e){const t=this.getBreadcrumbs(e),n="prompts"in e.inputs?{prompts:e.inputs.prompts.map((e=>e.trim()))}:e.inputs;console.log(`${s(c.green,"[llm/start]")} [${t}] Entering LLM run with input: ${l(n,"[inputs]")}`)}onLLMEnd(e){const t=this.getBreadcrumbs(e);console.log(`${s(c.cyan,"[llm/end]")} [${t}] [${u(e)}] Exiting LLM run with output: ${l(e.outputs,"[response]")}`)}onLLMError(e){const t=this.getBreadcrumbs(e);console.log(`${s(c.red,"[llm/error]")} [${t}] [${u(e)}] LLM run errored with error: ${l(e.error,"[error]")}`)}onToolStart(e){const t=this.getBreadcrumbs(e);console.log(`${s(c.green,"[tool/start]")} [${t}] Entering Tool run with input: "${e.inputs.input?.trim()}"`)}onToolEnd(e){const t=this.getBreadcrumbs(e);console.log(`${s(c.cyan,"[tool/end]")} [${t}] [${u(e)}] Exiting Tool run with output: "${e.outputs?.output?.trim()}"`)}onToolError(e){const t=this.getBreadcrumbs(e);console.log(`${s(c.red,"[tool/error]")} [${t}] [${u(e)}] Tool run errored with error: ${l(e.error,"[error]")}`)}onRetrieverStart(e){const t=this.getBreadcrumbs(e);console.log(`${s(c.green,"[retriever/start]")} [${t}] Entering Retriever run with input: ${l(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){const t=this.getBreadcrumbs(e);console.log(`${s(c.cyan,"[retriever/end]")} [${t}] [${u(e)}] Exiting Retriever run with output: ${l(e.outputs,"[outputs]")}`)}onRetrieverError(e){const t=this.getBreadcrumbs(e);console.log(`${s(c.red,"[retriever/error]")} [${t}] [${u(e)}] Retriever run errored with error: ${l(e.error,"[error]")}`)}onAgentAction(e){const t=e,n=this.getBreadcrumbs(e);console.log(`${s(c.blue,"[agent/action]")} [${n}] Agent selected action: ${l(t.actions[t.actions.length-1],"[action]")}`)}}const f={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let h;const p=new Uint8Array(16);function g(){if(!h&&(h="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!h))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return h(p)}const m=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const y=function(e){return"string"===typeof e&&m.test(e)},_=[];for(let ue=0;ue<256;++ue)_.push((ue+256).toString(16).slice(1));function b(e,t=0){return _[e[t+0]]+_[e[t+1]]+_[e[t+2]]+_[e[t+3]]+"-"+_[e[t+4]]+_[e[t+5]]+"-"+_[e[t+6]]+_[e[t+7]]+"-"+_[e[t+8]]+_[e[t+9]]+"-"+_[e[t+10]]+_[e[t+11]]+_[e[t+12]]+_[e[t+13]]+_[e[t+14]]+_[e[t+15]]}const v=function(e,t,n){if(f.randomUUID&&!t&&!e)return f.randomUUID();const r=(e=e||{}).random||(e.rng||g)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return b(r)};var w=n(8121),x=n(1321);const k=[400,401,403,404,405,406,407,408],S=[409];class T{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.queue=new x.default({concurrency:this.maxConcurrency}),this.onFailedResponseHook=e?.onFailedResponseHook}call(e,...t){const n=this.onFailedResponseHook;return this.queue.add((()=>w((()=>e(...t).catch((e=>{throw e instanceof Error?e:new Error(e)}))),{async onFailedAttempt(e){if(e.message.startsWith("Cancel")||e.message.startsWith("TimeoutError")||e.message.startsWith("AbortError"))throw e;if("ECONNABORTED"===e?.code)throw e;const t=e?.response,r=t?.status;if(r){if(k.includes(+r))throw e;if(S.includes(+r))return;n&&await n(t)}},retries:this.maxRetries,randomize:!0})),{throwOnTimeout:!0})}callWithOptions(e,t,...n){return e.signal?Promise.race([this.call(t,...n),new Promise(((t,n)=>{e.signal?.addEventListener("abort",(()=>{n(new Error("AbortError"))}))}))]):this.call(t,...n)}fetch(...e){return this.call((()=>fetch(...e).then((e=>e.ok?e:Promise.reject(e)))))}}function E(e){return"function"===typeof e?._getType}function A(e){const t={type:e._getType(),data:{content:e.content}};return e?.additional_kwargs&&Object.keys(e.additional_kwargs).length>0&&(t.data.additional_kwargs={...e.additional_kwargs}),t}let O;const C=()=>"undefined"!==typeof Deno,I=()=>O||(O="undefined"!==typeof window&&"undefined"!==typeof window.document?"browser":"undefined"===typeof process||"undefined"===typeof process.versions||"undefined"===typeof process.versions.node||C()?"object"===typeof globalThis&&globalThis.constructor&&"DedicatedWorkerGlobalScope"===globalThis.constructor.name?"webworker":"undefined"!==typeof window&&"nodejs"===window.name||"undefined"!==typeof navigator&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom"))?"jsdom":C()?"deno":"other":"node",O);let P,M;async function L(){if(void 0===P){const e=I(),t=function(){if(void 0!==M)return M;const e=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],t={};for(const n of e){const e=N(n);void 0!==e&&(t[n]=e)}return M=t,t}();P={library:"langsmith",runtime:e,sdk:"langsmith-js",sdk_version:H,...t}}return P}function R(){try{return"undefined"!==typeof process?Object.entries({NODE_ENV:"production",PUBLIC_URL:".",APP_MANIFEST:{name:"Soulgarden",slug:"Soulgarden",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"light",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#1e2c33"},web:{},extra:{eas:{projectId:"38711c52-ddf9-4daf-b83c-8fb7f02dc34b"}},description:"Soulgarden AI companion",sdkVersion:"48.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}).reduce(((e,[t,n])=>(e[t]=String(n),e)),{}):void 0}catch(e){return}}function N(e){try{return"undefined"!==typeof process?{NODE_ENV:"production",PUBLIC_URL:".",APP_MANIFEST:{name:"Soulgarden",slug:"Soulgarden",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"light",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#1e2c33"},web:{},extra:{eas:{projectId:"38711c52-ddf9-4daf-b83c-8fb7f02dc34b"}},description:"Soulgarden AI companion",sdkVersion:"48.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}?.[e]:void 0}catch(t){return}}function D(e){if(!y(e))throw new Error(`Invalid UUID: ${e}`)}const j={};function F(e){j[e]||(console.warn(e),j[e]=!0)}async function B(e){const t=await L(),n=function(){const e=R()||{},t={},n=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION"];for(const[r,i]of Object.entries(e))!r.startsWith("LANGCHAIN_")||"string"!==typeof i||n.includes(r)||r.toLowerCase().includes("key")||r.toLowerCase().includes("secret")||r.toLowerCase().includes("token")||("LANGCHAIN_REVISION_ID"===r?t.revision_id=i:t[r]=i);return t}();return e.map((e=>{const r=e.extra??{},i=r.metadata;return e.extra={...r,runtime:{...t,...r?.runtime},metadata:{...n,...n.revision_id||e.revision_id?{revision_id:e.revision_id??n.revision_id}:{},...i}},e}))}const z=async(e,t)=>{const n=await e.text();if(!e.ok)throw new Error(`Failed to ${t}: ${e.status} ${e.statusText} ${n}`)};function $(e){if(void 0!==e)return e.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}const U=async e=>{if(429===e?.status){const t=1e3*parseInt(e.headers.get("retry-after")??"30",10);if(t>0)return await new Promise((e=>setTimeout(e,t))),!0}return!1};class V{constructor(){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]})}get size(){return this.items.length}push(e){return new Promise((t=>{this.items.push([e,t])}))}pop(e){if(e<1)throw new Error("Number of items to pop off may not be less than 1.");const t=[];for(;t.length<e&&this.items.length;){const e=this.items.shift();if(!e)break;t.push(e)}return[t.map((e=>e[0])),()=>t.forEach((e=>e[1]()))]}}class W{constructor(e={}){Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sampledPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"batchEndpointSupported",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:new V}),Object.defineProperty(this,"pendingAutoBatchedRunLimit",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchInitialDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:50}),Object.defineProperty(this,"serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const t=W.getDefaultClientConfig();this.tracingSampleRate=(()=>{const e=N("LANGCHAIN_TRACING_SAMPLING_RATE");if(void 0===e)return;const t=parseFloat(e);if(t<0||t>1)throw new Error(`LANGCHAIN_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${t}`);return t})(),this.apiUrl=$(e.apiUrl??t.apiUrl)??"",this.apiKey=$(e.apiKey??t.apiKey),this.webUrl=$(e.webUrl??t.webUrl),this.timeout_ms=e.timeout_ms??12e3,this.caller=new T(e.callerOptions??{}),this.batchIngestCaller=new T({...e.callerOptions??{},onFailedResponseHook:U}),this.hideInputs=e.hideInputs??e.anonymizer??t.hideInputs,this.hideOutputs=e.hideOutputs??e.anonymizer??t.hideOutputs,this.autoBatchTracing=e.autoBatchTracing??this.autoBatchTracing,this.pendingAutoBatchedRunLimit=e.pendingAutoBatchedRunLimit??this.pendingAutoBatchedRunLimit,this.fetchOptions=e.fetchOptions||{}}static getDefaultClientConfig(){const e=N("LANGCHAIN_API_KEY");return{apiUrl:N("LANGCHAIN_ENDPOINT")??"https://api.smith.langchain.com",apiKey:e,webUrl:void 0,hideInputs:"true"===N("LANGCHAIN_HIDE_INPUTS"),hideOutputs:"true"===N("LANGCHAIN_HIDE_OUTPUTS")}}getHostUrl(){return this.webUrl?this.webUrl:(e=>{const t=e.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return"localhost"===t||"127.0.0.1"===t||"::1"===t})(this.apiUrl)?(this.webUrl="http://localhost:3000",this.webUrl):this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api")?(this.webUrl=this.apiUrl.replace("/api",""),this.webUrl):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com",this.webUrl):(this.webUrl="https://smith.langchain.com",this.webUrl)}get headers(){const e={"User-Agent":`langsmith-js/${H}`};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),e}processInputs(e){return!1===this.hideInputs?e:!0===this.hideInputs?{}:"function"===typeof this.hideInputs?this.hideInputs(e):e}processOutputs(e){return!1===this.hideOutputs?e:!0===this.hideOutputs?{}:"function"===typeof this.hideOutputs?this.hideOutputs(e):e}prepareRunCreateOrUpdateInputs(e){const t={...e};return void 0!==t.inputs&&(t.inputs=this.processInputs(t.inputs)),void 0!==t.outputs&&(t.outputs=this.processOutputs(t.outputs)),t}async _getResponse(e,t){const n=t?.toString()??"",r=`${this.apiUrl}${e}?${n}`,i=await this.caller.call(fetch,r,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!i.ok)throw new Error(`Failed to fetch ${e}: ${i.status} ${i.statusText}`);return i}async _get(e,t){return(await this._getResponse(e,t)).json()}async*_getPaginated(e,t=new URLSearchParams){let n=Number(t.get("offset"))||0;const r=Number(t.get("limit"))||100;for(;;){t.set("offset",String(n)),t.set("limit",String(r));const i=`${this.apiUrl}${e}?${t}`,a=await this.caller.call(fetch,i,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!a.ok)throw new Error(`Failed to fetch ${e}: ${a.status} ${a.statusText}`);const o=await a.json();if(0===o.length)break;if(yield o,o.length<r)break;n+=o.length}}async*_getCursorPaginatedList(e,t=null,n="POST",r="runs"){const i=t?{...t}:{};for(;;){const t=await this.caller.call(fetch,`${this.apiUrl}${e}`,{method:n,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:JSON.stringify(i)}),a=await t.json();if(!a)break;if(!a[r])break;yield a[r];const o=a.cursors;if(!o)break;if(!o.next)break;i.cursor=o.next}}_filterForSampling(e,t=!1){if(void 0===this.tracingSampleRate)return e;if(t){const t=[];for(const n of e)this.sampledPostUuids.has(n.id)&&(t.push(n),this.sampledPostUuids.delete(n.id));return t}{const t=[];for(const n of e)Math.random()<this.tracingSampleRate&&(t.push(n),this.sampledPostUuids.add(n.id));return t}}async drainAutoBatchQueue(){for(;this.autoBatchQueue.size>=0;){const[e,t]=this.autoBatchQueue.pop(this.pendingAutoBatchedRunLimit);if(!e.length)return void t();try{await this.batchIngestRuns({runCreates:e.filter((e=>"create"===e.action)).map((e=>e.item)),runUpdates:e.filter((e=>"update"===e.action)).map((e=>e.item))})}finally{t()}}}async processRunOperation(e,t){const n=this.autoBatchTimeout;clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0;const r=this.autoBatchQueue.push(e);return(t||this.autoBatchQueue.size>this.pendingAutoBatchedRunLimit)&&await this.drainAutoBatchQueue(),this.autoBatchQueue.size>0&&(this.autoBatchTimeout=setTimeout((()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue().catch(console.error)}),n?this.autoBatchAggregationDelayMs:this.autoBatchInitialDelayMs)),r}async _getServerInfo(){const e=await fetch(`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!e.ok)throw await e.text(),new Error("Failed to retrieve server info.");return e.json()}async batchEndpointIsSupported(){try{this.serverInfo=await this._getServerInfo()}catch(e){return!1}return!0}async createRun(e){if(!this._filterForSampling([e]).length)return;const t={...this.headers,"Content-Type":"application/json"},n=e.project_name;delete e.project_name;const r=this.prepareRunCreateOrUpdateInputs({session_name:n,...e,start_time:e.start_time??Date.now()});if(this.autoBatchTracing&&void 0!==r.trace_id&&void 0!==r.dotted_order)return void this.processRunOperation({action:"create",item:r}).catch(console.error);const i=await B([r]),a=await this.caller.call(fetch,`${this.apiUrl}/runs`,{method:"POST",headers:t,body:JSON.stringify(i[0]),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await z(a,"create run")}async batchIngestRuns({runCreates:e,runUpdates:t}){if(void 0===e&&void 0===t)return;let n=e?.map((e=>this.prepareRunCreateOrUpdateInputs(e)))??[],r=t?.map((e=>this.prepareRunCreateOrUpdateInputs(e)))??[];if(n.length>0&&r.length>0){const e=n.reduce(((e,t)=>t.id?(e[t.id]=t,e):e),{}),t=[];for(const n of r)void 0!==n.id&&e[n.id]?e[n.id]={...e[n.id],...n}:t.push(n);n=Object.values(e),r=t}const i={post:this._filterForSampling(n),patch:this._filterForSampling(r,!0)};if(!i.post.length&&!i.patch.length)return;if(n=await B(n),void 0===this.batchEndpointSupported&&(this.batchEndpointSupported=await this.batchEndpointIsSupported()),!this.batchEndpointSupported){this.autoBatchTracing=!1;for(const e of i.post)await this.createRun(e);for(const e of i.patch)void 0!==e.id&&await this.updateRun(e.id,e);return}const a=this.serverInfo?.batch_ingest_config?.size_limit_bytes??20971520,o={post:[],patch:[]};let s=0;for(const l of["post","patch"]){const e=l,t=i[e].reverse();let n=t.pop();for(;void 0!==n;){const r=JSON.stringify(n);s>0&&s+r.length>a&&(await this._postBatchIngestRuns(JSON.stringify(o)),s=0,o.post=[],o.patch=[]),s+=r.length,o[e].push(n),n=t.pop()}}(o.post.length>0||o.patch.length>0)&&await this._postBatchIngestRuns(JSON.stringify(o))}async _postBatchIngestRuns(e){const t={...this.headers,"Content-Type":"application/json",Accept:"application/json"},n=await this.batchIngestCaller.call(fetch,`${this.apiUrl}/runs/batch`,{method:"POST",headers:t,body:e,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await z(n,"batch create run")}async updateRun(e,t){D(e),t.inputs&&(t.inputs=this.processInputs(t.inputs)),t.outputs&&(t.outputs=this.processOutputs(t.outputs));const n={...t,id:e};if(!this._filterForSampling([n],!0).length)return;if(this.autoBatchTracing&&void 0!==n.trace_id&&void 0!==n.dotted_order)return void 0!==t.end_time&&void 0===n.parent_run_id?void await this.processRunOperation({action:"update",item:n},!0):void this.processRunOperation({action:"update",item:n}).catch(console.error);const r={...this.headers,"Content-Type":"application/json"},i=await this.caller.call(fetch,`${this.apiUrl}/runs/${e}`,{method:"PATCH",headers:r,body:JSON.stringify(t),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await z(i,"update run")}async readRun(e,{loadChildRuns:t}={loadChildRuns:!1}){D(e);let n=await this._get(`/runs/${e}`);return t&&n.child_run_ids&&(n=await this._loadChildRuns(n)),n}async getRunUrl({runId:e,run:t,projectOpts:n}){if(void 0!==t){let e;if(t.session_id)e=t.session_id;else if(n?.projectName)e=(await this.readProject({projectName:n?.projectName})).id;else if(n?.projectId)e=n?.projectId;else{e=(await this.readProject({projectName:N("LANGCHAIN_PROJECT")||"default"})).id}const r=await this._getTenantId();return`${this.getHostUrl()}/o/${r}/projects/p/${e}/r/${t.id}?poll=true`}if(void 0!==e){const t=await this.readRun(e);if(!t.app_path)throw new Error(`Run ${e} has no app_path`);return`${this.getHostUrl()}${t.app_path}`}throw new Error("Must provide either runId or run")}async _loadChildRuns(e){const t=await async function(e){const t=[];for await(const n of e)t.push(n);return t}(this.listRuns({id:e.child_run_ids})),n={},r={};t.sort(((e,t)=>(e?.dotted_order??"").localeCompare(t?.dotted_order??"")));for(const i of t){if(null===i.parent_run_id||void 0===i.parent_run_id)throw new Error(`Child run ${i.id} has no parent`);i.parent_run_id in n||(n[i.parent_run_id]=[]),n[i.parent_run_id].push(i),r[i.id]=i}e.child_runs=n[e.id]||[];for(const i in n)i!==e.id&&(r[i].child_runs=n[i]);return e}async*listRuns(e){const{projectId:t,projectName:n,parentRunId:r,traceId:i,referenceExampleId:a,startTime:o,executionOrder:s,isRoot:l,runType:u,error:c,id:d,query:f,filter:h,traceFilter:p,treeFilter:g,limit:m,select:y}=e;let _=[];if(t&&(_=Array.isArray(t)?t:[t]),n){const e=Array.isArray(n)?n:[n],t=await Promise.all(e.map((e=>this.readProject({projectName:e}).then((e=>e.id)))));_.push(...t)}const b={session:_.length?_:null,run_type:u,reference_example:a,query:f,filter:h,trace_filter:p,tree_filter:g,execution_order:s,parent_run:r,start_time:o?o.toISOString():null,error:c,id:d,limit:m,trace:i,select:y||["app_path","child_run_ids","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],is_root:l};let v=0;for await(const w of this._getCursorPaginatedList("/runs/query",b))if(m){if(v>=m)break;if(w.length+v>m){const e=w.slice(0,m-v);yield*e;break}v+=w.length,yield*w}else yield*w}async shareRun(e,{shareId:t}={}){const n={run_id:e,share_token:t||v()};D(e);const r=await this.caller.call(fetch,`${this.apiUrl}/runs/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(n),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),i=await r.json();if(null===i||!("share_token"in i))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${i.share_token}/r`}async unshareRun(e){D(e);const t=await this.caller.call(fetch,`${this.apiUrl}/runs/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await z(t,"unshare run")}async readRunSharedLink(e){D(e);const t=await this.caller.call(fetch,`${this.apiUrl}/runs/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),n=await t.json();if(null!==n&&"share_token"in n)return`${this.getHostUrl()}/public/${n.share_token}/r`}async listSharedRuns(e,{runIds:t}={}){const n=new URLSearchParams({share_token:e});if(void 0!==t)for(const i of t)n.append("id",i);D(e);const r=await this.caller.call(fetch,`${this.apiUrl}/public/${e}/runs${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await r.json()}async readDatasetSharedSchema(e,t){if(!e&&!t)throw new Error("Either datasetId or datasetName must be given");if(!e){e=(await this.readDataset({datasetName:t})).id}D(e);const n=await this.caller.call(fetch,`${this.apiUrl}/datasets/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),r=await n.json();return r.url=`${this.getHostUrl()}/public/${r.share_token}/d`,r}async shareDataset(e,t){if(!e&&!t)throw new Error("Either datasetId or datasetName must be given");if(!e){e=(await this.readDataset({datasetName:t})).id}const n={dataset_id:e};D(e);const r=await this.caller.call(fetch,`${this.apiUrl}/datasets/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(n),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),i=await r.json();return i.url=`${this.getHostUrl()}/public/${i.share_token}/d`,i}async unshareDataset(e){D(e);const t=await this.caller.call(fetch,`${this.apiUrl}/datasets/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await z(t,"unshare dataset")}async readSharedDataset(e){D(e);const t=await this.caller.call(fetch,`${this.apiUrl}/public/${e}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await t.json()}async createProject({projectName:e,description:t=null,metadata:n=null,upsert:r=!1,projectExtra:i=null,referenceDatasetId:a=null}){const o=r?"?upsert=true":"",s=`${this.apiUrl}/sessions${o}`,l=i||{};n&&(l.metadata=n);const u={name:e,extra:l,description:t};null!==a&&(u.reference_dataset_id=a);const c=await this.caller.call(fetch,s,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(u),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),d=await c.json();if(!c.ok)throw new Error(`Failed to create session ${e}: ${c.status} ${c.statusText}`);return d}async updateProject(e,{name:t=null,description:n=null,metadata:r=null,projectExtra:i=null,endTime:a=null}){const o=`${this.apiUrl}/sessions/${e}`;let s=i;r&&(s={...s||{},metadata:r});const l={name:t,extra:s,description:n,end_time:a?new Date(a).toISOString():null},u=await this.caller.call(fetch,o,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(l),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),c=await u.json();if(!u.ok)throw new Error(`Failed to update project ${e}: ${u.status} ${u.statusText}`);return c}async hasProject({projectId:e,projectName:t}){let n="/sessions";const r=new URLSearchParams;if(void 0!==e&&void 0!==t)throw new Error("Must provide either projectName or projectId, not both");if(void 0!==e)D(e),n+=`/${e}`;else{if(void 0===t)throw new Error("Must provide projectName or projectId");r.append("name",t)}const i=await this.caller.call(fetch,`${this.apiUrl}${n}?${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});try{const e=await i.json();return!!i.ok&&(!Array.isArray(e)||e.length>0)}catch(a){return!1}}async readProject({projectId:e,projectName:t,includeStats:n}){let r="/sessions";const i=new URLSearchParams;if(void 0!==e&&void 0!==t)throw new Error("Must provide either projectName or projectId, not both");if(void 0!==e)D(e),r+=`/${e}`;else{if(void 0===t)throw new Error("Must provide projectName or projectId");i.append("name",t)}void 0!==n&&i.append("include_stats",n.toString());const a=await this._get(r,i);let o;if(Array.isArray(a)){if(0===a.length)throw new Error(`Project[id=${e}, name=${t}] not found`);o=a[0]}else o=a;return o}async getProjectUrl({projectId:e,projectName:t}){if(void 0===e&&void 0===t)throw new Error("Must provide either projectName or projectId");const n=await this.readProject({projectId:e,projectName:t}),r=await this._getTenantId();return`${this.getHostUrl()}/o/${r}/projects/p/${n.id}`}async getDatasetUrl({datasetId:e,datasetName:t}){if(void 0===e&&void 0===t)throw new Error("Must provide either datasetName or datasetId");const n=await this.readDataset({datasetId:e,datasetName:t}),r=await this._getTenantId();return`${this.getHostUrl()}/o/${r}/datasets/${n.id}`}async _getTenantId(){if(null!==this._tenantId)return this._tenantId;const e=new URLSearchParams({limit:"1"});for await(const t of this._getPaginated("/sessions",e))return this._tenantId=t[0].tenant_id,t[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:e,name:t,nameContains:n,referenceDatasetId:r,referenceDatasetName:i,referenceFree:a}={}){const o=new URLSearchParams;if(void 0!==e)for(const s of e)o.append("id",s);if(void 0!==t&&o.append("name",t),void 0!==n&&o.append("name_contains",n),void 0!==r)o.append("reference_dataset",r);else if(void 0!==i){const e=await this.readDataset({datasetName:i});o.append("reference_dataset",e.id)}void 0!==a&&o.append("reference_free",a.toString());for await(const s of this._getPaginated("/sessions",o))yield*s}async deleteProject({projectId:e,projectName:t}){let n;if(void 0===e&&void 0===t)throw new Error("Must provide projectName or projectId");if(void 0!==e&&void 0!==t)throw new Error("Must provide either projectName or projectId, not both");n=void 0===e?(await this.readProject({projectName:t})).id:e,D(n);const r=await this.caller.call(fetch,`${this.apiUrl}/sessions/${n}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await z(r,`delete session ${n} (${t})`)}async uploadCsv({csvFile:e,fileName:t,inputKeys:n,outputKeys:r,description:i,dataType:a,name:o}){const s=`${this.apiUrl}/datasets/upload`,l=new FormData;l.append("file",e,t),n.forEach((e=>{l.append("input_keys",e)})),r.forEach((e=>{l.append("output_keys",e)})),i&&l.append("description",i),a&&l.append("data_type",a),o&&l.append("name",o);const u=await this.caller.call(fetch,s,{method:"POST",headers:this.headers,body:l,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!u.ok){const e=await u.json();if(e.detail&&e.detail.includes("already exists"))throw new Error(`Dataset ${t} already exists`);throw new Error(`Failed to upload CSV: ${u.status} ${u.statusText}`)}return await u.json()}async createDataset(e,{description:t,dataType:n}={}){const r={name:e,description:t};n&&(r.data_type=n);const i=await this.caller.call(fetch,`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!i.ok){const t=await i.json();if(t.detail&&t.detail.includes("already exists"))throw new Error(`Dataset ${e} already exists`);throw new Error(`Failed to create dataset ${i.status} ${i.statusText}`)}return await i.json()}async readDataset({datasetId:e,datasetName:t}){let n="/datasets";const r=new URLSearchParams({limit:"1"});if(void 0!==e&&void 0!==t)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0!==e)D(e),n+=`/${e}`;else{if(void 0===t)throw new Error("Must provide datasetName or datasetId");r.append("name",t)}const i=await this._get(n,r);let a;if(Array.isArray(i)){if(0===i.length)throw new Error(`Dataset[id=${e}, name=${t}] not found`);a=i[0]}else a=i;return a}async hasDataset({datasetId:e,datasetName:t}){try{return await this.readDataset({datasetId:e,datasetName:t}),!0}catch(n){if(n instanceof Error&&n.message.toLocaleLowerCase().includes("not found"))return!1;throw n}}async diffDatasetVersions({datasetId:e,datasetName:t,fromVersion:n,toVersion:r}){let i=e;if(void 0===i&&void 0===t)throw new Error("Must provide either datasetName or datasetId");if(void 0!==i&&void 0!==t)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0===i){i=(await this.readDataset({datasetName:t})).id}const a=new URLSearchParams({from_version:"string"===typeof n?n:n.toISOString(),to_version:"string"===typeof r?r:r.toISOString()});return await this._get(`/datasets/${i}/versions/diff`,a)}async readDatasetOpenaiFinetuning({datasetId:e,datasetName:t}){if(void 0!==e);else{if(void 0===t)throw new Error("Must provide datasetName or datasetId");e=(await this.readDataset({datasetName:t})).id}const n=await this._getResponse(`/datasets/${e}/openai_ft`);return(await n.text()).trim().split("\n").map((e=>JSON.parse(e)))}async*listDatasets({limit:e=100,offset:t=0,datasetIds:n,datasetName:r,datasetNameContains:i}={}){const a=new URLSearchParams({limit:e.toString(),offset:t.toString()});if(void 0!==n)for(const o of n)a.append("id",o);void 0!==r&&a.append("name",r),void 0!==i&&a.append("name_contains",i);for await(const o of this._getPaginated("/datasets",a))yield*o}async updateDataset(e){const{datasetId:t,datasetName:n,...r}=e;if(!t&&!n)throw new Error("Must provide either datasetName or datasetId");const i=t??(await this.readDataset({datasetName:n})).id;D(i);const a=await this.caller.call(fetch,`${this.apiUrl}/datasets/${i}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!a.ok)throw new Error(`Failed to update dataset ${i}: ${a.status} ${a.statusText}`);return await a.json()}async deleteDataset({datasetId:e,datasetName:t}){let n="/datasets",r=e;if(void 0!==e&&void 0!==t)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0!==t){r=(await this.readDataset({datasetName:t})).id}if(void 0===r)throw new Error("Must provide datasetName or datasetId");D(r),n+=`/${r}`;const i=await this.caller.call(fetch,this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!i.ok)throw new Error(`Failed to delete ${n}: ${i.status} ${i.statusText}`);await i.json()}async createExample(e,t,{datasetId:n,datasetName:r,createdAt:i,exampleId:a,metadata:o,split:s}){let l=n;if(void 0===l&&void 0===r)throw new Error("Must provide either datasetName or datasetId");if(void 0!==l&&void 0!==r)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0===l){l=(await this.readDataset({datasetName:r})).id}const u=i||new Date,c={dataset_id:l,inputs:e,outputs:t,created_at:u?.toISOString(),id:a,metadata:o,split:s},d=await this.caller.call(fetch,`${this.apiUrl}/examples`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!d.ok)throw new Error(`Failed to create example: ${d.status} ${d.statusText}`);return await d.json()}async createExamples(e){const{inputs:t,outputs:n,metadata:r,sourceRunIds:i,exampleIds:a,datasetId:o,datasetName:s}=e;let l=o;if(void 0===l&&void 0===s)throw new Error("Must provide either datasetName or datasetId");if(void 0!==l&&void 0!==s)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0===l){const e=await this.readDataset({datasetName:s});l=e.id}const u=t.map(((t,o)=>({dataset_id:l,inputs:t,outputs:n?n[o]:void 0,metadata:r?r[o]:void 0,split:e.splits?e.splits[o]:void 0,id:a?a[o]:void 0,source_run_id:i?i[o]:void 0}))),c=await this.caller.call(fetch,`${this.apiUrl}/examples/bulk`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(u),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!c.ok)throw new Error(`Failed to create examples: ${c.status} ${c.statusText}`);return await c.json()}async createLLMExample(e,t,n){return this.createExample({input:e},{output:t},n)}async createChatExample(e,t,n){const r=e.map((e=>E(e)?A(e):e)),i=E(t)?A(t):t;return this.createExample({input:r},{output:i},n)}async readExample(e){D(e);const t=`/examples/${e}`;return await this._get(t)}async*listExamples({datasetId:e,datasetName:t,exampleIds:n,asOf:r,splits:i,inlineS3Urls:a,metadata:o,limit:s,offset:l,filter:u}={}){let c;if(void 0!==e&&void 0!==t)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0!==e)c=e;else{if(void 0===t)throw new Error("Must provide a datasetName or datasetId");c=(await this.readDataset({datasetName:t})).id}const d=new URLSearchParams({dataset:c}),f=r?"string"===typeof r?r:r?.toISOString():void 0;f&&d.append("as_of",f);const h=a??!0;if(d.append("inline_s3_urls",h.toString()),void 0!==n)for(const g of n)d.append("id",g);if(void 0!==i)for(const g of i)d.append("splits",g);if(void 0!==o){const e=JSON.stringify(o);d.append("metadata",e)}void 0!==s&&d.append("limit",s.toString()),void 0!==l&&d.append("offset",l.toString()),void 0!==u&&d.append("filter",u);let p=0;for await(const g of this._getPaginated("/examples",d)){for(const e of g)yield e,p++;if(void 0!==s&&p>=s)break}}async deleteExample(e){D(e);const t=`/examples/${e}`,n=await this.caller.call(fetch,this.apiUrl+t,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!n.ok)throw new Error(`Failed to delete ${t}: ${n.status} ${n.statusText}`);await n.json()}async updateExample(e,t){D(e);const n=await this.caller.call(fetch,`${this.apiUrl}/examples/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(t),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!n.ok)throw new Error(`Failed to update example ${e}: ${n.status} ${n.statusText}`);return await n.json()}async evaluateRun(e,t,{sourceInfo:n,loadChildRuns:r,referenceExample:i}={loadChildRuns:!1}){let a;if(F("This method is deprecated and will be removed in future LangSmith versions, use `evaluate` from `langsmith/evaluation` instead."),"string"===typeof e)a=await this.readRun(e,{loadChildRuns:r});else{if("object"!==typeof e||!("id"in e))throw new Error("Invalid run type: "+typeof e);a=e}null!==a.reference_example_id&&void 0!==a.reference_example_id&&(i=await this.readExample(a.reference_example_id));const o=await t.evaluateRun(a,i),[s,l]=await this._logEvaluationFeedback(o,a,n);return l[0]}async createFeedback(e,t,{score:n,value:r,correction:i,comment:a,sourceInfo:o,feedbackSourceType:s="api",sourceRunId:l,feedbackId:u,feedbackConfig:c,projectId:d,comparativeExperimentId:f}){if(!e&&!d)throw new Error("One of runId or projectId must be provided");if(e&&d)throw new Error("Only one of runId or projectId can be provided");const h={type:s??"api",metadata:o??{}};void 0===l||void 0===h?.metadata||h.metadata.__run||(h.metadata.__run={run_id:l}),void 0!==h?.metadata&&void 0!==h.metadata.__run?.run_id&&D(h.metadata.__run.run_id);const p={id:u??v(),run_id:e,key:t,score:n,value:r,correction:i,comment:a,feedback_source:h,comparative_experiment_id:f,feedbackConfig:c,session_id:d},g=`${this.apiUrl}/feedback`,m=await this.caller.call(fetch,g,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(p),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await z(m,"create feedback"),p}async updateFeedback(e,{score:t,value:n,correction:r,comment:i}){const a={};void 0!==t&&null!==t&&(a.score=t),void 0!==n&&null!==n&&(a.value=n),void 0!==r&&null!==r&&(a.correction=r),void 0!==i&&null!==i&&(a.comment=i),D(e);const o=await this.caller.call(fetch,`${this.apiUrl}/feedback/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await z(o,"update feedback")}async readFeedback(e){D(e);const t=`/feedback/${e}`;return await this._get(t)}async deleteFeedback(e){D(e);const t=`/feedback/${e}`,n=await this.caller.call(fetch,this.apiUrl+t,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!n.ok)throw new Error(`Failed to delete ${t}: ${n.status} ${n.statusText}`);await n.json()}async*listFeedback({runIds:e,feedbackKeys:t,feedbackSourceTypes:n}={}){const r=new URLSearchParams;if(e&&r.append("run",e.join(",")),t)for(const i of t)r.append("key",i);if(n)for(const i of n)r.append("source",i);for await(const i of this._getPaginated("/feedback",r))yield*i}async createPresignedFeedbackToken(e,t,{expiration:n,feedbackConfig:r}={}){const i={run_id:e,feedback_key:t,feedback_config:r};n?"string"===typeof n?i.expires_at=n:(n?.hours||n?.minutes||n?.days)&&(i.expires_in=n):i.expires_in={hours:3};const a=await this.caller.call(fetch,`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await a.json()}async createComparativeExperiment({name:e,experimentIds:t,referenceDatasetId:n,createdAt:r,description:i,metadata:a,id:o}){if(0===t.length)throw new Error("At least one experiment is required");if(n||(n=(await this.readProject({projectId:t[0]})).reference_dataset_id),null==!n)throw new Error("A reference dataset is required");const s={id:o,name:e,experiment_ids:t,reference_dataset_id:n,description:i,created_at:(r??new Date)?.toISOString(),extra:{}};a&&(s.extra.metadata=a);const l=await this.caller.call(fetch,`${this.apiUrl}/datasets/comparative`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(s),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await l.json()}async*listPresignedFeedbackTokens(e){D(e);const t=new URLSearchParams({run_id:e});for await(const n of this._getPaginated("/feedback/tokens",t))yield*n}_selectEvalResults(e){let t;return t="results"in e?e.results:[e],t}async _logEvaluationFeedback(e,t,n){const r=this._selectEvalResults(e),i=[];for(const a of r){let e=n||{};a.evaluatorInfo&&(e={...a.evaluatorInfo,...e});let r=null;a.targetRunId?r=a.targetRunId:t&&(r=t.id),i.push(await this.createFeedback(r,a.key,{score:a.score,value:a.value,comment:a.comment,correction:a.correction,sourceInfo:e,sourceRunId:a.sourceRunId,feedbackConfig:a.feedbackConfig,feedbackSourceType:"model"}))}return[r,i]}async logEvaluationFeedback(e,t,n){const[r]=await this._logEvaluationFeedback(e,t,n);return r}}const H="0.1.36";var G=n(9984),q=n(6306);class K extends o.BaseTracer{constructor(e={}){super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"projectName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{exampleId:t,projectName:n,client:r}=e;this.projectName=n??(0,q.getEnvironmentVariable)("LANGCHAIN_PROJECT")??(0,q.getEnvironmentVariable)("LANGCHAIN_SESSION"),this.exampleId=t,this.client=r??new W({});const i=this.getTraceableRunTree();if(i){let e=i;const t=new Set;for(;e.parent_run&&!t.has(e.id)&&(t.add(e.id),e.parent_run);)e=e.parent_run;t.clear();const n=[e];for(;n.length>0;){const e=n.shift();e&&!t.has(e.id)&&(t.add(e.id),this.runMap.set(e.id,e),e.child_runs&&n.push(...e.child_runs))}this.client=i.client??this.client,this.projectName=i.project_name??this.projectName,this.exampleId=i.reference_example_id??this.exampleId}}async _convertToCreate(e,t=void 0){return{...e,extra:{...e.extra,runtime:await(0,q.getRuntimeEnvironment)()},child_runs:void 0,session_name:this.projectName,reference_example_id:e.parent_run_id?void 0:t}}async persistRun(e){}async onRunCreate(e){const t=await this._convertToCreate(e,this.exampleId);await this.client.createRun(t)}async onRunUpdate(e){const t={end_time:e.end_time,error:e.error,outputs:e.outputs,events:e.events,inputs:e.inputs,trace_id:e.trace_id,dotted_order:e.dotted_order,parent_run_id:e.parent_run_id};await this.client.updateRun(e.id,t)}getRun(e){return this.runMap.get(e)}getTraceableRunTree(){try{return(0,G.getCurrentRunTree)()}catch{return}}}var Z=n(9717);o.BaseTracer;let X;async function Y(e,t){!0===t?await e():("undefined"===typeof X&&(X=new(0,x.default)({autoStart:!0,concurrency:1})),X.add(e))}function J(e){return e?Array.isArray(e)||"name"in e?{callbacks:e}:e:{}}"true"===(0,q.getEnvironmentVariable)("LANGCHAIN_TRACING_V2")&&"true"!==(0,q.getEnvironmentVariable)("LANGCHAIN_CALLBACKS_BACKGROUND")&&["[WARN]: You have enabled LangSmith tracing without backgrounding callbacks.","[WARN]: If you are not using a serverless environment where you must wait for tracing calls to finish,",'[WARN]: we suggest setting "process.env.LANGCHAIN_CALLBACKS_BACKGROUND=true" to avoid additional latency.'].join("\n");class Q{setHandler(e){return this.setHandlers([e])}}class ee{constructor(e,t,n,r,i,a,o,s){Object.defineProperty(this,"runId",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:s})}async handleText(e){await Promise.all(this.handlers.map((t=>Y((async()=>{try{await(t.handleText?.(e,this.runId,this._parentRunId,this.tags))}catch(n){if(console.error(`Error in handler ${t.constructor.name}, handleText: ${n}`),t.raiseError)throw n}}),t.awaitHandlers))))}}class te extends ee{getChild(e){const t=new ae(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleRetrieverEnd(e){await Promise.all(this.handlers.map((t=>Y((async()=>{if(!t.ignoreRetriever)try{await(t.handleRetrieverEnd?.(e,this.runId,this._parentRunId,this.tags))}catch(n){if(console.error(`Error in handler ${t.constructor.name}, handleRetriever`),t.raiseError)throw n}}),t.awaitHandlers))))}async handleRetrieverError(e){await Promise.all(this.handlers.map((t=>Y((async()=>{if(!t.ignoreRetriever)try{await(t.handleRetrieverError?.(e,this.runId,this._parentRunId,this.tags))}catch(n){if(console.error(`Error in handler ${t.constructor.name}, handleRetrieverError: ${n}`),t.raiseError)throw e}}),t.awaitHandlers))))}}class ne extends ee{async handleLLMNewToken(e,t,n,r,i,a){await Promise.all(this.handlers.map((n=>Y((async()=>{if(!n.ignoreLLM)try{await(n.handleLLMNewToken?.(e,t??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,a))}catch(r){if(console.error(`Error in handler ${n.constructor.name}, handleLLMNewToken: ${r}`),n.raiseError)throw r}}),n.awaitHandlers))))}async handleLLMError(e){await Promise.all(this.handlers.map((t=>Y((async()=>{if(!t.ignoreLLM)try{await(t.handleLLMError?.(e,this.runId,this._parentRunId,this.tags))}catch(e){if(console.error(`Error in handler ${t.constructor.name}, handleLLMError: ${e}`),t.raiseError)throw e}}),t.awaitHandlers))))}async handleLLMEnd(e){await Promise.all(this.handlers.map((t=>Y((async()=>{if(!t.ignoreLLM)try{await(t.handleLLMEnd?.(e,this.runId,this._parentRunId,this.tags))}catch(n){if(console.error(`Error in handler ${t.constructor.name}, handleLLMEnd: ${n}`),t.raiseError)throw n}}),t.awaitHandlers))))}}class re extends ee{getChild(e){const t=new ae(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleChainError(e,t,n,r,i){await Promise.all(this.handlers.map((t=>Y((async()=>{if(!t.ignoreChain)try{await(t.handleChainError?.(e,this.runId,this._parentRunId,this.tags,i))}catch(e){if(console.error(`Error in handler ${t.constructor.name}, handleChainError: ${e}`),t.raiseError)throw e}}),t.awaitHandlers))))}async handleChainEnd(e,t,n,r,i){await Promise.all(this.handlers.map((t=>Y((async()=>{if(!t.ignoreChain)try{await(t.handleChainEnd?.(e,this.runId,this._parentRunId,this.tags,i))}catch(n){if(console.error(`Error in handler ${t.constructor.name}, handleChainEnd: ${n}`),t.raiseError)throw n}}),t.awaitHandlers))))}async handleAgentAction(e){await Promise.all(this.handlers.map((t=>Y((async()=>{if(!t.ignoreAgent)try{await(t.handleAgentAction?.(e,this.runId,this._parentRunId,this.tags))}catch(n){if(console.error(`Error in handler ${t.constructor.name}, handleAgentAction: ${n}`),t.raiseError)throw n}}),t.awaitHandlers))))}async handleAgentEnd(e){await Promise.all(this.handlers.map((t=>Y((async()=>{if(!t.ignoreAgent)try{await(t.handleAgentEnd?.(e,this.runId,this._parentRunId,this.tags))}catch(n){if(console.error(`Error in handler ${t.constructor.name}, handleAgentEnd: ${n}`),t.raiseError)throw n}}),t.awaitHandlers))))}}class ie extends ee{getChild(e){const t=new ae(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleToolError(e){await Promise.all(this.handlers.map((t=>Y((async()=>{if(!t.ignoreAgent)try{await(t.handleToolError?.(e,this.runId,this._parentRunId,this.tags))}catch(e){if(console.error(`Error in handler ${t.constructor.name}, handleToolError: ${e}`),t.raiseError)throw e}}),t.awaitHandlers))))}async handleToolEnd(e){await Promise.all(this.handlers.map((t=>Y((async()=>{if(!t.ignoreAgent)try{await(t.handleToolEnd?.(e,this.runId,this._parentRunId,this.tags))}catch(n){if(console.error(`Error in handler ${t.constructor.name}, handleToolEnd: ${n}`),t.raiseError)throw n}}),t.awaitHandlers))))}}class ae extends Q{constructor(e,t){super(),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"callback_manager"}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.handlers=t?.handlers??this.handlers,this.inheritableHandlers=t?.inheritableHandlers??this.inheritableHandlers,this.tags=t?.tags??this.tags,this.inheritableTags=t?.inheritableTags??this.inheritableTags,this.metadata=t?.metadata??this.metadata,this.inheritableMetadata=t?.inheritableMetadata??this.inheritableMetadata,this._parentRunId=e}getParentRunId(){return this._parentRunId}async handleLLMStart(e,t,n=void 0,i=void 0,a=void 0,o=void 0,s=void 0,l=void 0){return Promise.all(t.map((async(t,i)=>{const o=0===i&&n?n:(0,r.default)();return await Promise.all(this.handlers.map((n=>Y((async()=>{if(!n.ignoreLLM)try{await(n.handleLLMStart?.(e,[t],o,this._parentRunId,a,this.tags,this.metadata,l))}catch(r){if(console.error(`Error in handler ${n.constructor.name}, handleLLMStart: ${r}`),n.raiseError)throw r}}),n.awaitHandlers)))),new ne(o,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)})))}async handleChatModelStart(e,t,n=void 0,i=void 0,a=void 0,o=void 0,s=void 0,l=void 0){return Promise.all(t.map((async(t,i)=>{const o=0===i&&n?n:(0,r.default)();return await Promise.all(this.handlers.map((n=>Y((async()=>{if(!n.ignoreLLM)try{if(n.handleChatModelStart)await(n.handleChatModelStart?.(e,[t],o,this._parentRunId,a,this.tags,this.metadata,l));else if(n.handleLLMStart){const r=(0,Z.getBufferString)(t);await(n.handleLLMStart?.(e,[r],o,this._parentRunId,a,this.tags,this.metadata,l))}}catch(r){if(console.error(`Error in handler ${n.constructor.name}, handleLLMStart: ${r}`),n.raiseError)throw r}}),n.awaitHandlers)))),new ne(o,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)})))}async handleChainStart(e,t,n=(0,r.default)(),i=void 0,a=void 0,o=void 0,s=void 0){return await Promise.all(this.handlers.map((r=>Y((async()=>{if(!r.ignoreChain)try{await(r.handleChainStart?.(e,t,n,this._parentRunId,this.tags,this.metadata,i,s))}catch(a){if(console.error(`Error in handler ${r.constructor.name}, handleChainStart: ${a}`),r.raiseError)throw a}}),r.awaitHandlers)))),new re(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(e,t,n=(0,r.default)(),i=void 0,a=void 0,o=void 0,s=void 0){return await Promise.all(this.handlers.map((r=>Y((async()=>{if(!r.ignoreAgent)try{await(r.handleToolStart?.(e,t,n,this._parentRunId,this.tags,this.metadata,s))}catch(i){if(console.error(`Error in handler ${r.constructor.name}, handleToolStart: ${i}`),r.raiseError)throw i}}),r.awaitHandlers)))),new ie(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(e,t,n=(0,r.default)(),i=void 0,a=void 0,o=void 0,s=void 0){return await Promise.all(this.handlers.map((r=>Y((async()=>{if(!r.ignoreRetriever)try{await(r.handleRetrieverStart?.(e,t,n,this._parentRunId,this.tags,this.metadata,s))}catch(i){if(console.error(`Error in handler ${r.constructor.name}, handleRetrieverStart: ${i}`),r.raiseError)throw i}}),r.awaitHandlers)))),new te(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}addHandler(e,t=!0){this.handlers.push(e),t&&this.inheritableHandlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter((t=>t!==e)),this.inheritableHandlers=this.inheritableHandlers.filter((t=>t!==e))}setHandlers(e,t=!0){this.handlers=[],this.inheritableHandlers=[];for(const n of e)this.addHandler(n,t)}addTags(e,t=!0){this.removeTags(e),this.tags.push(...e),t&&this.inheritableTags.push(...e)}removeTags(e){this.tags=this.tags.filter((t=>!e.includes(t))),this.inheritableTags=this.inheritableTags.filter((t=>!e.includes(t)))}addMetadata(e,t=!0){this.metadata={...this.metadata,...e},t&&(this.inheritableMetadata={...this.inheritableMetadata,...e})}removeMetadata(e){for(const t of Object.keys(e))delete this.metadata[t],delete this.inheritableMetadata[t]}copy(e=[],t=!0){const n=new ae(this._parentRunId);for(const r of this.handlers){const e=this.inheritableHandlers.includes(r);n.addHandler(r,e)}for(const r of this.tags){const e=this.inheritableTags.includes(r);n.addTags([r],e)}for(const r of Object.keys(this.metadata)){const e=Object.keys(this.inheritableMetadata).includes(r);n.addMetadata({[r]:this.metadata[r]},e)}for(const r of e)n.handlers.filter((e=>"console_callback_handler"===e.name)).some((e=>e.name===r.name))||n.addHandler(r,t);return n}static fromHandlers(e){class t extends i.BaseCallbackHandler{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:(0,r.default)()}),Object.assign(this,e)}}const n=new this;return n.addHandler(new t),n}static async configure(e,t,n,r,i,a,o){let s;(e||t)&&(Array.isArray(e)||!e?(s=new ae,s.setHandlers(e?.map(oe)??[],!0)):s=e,s=s.copy(Array.isArray(t)?t.map(oe):t?.handlers,!1));const l="true"===(0,q.getEnvironmentVariable)("LANGCHAIN_VERBOSE")||o?.verbose,u="true"===(0,q.getEnvironmentVariable)("LANGCHAIN_TRACING_V2")||"true"===(0,q.getEnvironmentVariable)("LANGSMITH_TRACING"),c=u||((0,q.getEnvironmentVariable)("LANGCHAIN_TRACING")??!1);if(l||c){if(s||(s=new ae),l&&!s.handlers.some((e=>e.name===d.prototype.name))){const e=new d;s.addHandler(e,!0)}if(c&&!s.handlers.some((e=>"langchain_tracer"===e.name))&&u){const e=await async function(){return new K}();s.addHandler(e,!0),s._parentRunId=e.getTraceableRunTree()?.id??s._parentRunId}}return(n||r)&&s&&(s.addTags(n??[]),s.addTags(r??[],!1)),(i||a)&&s&&(s.addMetadata(i??{}),s.addMetadata(a??{},!1)),s}}function oe(e){return"name"in e?e:i.BaseCallbackHandler.fromMethods(e)}class se{constructor(e,t){Object.defineProperty(this,"groupName",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"runManager",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}async getTraceGroupCallbackManager(e,t,n){const r=new K(n),i=await ae.configure([r]),a=await(i?.handleChainStart({lc:1,type:"not_implemented",id:["langchain","callbacks","groups",e]},t??{}));if(!a)throw new Error("Failed to create run group callback manager.");return a}async start(e){return this.runManager||(this.runManager=await this.getTraceGroupCallbackManager(this.groupName,e,this.options)),this.runManager.getChild()}async error(e){this.runManager&&(await this.runManager.handleChainError(e),this.runManager=void 0)}async end(e){this.runManager&&(await this.runManager.handleChainEnd(e??{}),this.runManager=void 0)}}async function le(e,t,...n){const r=new se(e.name,e),i=await r.start({...n});try{const e=await t(i,...n);return await r.end((a=e,o="output",a&&!Array.isArray(a)&&"object"===typeof a?a:{[o]:a})),e}catch(s){throw await r.error(s),s}var a,o}},7949:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Serializable:()=>u,get_lc_unique_name:()=>l});var r=n(5977);n(159);function i(e,t){return t?.[e]||r(e)}function a(e,t,n){const r={};for(const i in e)Object.hasOwn(e,i)&&(r[t(i,n)]=e[i]);return r}function o(e){return Array.isArray(e)?[...e]:{...e}}function s(e,t){const n=o(e);for(const[r,i]of Object.entries(t)){const[e,...t]=r.split(".").reverse();let a=n;for(const n of t.reverse()){if(void 0===a[n])break;a[n]=o(a[n]),a=a[n]}void 0!==a[e]&&(a[e]={lc:1,type:"secret",id:[i]})}return n}function l(e){const t=Object.getPrototypeOf(e);return"function"===typeof e.lc_name&&("function"!==typeof t.lc_name||e.lc_name()!==t.lc_name())?e.lc_name():e.name}class u{static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,l(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}constructor(e,...t){Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lc_kwargs=e||{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof u||"object"!==typeof this.lc_kwargs||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const e={},t={},n=Object.keys(this.lc_kwargs).reduce(((e,t)=>(e[t]=t in this?this[t]:this.lc_kwargs[t],e)),{});for(let r=Object.getPrototypeOf(this);r;r=Object.getPrototypeOf(r))Object.assign(e,Reflect.get(r,"lc_aliases",this)),Object.assign(t,Reflect.get(r,"lc_secrets",this)),Object.assign(n,Reflect.get(r,"lc_attributes",this));return Object.keys(t).forEach((e=>{let t=this,r=n;const[i,...a]=e.split(".").reverse();for(const n of a.reverse()){if(!(n in t)||void 0===t[n])return;n in r&&void 0!==r[n]||("object"===typeof t[n]&&null!=t[n]?r[n]={}:Array.isArray(t[n])&&(r[n]=[])),t=t[n],r=r[n]}i in t&&void 0!==t[i]&&(r[i]=r[i]||t[i])})),{lc:1,type:"constructor",id:this.lc_id,kwargs:a(Object.keys(t).length?s(n,t):n,i,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}}},8376:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AIMessage:()=>o,AIMessageChunk:()=>l,isAIMessage:()=>s});var r=n(2428),i=n(5555),a=n(9248);class o extends i.BaseMessage{get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls"}}constructor(e,t){let n;if("string"===typeof e)n={content:e,tool_calls:[],invalid_tool_calls:[],additional_kwargs:t??{}};else{n=e;const t=n.additional_kwargs?.tool_calls,i=n.tool_calls;null!=t&&t.length>0&&(void 0===i||0===i.length)&&console.warn(["New LangChain packages are available that more efficiently handle","tool calling.\n\nPlease upgrade your packages to versions that set","message tool calls. e.g., `yarn add @langchain/anthropic`,","yarn add @langchain/openai`, etc."].join(" "));try{if(null!=t&&void 0===i){const[e,r]=(0,a.defaultToolCallParser)(t);n.tool_calls=e??[],n.invalid_tool_calls=r??[]}else n.tool_calls=n.tool_calls??[],n.invalid_tool_calls=n.invalid_tool_calls??[]}catch(r){n.tool_calls=[],n.invalid_tool_calls=[]}}super(n),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),"string"!==typeof n&&(this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls),this.usage_metadata=n.usage_metadata}static lc_name(){return"AIMessage"}_getType(){return"ai"}}function s(e){return"ai"===e._getType()}class l extends i.BaseMessageChunk{constructor(e){let t;if("string"===typeof e)t={content:e,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else if(void 0===e.tool_call_chunks)t={...e,tool_calls:e.tool_calls??[],invalid_tool_calls:[],tool_call_chunks:[]};else{const i=[],a=[];for(const t of e.tool_call_chunks){let e={};try{if(e=(0,r.parsePartialJson)(t.args??"{}")??{},"object"!==typeof e||Array.isArray(e))throw new Error("Malformed tool call chunk args.");i.push({name:t.name??"",args:e,id:t.id})}catch(n){a.push({name:t.name,args:t.args,id:t.id,error:"Malformed args."})}}t={...e,tool_calls:i,invalid_tool_calls:a}}super(t),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tool_call_chunks",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_chunks=t.tool_call_chunks??this.tool_call_chunks,this.tool_calls=t.tool_calls??this.tool_calls,this.invalid_tool_calls=t.invalid_tool_calls??this.invalid_tool_calls,this.usage_metadata=t.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}_getType(){return"ai"}concat(e){const t={content:(0,i.mergeContent)(this.content,e.content),additional_kwargs:(0,i._mergeDicts)(this.additional_kwargs,e.additional_kwargs),response_metadata:(0,i._mergeDicts)(this.response_metadata,e.response_metadata),tool_call_chunks:[],id:this.id??e.id};if(void 0!==this.tool_call_chunks||void 0!==e.tool_call_chunks){const n=(0,i._mergeLists)(this.tool_call_chunks,e.tool_call_chunks);void 0!==n&&n.length>0&&(t.tool_call_chunks=n)}if(void 0!==this.usage_metadata||void 0!==e.usage_metadata){const n=this.usage_metadata??{input_tokens:0,output_tokens:0,total_tokens:0},r=e.usage_metadata??{input_tokens:0,output_tokens:0,total_tokens:0},i={input_tokens:n.input_tokens+r.input_tokens,output_tokens:n.output_tokens+r.output_tokens,total_tokens:n.total_tokens+r.total_tokens};t.usage_metadata=i}return new l(t)}}},5555:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BaseMessage:()=>a,BaseMessageChunk:()=>u,_mergeDicts:()=>s,_mergeLists:()=>l,isBaseMessage:()=>c,isBaseMessageChunk:()=>d,isOpenAIToolCallArray:()=>o,mergeContent:()=>i});var r=n(7949);function i(e,t){return"string"===typeof e?"string"===typeof t?e+t:[{type:"text",text:e},...t]:Array.isArray(t)?[...e,...t]:[...e,{type:"text",text:t}]}class a extends r.Serializable{get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}get text(){return"string"===typeof this.content?this.content:""}constructor(e,t){"string"===typeof e&&(e={content:e,additional_kwargs:t,response_metadata:{}}),e.additional_kwargs||(e.additional_kwargs={}),e.response_metadata||(e.response_metadata={}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","messages"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"additional_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.content=e.content,this.additional_kwargs=e.additional_kwargs,this.response_metadata=e.response_metadata,this.id=e.id}toDict(){return{type:this._getType(),data:this.toJSON().kwargs}}}function o(e){return Array.isArray(e)&&e.every((e=>"number"===typeof e.index))}function s(e,t){const n={...e};for(const[r,i]of Object.entries(t))if(null==n[r])n[r]=i;else{if(null==i)continue;if(typeof n[r]!==typeof i||Array.isArray(n[r])!==Array.isArray(i))throw new Error(`field[${r}] already exists in the message chunk, but with a different type.`);if("string"===typeof n[r])n[r]=n[r]+i;else if(Array.isArray(n[r])||"object"!==typeof n[r])if(Array.isArray(n[r]))n[r]=l(n[r],i);else{if(n[r]===i)continue;console.warn(`field[${r}] already exists in this message chunk and value has unsupported type.`)}else n[r]=s(n[r],i)}return n}function l(e,t){if(void 0!==e||void 0!==t){if(void 0===e||void 0===t)return e||t;{const n=[...e];for(const e of t)if("object"===typeof e&&"index"in e&&"number"===typeof e.index){const t=n.findIndex((t=>t.index===e.index));-1!==t?n[t]=s(n[t],e):n.push(e)}else n.push(e);return n}}}class u extends a{}function c(e){return"function"===typeof e?._getType}function d(e){return c(e)&&"function"===typeof e.concat}},7164:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ChatMessage:()=>i,ChatMessageChunk:()=>a});var r=n(5555);class i extends r.BaseMessage{static lc_name(){return"ChatMessage"}static _chatMessageClass(){return i}constructor(e,t){"string"===typeof e&&(e={content:e,role:t}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}static isInstance(e){return"generic"===e._getType()}}class a extends r.BaseMessageChunk{static lc_name(){return"ChatMessageChunk"}constructor(e,t){"string"===typeof e&&(e={content:e,role:t}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}concat(e){return new a({content:(0,r.mergeContent)(this.content,e.content),additional_kwargs:(0,r._mergeDicts)(this.additional_kwargs,e.additional_kwargs),response_metadata:(0,r._mergeDicts)(this.response_metadata,e.response_metadata),role:this.role,id:this.id??e.id})}}},1966:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FunctionMessage:()=>i,FunctionMessageChunk:()=>a});var r=n(5555);class i extends r.BaseMessage{static lc_name(){return"FunctionMessage"}constructor(e,t){"string"===typeof e&&(e={content:e,name:t}),super(e)}_getType(){return"function"}}class a extends r.BaseMessageChunk{static lc_name(){return"FunctionMessageChunk"}_getType(){return"function"}concat(e){return new a({content:(0,r.mergeContent)(this.content,e.content),additional_kwargs:(0,r._mergeDicts)(this.additional_kwargs,e.additional_kwargs),response_metadata:(0,r._mergeDicts)(this.response_metadata,e.response_metadata),name:this.name??"",id:this.id??e.id})}}},601:(e,t,n)=>{"use strict";n.r(t),n.d(t,{HumanMessage:()=>i,HumanMessageChunk:()=>a});var r=n(5555);class i extends r.BaseMessage{static lc_name(){return"HumanMessage"}_getType(){return"human"}}class a extends r.BaseMessageChunk{static lc_name(){return"HumanMessageChunk"}_getType(){return"human"}concat(e){return new a({content:(0,r.mergeContent)(this.content,e.content),additional_kwargs:(0,r._mergeDicts)(this.additional_kwargs,e.additional_kwargs),response_metadata:(0,r._mergeDicts)(this.response_metadata,e.response_metadata),id:this.id??e.id})}}},5202:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AIMessage:()=>r.AIMessage,AIMessageChunk:()=>r.AIMessageChunk,BaseMessage:()=>i.BaseMessage,BaseMessageChunk:()=>i.BaseMessageChunk,ChatMessage:()=>a.ChatMessage,ChatMessageChunk:()=>a.ChatMessageChunk,FunctionMessage:()=>o.FunctionMessage,FunctionMessageChunk:()=>o.FunctionMessageChunk,HumanMessage:()=>s.HumanMessage,HumanMessageChunk:()=>s.HumanMessageChunk,SystemMessage:()=>l.SystemMessage,SystemMessageChunk:()=>l.SystemMessageChunk,ToolMessage:()=>d.ToolMessage,ToolMessageChunk:()=>d.ToolMessageChunk,_mergeDicts:()=>i._mergeDicts,_mergeLists:()=>i._mergeLists,coerceMessageLikeToMessage:()=>u.coerceMessageLikeToMessage,convertToChunk:()=>u.convertToChunk,defaultTextSplitter:()=>k,filterMessages:()=>h,getBufferString:()=>u.getBufferString,isAIMessage:()=>r.isAIMessage,isBaseMessage:()=>i.isBaseMessage,isBaseMessageChunk:()=>i.isBaseMessageChunk,isOpenAIToolCallArray:()=>i.isOpenAIToolCallArray,mapChatMessagesToStoredMessages:()=>u.mapChatMessagesToStoredMessages,mapStoredMessageToChatMessage:()=>u.mapStoredMessageToChatMessage,mapStoredMessagesToChatMessages:()=>u.mapStoredMessagesToChatMessages,mergeContent:()=>i.mergeContent,mergeMessageRuns:()=>g,trimMessages:()=>y});var r=n(8376),i=n(5555),a=n(7164),o=n(1966),s=n(601),l=n(1503),u=n(9717),c=n(864),d=n(9248);const f=(e,t)=>{const n=[...new Set(t?.map((e=>{if("string"===typeof e)return e;const t=new e({});if(!("_getType"in t)||"function"!==typeof t._getType)throw new Error("Invalid type provided.");return t._getType()})))],r=e._getType();return n.some((e=>e===r))};function h(e,t){return Array.isArray(e)?p(e,t):c.RunnableLambda.from((t=>p(t,e)))}function p(e,t={}){const{includeNames:n,excludeNames:r,includeTypes:i,excludeTypes:a,includeIds:o,excludeIds:s}=t,l=[];for(const u of e)r&&u.name&&r.includes(u.name)||a&&f(u,a)||s&&u.id&&s.includes(u.id)||(i||o||n?(n&&u.name&&n.some((e=>e===u.name))||i&&f(u,i)||o&&u.id&&o.some((e=>e===u.id)))&&l.push(u):l.push(u));return l}function g(e){return Array.isArray(e)?m(e):c.RunnableLambda.from(m)}function m(e){if(!e.length)return[];const t=[];for(const n of e){const e=n,r=t.pop();if(r)if("tool"===e._getType()||e._getType()!==r._getType())t.push(r,e);else{const n=(0,u.convertToChunk)(r),i=(0,u.convertToChunk)(e),a=n.concat(i);"string"===typeof n.content&&"string"===typeof i.content&&(a.content=`${n.content}\n${i.content}`),t.push(x(a))}else t.push(e)}return t}function y(e,t){if(Array.isArray(e)){const n=e;if(!t)throw new Error("Options parameter is required when providing messages.");return _(n,t)}{const t=e;return c.RunnableLambda.from((e=>_(e,t)))}}async function _(e,t){const{maxTokens:n,tokenCounter:r,strategy:i="last",allowPartial:a=!1,endOn:o,startOn:s,includeSystem:l=!1,textSplitter:u}=t;if(s&&"first"===i)throw new Error("`startOn` should only be specified if `strategy` is 'last'.");if(l&&"first"===i)throw new Error("`includeSystem` should only be specified if `strategy` is 'last'.");let c;c="getNumTokens"in r?async e=>(await Promise.all(e.map((e=>r.getNumTokens(e.content))))).reduce(((e,t)=>e+t),0):async e=>r(e);let d=k;if(u&&(d="splitText"in u?u.splitText:async e=>u(e)),"first"===i)return b(e,{maxTokens:n,tokenCounter:c,textSplitter:d,partialStrategy:a?"first":void 0,endOn:o});if("last"===i)return async function(e,t){const{allowPartial:n=!1,includeSystem:r=!1,endOn:i,startOn:a,...o}=t;if(i){const t=Array.isArray(i)?i:[i];for(;e&&!f(e[e.length-1],t);)e.pop()}const s=r&&"system"===e[0]._getType();let l=s?e.slice(0,1).concat(e.slice(1).reverse()):e.reverse();return l=await b(l,{...o,partialStrategy:n?"last":void 0,endOn:a}),s?[l[0],...l.slice(1).reverse()]:l.reverse()}(e,{maxTokens:n,tokenCounter:c,textSplitter:d,allowPartial:a,includeSystem:l,startOn:s,endOn:o});throw new Error(`Unrecognized strategy: '${i}'. Must be one of 'first' or 'last'.`)}async function b(e,t){const{maxTokens:n,tokenCounter:r,textSplitter:i,partialStrategy:a,endOn:o}=t;let s=[...e],l=0;for(let u=0;u<s.length;u+=1){const e=u>0?s.slice(0,-u):s;if(await r(e)<=n){l=s.length-u;break}}if(l<s.length-1&&a){let e=!1;if(Array.isArray(s[l].content)){const t=s[l];if("string"===typeof t.content)throw new Error("Expected content to be an array.");const i=t.content.length,o="last"===a?[...t.content].reverse():t.content;for(let u=1;u<=i;u+=1){const i="first"===a?o.slice(0,u):o.slice(-u),c=Object.fromEntries(Object.entries(t).filter((([e])=>"type"!==e&&!e.startsWith("lc_")))),d=w(t._getType(),{...c,content:i}),f=[...s.slice(0,l),d];if(!(await r(f)<=n))break;s=f,l+=1,e=!0}e&&"last"===a&&(t.content=[...o].reverse())}if(!e){const e=s[l];let t;if(Array.isArray(e.content)&&e.content.some((e=>"string"===typeof e||"text"===e.type))){const n=e.content.find((e=>"text"===e.type&&e.text));t=n?.text}else"string"===typeof e.content&&(t=e.content);if(t){const o=await i(t),u=o.length;"last"===a&&o.reverse();for(let t=0;t<u-1;t+=1)if(o.pop(),e.content=o.join(""),await r([...s.slice(0,l),e])<=n){"last"===a&&(e.content=[...o].reverse().join("")),s=[...s.slice(0,l),e],l+=1;break}}}}if(o){const e=Array.isArray(o)?o:[o];for(;l>0&&!f(s[l-1],e);)l-=1}return s.slice(0,l)}const v={human:{message:s.HumanMessage,messageChunk:s.HumanMessageChunk},ai:{message:r.AIMessage,messageChunk:r.AIMessageChunk},system:{message:l.SystemMessage,messageChunk:l.SystemMessageChunk},tool:{message:d.ToolMessage,messageChunk:d.ToolMessageChunk},function:{message:o.FunctionMessage,messageChunk:o.FunctionMessageChunk},generic:{message:a.ChatMessage,messageChunk:a.ChatMessageChunk}};function w(e,t,n){let i,u;switch(e){case"human":n?i=new s.HumanMessageChunk(t):u=new s.HumanMessage(t);break;case"ai":if(n){let e={...t};"tool_calls"in e&&(e={...e,tool_call_chunks:e.tool_calls?.map((e=>({...e,index:void 0,args:JSON.stringify(e.args)})))}),i=new r.AIMessageChunk(e)}else u=new r.AIMessage(t);break;case"system":n?i=new l.SystemMessageChunk(t):u=new l.SystemMessage(t);break;case"tool":if(!("tool_call_id"in t))throw new Error("Can not convert ToolMessage to ToolMessageChunk if 'tool_call_id' field is not defined.");n?i=new d.ToolMessageChunk(t):u=new d.ToolMessage(t);break;case"function":if(n)i=new o.FunctionMessageChunk(t);else{if(!t.name)throw new Error("FunctionMessage must have a 'name' field");u=new o.FunctionMessage(t)}break;case"generic":if(!("role"in t))throw new Error("Can not convert ChatMessage to ChatMessageChunk if 'role' field is not defined.");n?i=new a.ChatMessageChunk(t):u=new a.ChatMessage(t);break;default:throw new Error(`Unrecognized message type ${e}`)}if(n&&i)return i;if(u)return u;throw new Error(`Unrecognized message type ${e}`)}function x(e){const t=e._getType();let n;const r=Object.fromEntries(Object.entries(e).filter((([e])=>!["type","tool_call_chunks"].includes(e)&&!e.startsWith("lc_"))));if(t in v&&(n=w(t,r)),!n)throw new Error(`Unrecognized message chunk class ${t}. Supported classes are ${Object.keys(v)}`);return n}function k(e){const t=e.split("\n");return Promise.resolve([...t.slice(0,-1).map((e=>`${e}\n`)),t[t.length-1]])}},1503:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SystemMessage:()=>i,SystemMessageChunk:()=>a});var r=n(5555);class i extends r.BaseMessage{static lc_name(){return"SystemMessage"}_getType(){return"system"}}class a extends r.BaseMessageChunk{static lc_name(){return"SystemMessageChunk"}_getType(){return"system"}concat(e){return new a({content:(0,r.mergeContent)(this.content,e.content),additional_kwargs:(0,r._mergeDicts)(this.additional_kwargs,e.additional_kwargs),response_metadata:(0,r._mergeDicts)(this.response_metadata,e.response_metadata),id:this.id??e.id})}}},9248:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ToolMessage:()=>i,ToolMessageChunk:()=>a,defaultToolCallParser:()=>o});var r=n(5555);class i extends r.BaseMessage{static lc_name(){return"ToolMessage"}get lc_aliases(){return{tool_call_id:"tool_call_id"}}constructor(e,t,n){"string"===typeof e&&(e={content:e,name:n,tool_call_id:t}),super(e),Object.defineProperty(this,"tool_call_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_id=e.tool_call_id}_getType(){return"tool"}static isInstance(e){return"tool"===e._getType()}}class a extends r.BaseMessageChunk{constructor(e){super(e),Object.defineProperty(this,"tool_call_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_id=e.tool_call_id}static lc_name(){return"ToolMessageChunk"}_getType(){return"tool"}concat(e){return new a({content:(0,r.mergeContent)(this.content,e.content),additional_kwargs:(0,r._mergeDicts)(this.additional_kwargs,e.additional_kwargs),response_metadata:(0,r._mergeDicts)(this.response_metadata,e.response_metadata),tool_call_id:this.tool_call_id,id:this.id??e.id})}}function o(e){const t=[],n=[];for(const i of e)if(i.function){const e=i.function.name;try{const n={name:e||"",args:JSON.parse(i.function.arguments)||{},id:i.id};t.push(n)}catch(r){n.push({name:e,args:i.function.arguments,id:i.id,error:"Malformed args."})}}return[t,n]}},9717:(e,t,n)=>{"use strict";n.r(t),n.d(t,{coerceMessageLikeToMessage:()=>d,convertToChunk:()=>m,getBufferString:()=>f,mapChatMessagesToStoredMessages:()=>g,mapStoredMessageToChatMessage:()=>h,mapStoredMessagesToChatMessages:()=>p});var r=n(8376),i=n(5555),a=n(7164),o=n(1966),s=n(601),l=n(1503),u=n(9248);function c(e){const{type:t,...n}=e;if("human"===t||"user"===t)return new s.HumanMessage(n);if("ai"===t||"assistant"===t)return new r.AIMessage(n);if("system"===t)return new l.SystemMessage(n);throw new Error("Unable to coerce message from array: only human, AI, or system message coercion is currently supported.")}function d(e){if("string"===typeof e)return new s.HumanMessage(e);if((0,i.isBaseMessage)(e))return e;if(Array.isArray(e)){const[t,n]=e;return c({type:t,content:n})}return c(e)}function f(e,t="Human",n="AI"){const r=[];for(const i of e){let e;if("human"===i._getType())e=t;else if("ai"===i._getType())e=n;else if("system"===i._getType())e="System";else if("function"===i._getType())e="Function";else if("tool"===i._getType())e="Tool";else{if("generic"!==i._getType())throw new Error(`Got unsupported message type: ${i._getType()}`);e=i.role}const a=i.name?`${i.name}, `:"";r.push(`${e}: ${a}${i.content}`)}return r.join("\n")}function h(e){const t=function(e){if(void 0!==e.data)return e;{const t=e;return{type:t.type,data:{content:t.text,role:t.role,name:void 0,tool_call_id:void 0}}}}(e);switch(t.type){case"human":return new s.HumanMessage(t.data);case"ai":return new r.AIMessage(t.data);case"system":return new l.SystemMessage(t.data);case"function":if(void 0===t.data.name)throw new Error("Name must be defined for function messages");return new o.FunctionMessage(t.data);case"tool":if(void 0===t.data.tool_call_id)throw new Error("Tool call ID must be defined for tool messages");return new u.ToolMessage(t.data);case"chat":if(void 0===t.data.role)throw new Error("Role must be defined for chat messages");return new a.ChatMessage(t.data);default:throw new Error(`Got unexpected type: ${t.type}`)}}function p(e){return e.map(h)}function g(e){return e.map((e=>e.toDict()))}function m(e){const t=e._getType();if("human"===t)return new s.HumanMessageChunk({...e});if("ai"===t){let t={...e};return"tool_calls"in t&&(t={...t,tool_call_chunks:t.tool_calls?.map((e=>({...e,index:void 0,args:JSON.stringify(e.args)})))}),new r.AIMessageChunk({...t})}if("system"===t)return new l.SystemMessageChunk({...e});if("function"===t)return new o.FunctionMessageChunk({...e});if(a.ChatMessage.isInstance(e))return new a.ChatMessageChunk({...e});throw new Error("Unknown message type.")}},8509:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ChatGenerationChunk:()=>a,GenerationChunk:()=>i,RUN_KEY:()=>r});const r="__run";class i{constructor(e){Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"generationInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.text=e.text,this.generationInfo=e.generationInfo}concat(e){return new i({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo}})}}class a extends i{constructor(e){super(e),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.message=e.message}concat(e){return new a({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo},message:this.message.concat(e.message)})}}},864:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Runnable:()=>M,RunnableAssign:()=>V,RunnableBinding:()=>L,RunnableEach:()=>R,RunnableLambda:()=>B,RunnableMap:()=>j,RunnableParallel:()=>z,RunnablePick:()=>W,RunnableRetry:()=>N,RunnableSequence:()=>D,RunnableTraceable:()=>F,RunnableWithFallbacks:()=>$,_coerceToDict:()=>P,_coerceToRunnable:()=>U});var r=n(373),i=n(8121),a=n(9228),o=n(9984),s=n(9761),l=n(5483),u=n(3117),c=n(7949),d=n(3689),f=n(4578),h=n(9763),p=n(5569);class g extends p.BaseTracer{constructor({config:e,onStart:t,onEnd:n,onError:r}){super({_awaitHandler:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RootListenersTracer"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.config=e,this.argOnStart=t,this.argOnEnd=n,this.argOnError=r}persistRun(e){return Promise.resolve()}async onRunCreate(e){this.rootId||(this.rootId=e.id,this.argOnStart&&(1===this.argOnStart.length?await this.argOnStart(e):2===this.argOnStart.length&&await this.argOnStart(e,this.config)))}async onRunUpdate(e){e.id===this.rootId&&(e.error?this.argOnError&&(1===this.argOnError.length?await this.argOnError(e):2===this.argOnError.length&&await this.argOnError(e,this.config)):this.argOnEnd&&(1===this.argOnEnd.length?await this.argOnEnd(e):2===this.argOnEnd.length&&await this.argOnEnd(e,this.config)))}}function m(e){return!!e&&e.lc_runnable}class y{constructor(e){Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.includeNames=e.includeNames,this.includeTypes=e.includeTypes,this.includeTags=e.includeTags,this.excludeNames=e.excludeNames,this.excludeTypes=e.excludeTypes,this.excludeTags=e.excludeTags}includeEvent(e,t){let n=void 0===this.includeNames&&void 0===this.includeTypes&&void 0===this.includeTags;const r=e.tags??[];return void 0!==this.includeNames&&(n=n||this.includeNames.includes(e.name)),void 0!==this.includeTypes&&(n=n||this.includeTypes.includes(t)),void 0!==this.includeTags&&(n=n||r.some((e=>this.includeTags?.includes(e)))),void 0!==this.excludeNames&&(n=n&&!this.excludeNames.includes(e.name)),void 0!==this.excludeTypes&&(n=n&&!this.excludeTypes.includes(t)),void 0!==this.excludeTags&&(n=n&&r.every((e=>!this.excludeTags?.includes(e)))),n}}var _=n(5634),b=n(8042),v=n(6252);function w(e){return e.replace(/[^a-zA-Z-_0-9]/g,"_")}function x(e,t){return[t[e.source]??e.source,t[e.target]??e.target]}function k(e,t,n){const{firstNodeLabel:r,lastNodeLabel:i,nodeColors:a,withStyles:o=!0,curveStyle:s="linear",wrapLabelNWords:l=9}=n??{};let u=o?`%%{init: {'flowchart': {'curve': '${s}'}}}%%\ngraph TD;\n`:"graph TD;\n";if(o){const t="default",n={[t]:"{0}([{1}]):::otherclass"};void 0!==r&&(n[r]="{0}[{0}]:::startclass"),void 0!==i&&(n[i]="{0}[{0}]:::endclass");for(const r of Object.values(e)){const e=n[r]??n[t],i=w(r),a=r.split(":"),o=a[a.length-1];u+=`\t${e.replace(/\{0\}/g,i).replace(/\{1\}/g,o)};\n`}}let c="";for(const d of t){const t=d.source.includes(":")?d.source.split(":")[0]:void 0,n=d.target.includes(":")?d.target.split(":")[0]:void 0;""===c||c===t&&c===n||(u+="\tend\n",c=""),""===c&&void 0!==t&&t===n&&(u=`\tsubgraph ${t}\n`,c=t);const[r,i]=x(d,e);let a="";if(void 0!==d.data){let e=d.data;const t=e.split(" ");t.length>l&&(e=t.reduce(((e,t,n)=>(n%l===0&&e.push(""),e[e.length-1]+=` ${t}`,e)),[]).join("<br>")),a=d.conditional?` -. ${e} .-> `:` -- ${e} --\x3e `}else a=d.conditional?" -.-> ":" --\x3e ";u+=`\t${w(r)}${a}${w(i)};\n`}return""!==c&&(u+="end\n"),o&&void 0!==a&&(u+=function(e){let t="";for(const[n,r]of Object.entries(e))t+=`\tclassDef ${n}class fill:${r};\n`;return t}(a)),u}function S(e){if(!(0,v.default)(e.id))return e.id;if(!m(e.data))return e.data.name??"UnknownSchema";try{let t=e.data.getName();return t=t.startsWith("Runnable")?t.slice(8):t,t.length>42&&(t=`${t.substring(0,42)}...`),t}catch(t){return e.data.getName()}}function T(e){return m(e.data)?{type:"runnable",data:{id:e.data.lc_id,name:e.data.getName()}}:{type:"schema",data:{...(0,b.zodToJsonSchema)(e.data.schema),title:e.data.name}}}class E{constructor(){Object.defineProperty(this,"nodes",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"edges",{enumerable:!0,configurable:!0,writable:!0,value:[]})}toJSON(){const e={};return Object.values(this.nodes).forEach(((t,n)=>{e[t.id]=(0,v.default)(t.id)?n:t.id})),{nodes:Object.values(this.nodes).map((t=>({id:e[t.id],...T(t)}))),edges:this.edges.map((t=>t.data?{source:e[t.source],target:e[t.target],data:t.data}:{source:e[t.source],target:e[t.target]}))}}addNode(e,t){if(void 0!==t&&void 0!==this.nodes[t])throw new Error(`Node with id ${t} already exists`);const n=t||(0,a.default)(),r={id:n,data:e};return this.nodes[n]=r,r}removeNode(e){delete this.nodes[e.id],this.edges=this.edges.filter((t=>t.source!==e.id&&t.target!==e.id))}addEdge(e,t,n,r){if(void 0===this.nodes[e.id])throw new Error(`Source node ${e.id} not in graph`);if(void 0===this.nodes[t.id])throw new Error(`Target node ${t.id} not in graph`);const i={source:e.id,target:t.id,data:n,conditional:r};return this.edges.push(i),i}firstNode(){const e=new Set(this.edges.map((e=>e.target))),t=[];return Object.values(this.nodes).forEach((n=>{e.has(n.id)||t.push(n)})),t[0]}lastNode(){const e=new Set(this.edges.map((e=>e.source))),t=[];return Object.values(this.nodes).forEach((n=>{e.has(n.id)||t.push(n)})),t[0]}extend(e,t=""){let n=t;Object.values(e.nodes).map((e=>e.id)).every(v.default)&&(n="");const r=e=>n?`${n}:${e}`:e;Object.entries(e.nodes).forEach((([e,t])=>{this.nodes[r(e)]={...t,id:r(e)}}));const i=e.edges.map((e=>({...e,source:r(e.source),target:r(e.target)})));this.edges=[...this.edges,...i];const a=e.firstNode(),o=e.lastNode();return[a?{id:r(a.id),data:a.data}:void 0,o?{id:r(o.id),data:o.data}:void 0]}trimFirstNode(){const e=this.firstNode();if(e){const t=this.edges.filter((t=>t.source===e.id));1!==Object.keys(this.nodes).length&&1!==t.length||this.removeNode(e)}}trimLastNode(){const e=this.lastNode();if(e){const t=this.edges.filter((t=>t.target===e.id));1!==Object.keys(this.nodes).length&&1!==t.length||this.removeNode(e)}}drawMermaid(e){const{withStyles:t,curveStyle:n,nodeColors:r={start:"#ffdfba",end:"#baffc9",other:"#fad7de"},wrapLabelNWords:i}=e??{},a={};for(const c of Object.values(this.nodes))a[c.id]=S(c);const o=this.firstNode(),s=o?S(o):void 0,l=this.lastNode(),u=l?S(l):void 0;return k(a,this.edges,{firstNodeLabel:s,lastNodeLabel:u,withStyles:t,curveStyle:n,nodeColors:r,wrapLabelNWords:i})}async drawMermaidPng(e){return async function(e,t){let{backgroundColor:n="white"}=t??{};const r=btoa(e);void 0!==n&&(/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(n)||(n=`!${n}`));const i=`https://mermaid.ink/img/${r}?bgColor=${n}`,a=await fetch(i);if(!a.ok)throw new Error(["Failed to render the graph using the Mermaid.INK API.",`Status code: ${a.status}`,`Status text: ${a.statusText}`].join("\n"));return await a.blob()}(this.drawMermaid(e),{backgroundColor:e?.backgroundColor})}}function A(e){return"object"===typeof e&&null!==e&&"function"===typeof e[Symbol.iterator]&&"function"===typeof e.next}function O(e){return"object"===typeof e&&null!==e&&"function"===typeof e[Symbol.asyncIterator]}function*C(e,t){const n=_.AsyncLocalStorageProviderSingleton.getInstance();for(;;){const{value:r,done:i}=n.run(e,t.next.bind(t));if(i)break;yield r}}async function*I(e,t){const n=_.AsyncLocalStorageProviderSingleton.getInstance(),r=t[Symbol.asyncIterator]();for(;;){const{value:i,done:a}=await n.run(e,r.next.bind(t));if(a)break;yield i}}function P(e,t){return!e||Array.isArray(e)||e instanceof Date||"object"!==typeof e?{[t]:e}:e}class M extends c.Serializable{constructor(){super(...arguments),Object.defineProperty(this,"lc_runnable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}getName(e){const t=this.name??this.constructor.lc_name()??this.constructor.name;return e?`${t}${e}`:t}bind(e){return new L({bound:this,kwargs:e,config:{}})}map(){return new R({bound:this})}withRetry(e){return new N({bound:this,kwargs:{},config:{},maxAttemptNumber:e?.stopAfterAttempt,...e})}withConfig(e){return new L({bound:this,config:e,kwargs:{}})}withFallbacks(e){return new $({runnable:this,fallbacks:e.fallbacks})}_getOptionsList(e,t=0){if(Array.isArray(e)&&e.length!==t)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${t} inputs`);if(Array.isArray(e))return e.map(f.ensureConfig);if(t>1&&!Array.isArray(e)&&e.runId){console.warn("Provided runId will be used only for the first element of the batch.");const n=Object.fromEntries(Object.entries(e).filter((([e])=>"runId"!==e)));return Array.from({length:t},((t,r)=>(0,f.ensureConfig)(0===r?e:n)))}return Array.from({length:t},(()=>(0,f.ensureConfig)(e)))}async batch(e,t,n){const r=this._getOptionsList(t??{},e.length),i=r[0]?.maxConcurrency??n?.maxConcurrency,a=new h.AsyncCaller({maxConcurrency:i,onFailedAttempt:e=>{throw e}}),o=e.map(((e,t)=>a.call((async()=>{try{return await this.invoke(e,r[t])}catch(i){if(n?.returnExceptions)return i;throw i}}))));return Promise.all(o)}async*_streamIterator(e,t){yield this.invoke(e,t)}async stream(e,t){const n=(0,f.ensureConfig)(t),r=new d.AsyncGeneratorWithSetup({generator:this._streamIterator(e,n),config:n});return await r.setup,d.IterableReadableStream.fromAsyncGenerator(r)}_separateRunnableConfigFromCallOptions(e){let t;t=void 0===e?(0,f.ensureConfig)(e):(0,f.ensureConfig)({callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName,configurable:e.configurable,recursionLimit:e.recursionLimit,maxConcurrency:e.maxConcurrency,runId:e.runId});const n={...e};return delete n.callbacks,delete n.tags,delete n.metadata,delete n.runName,delete n.configurable,delete n.recursionLimit,delete n.maxConcurrency,delete n.runId,[t,n]}async _callWithConfig(e,t,n){const r=(0,f.ensureConfig)(n),i=await(0,f.getCallbackManagerForConfig)(r),a=await(i?.handleChainStart(this.toJSON(),P(t,"input"),r.runId,r?.runType,void 0,void 0,r?.runName??this.getName()));let o;delete r.runId;try{o=await e.call(this,t,r,a)}catch(s){throw await(a?.handleChainError(s)),s}return await(a?.handleChainEnd(P(o,"output"))),o}async _batchWithConfig(e,t,n,r){const i=this._getOptionsList(n??{},t.length),a=await Promise.all(i.map(f.getCallbackManagerForConfig)),o=await Promise.all(a.map((async(e,n)=>{const r=await(e?.handleChainStart(this.toJSON(),P(t[n],"input"),i[n].runId,i[n].runType,void 0,void 0,i[n].runName??this.getName()));return delete i[n].runId,r})));let s;try{s=await e.call(this,t,i,o,r)}catch(l){throw await Promise.all(o.map((e=>e?.handleChainError(l)))),l}return await Promise.all(o.map((e=>e?.handleChainEnd(P(s,"output"))))),s}async*_transformStreamWithConfig(e,t,n){let r,i,a=!0,o=!0;const s=(0,f.ensureConfig)(n),c=await(0,f.getCallbackManagerForConfig)(s);let h;try{const n=await(0,d.pipeGeneratorWithSetup)(t.bind(this),async function*(){for await(const t of e){if(a)if(void 0===r)r=t;else try{r=(0,d.concat)(r,t)}catch{r=void 0,a=!1}yield t}}(),(async()=>c?.handleChainStart(this.toJSON(),{input:""},s.runId,s.runType,void 0,void 0,s.runName??this.getName())),s);delete s.runId,h=n.setup;const f=h?.handlers.find(u.isStreamEventsHandler);let p=n.output;void 0!==f&&void 0!==h&&(p=f.tapOutputIterable(h.runId,p));const g=h?.handlers.find(l.isLogStreamHandler);void 0!==g&&void 0!==h&&(p=g.tapOutputIterable(h.runId,p));for await(const e of p)if(yield e,o)if(void 0===i)i=e;else try{i=(0,d.concat)(i,e)}catch{i=void 0,o=!1}}catch(p){throw await(h?.handleChainError(p,void 0,void 0,void 0,{inputs:P(r,"input")})),p}await(h?.handleChainEnd(i??{},void 0,void 0,void 0,{inputs:P(r,"input")}))}getGraph(e){const t=new E,n=t.addNode({name:`${this.getName()}Input`,schema:r.z.any()}),i=t.addNode(this),a=t.addNode({name:`${this.getName()}Output`,schema:r.z.any()});return t.addEdge(n,i),t.addEdge(i,a),t}pipe(e){return new D({first:this,last:U(e)})}pick(e){return this.pipe(new W(e))}assign(e){return this.pipe(new V(new j({steps:e})))}async*transform(e,t){let n;for await(const r of e)n=void 0===n?r:(0,d.concat)(n,r);yield*this._streamIterator(n,(0,f.ensureConfig)(t))}async*streamLog(e,t,n){const r=new l.LogStreamCallbackHandler({...n,autoClose:!1,_schemaFormat:"original"}),i=(0,f.ensureConfig)(t);yield*this._streamLog(e,r,i)}async*_streamLog(e,t,n){const{callbacks:r}=n;if(void 0===r)n.callbacks=[t];else if(Array.isArray(r))n.callbacks=r.concat([t]);else{const e=r.copy();e.inheritableHandlers.push(t),n.callbacks=e}const i=this.stream(e,n);const a=async function(){try{const e=await i;for await(const n of e){const e=new l.RunLogPatch({ops:[{op:"add",path:"/streamed_output/-",value:n}]});await t.writer.write(e)}}finally{await t.writer.close()}}();try{for await(const e of t)yield e}finally{await a}}streamEvents(e,t,n){let r;if("v1"===t.version)r=this._streamEventsV1(e,t,n);else{if("v2"!==t.version)throw new Error('Only versions "v1" and "v2" of the schema are currently supported.');r=this._streamEventsV2(e,t,n)}return"text/event-stream"===t.encoding?function(e){const t=new TextEncoder,n=new ReadableStream({async start(n){for await(const r of e)n.enqueue(t.encode(`event: data\ndata: ${JSON.stringify(r)}\n\n`));n.enqueue(t.encode("event: end\n\n")),n.close()}});return d.IterableReadableStream.fromReadableStream(n)}(r):d.IterableReadableStream.fromAsyncGenerator(r)}async*_streamEventsV2(e,t,n){const r=new u.EventStreamCallbackHandler({...n,autoClose:!1}),i=(0,f.ensureConfig)(t),o=i.runId??(0,a.default)();i.runId=o;const s=i.callbacks;if(void 0===s)i.callbacks=[r];else if(Array.isArray(s))i.callbacks=s.concat(r);else{const e=s.copy();e.inheritableHandlers.push(r),i.callbacks=e}const l=this;const c=async function(){try{const t=await l.stream(e,i),n=r.tapOutputIterable(o,t);for await(const e of n);}finally{await r.finish()}}();let d,h=!1;try{for await(const t of r)h?(t.run_id===d&&t.event.endsWith("_end")&&t.data?.input&&delete t.data.input,yield t):(t.data.input=e,h=!0,d=t.run_id,yield t)}finally{await c}}async*_streamEventsV1(e,t,n){let r,i=!1;const a=(0,f.ensureConfig)(t),o=a.tags??[],s=a.metadata??{},u=a.runName??this.getName(),c=new l.LogStreamCallbackHandler({...n,autoClose:!1,_schemaFormat:"streaming_events"}),d=new y({...n}),h=this._streamLog(e,c,a);for await(const f of h){if(r=r?r.concat(f):l.RunLog.fromRunLogPatch(f),void 0===r.state)throw new Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!i){i=!0;const t={...r.state},n={run_id:t.id,event:`on_${t.type}_start`,name:u,tags:o,metadata:s,data:{input:e}};d.includeEvent(n,t.type)&&(yield n)}const t=f.ops.filter((e=>e.path.startsWith("/logs/"))).map((e=>e.path.split("/")[2])),n=[...new Set(t)];for(const e of n){let t,n={};const i=r.state.logs[e];if(t=void 0===i.end_time?i.streamed_output.length>0?"stream":"start":"end","start"===t)void 0!==i.inputs&&(n.input=i.inputs);else if("end"===t)void 0!==i.inputs&&(n.input=i.inputs),n.output=i.final_output;else if("stream"===t){const e=i.streamed_output.length;if(1!==e)throw new Error(`Expected exactly one chunk of streamed output, got ${e} instead. Encountered in: "${i.name}"`);n={chunk:i.streamed_output[0]},i.streamed_output=[]}yield{event:`on_${i.type}_${t}`,name:i.name,run_id:i.id,tags:i.tags,metadata:i.metadata,data:n}}const{state:a}=r;if(a.streamed_output.length>0){const e=a.streamed_output.length;if(1!==e)throw new Error(`Expected exactly one chunk of streamed output, got ${e} instead. Encountered in: "${a.name}"`);const t={chunk:a.streamed_output[0]};a.streamed_output=[];const n={event:`on_${a.type}_stream`,run_id:a.id,tags:o,metadata:s,name:u,data:t};d.includeEvent(n,a.type)&&(yield n)}}const p=r?.state;if(void 0!==p){const e={event:`on_${p.type}_end`,name:u,run_id:p.id,tags:o,metadata:s,data:{output:p.final_output}};d.includeEvent(e,p.type)&&(yield e)}}static isRunnable(e){return m(e)}withListeners({onStart:e,onEnd:t,onError:n}){return new L({bound:this,config:{},configFactories:[r=>({callbacks:[new g({config:r,onStart:e,onEnd:t,onError:n})]})]})}}class L extends M{static lc_name(){return"RunnableBinding"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"configFactories",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound,this.kwargs=e.kwargs,this.config=e.config,this.configFactories=e.configFactories}getName(e){return this.bound.getName(e)}async _mergeConfig(...e){const t=(0,f.mergeConfigs)(this.config,...e);return(0,f.mergeConfigs)(t,...this.configFactories?await Promise.all(this.configFactories.map((async e=>await e(t)))):[])}bind(e){return new this.constructor({bound:this.bound,kwargs:{...this.kwargs,...e},config:this.config})}withConfig(e){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...e}})}withRetry(e){return new this.constructor({bound:this.bound.withRetry(e),kwargs:this.kwargs,config:this.config})}async invoke(e,t){return this.bound.invoke(e,await this._mergeConfig((0,f.ensureConfig)(t),this.kwargs))}async batch(e,t,n){const r=Array.isArray(t)?await Promise.all(t.map((async e=>this._mergeConfig((0,f.ensureConfig)(e),this.kwargs)))):await this._mergeConfig((0,f.ensureConfig)(t),this.kwargs);return this.bound.batch(e,r,n)}async*_streamIterator(e,t){yield*this.bound._streamIterator(e,await this._mergeConfig((0,f.ensureConfig)(t),this.kwargs))}async stream(e,t){return this.bound.stream(e,await this._mergeConfig((0,f.ensureConfig)(t),this.kwargs))}async*transform(e,t){yield*this.bound.transform(e,await this._mergeConfig((0,f.ensureConfig)(t),this.kwargs))}streamEvents(e,t,n){const r=this;return d.IterableReadableStream.fromAsyncGenerator(async function*(){yield*r.bound.streamEvents(e,{...await r._mergeConfig((0,f.ensureConfig)(t),r.kwargs),version:t.version},n)}())}static isRunnableBinding(e){return e.bound&&M.isRunnable(e.bound)}withListeners({onStart:e,onEnd:t,onError:n}){return new L({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[r=>({callbacks:[new g({config:r,onStart:e,onEnd:t,onError:n})]})]})}}class R extends M{static lc_name(){return"RunnableEach"}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound}bind(e){return new R({bound:this.bound.bind(e)})}async invoke(e,t){return this._callWithConfig(this._invoke,e,t)}async _invoke(e,t,n){return this.bound.batch(e,(0,f.patchConfig)(t,{callbacks:n?.getChild()}))}withListeners({onStart:e,onEnd:t,onError:n}){return new R({bound:this.bound.withListeners({onStart:e,onEnd:t,onError:n})})}}class N extends L{static lc_name(){return"RunnableRetry"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"maxAttemptNumber",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:()=>{}}),this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}_patchConfigForRetry(e,t,n){const r=e>1?`retry:attempt:${e}`:void 0;return(0,f.patchConfig)(t,{callbacks:n?.getChild(r)})}async _invoke(e,t,n){return i((r=>super.invoke(e,this._patchConfigForRetry(r,t,n))),{onFailedAttempt:t=>this.onFailedAttempt(t,e),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,t){return this._callWithConfig(this._invoke,e,t)}async _batch(e,t,n,r){const a={};try{await i((async i=>{const o=e.map(((e,t)=>t)).filter((e=>void 0===a[e.toString()]||a[e.toString()]instanceof Error)),s=o.map((t=>e[t])),l=o.map((e=>this._patchConfigForRetry(i,t?.[e],n?.[e]))),u=await super.batch(s,l,{...r,returnExceptions:!0});let c;for(let e=0;e<u.length;e+=1){const t=u[e],n=o[e];t instanceof Error&&void 0===c&&(c=t,c.input=s[e]),a[n.toString()]=t}if(c)throw c;return u}),{onFailedAttempt:e=>this.onFailedAttempt(e,e.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(o){if(!0!==r?.returnExceptions)throw o}return Object.keys(a).sort(((e,t)=>parseInt(e,10)-parseInt(t,10))).map((e=>a[parseInt(e,10)]))}async batch(e,t,n){return this._batchWithConfig(this._batch.bind(this),e,t,n)}}class D extends M{static lc_name(){return"RunnableSequence"}constructor(e){super(e),Object.defineProperty(this,"first",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"middle",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),this.first=e.first,this.middle=e.middle??this.middle,this.last=e.last,this.name=e.name}get steps(){return[this.first,...this.middle,this.last]}async invoke(e,t){const n=(0,f.ensureConfig)(t),r=await(0,f.getCallbackManagerForConfig)(n),i=await(r?.handleChainStart(this.toJSON(),P(e,"input"),n.runId,void 0,void 0,void 0,n?.runName));delete n.runId;let a,o=e;try{const e=[this.first,...this.middle];for(let t=0;t<e.length;t+=1){const r=e[t];o=await r.invoke(o,(0,f.patchConfig)(n,{callbacks:i?.getChild(`seq:step:${t+1}`)}))}a=await this.last.invoke(o,(0,f.patchConfig)(n,{callbacks:i?.getChild(`seq:step:${this.steps.length}`)}))}catch(s){throw await(i?.handleChainError(s)),s}return await(i?.handleChainEnd(P(a,"output"))),a}async batch(e,t,n){const r=this._getOptionsList(t??{},e.length),i=await Promise.all(r.map(f.getCallbackManagerForConfig)),a=await Promise.all(i.map((async(t,n)=>{const i=await(t?.handleChainStart(this.toJSON(),P(e[n],"input"),r[n].runId,void 0,void 0,void 0,r[n].runName));return delete r[n].runId,i})));let o=e;try{for(let e=0;e<this.steps.length;e+=1){const t=this.steps[e];o=await t.batch(o,a.map(((t,n)=>{const i=t?.getChild(`seq:step:${e+1}`);return(0,f.patchConfig)(r[n],{callbacks:i})})),n)}}catch(s){throw await Promise.all(a.map((e=>e?.handleChainError(s)))),s}return await Promise.all(a.map((e=>e?.handleChainEnd(P(o,"output"))))),o}async*_streamIterator(e,t){const n=await(0,f.getCallbackManagerForConfig)(t),{runId:r,...i}=t??{},a=await(n?.handleChainStart(this.toJSON(),P(e,"input"),r,void 0,void 0,void 0,i?.runName)),o=[this.first,...this.middle,this.last];let s,l=!0;try{let t=o[0].transform(async function*(){yield e}(),(0,f.patchConfig)(i,{callbacks:a?.getChild("seq:step:1")}));for(let e=1;e<o.length;e+=1){const n=o[e];t=await n.transform(t,(0,f.patchConfig)(i,{callbacks:a?.getChild(`seq:step:${e+1}`)}))}for await(const e of t)if(yield e,l)if(void 0===s)s=e;else try{s=(0,d.concat)(s,e)}catch(u){s=void 0,l=!1}}catch(u){throw await(a?.handleChainError(u)),u}await(a?.handleChainEnd(P(s,"output")))}getGraph(e){const t=new E;let n=null;return this.steps.forEach(((r,i)=>{const a=r.getGraph(e);0!==i&&a.trimFirstNode(),i!==this.steps.length-1&&a.trimLastNode(),t.extend(a);const o=a.firstNode();if(!o)throw new Error(`Runnable ${r} has no first node`);n&&t.addEdge(n,o),n=a.lastNode()})),t}pipe(e){return D.isRunnableSequence(e)?new D({first:this.first,middle:this.middle.concat([this.last,e.first,...e.middle]),last:e.last,name:this.name??e.name}):new D({first:this.first,middle:[...this.middle,this.last],last:U(e),name:this.name})}static isRunnableSequence(e){return Array.isArray(e.middle)&&M.isRunnable(e)}static from([e,...t],n){return new D({first:U(e),middle:t.slice(0,-1).map(U),last:U(t[t.length-1]),name:n})}}class j extends M{static lc_name(){return"RunnableMap"}getStepsKeys(){return Object.keys(this.steps)}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"steps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.steps={};for(const[t,n]of Object.entries(e.steps))this.steps[t]=U(n)}static from(e){return new j({steps:e})}async invoke(e,t){const n=(0,f.ensureConfig)(t),r=await(0,f.getCallbackManagerForConfig)(n),i=await(r?.handleChainStart(this.toJSON(),{input:e},n.runId,void 0,void 0,void 0,n?.runName));delete n.runId;const a={};try{await Promise.all(Object.entries(this.steps).map((async([t,r])=>{a[t]=await r.invoke(e,(0,f.patchConfig)(n,{callbacks:i?.getChild(`map:key:${t}`)}))})))}catch(o){throw await(i?.handleChainError(o)),o}return await(i?.handleChainEnd(a)),a}async*_transform(e,t,n){const r={...this.steps},i=(0,d.atee)(e,Object.keys(r).length),a=new Map(Object.entries(r).map((([e,r],a)=>{const o=r.transform(i[a],(0,f.patchConfig)(n,{callbacks:t?.getChild(`map:key:${e}`)}));return[e,o.next().then((t=>({key:e,gen:o,result:t})))]})));for(;a.size;){const{key:e,result:t,gen:n}=await Promise.race(a.values());a.delete(e),t.done||(yield{[e]:t.value},a.set(e,n.next().then((t=>({key:e,gen:n,result:t})))))}}transform(e,t){return this._transformStreamWithConfig(e,this._transform.bind(this),t)}async stream(e,t){const n=(0,f.ensureConfig)(t),r=new d.AsyncGeneratorWithSetup({generator:this.transform(async function*(){yield e}(),n),config:n});return await r.setup,d.IterableReadableStream.fromAsyncGenerator(r)}}class F extends M{constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!(0,o.isTraceableFunction)(e.func))throw new Error("RunnableTraceable requires a function that is wrapped in traceable higher-order function");this.func=e.func}async invoke(e,t){const[n]=this._getOptionsList(t??{},1),r=await(0,f.getCallbackManagerForConfig)(n);return await this.func((0,f.patchConfig)(n,{callbacks:r}),e)}async*_streamIterator(e,t){const n=await this.invoke(e,t);var r;if(O(n))for await(const i of n)yield i;else if(null!=(r=n)&&"object"===typeof r&&"next"in r&&"function"===typeof r.next)for(;;){const e=n.next();if(e.done)break;yield e.value}else yield n}static from(e){return new F({func:e})}}class B extends M{static lc_name(){return"RunnableLambda"}constructor(e){if((0,o.isTraceableFunction)(e.func))return F.from(e.func);super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),function(e){if((0,o.isTraceableFunction)(e))throw new Error("RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.")}(e.func),this.func=e.func}static from(e){return new B({func:e})}async _invoke(e,t,n){return new Promise(((r,i)=>{const a=(0,f.patchConfig)(t,{callbacks:n?.getChild(),recursionLimit:(t?.recursionLimit??f.DEFAULT_RECURSION_LIMIT)-1});_.AsyncLocalStorageProviderSingleton.getInstance().run(a,(async()=>{try{let i=await this.func(e,{...a,config:a});if(i&&M.isRunnable(i)){if(0===t?.recursionLimit)throw new Error("Recursion limit reached.");i=await i.invoke(e,{...a,recursionLimit:(a.recursionLimit??f.DEFAULT_RECURSION_LIMIT)-1})}else if(O(i)){let e;for await(const t of I(a,i))if(void 0===e)e=t;else try{e=(0,d.concat)(e,t)}catch(n){e=t}i=e}else if(A(i)){let e;for(const t of C(a,i))if(void 0===e)e=t;else try{e=(0,d.concat)(e,t)}catch(n){e=t}i=e}r(i)}catch(n){i(n)}}))}))}async invoke(e,t){return this._callWithConfig(this._invoke,e,t)}async*_transform(e,t,n){let r;for await(const o of e)if(void 0===r)r=o;else try{r=(0,d.concat)(r,o)}catch(a){r=o}const i=await new Promise(((e,t)=>{_.AsyncLocalStorageProviderSingleton.getInstance().run(n,(async()=>{try{const t=await this.func(r,{...n,config:n});e(t)}catch(a){t(a)}}))}));if(i&&M.isRunnable(i)){if(0===n?.recursionLimit)throw new Error("Recursion limit reached.");const e=await i.stream(r,(0,f.patchConfig)(n,{callbacks:t?.getChild(),recursionLimit:(n?.recursionLimit??f.DEFAULT_RECURSION_LIMIT)-1}));for await(const t of e)yield t}else if(O(i))for await(const o of I(n,i))yield o;else if(A(i))for(const o of C(n,i))yield o;else yield i}transform(e,t){return this._transformStreamWithConfig(e,this._transform.bind(this),t)}async stream(e,t){const n=(0,f.ensureConfig)(t),r=new d.AsyncGeneratorWithSetup({generator:this.transform(async function*(){yield e}(),n),config:n});return await r.setup,d.IterableReadableStream.fromAsyncGenerator(r)}}class z extends j{}class $ extends M{static lc_name(){return"RunnableWithFallbacks"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fallbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.runnable=e.runnable,this.fallbacks=e.fallbacks}*runnables(){yield this.runnable;for(const e of this.fallbacks)yield e}async invoke(e,t){const n=await s.CallbackManager.configure(t?.callbacks,void 0,t?.tags,void 0,t?.metadata),{runId:r,...i}=t??{},a=await(n?.handleChainStart(this.toJSON(),P(e,"input"),r,void 0,void 0,void 0,i?.runName));let o;for(const s of this.runnables())try{const t=await s.invoke(e,(0,f.patchConfig)(i,{callbacks:a?.getChild()}));return await(a?.handleChainEnd(P(t,"output"))),t}catch(l){void 0===o&&(o=l)}if(void 0===o)throw new Error("No error stored at end of fallback.");throw await(a?.handleChainError(o)),o}async batch(e,t,n){if(n?.returnExceptions)throw new Error("Not implemented.");const r=this._getOptionsList(t??{},e.length),i=await Promise.all(r.map((e=>s.CallbackManager.configure(e?.callbacks,void 0,e?.tags,void 0,e?.metadata)))),a=await Promise.all(i.map((async(t,n)=>{const i=await(t?.handleChainStart(this.toJSON(),P(e[n],"input"),r[n].runId,void 0,void 0,void 0,r[n].runName));return delete r[n].runId,i})));let o;for(const s of this.runnables())try{const t=await s.batch(e,a.map(((e,t)=>(0,f.patchConfig)(r[t],{callbacks:e?.getChild()}))),n);return await Promise.all(a.map(((e,n)=>e?.handleChainEnd(P(t[n],"output"))))),t}catch(l){void 0===o&&(o=l)}if(!o)throw new Error("No error stored at end of fallbacks.");throw await Promise.all(a.map((e=>e?.handleChainError(o)))),o}}function U(e){if("function"===typeof e)return new B({func:e});if(M.isRunnable(e))return e;if(Array.isArray(e)||"object"!==typeof e)throw new Error("Expected a Runnable, function or object.\nInstead got an unsupported type.");{const t={};for(const[n,r]of Object.entries(e))t[n]=U(r);return new j({steps:t})}}class V extends M{static lc_name(){return"RunnableAssign"}constructor(e){e instanceof j&&(e={mapper:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"mapper",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.mapper=e.mapper}async invoke(e,t){const n=await this.mapper.invoke(e,t);return{...e,...n}}async*_transform(e,t,n){const r=this.mapper.getStepsKeys(),[i,a]=(0,d.atee)(e),o=this.mapper.transform(a,(0,f.patchConfig)(n,{callbacks:t?.getChild()})),s=o.next();for await(const l of i){if("object"!==typeof l||Array.isArray(l))throw new Error("RunnableAssign can only be used with objects as input, got "+typeof l);const e=Object.fromEntries(Object.entries(l).filter((([e])=>!r.includes(e))));Object.keys(e).length>0&&(yield e)}yield(await s).value;for await(const l of o)yield l}transform(e,t){return this._transformStreamWithConfig(e,this._transform.bind(this),t)}async stream(e,t){const n=(0,f.ensureConfig)(t),r=new d.AsyncGeneratorWithSetup({generator:this.transform(async function*(){yield e}(),n),config:n});return await r.setup,d.IterableReadableStream.fromAsyncGenerator(r)}}class W extends M{static lc_name(){return"RunnablePick"}constructor(e){("string"===typeof e||Array.isArray(e))&&(e={keys:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"keys",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keys=e.keys}async _pick(e){if("string"===typeof this.keys)return e[this.keys];{const t=this.keys.map((t=>[t,e[t]])).filter((e=>void 0!==e[1]));return 0===t.length?void 0:Object.fromEntries(t)}}async invoke(e,t){return this._callWithConfig(this._pick.bind(this),e,t)}async*_transform(e){for await(const t of e){const e=await this._pick(t);void 0!==e&&(yield e)}}transform(e,t){return this._transformStreamWithConfig(e,this._transform.bind(this),t)}async stream(e,t){const n=(0,f.ensureConfig)(t),r=new d.AsyncGeneratorWithSetup({generator:this.transform(async function*(){yield e}(),n),config:n});return await r.setup,d.IterableReadableStream.fromAsyncGenerator(r)}}},4578:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DEFAULT_RECURSION_LIMIT:()=>a,ensureConfig:()=>u,getCallbackManagerForConfig:()=>o,mergeConfigs:()=>s,patchConfig:()=>c});var r=n(9761),i=n(5634);const a=25;async function o(e){return r.CallbackManager.configure(e?.callbacks,void 0,e?.tags,void 0,e?.metadata)}function s(...e){const t={};for(const n of e.filter((e=>!!e)))for(const e of Object.keys(n))if("metadata"===e)t[e]={...t[e],...n[e]};else if("tags"===e){const r=t[e]??[];t[e]=[...new Set(r.concat(n[e]??[]))]}else if("configurable"===e)t[e]={...t[e],...n[e]};else if("callbacks"===e){const e=t.callbacks,i=n.callbacks;if(Array.isArray(i))if(e)if(Array.isArray(e))t.callbacks=e.concat(i);else{const n=e.copy();for(const e of i)n.addHandler((0,r.ensureHandler)(e),!0);t.callbacks=n}else t.callbacks=i;else if(i)if(e)if(Array.isArray(e)){const n=i.copy();for(const t of e)n.addHandler((0,r.ensureHandler)(t),!0);t.callbacks=n}else t.callbacks=new r.CallbackManager(i._parentRunId,{handlers:e.handlers.concat(i.handlers),inheritableHandlers:e.inheritableHandlers.concat(i.inheritableHandlers),tags:Array.from(new Set(e.tags.concat(i.tags))),inheritableTags:Array.from(new Set(e.inheritableTags.concat(i.inheritableTags))),metadata:{...e.metadata,...i.metadata}});else t.callbacks=i}else{const r=e;t[r]=n[r]??t[r]}return t}const l=new Set(["string","number","boolean"]);function u(e){const t=e??i.AsyncLocalStorageProviderSingleton.getInstance().getStore();let n={tags:[],metadata:{},callbacks:void 0,recursionLimit:25,runId:void 0};if(t&&(n={...n,...t}),t?.configurable)for(const r of Object.keys(t.configurable))l.has(typeof t.configurable[r])&&!n.metadata?.[r]&&(n.metadata||(n.metadata={}),n.metadata[r]=t.configurable[r]);return n}function c(e={},{callbacks:t,maxConcurrency:n,recursionLimit:r,runName:i,configurable:a,runId:o}={}){const s=u(e);return void 0!==t&&(delete s.runName,s.callbacks=t),void 0!==r&&(s.recursionLimit=r),void 0!==n&&(s.maxConcurrency=n),void 0!==i&&(s.runName=i),void 0!==a&&(s.configurable={...s.configurable,...a}),void 0!==o&&delete s.runId,s}},5634:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AsyncLocalStorageProviderSingleton:()=>a,MockAsyncLocalStorage:()=>r});class r{getStore(){}run(e,t){return t()}}const i=new r;const a=new class{getInstance(){return globalThis.__lc_tracing_async_local_storage??i}initializeGlobalInstance(e){void 0===globalThis.__lc_tracing_async_local_storage&&(globalThis.__lc_tracing_async_local_storage=e)}}},5569:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BaseTracer:()=>a});var r=n(6999);function i(e,t){return e&&!Array.isArray(e)&&"object"===typeof e?e:{[t]:e}}class a extends r.BaseCallbackHandler{constructor(e){super(...arguments),Object.defineProperty(this,"runMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}copy(){return this}stringifyError(e){return e instanceof Error?e.message+(e?.stack?`\n\n${e.stack}`:""):"string"===typeof e?e:`${e}`}_addChildRun(e,t){e.child_runs.push(t)}async _startTrace(e){const t=function(e,t,n){const r=n.toFixed(0).slice(0,3).padStart(3,"0");return`${new Date(e).toISOString().slice(0,-1)}${r}Z`.replace(/[-:.]/g,"")+t}(e.start_time,e.id,e.execution_order),n={...e};if(void 0!==n.parent_run_id){const e=this.runMap.get(n.parent_run_id);e&&(this._addChildRun(e,n),e.child_execution_order=Math.max(e.child_execution_order,n.child_execution_order),n.trace_id=e.trace_id,void 0!==e.dotted_order&&(n.dotted_order=[e.dotted_order,t].join(".")))}else n.trace_id=n.id,n.dotted_order=t;this.runMap.set(n.id,n),await(this.onRunCreate?.(n))}async _endTrace(e){const t=void 0!==e.parent_run_id&&this.runMap.get(e.parent_run_id);t?t.child_execution_order=Math.max(t.child_execution_order,e.child_execution_order):await this.persistRun(e),this.runMap.delete(e.id),await(this.onRunUpdate?.(e))}_getExecutionOrder(e){const t=void 0!==e&&this.runMap.get(e);return t?t.child_execution_order+1:1}async handleLLMStart(e,t,n,r,i,a,o,s){const l=this._getExecutionOrder(r),u=Date.now(),c=o?{...i,metadata:o}:i,d={id:n,name:s??e.id[e.id.length-1],parent_run_id:r,start_time:u,serialized:e,events:[{name:"start",time:new Date(u).toISOString()}],inputs:{prompts:t},execution_order:l,child_runs:[],child_execution_order:l,run_type:"llm",extra:c??{},tags:a||[]};return await this._startTrace(d),await(this.onLLMStart?.(d)),d}async handleChatModelStart(e,t,n,r,i,a,o,s){const l=this._getExecutionOrder(r),u=Date.now(),c=o?{...i,metadata:o}:i,d={id:n,name:s??e.id[e.id.length-1],parent_run_id:r,start_time:u,serialized:e,events:[{name:"start",time:new Date(u).toISOString()}],inputs:{messages:t},execution_order:l,child_runs:[],child_execution_order:l,run_type:"llm",extra:c??{},tags:a||[]};return await this._startTrace(d),await(this.onLLMStart?.(d)),d}async handleLLMEnd(e,t){const n=this.runMap.get(t);if(!n||"llm"!==n?.run_type)throw new Error("No LLM run to end.");return n.end_time=Date.now(),n.outputs=e,n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await(this.onLLMEnd?.(n)),await this._endTrace(n),n}async handleLLMError(e,t){const n=this.runMap.get(t);if(!n||"llm"!==n?.run_type)throw new Error("No LLM run to end.");return n.end_time=Date.now(),n.error=this.stringifyError(e),n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await(this.onLLMError?.(n)),await this._endTrace(n),n}async handleChainStart(e,t,n,r,i,a,o,s){const l=this._getExecutionOrder(r),u=Date.now(),c={id:n,name:s??e.id[e.id.length-1],parent_run_id:r,start_time:u,serialized:e,events:[{name:"start",time:new Date(u).toISOString()}],inputs:t,execution_order:l,child_execution_order:l,run_type:o??"chain",child_runs:[],extra:a?{metadata:a}:{},tags:i||[]};return await this._startTrace(c),await(this.onChainStart?.(c)),c}async handleChainEnd(e,t,n,r,a){const o=this.runMap.get(t);if(!o)throw new Error("No chain run to end.");return o.end_time=Date.now(),o.outputs=i(e,"output"),o.events.push({name:"end",time:new Date(o.end_time).toISOString()}),void 0!==a?.inputs&&(o.inputs=i(a.inputs,"input")),await(this.onChainEnd?.(o)),await this._endTrace(o),o}async handleChainError(e,t,n,r,a){const o=this.runMap.get(t);if(!o)throw new Error("No chain run to end.");return o.end_time=Date.now(),o.error=this.stringifyError(e),o.events.push({name:"error",time:new Date(o.end_time).toISOString()}),void 0!==a?.inputs&&(o.inputs=i(a.inputs,"input")),await(this.onChainError?.(o)),await this._endTrace(o),o}async handleToolStart(e,t,n,r,i,a,o){const s=this._getExecutionOrder(r),l=Date.now(),u={id:n,name:o??e.id[e.id.length-1],parent_run_id:r,start_time:l,serialized:e,events:[{name:"start",time:new Date(l).toISOString()}],inputs:{input:t},execution_order:s,child_execution_order:s,run_type:"tool",child_runs:[],extra:a?{metadata:a}:{},tags:i||[]};return await this._startTrace(u),await(this.onToolStart?.(u)),u}async handleToolEnd(e,t){const n=this.runMap.get(t);if(!n||"tool"!==n?.run_type)throw new Error("No tool run to end");return n.end_time=Date.now(),n.outputs={output:e},n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await(this.onToolEnd?.(n)),await this._endTrace(n),n}async handleToolError(e,t){const n=this.runMap.get(t);if(!n||"tool"!==n?.run_type)throw new Error("No tool run to end");return n.end_time=Date.now(),n.error=this.stringifyError(e),n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await(this.onToolError?.(n)),await this._endTrace(n),n}async handleAgentAction(e,t){const n=this.runMap.get(t);if(!n||"chain"!==n?.run_type)return;const r=n;r.actions=r.actions||[],r.actions.push(e),r.events.push({name:"agent_action",time:(new Date).toISOString(),kwargs:{action:e}}),await(this.onAgentAction?.(n))}async handleAgentEnd(e,t){const n=this.runMap.get(t);n&&"chain"===n?.run_type&&(n.events.push({name:"agent_end",time:(new Date).toISOString(),kwargs:{action:e}}),await(this.onAgentEnd?.(n)))}async handleRetrieverStart(e,t,n,r,i,a,o){const s=this._getExecutionOrder(r),l=Date.now(),u={id:n,name:o??e.id[e.id.length-1],parent_run_id:r,start_time:l,serialized:e,events:[{name:"start",time:new Date(l).toISOString()}],inputs:{query:t},execution_order:s,child_execution_order:s,run_type:"retriever",child_runs:[],extra:a?{metadata:a}:{},tags:i||[]};return await this._startTrace(u),await(this.onRetrieverStart?.(u)),u}async handleRetrieverEnd(e,t){const n=this.runMap.get(t);if(!n||"retriever"!==n?.run_type)throw new Error("No retriever run to end");return n.end_time=Date.now(),n.outputs={documents:e},n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await(this.onRetrieverEnd?.(n)),await this._endTrace(n),n}async handleRetrieverError(e,t){const n=this.runMap.get(t);if(!n||"retriever"!==n?.run_type)throw new Error("No retriever run to end");return n.end_time=Date.now(),n.error=this.stringifyError(e),n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await(this.onRetrieverError?.(n)),await this._endTrace(n),n}async handleText(e,t){const n=this.runMap.get(t);n&&"chain"===n?.run_type&&(n.events.push({name:"text",time:(new Date).toISOString(),kwargs:{text:e}}),await(this.onText?.(n)))}async handleLLMNewToken(e,t,n,r,i,a){const o=this.runMap.get(n);if(!o||"llm"!==o?.run_type)throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return o.events.push({name:"new_token",time:(new Date).toISOString(),kwargs:{token:e,idx:t,chunk:a?.chunk}}),await(this.onLLMNewToken?.(o,e,{chunk:a?.chunk})),o}}},3117:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EventStreamCallbackHandler:()=>u,isStreamEventsHandler:()=>l});var r=n(5569),i=n(3689),a=n(8376),o=n(8509);function s({name:e,serialized:t}){return void 0!==e?e:void 0!==t?.name?t.name:void 0!==t?.id&&Array.isArray(t?.id)?t.id[t.id.length-1]:"Unnamed"}const l=e=>"event_stream_tracer"===e.name;class u extends r.BaseTracer{constructor(e){super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"runInfoMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"tappedPromises",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"event_stream_tracer"}),this.autoClose=e?.autoClose??!0,this.includeNames=e?.includeNames,this.includeTypes=e?.includeTypes,this.includeTags=e?.includeTags,this.excludeNames=e?.excludeNames,this.excludeTypes=e?.excludeTypes,this.excludeTags=e?.excludeTags,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=i.IterableReadableStream.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){const t=e.tags??[];let n=void 0===this.includeNames&&void 0===this.includeTags&&void 0===this.includeTypes;return void 0!==this.includeNames&&(n=n||this.includeNames.includes(e.name)),void 0!==this.includeTypes&&(n=n||this.includeTypes.includes(e.runType)),void 0!==this.includeTags&&(n=n||void 0!==t.find((e=>this.includeTags?.includes(e)))),void 0!==this.excludeNames&&(n=n&&!this.excludeNames.includes(e.name)),void 0!==this.excludeTypes&&(n=n&&!this.excludeTypes.includes(e.runType)),void 0!==this.excludeTags&&(n=n&&t.every((e=>!this.excludeTags?.includes(e)))),n}async*tapOutputIterable(e,t){const n=await t.next();if(n.done)return;const r=this.runInfoMap.get(e);if(void 0===r)return void(yield n.value);let i=this.tappedPromises.get(e);if(void 0===i){let a;i=new Promise((e=>{a=e})),this.tappedPromises.set(e,i);try{const i={event:`on_${r.runType}_stream`,run_id:e,name:r.name,tags:r.tags,metadata:r.metadata,data:{}};await this.send({...i,data:{chunk:n.value}},r),yield n.value;for await(const e of t)"tool"!==r.runType&&"retriever"!==r.runType&&await this.send({...i,data:{chunk:e}},r),yield e}finally{a()}}else{yield n.value;for await(const e of t)yield e}}async send(e,t){this._includeRun(t)&&await this.writer.write(e)}async sendEndEvent(e,t){const n=this.tappedPromises.get(e.run_id);void 0!==n?n.then((()=>{this.send(e,t)})):await this.send(e,t)}async onLLMStart(e){const t=s(e),n=void 0!==e.inputs.messages?"chat_model":"llm",r={tags:e.tags??[],metadata:e.extra?.metadata??{},name:t,runType:n,inputs:e.inputs};this.runInfoMap.set(e.id,r);const i=`on_${n}_start`;await this.send({event:i,data:{input:e.inputs},name:t,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},r)}async onLLMNewToken(e,t,n){const r=this.runInfoMap.get(e.id);let i,s;if(void 0===r)throw new Error(`onLLMNewToken: Run ID ${e.id} not found in run map.`);if("chat_model"===r.runType)s="on_chat_model_stream",i=void 0===n?.chunk?new a.AIMessageChunk({content:t}):n.chunk.message;else{if("llm"!==r.runType)throw new Error(`Unexpected run type ${r.runType}`);s="on_llm_stream",i=void 0===n?.chunk?new o.GenerationChunk({text:t}):n.chunk}await this.send({event:s,data:{chunk:i},run_id:e.id,name:r.name,tags:r.tags,metadata:r.metadata},r)}async onLLMEnd(e){const t=this.runInfoMap.get(e.id);let n;if(this.runInfoMap.delete(e.id),void 0===t)throw new Error(`onLLMEnd: Run ID ${e.id} not found in run map.`);const r=e.outputs?.generations;let i;if("chat_model"===t.runType){for(const e of r??[]){if(void 0!==i)break;i=e[0]?.message}n="on_chat_model_end"}else{if("llm"!==t.runType)throw new Error(`onLLMEnd: Unexpected run type: ${t.runType}`);i={generations:r?.map((e=>e.map((e=>({text:e.text,generationInfo:e.generationInfo}))))),llmOutput:e.outputs?.llmOutput??{}},n="on_llm_end"}await this.sendEndEvent({event:n,data:{output:i,input:t.inputs},run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata},t)}async onChainStart(e){const t=s(e),n=e.run_type??"chain",r={tags:e.tags??[],metadata:e.extra?.metadata??{},name:t,runType:e.run_type};let i={};""===e.inputs.input&&1===Object.keys(e.inputs).length?(i={},r.inputs={}):void 0!==e.inputs.input?(i.input=e.inputs.input,r.inputs=e.inputs.input):(i.input=e.inputs,r.inputs=e.inputs),this.runInfoMap.set(e.id,r),await this.send({event:`on_${n}_start`,data:i,name:t,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},r)}async onChainEnd(e){const t=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),void 0===t)throw new Error(`onChainEnd: Run ID ${e.id} not found in run map.`);const n=`on_${e.run_type}_end`,r=e.inputs??t.inputs??{},i={output:e.outputs?.output??e.outputs,input:r};r.input&&1===Object.keys(r).length&&(i.input=r.input,t.inputs=r.input),await this.sendEndEvent({event:n,data:i,run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata??{}},t)}async onToolStart(e){const t=s(e),n={tags:e.tags??[],metadata:e.extra?.metadata??{},name:t,runType:"tool",inputs:e.inputs??{}};this.runInfoMap.set(e.id,n),await this.send({event:"on_tool_start",data:{input:e.inputs??{}},name:t,run_id:e.id,tags:e.tags??[],metadata:e.extra?.metadata??{}},n)}async onToolEnd(e){const t=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),void 0===t)throw new Error(`onToolEnd: Run ID ${e.id} not found in run map.`);if(void 0===t.inputs)throw new Error(`onToolEnd: Run ID ${e.id} is a tool call, and is expected to have traced inputs.`);const n=void 0===e.outputs?.output?e.outputs:e.outputs.output;await this.sendEndEvent({event:"on_tool_end",data:{output:n,input:t.inputs},run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata},t)}async onRetrieverStart(e){const t=s(e),n={tags:e.tags??[],metadata:e.extra?.metadata??{},name:t,runType:"retriever",inputs:{query:e.inputs.query}};this.runInfoMap.set(e.id,n),await this.send({event:"on_retriever_start",data:{input:{query:e.inputs.query}},name:t,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},n)}async onRetrieverEnd(e){const t=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),void 0===t)throw new Error(`onRetrieverEnd: Run ID ${e.id} not found in run map.`);await this.sendEndEvent({event:"on_retriever_end",data:{output:e.outputs?.documents??e.outputs,input:t.inputs},run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata},t)}async finish(){const e=[...this.tappedPromises.values()];Promise.all(e).finally((()=>{this.writer.close()}))}}},5483:(e,t,n)=>{"use strict";n.r(t),n.d(t,{LogStreamCallbackHandler:()=>f,RunLog:()=>l,RunLogPatch:()=>s,isLogStreamHandler:()=>u});var r=n(5263),i=n(5569),a=n(3689),o=n(8376);class s{constructor(e){Object.defineProperty(this,"ops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.ops=e.ops??[]}concat(e){const t=this.ops.concat(e.ops),n=(0,r.applyPatch)({},t);return new l({ops:t,state:n[n.length-1].newDocument})}}class l extends s{constructor(e){super(e),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.state=e.state}concat(e){const t=this.ops.concat(e.ops),n=(0,r.applyPatch)(this.state,e.ops);return new l({ops:t,state:n[n.length-1].newDocument})}static fromRunLogPatch(e){const t=(0,r.applyPatch)({},e.ops);return new l({ops:e.ops,state:t[t.length-1].newDocument})}}const u=e=>"log_stream_tracer"===e.name;async function c(e,t){if("original"===t)throw new Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");const{inputs:n}=e;return["retriever","llm","prompt"].includes(e.run_type)?n:1!==Object.keys(n).length||""!==n?.input?n.input:void 0}async function d(e,t){const{outputs:n}=e;return"original"===t||["retriever","llm","prompt"].includes(e.run_type)?n:void 0!==n&&1===Object.keys(n).length&&void 0!==n?.output?n.output:n}class f extends i.BaseTracer{constructor(e){super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_schemaFormat",{enumerable:!0,configurable:!0,writable:!0,value:"original"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"keyMapByRunId",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"counterMapByRunName",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"log_stream_tracer"}),this.autoClose=e?.autoClose??!0,this.includeNames=e?.includeNames,this.includeTypes=e?.includeTypes,this.includeTags=e?.includeTags,this.excludeNames=e?.excludeNames,this.excludeTypes=e?.excludeTypes,this.excludeTags=e?.excludeTags,this._schemaFormat=e?._schemaFormat??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=a.IterableReadableStream.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.id===this.rootId)return!1;const t=e.tags??[];let n=void 0===this.includeNames&&void 0===this.includeTags&&void 0===this.includeTypes;return void 0!==this.includeNames&&(n=n||this.includeNames.includes(e.name)),void 0!==this.includeTypes&&(n=n||this.includeTypes.includes(e.run_type)),void 0!==this.includeTags&&(n=n||void 0!==t.find((e=>this.includeTags?.includes(e)))),void 0!==this.excludeNames&&(n=n&&!this.excludeNames.includes(e.name)),void 0!==this.excludeTypes&&(n=n&&!this.excludeTypes.includes(e.run_type)),void 0!==this.excludeTags&&(n=n&&t.every((e=>!this.excludeTags?.includes(e)))),n}async*tapOutputIterable(e,t){for await(const n of t){if(e!==this.rootId){const t=this.keyMapByRunId[e];t&&await this.writer.write(new s({ops:[{op:"add",path:`/logs/${t}/streamed_output/-`,value:n}]}))}yield n}}async onRunCreate(e){if(void 0===this.rootId&&(this.rootId=e.id,await this.writer.write(new s({ops:[{op:"replace",path:"",value:{id:e.id,name:e.name,type:e.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(e))return;void 0===this.counterMapByRunName[e.name]&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;const t=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=1===t?e.name:`${e.name}:${t}`;const n={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:e.extra?.metadata??{},start_time:new Date(e.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};"streaming_events"===this._schemaFormat&&(n.inputs=await c(e,this._schemaFormat)),await this.writer.write(new s({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:n}]}))}async onRunUpdate(e){try{const t=this.keyMapByRunId[e.id];if(void 0===t)return;const n=[];"streaming_events"===this._schemaFormat&&n.push({op:"replace",path:`/logs/${t}/inputs`,value:await c(e,this._schemaFormat)}),n.push({op:"add",path:`/logs/${t}/final_output`,value:await d(e,this._schemaFormat)}),void 0!==e.end_time&&n.push({op:"add",path:`/logs/${t}/end_time`,value:new Date(e.end_time).toISOString()});const r=new s({ops:n});await this.writer.write(r)}finally{if(e.id===this.rootId){const t=new s({ops:[{op:"replace",path:"/final_output",value:await d(e,this._schemaFormat)}]});await this.writer.write(t),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,t,n){const r=this.keyMapByRunId[e.id];if(void 0===r)return;let i;var a;void 0!==e.inputs.messages?(a=n?.chunk,i=void 0!==a&&void 0!==a.message?n?.chunk:new o.AIMessageChunk(t)):i=t;const l=new s({ops:[{op:"add",path:`/logs/${r}/streamed_output_str/-`,value:t},{op:"add",path:`/logs/${r}/streamed_output/-`,value:i}]});await this.writer.write(l)}}},9763:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AsyncCaller:()=>s});var r=n(8121),i=n(1321);const a=[400,401,402,403,404,405,406,407,409],o=e=>{if(e.message.startsWith("Cancel")||e.message.startsWith("AbortError")||"AbortError"===e.name)throw e;if("ECONNABORTED"===e?.code)throw e;const t=e?.response?.status??e?.status;if(t&&a.includes(+t))throw e;if("insufficient_quota"===e?.error?.code){const t=new Error(e?.message);throw t.name="InsufficientQuotaError",t}};class s{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.onFailedAttempt=e.onFailedAttempt??o;const t=i.default;this.queue=new t({concurrency:this.maxConcurrency})}call(e,...t){return this.queue.add((()=>r((()=>e(...t).catch((e=>{throw e instanceof Error?e:new Error(e)}))),{onFailedAttempt:this.onFailedAttempt,retries:this.maxRetries,randomize:!0})),{throwOnTimeout:!0})}callWithOptions(e,t,...n){return e.signal?Promise.race([this.call(t,...n),new Promise(((t,n)=>{e.signal?.addEventListener("abort",(()=>{n(new Error("AbortError"))}))}))]):this.call(t,...n)}fetch(...e){return this.call((()=>fetch(...e).then((e=>e.ok?e:Promise.reject(e)))))}}},834:(e,t,n)=>{"use strict";n.r(t),n.d(t,{chunkArray:()=>r});const r=(e,t)=>e.reduce(((e,n,r)=>{const i=Math.floor(r/t),a=e[i]||[];return e[i]=a.concat([n]),e}),[])},6306:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getEnv:()=>l,getEnvironmentVariable:()=>d,getRuntimeEnvironment:()=>c,isBrowser:()=>r,isDeno:()=>o,isJsDom:()=>a,isNode:()=>s,isWebWorker:()=>i});const r=()=>"undefined"!==typeof window&&"undefined"!==typeof window.document,i=()=>"object"===typeof globalThis&&globalThis.constructor&&"DedicatedWorkerGlobalScope"===globalThis.constructor.name,a=()=>"undefined"!==typeof window&&"nodejs"===window.name||"undefined"!==typeof navigator&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),o=()=>"undefined"!==typeof Deno,s=()=>"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node&&!o(),l=()=>{let e;return e=r()?"browser":s()?"node":i()?"webworker":a()?"jsdom":o()?"deno":"other",e};let u;async function c(){if(void 0===u){const e=l();u={library:"langchain-js",runtime:e}}return u}function d(e){try{return"undefined"!==typeof process?{NODE_ENV:"production",PUBLIC_URL:".",APP_MANIFEST:{name:"Soulgarden",slug:"Soulgarden",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"light",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#1e2c33"},web:{},extra:{eas:{projectId:"38711c52-ddf9-4daf-b83c-8fb7f02dc34b"}},description:"Soulgarden AI companion",sdkVersion:"48.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}?.[e]:void 0}catch(t){return}}},5263:(e,t,n)=>{"use strict";n.r(t),n.d(t,{JsonPatchError:()=>h,_areEquals:()=>S,applyOperation:()=>b,applyPatch:()=>v,applyReducer:()=>w,compare:()=>M,deepClone:()=>s,default:()=>L,escapePathComponent:()=>u,generate:()=>I,getValueByPointer:()=>_,observe:()=>C,unescapePathComponent:()=>c,unobserve:()=>O,validate:()=>k,validator:()=>x});var r={};n.r(r),n.d(r,{JsonPatchError:()=>p,_areEquals:()=>S,applyOperation:()=>b,applyPatch:()=>v,applyReducer:()=>w,deepClone:()=>g,getValueByPointer:()=>_,validate:()=>k,validator:()=>x});const i=Object.prototype.hasOwnProperty;function a(e,t){return i.call(e,t)}function o(e){if(Array.isArray(e)){const t=new Array(e.length);for(let e=0;e<t.length;e++)t[e]=""+e;return t}if(Object.keys)return Object.keys(e);let t=[];for(let n in e)a(e,n)&&t.push(n);return t}function s(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function l(e){let t=0;const n=e.length;let r;for(;t<n;){if(r=e.charCodeAt(t),!(r>=48&&r<=57))return!1;t++}return!0}function u(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function c(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function d(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(d(e[n]))return!0}else if("object"===typeof e){const n=o(e),r=n.length;for(var t=0;t<r;t++)if(d(e[n[t]]))return!0}return!1}function f(e,t){const n=[e];for(const r in t){const e="object"===typeof t[r]?JSON.stringify(t[r],null,2):t[r];"undefined"!==typeof e&&n.push(`${r}: ${e}`)}return n.join("\n")}class h extends Error{constructor(e,t,n,r,i){super(f(e,{name:t,index:n,operation:r,tree:i})),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"operation",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"tree",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.setPrototypeOf(this,new.target.prototype),this.message=f(e,{name:t,index:n,operation:r,tree:i})}}const p=h,g=s,m={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){let r=_(n,this.path);r&&(r=s(r));const i=b(n,{op:"remove",path:this.from}).removed;return b(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){const r=_(n,this.from);return b(n,{op:"add",path:this.path,value:s(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:S(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}};var y={add:function(e,t,n){return l(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){return{newDocument:n,removed:e.splice(t,1)[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:m.move,copy:m.copy,test:m.test,_get:m._get};function _(e,t){if(""==t)return e;var n={op:"_get",path:t};return b(e,n),n.value}function b(e,t,n=!1,r=!0,i=!0,a=0){if(n&&("function"==typeof n?n(t,0,e,t.path):x(t,0)),""===t.path){let r={newDocument:e};if("add"===t.op)return r.newDocument=t.value,r;if("replace"===t.op)return r.newDocument=t.value,r.removed=e,r;if("move"===t.op||"copy"===t.op)return r.newDocument=_(e,t.from),"move"===t.op&&(r.removed=e),r;if("test"===t.op){if(r.test=S(e,t.value),!1===r.test)throw new p("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return r.newDocument=e,r}if("remove"===t.op)return r.removed=e,r.newDocument=null,r;if("_get"===t.op)return t.value=e,r;if(n)throw new p("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,t,e);return r}{r||(e=s(e));const o=(t.path||"").split("/");let u,d,f,h=e,g=1,_=o.length;for(f="function"==typeof n?n:x;;){if(d=o[g],d&&-1!=d.indexOf("~")&&(d=c(d)),i&&("__proto__"==d||"prototype"==d&&g>0&&"constructor"==o[g-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&void 0===u&&(void 0===h[d]?u=o.slice(0,g).join("/"):g==_-1&&(u=t.path),void 0!==u&&f(t,0,e,u)),g++,Array.isArray(h)){if("-"===d)d=h.length;else{if(n&&!l(d))throw new p("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,t,e);l(d)&&(d=~~d)}if(g>=_){if(n&&"add"===t.op&&d>h.length)throw new p("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",a,t,e);const r=y[t.op].call(t,h,d,e);if(!1===r.test)throw new p("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return r}}else if(g>=_){const n=m[t.op].call(t,h,d,e);if(!1===n.test)throw new p("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return n}if(h=h[d],n&&g<_&&(!h||"object"!==typeof h))throw new p("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",a,t,e)}}}function v(e,t,n,r=!0,i=!0){if(n&&!Array.isArray(t))throw new p("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=s(e));const a=new Array(t.length);for(let o=0,s=t.length;o<s;o++)a[o]=b(e,t[o],n,!0,i,o),e=a[o].newDocument;return a.newDocument=e,a}function w(e,t,n){const r=b(e,t);if(!1===r.test)throw new p("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function x(e,t,n,r){if("object"!==typeof e||null===e||Array.isArray(e))throw new p("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(!m[e.op])throw new p("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n);if("string"!==typeof e.path)throw new p("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new p('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if(("move"===e.op||"copy"===e.op)&&"string"!==typeof e.from)throw new p("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new p("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&d(e.value))throw new p("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n)if("add"==e.op){var i=e.path.split("/").length,a=r.split("/").length;if(i!==a+1&&i!==a)throw new p("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==r)throw new p("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if("move"===e.op||"copy"===e.op){var o=k([{op:"_get",path:e.from,value:void 0}],n);if(o&&"OPERATION_PATH_UNRESOLVABLE"===o.name)throw new p("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}function k(e,t,n){try{if(!Array.isArray(e))throw new p("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)v(s(t),s(e),n||!0);else{n=n||x;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof p)return i;throw i}}function S(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var n,r,i,a=Array.isArray(e),o=Array.isArray(t);if(a&&o){if((r=e.length)!=t.length)return!1;for(n=r;0!==n--;)if(!S(e[n],t[n]))return!1;return!0}if(a!=o)return!1;var s=Object.keys(e);if((r=s.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!t.hasOwnProperty(s[n]))return!1;for(n=r;0!==n--;)if(!S(e[i=s[n]],t[i]))return!1;return!0}return e!==e&&t!==t}var T=new WeakMap;class E{constructor(e){Object.defineProperty(this,"obj",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"observers",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.obj=e}}class A{constructor(e,t){Object.defineProperty(this,"callback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"observer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callback=e,this.observer=t}}function O(e,t){t.unobserve()}function C(e,t){var n,r=function(e){return T.get(e)}(e);if(r){const e=function(e,t){return e.observers.get(t)}(r,t);n=e&&e.observer}else r=new E(e),T.set(e,r);if(n)return n;if(n={},r.value=s(e),t){n.callback=t,n.next=null;var i=()=>{I(n)},a=()=>{clearTimeout(n.next),n.next=setTimeout(i)};"undefined"!==typeof window&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return n.patches=[],n.object=e,n.unobserve=()=>{I(n),clearTimeout(n.next),function(e,t){e.observers.delete(t.callback)}(r,n),"undefined"!==typeof window&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},r.observers.set(t,new A(t,n)),n}function I(e,t=!1){var n=T.get(e.object);P(n.value,e.object,e.patches,"",t),e.patches.length&&v(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function P(e,t,n,r,i){if(t!==e){"function"===typeof t.toJSON&&(t=t.toJSON());for(var l=o(t),c=o(e),d=!1,f=c.length-1;f>=0;f--){var h=e[g=c[f]];if(!a(t,g)||void 0===t[g]&&void 0!==h&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+u(g),value:s(h)}),n.push({op:"remove",path:r+"/"+u(g)}),d=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}),!0);else{var p=t[g];"object"==typeof h&&null!=h&&"object"==typeof p&&null!=p&&Array.isArray(h)===Array.isArray(p)?P(h,p,n,r+"/"+u(g),i):h!==p&&(i&&n.push({op:"test",path:r+"/"+u(g),value:s(h)}),n.push({op:"replace",path:r+"/"+u(g),value:s(p)}))}}if(d||l.length!=c.length)for(f=0;f<l.length;f++){var g;a(e,g=l[f])||void 0===t[g]||n.push({op:"add",path:r+"/"+u(g),value:s(t[g])})}}}function M(e,t,n=!1){var r=[];return P(e,t,r,"",n),r}const L={...r,JsonPatchError:h,deepClone:s,escapePathComponent:u,unescapePathComponent:c}},2428:(e,t,n)=>{"use strict";function r(e,t=i){e=e.trim();const n=/```(json)?(.*)```/s.exec(e);return t(n?n[2]:e)}function i(e){if("undefined"===typeof e)return null;try{return JSON.parse(e)}catch(a){}let t="";const n=[];let r=!1,i=!1;for(let o of e){if(r)'"'!==o||i?"\n"!==o||i?i="\\"===o&&!i:o="\\n":r=!1;else if('"'===o)r=!0,i=!1;else if("{"===o)n.push("}");else if("["===o)n.push("]");else if("}"===o||"]"===o){if(!n||n[n.length-1]!==o)return null;n.pop()}t+=o}r&&(t+='"');for(let o=n.length-1;o>=0;o-=1)t+=n[o];try{return JSON.parse(t)}catch(a){return null}}n.r(t),n.d(t,{parseJsonMarkdown:()=>r,parsePartialJson:()=>i})},3689:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AsyncGeneratorWithSetup:()=>s,IterableReadableStream:()=>i,atee:()=>a,concat:()=>o,pipeGeneratorWithSetup:()=>l});var r=n(5634);class i extends ReadableStream{constructor(){super(...arguments),Object.defineProperty(this,"reader",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const e=await this.reader.read();return e.done?(this.reader.releaseLock(),{done:!0,value:void 0}):{done:!1,value:e.value}}catch(e){throw this.reader.releaseLock(),e}}async return(){if(this.ensureReader(),this.locked){const e=this.reader.cancel();this.reader.releaseLock(),await e}return{done:!0,value:void 0}}async throw(e){if(this.ensureReader(),this.locked){const e=this.reader.cancel();this.reader.releaseLock(),await e}throw e}[Symbol.asyncIterator](){return this}static fromReadableStream(e){const t=e.getReader();return new i({start:e=>function n(){return t.read().then((({done:t,value:r})=>{if(!t)return e.enqueue(r),n();e.close()}))}(),cancel(){t.releaseLock()}})}static fromAsyncGenerator(e){return new i({async pull(t){const{value:n,done:r}=await e.next();r&&t.close(),t.enqueue(n)},async cancel(t){await e.return(t)}})}}function a(e,t=2){const n=Array.from({length:t},(()=>[]));return n.map((async function*(t){for(;;)if(0===t.length){const t=await e.next();for(const e of n)e.push(t)}else{if(t[0].done)return;yield t.shift().value}}))}function o(e,t){if(Array.isArray(e)&&Array.isArray(t))return e.concat(t);if("string"===typeof e&&"string"===typeof t)return e+t;if("number"===typeof e&&"number"===typeof t)return e+t;if("concat"in e&&"function"===typeof e.concat)return e.concat(t);if("object"===typeof e&&"object"===typeof t){const n={...e};for(const[e,r]of Object.entries(t))e in n&&!Array.isArray(n[e])?n[e]=o(n[e],r):n[e]=r;return n}throw new Error(`Cannot concat ${typeof e} and ${typeof t}`)}class s{constructor(e){Object.defineProperty(this,"generator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResult",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResultUsed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.generator=e.generator,this.config=e.config,this.setup=new Promise(((t,n)=>{r.AsyncLocalStorageProviderSingleton.getInstance().run(e.config,(async()=>{this.firstResult=e.generator.next(),e.startSetup?this.firstResult.then(e.startSetup).then(t,n):this.firstResult.then((e=>t(void 0)),n)}))}))}async next(...e){if(!this.firstResultUsed)return this.firstResultUsed=!0,this.firstResult;return r.AsyncLocalStorageProviderSingleton.getInstance().run(this.config,(async()=>this.generator.next(...e)))}async return(e){return this.generator.return(e)}async throw(e){return this.generator.throw(e)}[Symbol.asyncIterator](){return this}}async function l(e,t,n,...r){const i=new s({generator:t,startSetup:n}),a=await i.setup;return{output:e(i,a,...r),setup:a}}},9177:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Embeddings:()=>i});var r=n(9763);class i{constructor(e){Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.caller=new r.AsyncCaller(e??{})}}},2228:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AIMessage:()=>r.AIMessage,AIMessageChunk:()=>r.AIMessageChunk,BaseMessage:()=>r.BaseMessage,BaseMessageChunk:()=>r.BaseMessageChunk,ChatMessage:()=>r.ChatMessage,ChatMessageChunk:()=>r.ChatMessageChunk,FunctionMessage:()=>r.FunctionMessage,FunctionMessageChunk:()=>r.FunctionMessageChunk,HumanMessage:()=>r.HumanMessage,HumanMessageChunk:()=>r.HumanMessageChunk,SystemMessage:()=>r.SystemMessage,SystemMessageChunk:()=>r.SystemMessageChunk,ToolMessage:()=>r.ToolMessage,ToolMessageChunk:()=>r.ToolMessageChunk,_mergeDicts:()=>r._mergeDicts,_mergeLists:()=>r._mergeLists,coerceMessageLikeToMessage:()=>r.coerceMessageLikeToMessage,convertToChunk:()=>r.convertToChunk,defaultTextSplitter:()=>r.defaultTextSplitter,filterMessages:()=>r.filterMessages,getBufferString:()=>r.getBufferString,isAIMessage:()=>r.isAIMessage,isBaseMessage:()=>r.isBaseMessage,isBaseMessageChunk:()=>r.isBaseMessageChunk,isOpenAIToolCallArray:()=>r.isOpenAIToolCallArray,mapChatMessagesToStoredMessages:()=>r.mapChatMessagesToStoredMessages,mapStoredMessageToChatMessage:()=>r.mapStoredMessageToChatMessage,mapStoredMessagesToChatMessages:()=>r.mapStoredMessagesToChatMessages,mergeContent:()=>r.mergeContent,mergeMessageRuns:()=>r.mergeMessageRuns,trimMessages:()=>r.trimMessages});var r=n(5202)},6294:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AzureChatOpenAI:()=>Zi,AzureOpenAI:()=>ta,AzureOpenAIEmbeddings:()=>ia,ChatOpenAI:()=>qi,DallEAPIWrapper:()=>la,OpenAI:()=>ea,OpenAIChat:()=>Qi,OpenAIClient:()=>zn,OpenAIEmbeddings:()=>ra,formatToOpenAIAssistantTool:()=>zi,formatToOpenAIFunction:()=>Kr,formatToOpenAITool:()=>Zr,getEndpoint:()=>Fi,messageToOpenAIRole:()=>Vi,toFile:()=>er,wrapOpenAIClientError:()=>Bi});var r={};n.r(r),n.d(r,{APIConnectionError:()=>pe,APIConnectionTimeoutError:()=>ge,APIError:()=>fe,APIUserAbortError:()=>he,AuthenticationError:()=>ye,BadRequestError:()=>me,ConflictError:()=>ve,InternalServerError:()=>ke,NotFoundError:()=>be,OpenAIError:()=>de,PermissionDeniedError:()=>_e,RateLimitError:()=>xe,UnprocessableEntityError:()=>we});const i="4.52.4";let a,o,s,l,u,c,d,f,h,p,g,m,y,_=!1;class b{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}a||function(e,t={auto:!1}){if(_)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(a)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${a}'\``);_=t.auto,a=e.kind,o=e.fetch,s=e.Request,l=e.Response,u=e.Headers,c=e.FormData,d=e.Blob,f=e.File,h=e.ReadableStream,p=e.getMultipartRequestOptions,g=e.getDefaultAgent,m=e.fileFromPath,y=e.isFsReadStream}(function({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import \u2026 from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,i,a;try{n=fetch,r=Request,i=Response,a=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:i,Headers:a,FormData:"undefined"!==typeof FormData?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:"undefined"!==typeof Blob?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:"undefined"!==typeof File?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:"undefined"!==typeof ReadableStream?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(e,t)=>({...t,body:new b(e)}),getDefaultAgent:e=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:e=>!1}}(),{auto:!0});class v{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let n=!1;return new v((async function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const n of async function*(e,t){if(!e.body)throw t.abort(),new de("Attempted to iterate over a response with no body");const n=new x,r=new k,i=S(e.body);for await(const a of async function*(e){let t=new Uint8Array;for await(const n of e){if(null==n)continue;const e=n instanceof ArrayBuffer?new Uint8Array(n):"string"===typeof n?(new TextEncoder).encode(n):n;let r,i=new Uint8Array(t.length+e.length);for(i.set(t),i.set(e,t.length),t=i;-1!==(r=w(t));)yield t.slice(0,r),t=t.slice(r)}t.length>0&&(yield t)}(i))for(const e of r.decode(a)){const t=n.decode(e);t&&(yield t)}for(const a of r.flush()){const e=n.decode(a);e&&(yield e)}}(e,t))if(!r)if(n.data.startsWith("[DONE]"))r=!0;else if(null===n.event){let e;try{e=JSON.parse(n.data)}catch(i){throw console.error("Could not parse message into JSON:",n.data),console.error("From chunk:",n.raw),i}if(e&&e.error)throw new fe(void 0,e.error,void 0,void 0);yield e}else{let e;try{e=JSON.parse(n.data)}catch(i){throw console.error("Could not parse message into JSON:",n.data),console.error("From chunk:",n.raw),i}if("error"==n.event)throw new fe(void 0,e.error,e.message,void 0);yield{event:n.event,data:e}}r=!0}catch(i){if(i instanceof Error&&"AbortError"===i.name)return;throw i}finally{r||t.abort()}}),t)}static fromReadableStream(e,t){let n=!1;return new v((async function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const t of async function*(){const t=new k,n=S(e);for await(const e of n)for(const n of t.decode(e))yield n;for(const e of t.flush())yield e}())r||t&&(yield JSON.parse(t));r=!0}catch(i){if(i instanceof Error&&"AbortError"===i.name)return;throw i}finally{r||t.abort()}}),t)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),r=r=>({next:()=>{if(0===r.length){const r=n.next();e.push(r),t.push(r)}return r.shift()}});return[new v((()=>r(e)),this.controller),new v((()=>r(t)),this.controller)]}toReadableStream(){const e=this;let t;const n=new TextEncoder;return new h({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:r,done:i}=await t.next();if(i)return e.close();const a=n.encode(JSON.stringify(r)+"\n");e.enqueue(a)}catch(r){e.error(r)}},async cancel(){await(t.return?.())}})}}function w(e){for(let t=0;t<e.length-2;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1}class x{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=function(e,t){const n=e.indexOf(t);if(-1!==n)return[e.substring(0,n),t,e.substring(n+t.length)];return[e,"",""]}(e,":");return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}class k{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let t=this.decodeText(e);if(this.trailingCR&&(t="\r"+t,this.trailingCR=!1),t.endsWith("\r")&&(this.trailingCR=!0,t=t.slice(0,-1)),!t)return[];const n=k.NEWLINE_CHARS.has(t[t.length-1]||"");let r=t.split(k.NEWLINE_REGEXP);return n&&r.pop(),1!==r.length||n?(this.buffer.length>0&&(r=[this.buffer.join("")+r[0],...r.slice(1)],this.buffer=[]),n||(this.buffer=[r.pop()||""]),r):(this.buffer.push(r[0]),[])}decodeText(e){if(null==e)return"";if("string"===typeof e)return e;if("undefined"!==typeof Buffer){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new de(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if("undefined"!==typeof TextDecoder){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new de(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new de("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}function S(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return e?.done&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}k.NEWLINE_CHARS=new Set(["\n","\r"]),k.NEWLINE_REGEXP=/\r\n|[\n\r]/g;const T=e=>null!=e&&"object"===typeof e&&"string"===typeof e.url&&"function"===typeof e.blob,E=e=>null!=e&&"object"===typeof e&&"string"===typeof e.name&&"number"===typeof e.lastModified&&A(e),A=e=>null!=e&&"object"===typeof e&&"number"===typeof e.size&&"string"===typeof e.type&&"function"===typeof e.text&&"function"===typeof e.slice&&"function"===typeof e.arrayBuffer,O=e=>E(e)||T(e)||y(e);async function C(e,t,n){if(e=await e,n??(n=E(e)?{lastModified:e.lastModified,type:e.type}:{}),T(e)){const r=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file"),new f([r],t,n)}const r=await async function(e){let t=[];if("string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(A(e))t.push(await e.arrayBuffer());else{if(!P(e))throw new Error(`Unexpected data type: ${typeof e}; constructor: ${e?.constructor?.name}; props: ${function(e){const t=Object.getOwnPropertyNames(e);return`[${t.map((e=>`"${e}"`)).join(", ")}]`}(e)}`);for await(const n of e)t.push(n)}return t}(e);if(t||(t=function(e){return I(e.name)||I(e.filename)||I(e.path)?.split(/[\\/]/).pop()}(e)??"unknown_file"),!n.type){const e=r[0]?.type;"string"===typeof e&&(n={...n,type:e})}return new f(r,t,n)}const I=e=>"string"===typeof e?e:"undefined"!==typeof Buffer&&e instanceof Buffer?String(e):void 0,P=e=>null!=e&&"object"===typeof e&&"function"===typeof e[Symbol.asyncIterator],M=e=>e&&"object"===typeof e&&e.body&&"MultipartBody"===e[Symbol.toStringTag],L=async e=>{const t=await R(e.body);return p(t,e)},R=async e=>{const t=new c;return await Promise.all(Object.entries(e||{}).map((([e,n])=>N(t,e,n)))),t},N=async(e,t,n)=>{if(void 0!==n){if(null==n)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if("string"===typeof n||"number"===typeof n||"boolean"===typeof n)e.append(t,String(n));else if(O(n)){const r=await C(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map((n=>N(e,t+"[]",n))));else{if("object"!==typeof n)throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`);await Promise.all(Object.entries(n).map((([n,r])=>N(e,`${t}[${n}]`,r))))}}};var D,j=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},F=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};async function B(e){const{response:t}=e;if(e.options.stream)return le("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):v.fromSSEResponse(t,e.controller);if(204===t.status)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type");if(n?.includes("application/json")||n?.includes("application/vnd.api+json")){const e=await t.json();return le("response",t.status,t.url,t.headers,e),e}const r=await t.text();return le("response",t.status,t.url,t.headers,r),r}class z extends Promise{constructor(e,t=B){super((e=>{e(null)})),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new z(this.responsePromise,(async t=>e(await this.parseResponse(t))))}asResponse(){return this.responsePromise.then((e=>e.response))}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class ${constructor({baseURL:e,maxRetries:t=2,timeout:n=6e5,httpAgent:r,fetch:i}){this.baseURL=e,this.maxRetries=ne("maxRetries",t),this.timeout=ne("timeout",n),this.httpAgent=r,this.fetch=i??o}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...Y(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${ue()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then((async n=>{const r=n&&A(n?.body)?new DataView(await n.body.arrayBuffer()):n?.body instanceof DataView?n.body:n?.body instanceof ArrayBuffer?new DataView(n.body):n&&ArrayBuffer.isView(n?.body)?new DataView(n.body.buffer):n?.body;return{method:e,path:t,...n,body:r}})))}getAPIList(e,t,n){return this.requestAPIList(t,{method:"get",path:e,...n})}calculateContentLength(e){if("string"===typeof e){if("undefined"!==typeof Buffer)return Buffer.byteLength(e,"utf8").toString();if("undefined"!==typeof TextEncoder){return(new TextEncoder).encode(e).length.toString()}}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e){const{method:t,path:n,query:r,headers:i={}}=e,a=ArrayBuffer.isView(e.body)||e.__binaryRequest&&"string"===typeof e.body?e.body:M(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,o=this.calculateContentLength(a),s=this.buildURL(n,r);"timeout"in e&&ne("timeout",e.timeout);const l=e.timeout??this.timeout,u=e.httpAgent??this.httpAgent??g(s),c=l+1e3;"number"===typeof u?.options?.timeout&&c>(u.options.timeout??0)&&(u.options.timeout=c),this.idempotencyHeader&&"get"!==t&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);return{req:{method:t,...a&&{body:a},headers:this.buildHeaders({options:e,headers:i,contentLength:o}),...u&&{agent:u},signal:e.signal??null},url:s,timeout:l}}buildHeaders({options:e,headers:t,contentLength:n}){const r={};n&&(r["content-length"]=n);return se(r,this.defaultHeaders(e)),se(r,t),M(e.body)&&"node"!==a&&delete r["content-type"],this.validateHeaders(r,t),r}async prepareOptions(e){}async prepareRequest(e,{url:t,options:n}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map((e=>[...e]))):{...e}:{}}makeStatusError(e,t,n,r){return fe.generate(e,t,n,r)}request(e,t=null){return new z(this.makeRequest(e,t))}async makeRequest(e,t){const n=await e;null==t&&(t=n.maxRetries??this.maxRetries),await this.prepareOptions(n);const{req:r,url:i,timeout:a}=this.buildRequest(n);if(await this.prepareRequest(r,{url:i,options:n}),le("request",i,n,r.headers),n.signal?.aborted)throw new he;const o=new AbortController,s=await this.fetchWithTimeout(i,r,a,o).catch(re);if(s instanceof Error){if(n.signal?.aborted)throw new he;if(t)return this.retryRequest(n,t);if("AbortError"===s.name)throw new ge;throw new pe({cause:s})}const l=W(s.headers);if(!s.ok){if(t&&this.shouldRetry(s)){return le(`response (error; ${`retrying, ${t} attempts remaining`})`,s.status,i,l),this.retryRequest(n,t,l)}const e=await s.text().catch((e=>re(e).message)),r=J(e),a=r?void 0:e;le(`response (error; ${t?"(error; no more retries left)":"(error; not retryable)"})`,s.status,i,l,a);throw this.makeStatusError(s.status,r,a,l)}return{response:s,options:n,controller:o}}requestAPIList(e,t){const n=this.makeRequest(t,null);return new V(this,n,e)}buildURL(e,t){const n=ee(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),r=this.defaultQuery();return ae(r)||(t={...r,...t}),"object"===typeof t&&t&&!Array.isArray(t)&&(n.search=this.stringifyQuery(t)),n.toString()}stringifyQuery(e){return Object.entries(e).filter((([e,t])=>"undefined"!==typeof t)).map((([e,t])=>{if("string"===typeof t||"number"===typeof t||"boolean"===typeof t)return`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;if(null===t)return`${encodeURIComponent(e)}=`;throw new de(`Cannot stringify type ${typeof t}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)})).join("&")}async fetchWithTimeout(e,t,n,r){const{signal:i,...a}=t||{};i&&i.addEventListener("abort",(()=>r.abort()));const o=setTimeout((()=>r.abort()),n);return this.getRequestClient().fetch.call(void 0,e,{signal:r.signal,...a}).finally((()=>{clearTimeout(o)}))}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}async retryRequest(e,t,n){let r;const i=n?.["retry-after-ms"];if(i){const e=parseFloat(i);Number.isNaN(e)||(r=e)}const a=n?.["retry-after"];if(a&&!r){const e=parseFloat(a);r=Number.isNaN(e)?Date.parse(a)-Date.now():1e3*e}if(!(r&&0<=r&&r<6e4)){const n=e.maxRetries??this.maxRetries;r=this.calculateDefaultRetryTimeoutMillis(t,n)}return await te(r),this.makeRequest(e,t-1)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}getUserAgent(){return`${this.constructor.name}/JS ${i}`}}class U{constructor(e,t,n,r){D.set(this,void 0),j(this,D,e,"f"),this.options=r,this.response=t,this.body=n}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageInfo()}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new de("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const t={...this.options};if("params"in e&&"object"===typeof t.query)t.query={...t.query,...e.params};else if("url"in e){const n=[...Object.entries(t.query||{}),...e.url.searchParams.entries()];for(const[t,r]of n)e.url.searchParams.set(t,r);t.query=void 0,t.path=e.url.toString()}return await F(this,D,"f").requestAPIList(this.constructor,t)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(D=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}class V extends z{constructor(e,t,n){super(t,(async t=>new n(e,t.response,await B(t),t.options)))}async*[Symbol.asyncIterator](){const e=await(this);for await(const t of e)yield t}}const W=e=>new Proxy(Object.fromEntries(e.entries()),{get(e,t){const n=t.toString();return e[n.toLowerCase()]||e[n]}}),H={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},G=e=>"object"===typeof e&&null!==e&&!ae(e)&&Object.keys(e).every((e=>oe(H,e))),q=()=>{if("undefined"!==typeof Deno&&null!=Deno.build)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":i,"X-Stainless-OS":Z(Deno.build.os),"X-Stainless-Arch":K(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"===typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("undefined"!==typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":i,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if("[object process]"===Object.prototype.toString.call("undefined"!==typeof process?process:0))return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":i,"X-Stainless-OS":Z(process.platform),"X-Stainless-Arch":K(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=function(){if("undefined"===typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e){return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}}return null}();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":i,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":i,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};const K=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",Z=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let X;const Y=()=>X??(X=q()),J=e=>{try{return JSON.parse(e)}catch(t){return}},Q=new RegExp("^(?:[a-z]+:)?//","i"),ee=e=>Q.test(e),te=e=>new Promise((t=>setTimeout(t,e))),ne=(e,t)=>{if("number"!==typeof t||!Number.isInteger(t))throw new de(`${e} must be an integer`);if(t<0)throw new de(`${e} must be a positive integer`);return t},re=e=>e instanceof Error?e:new Error(e),ie=e=>"undefined"!==typeof process?{NODE_ENV:"production",PUBLIC_URL:".",APP_MANIFEST:{name:"Soulgarden",slug:"Soulgarden",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"light",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#1e2c33"},web:{},extra:{eas:{projectId:"38711c52-ddf9-4daf-b83c-8fb7f02dc34b"}},description:"Soulgarden AI companion",sdkVersion:"48.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}?.[e]?.trim()??void 0:"undefined"!==typeof Deno?Deno.env?.get?.(e)?.trim():void 0;function ae(e){if(!e)return!0;for(const t in e)return!1;return!0}function oe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function se(e,t){for(const n in t){if(!oe(t,n))continue;const r=n.toLowerCase();if(!r)continue;const i=t[n];null===i?delete e[r]:void 0!==i&&(e[r]=i)}}function le(e,...t){"undefined"!==typeof process&&"true"==={NODE_ENV:"production",PUBLIC_URL:".",APP_MANIFEST:{name:"Soulgarden",slug:"Soulgarden",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"light",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#1e2c33"},web:{},extra:{eas:{projectId:"38711c52-ddf9-4daf-b83c-8fb7f02dc34b"}},description:"Soulgarden AI companion",sdkVersion:"48.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}?.DEBUG&&console.log(`OpenAI:DEBUG:${e}`,...t)}const ue=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));function ce(e){return null!=e&&"object"===typeof e&&!Array.isArray(e)}class de extends Error{}class fe extends de{constructor(e,t,n,r){super(`${fe.makeMessage(e,t,n)}`),this.status=e,this.headers=r,this.request_id=r?.["x-request-id"];const i=t;this.error=i,this.code=i?.code,this.param=i?.param,this.type=i?.type}static makeMessage(e,t,n){const r=t?.message?"string"===typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,n,r){if(!e)return new pe({cause:re(t)});const i=t?.error;return 400===e?new me(e,i,n,r):401===e?new ye(e,i,n,r):403===e?new _e(e,i,n,r):404===e?new be(e,i,n,r):409===e?new ve(e,i,n,r):422===e?new we(e,i,n,r):429===e?new xe(e,i,n,r):e>=500?new ke(e,i,n,r):new fe(e,i,n,r)}}class he extends fe{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}}class pe extends fe{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,t&&(this.cause=t)}}class ge extends pe{constructor({message:e}={}){super({message:e??"Request timed out."})}}class me extends fe{constructor(){super(...arguments),this.status=400}}class ye extends fe{constructor(){super(...arguments),this.status=401}}class _e extends fe{constructor(){super(...arguments),this.status=403}}class be extends fe{constructor(){super(...arguments),this.status=404}}class ve extends fe{constructor(){super(...arguments),this.status=409}}class we extends fe{constructor(){super(...arguments),this.status=422}}class xe extends fe{constructor(){super(...arguments),this.status=429}}class ke extends fe{}class Se extends U{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Te extends U{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const t=Object.fromEntries(e.url.searchParams);return Object.keys(t).length?t:null}nextPageInfo(){const e=this.getPaginatedItems();if(!e.length)return null;const t=e[e.length-1]?.id;return t?{params:{after:t}}:null}}class Ee{constructor(e){this._client=e}}class Ae extends Ee{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}}Ae||(Ae={});class Oe extends Ee{create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}}Oe||(Oe={});class Ce extends Ee{constructor(){super(...arguments),this.completions=new Oe(this._client)}}!function(e){e.Completions=Oe}(Ce||(Ce={}));class Ie extends Ee{create(e,t){return this._client.post("/embeddings",{body:e,...t})}}Ie||(Ie={});class Pe extends Ee{create(e,t){return this._client.post("/files",L({body:e,...t}))}retrieve(e,t){return this._client.get(`/files/${e}`,t)}list(e={},t){return G(e)?this.list({},e):this._client.getAPIList("/files",Me,{query:e,...t})}del(e,t){return this._client.delete(`/files/${e}`,t)}content(e,t){return this._client.get(`/files/${e}/content`,{...t,__binaryResponse:!0})}retrieveContent(e,t){return this._client.get(`/files/${e}/content`,{...t,headers:{Accept:"application/json",...t?.headers}})}async waitForProcessing(e,{pollInterval:t=5e3,maxWait:n=18e5}={}){const r=new Set(["processed","error","deleted"]),i=Date.now();let a=await this.retrieve(e);for(;!a.status||!r.has(a.status);)if(await te(t),a=await this.retrieve(e),Date.now()-i>n)throw new ge({message:`Giving up on waiting for file ${e} to finish processing after ${n} milliseconds.`});return a}}class Me extends Se{}!function(e){e.FileObjectsPage=Me}(Pe||(Pe={}));class Le extends Ee{createVariation(e,t){return this._client.post("/images/variations",L({body:e,...t}))}edit(e,t){return this._client.post("/images/edits",L({body:e,...t}))}generate(e,t){return this._client.post("/images/generations",{body:e,...t})}}Le||(Le={});class Re extends Ee{create(e,t){return this._client.post("/audio/speech",{body:e,...t,__binaryResponse:!0})}}Re||(Re={});class Ne extends Ee{create(e,t){return this._client.post("/audio/transcriptions",L({body:e,...t}))}}Ne||(Ne={});class De extends Ee{create(e,t){return this._client.post("/audio/translations",L({body:e,...t}))}}De||(De={});class je extends Ee{constructor(){super(...arguments),this.transcriptions=new Ne(this._client),this.translations=new De(this._client),this.speech=new Re(this._client)}}!function(e){e.Transcriptions=Ne,e.Translations=De,e.Speech=Re}(je||(je={}));class Fe extends Ee{create(e,t){return this._client.post("/moderations",{body:e,...t})}}Fe||(Fe={});class Be extends Ee{retrieve(e,t){return this._client.get(`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",ze,e)}del(e,t){return this._client.delete(`/models/${e}`,t)}}class ze extends Se{}!function(e){e.ModelsPage=ze}(Be||(Be={}));class $e extends Ee{list(e,t={},n){return G(t)?this.list(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,Ue,{query:t,...n})}}class Ue extends Te{}!function(e){e.FineTuningJobCheckpointsPage=Ue}($e||($e={}));class Ve extends Ee{constructor(){super(...arguments),this.checkpoints=new $e(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(`/fine_tuning/jobs/${e}`,t)}list(e={},t){return G(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",We,{query:e,...t})}cancel(e,t){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},n){return G(t)?this.listEvents(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,He,{query:t,...n})}}class We extends Te{}class He extends Te{}!function(e){e.FineTuningJobsPage=We,e.FineTuningJobEventsPage=He,e.Checkpoints=$e,e.FineTuningJobCheckpointsPage=Ue}(Ve||(Ve={}));class Ge extends Ee{constructor(){super(...arguments),this.jobs=new Ve(this._client)}}!function(e){e.Jobs=Ve,e.FineTuningJobsPage=We,e.FineTuningJobEventsPage=He}(Ge||(Ge={}));class qe extends Ee{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,n){return this._client.post(`/assistants/${e}`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(e={},t){return G(e)?this.list({},e):this._client.getAPIList("/assistants",Ke,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}del(e,t){return this._client.delete(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}}class Ke extends Te{}function Ze(e){return"function"===typeof e.parse}!function(e){e.AssistantsPage=Ke}(qe||(qe={}));const Xe=e=>"assistant"===e?.role,Ye=e=>"function"===e?.role,Je=e=>"tool"===e?.role;var Qe,et,tt,nt,rt,it,at,ot,st,lt,ut,ct,dt,ft,ht,pt,gt,mt,yt,_t,bt=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},vt=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};const wt=10;class xt{constructor(){Qe.add(this),this.controller=new AbortController,et.set(this,void 0),tt.set(this,(()=>{})),nt.set(this,(()=>{})),rt.set(this,void 0),it.set(this,(()=>{})),at.set(this,(()=>{})),ot.set(this,{}),this._chatCompletions=[],this.messages=[],st.set(this,!1),lt.set(this,!1),ut.set(this,!1),ct.set(this,!1),mt.set(this,(e=>{if(bt(this,lt,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new he),e instanceof he)return bt(this,ut,!0,"f"),this._emit("abort",e);if(e instanceof de)return this._emit("error",e);if(e instanceof Error){const t=new de(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new de(String(e)))})),bt(this,et,new Promise(((e,t)=>{bt(this,tt,e,"f"),bt(this,nt,t,"f")})),"f"),bt(this,rt,new Promise(((e,t)=>{bt(this,it,e,"f"),bt(this,at,t,"f")})),"f"),vt(this,et,"f").catch((()=>{})),vt(this,rt,"f").catch((()=>{}))}_run(e){setTimeout((()=>{e().then((()=>{this._emitFinal(),this._emit("end")}),vt(this,mt,"f"))}),0)}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const t=e.choices[0]?.message;return t&&this._addMessage(t),e}_addMessage(e,t=!0){if("content"in e||(e.content=null),this.messages.push(e),t)if(this._emit("message",e),(Ye(e)||Je(e))&&e.content)this._emit("functionCallResult",e.content);else if(Xe(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(Xe(e)&&e.tool_calls)for(const n of e.tool_calls)"function"===n.type&&this._emit("functionCall",n.function)}_connected(){this.ended||(vt(this,tt,"f").call(this),this._emit("connect"))}get ended(){return vt(this,st,"f")}get errored(){return vt(this,lt,"f")}get aborted(){return vt(this,ut,"f")}abort(){this.controller.abort()}on(e,t){return(vt(this,ot,"f")[e]||(vt(this,ot,"f")[e]=[])).push({listener:t}),this}off(e,t){const n=vt(this,ot,"f")[e];if(!n)return this;const r=n.findIndex((e=>e.listener===t));return r>=0&&n.splice(r,1),this}once(e,t){return(vt(this,ot,"f")[e]||(vt(this,ot,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise(((t,n)=>{bt(this,ct,!0,"f"),"error"!==e&&this.once("error",n),this.once(e,t)}))}async done(){bt(this,ct,!0,"f"),await vt(this,rt,"f")}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new de("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),vt(this,Qe,"m",dt).call(this)}async finalMessage(){return await this.done(),vt(this,Qe,"m",ft).call(this)}async finalFunctionCall(){return await this.done(),vt(this,Qe,"m",ht).call(this)}async finalFunctionCallResult(){return await this.done(),vt(this,Qe,"m",pt).call(this)}async totalUsage(){return await this.done(),vt(this,Qe,"m",gt).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emit(e,...t){if(vt(this,st,"f"))return;"end"===e&&(bt(this,st,!0,"f"),vt(this,it,"f").call(this));const n=vt(this,ot,"f")[e];if(n&&(vt(this,ot,"f")[e]=n.filter((e=>!e.once)),n.forEach((({listener:e})=>e(...t)))),"abort"===e){const e=t[0];return vt(this,ct,"f")||n?.length||Promise.reject(e),vt(this,nt,"f").call(this,e),vt(this,at,"f").call(this,e),void this._emit("end")}if("error"===e){const e=t[0];vt(this,ct,"f")||n?.length||Promise.reject(e),vt(this,nt,"f").call(this,e),vt(this,at,"f").call(this,e),this._emit("end")}}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=vt(this,Qe,"m",ft).call(this);t&&this._emit("finalMessage",t);const n=vt(this,Qe,"m",dt).call(this);n&&this._emit("finalContent",n);const r=vt(this,Qe,"m",ht).call(this);r&&this._emit("finalFunctionCall",r);const i=vt(this,Qe,"m",pt).call(this);null!=i&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some((e=>e.usage))&&this._emit("totalUsage",vt(this,Qe,"m",gt).call(this))}async _createChatCompletion(e,t,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),vt(this,Qe,"m",yt).call(this,t);const i=await e.create({...t,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(i)}async _runChatCompletion(e,t,n){for(const r of t.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,t,n)}async _runFunctions(e,t,n){const r="function",{function_call:i="auto",stream:a,...o}=t,s="string"!==typeof i&&i?.name,{maxChatCompletions:l=wt}=n||{},u={};for(const f of t.functions)u[f.name||f.function.name]=f;const c=t.functions.map((e=>({name:e.name||e.function.name,parameters:e.parameters,description:e.description})));for(const f of t.messages)this._addMessage(f,!1);for(let f=0;f<l;++f){const t=await this._createChatCompletion(e,{...o,function_call:i,functions:c,messages:[...this.messages]},n),a=t.choices[0]?.message;if(!a)throw new de("missing message in ChatCompletion response");if(!a.function_call)return;const{name:l,arguments:f}=a.function_call,h=u[l];if(!h){const e=`Invalid function_call: ${JSON.stringify(l)}. Available options are: ${c.map((e=>JSON.stringify(e.name))).join(", ")}. Please try again`;this._addMessage({role:r,name:l,content:e});continue}if(s&&s!==l){const e=`Invalid function_call: ${JSON.stringify(l)}. ${JSON.stringify(s)} requested. Please try again`;this._addMessage({role:r,name:l,content:e});continue}let p;try{p=Ze(h)?await h.parse(f):f}catch(d){this._addMessage({role:r,name:l,content:d instanceof Error?d.message:String(d)});continue}const g=await h.function(p,this),m=vt(this,Qe,"m",_t).call(this,g);if(this._addMessage({role:r,name:l,content:m}),s)return}}async _runTools(e,t,n){const r="tool",{tool_choice:i="auto",stream:a,...o}=t,s="string"!==typeof i&&i?.function?.name,{maxChatCompletions:l=wt}=n||{},u={};for(const f of t.tools)"function"===f.type&&(u[f.function.name||f.function.function.name]=f.function);const c="tools"in t?t.tools.map((e=>"function"===e.type?{type:"function",function:{name:e.function.name||e.function.function.name,parameters:e.function.parameters,description:e.function.description}}:e)):void 0;for(const f of t.messages)this._addMessage(f,!1);for(let f=0;f<l;++f){const t=await this._createChatCompletion(e,{...o,tool_choice:i,tools:c,messages:[...this.messages]},n),a=t.choices[0]?.message;if(!a)throw new de("missing message in ChatCompletion response");if(!a.tool_calls)return;for(const e of a.tool_calls){if("function"!==e.type)continue;const t=e.id,{name:n,arguments:i}=e.function,a=u[n];if(!a){const e=`Invalid tool_call: ${JSON.stringify(n)}. Available options are: ${c.map((e=>JSON.stringify(e.function.name))).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:t,content:e});continue}if(s&&s!==n){const e=`Invalid tool_call: ${JSON.stringify(n)}. ${JSON.stringify(s)} requested. Please try again`;this._addMessage({role:r,tool_call_id:t,content:e});continue}let o;try{o=Ze(a)?await a.parse(i):i}catch(d){const e=d instanceof Error?d.message:String(d);this._addMessage({role:r,tool_call_id:t,content:e});continue}const l=await a.function(o,this),f=vt(this,Qe,"m",_t).call(this,l);if(this._addMessage({role:r,tool_call_id:t,content:f}),s)return}}}}et=new WeakMap,tt=new WeakMap,nt=new WeakMap,rt=new WeakMap,it=new WeakMap,at=new WeakMap,ot=new WeakMap,st=new WeakMap,lt=new WeakMap,ut=new WeakMap,ct=new WeakMap,mt=new WeakMap,Qe=new WeakSet,dt=function(){return vt(this,Qe,"m",ft).call(this).content??null},ft=function(){let e=this.messages.length;for(;e-- >0;){const t=this.messages[e];if(Xe(t)){const{function_call:e,...n}=t,r={...n,content:t.content??null};return e&&(r.function_call=e),r}}throw new de("stream ended without producing a ChatCompletionMessage with role=assistant")},ht=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(Xe(t)&&t?.function_call)return t.function_call;if(Xe(t)&&t?.tool_calls?.length)return t.tool_calls.at(-1)?.function}},pt=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(Ye(t)&&null!=t.content)return t.content;if(Je(t)&&null!=t.content&&this.messages.some((e=>"assistant"===e.role&&e.tool_calls?.some((e=>"function"===e.type&&e.id===t.tool_call_id)))))return t.content}},gt=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},yt=function(e){if(null!=e.n&&e.n>1)throw new de("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},_t=function(e){return"string"===typeof e?e:void 0===e?"undefined":JSON.stringify(e)};class kt extends xt{static runFunctions(e,t,n){const r=new kt,i={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run((()=>r._runFunctions(e,t,i))),r}static runTools(e,t,n){const r=new kt,i={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run((()=>r._runTools(e,t,i))),r}_addMessage(e){super._addMessage(e),Xe(e)&&e.content&&this._emit("content",e.content)}}var St,Tt,Et,At,Ot,Ct,It=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},Pt=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n};class Mt extends xt{constructor(){super(...arguments),St.add(this),Tt.set(this,void 0)}get currentChatCompletionSnapshot(){return It(this,Tt,"f")}static fromReadableStream(e){const t=new Mt;return t._run((()=>t._fromReadableStream(e))),t}static createChatCompletion(e,t,n){const r=new Mt;return r._run((()=>r._runChatCompletion(e,{...t,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}}))),r}async _createChatCompletion(e,t,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),It(this,St,"m",Et).call(this);const i=await e.create({...t,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const a of i)It(this,St,"m",At).call(this,a);if(i.controller.signal?.aborted)throw new he;return this._addChatCompletion(It(this,St,"m",Ot).call(this))}async _fromReadableStream(e,t){const n=t?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort()))),It(this,St,"m",Et).call(this),this._connected();const r=v.fromReadableStream(e,this.controller);let i;for await(const a of r)i&&i!==a.id&&this._addChatCompletion(It(this,St,"m",Ot).call(this)),It(this,St,"m",At).call(this,a),i=a.id;if(r.controller.signal?.aborted)throw new he;return this._addChatCompletion(It(this,St,"m",Ot).call(this))}[(Tt=new WeakMap,St=new WeakSet,Et=function(){this.ended||Pt(this,Tt,void 0,"f")},At=function(e){if(this.ended)return;const t=It(this,St,"m",Ct).call(this,e);this._emit("chunk",e,t);const n=e.choices[0]?.delta?.content,r=t.choices[0]?.message;null!=n&&"assistant"===r?.role&&r?.content&&this._emit("content",n,r.content)},Ot=function(){if(this.ended)throw new de("stream has ended, this shouldn't happen");const e=It(this,Tt,"f");if(!e)throw new de("request ended without sending any chunks");return Pt(this,Tt,void 0,"f"),function(e){const{id:t,choices:n,created:r,model:i,system_fingerprint:a,...o}=e;return{...o,id:t,choices:n.map((({message:t,finish_reason:n,index:r,logprobs:i,...a})=>{if(!n)throw new de(`missing finish_reason for choice ${r}`);const{content:o=null,function_call:s,tool_calls:l,...u}=t,c=t.role;if(!c)throw new de(`missing role for choice ${r}`);if(s){const{arguments:e,name:t}=s;if(null==e)throw new de(`missing function_call.arguments for choice ${r}`);if(!t)throw new de(`missing function_call.name for choice ${r}`);return{...a,message:{content:o,function_call:{arguments:e,name:t},role:c},finish_reason:n,index:r,logprobs:i}}return l?{...a,index:r,finish_reason:n,logprobs:i,message:{...u,role:c,content:o,tool_calls:l.map(((t,n)=>{const{function:i,type:a,id:o,...s}=t,{arguments:l,name:u,...c}=i||{};if(null==o)throw new de(`missing choices[${r}].tool_calls[${n}].id\n${Lt(e)}`);if(null==a)throw new de(`missing choices[${r}].tool_calls[${n}].type\n${Lt(e)}`);if(null==u)throw new de(`missing choices[${r}].tool_calls[${n}].function.name\n${Lt(e)}`);if(null==l)throw new de(`missing choices[${r}].tool_calls[${n}].function.arguments\n${Lt(e)}`);return{...s,id:o,type:a,function:{...c,name:u,arguments:l}}}))}}:{...a,message:{...u,content:o,role:c},finish_reason:n,index:r,logprobs:i}})),created:r,model:i,object:"chat.completion",...a?{system_fingerprint:a}:{}}}(e)},Ct=function(e){var t,n,r;let i=It(this,Tt,"f");const{choices:a,...o}=e;i?Object.assign(i,o):i=Pt(this,Tt,{...o,choices:[]},"f");for(const{delta:s,finish_reason:l,index:u,logprobs:c=null,...d}of e.choices){let e=i.choices[u];if(e||(e=i.choices[u]={finish_reason:l,index:u,message:{},logprobs:c,...d}),c)if(e.logprobs){const{content:n,...r}=c;Object.assign(e.logprobs,r),n&&((t=e.logprobs).content??(t.content=[]),e.logprobs.content.push(...n))}else e.logprobs=Object.assign({},c);if(l&&(e.finish_reason=l),Object.assign(e,d),!s)continue;const{content:a,function_call:o,role:f,tool_calls:h,...p}=s;if(Object.assign(e.message,p),a&&(e.message.content=(e.message.content||"")+a),f&&(e.message.role=f),o&&(e.message.function_call?(o.name&&(e.message.function_call.name=o.name),o.arguments&&((n=e.message.function_call).arguments??(n.arguments=""),e.message.function_call.arguments+=o.arguments)):e.message.function_call=o),h){e.message.tool_calls||(e.message.tool_calls=[]);for(const{index:t,id:n,type:i,function:a,...o}of h){const s=(r=e.message.tool_calls)[t]??(r[t]={});Object.assign(s,o),n&&(s.id=n),i&&(s.type=i),a&&(s.function??(s.function={arguments:""})),a?.name&&(s.function.name=a.name),a?.arguments&&(s.function.arguments+=a.arguments)}}}return i},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("chunk",(n=>{const r=t.shift();r?r.resolve(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),this.on("error",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise(((e,n)=>t.push({resolve:e,reject:n}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new v(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Lt(e){return JSON.stringify(e)}class Rt extends Mt{static fromReadableStream(e){const t=new Rt;return t._run((()=>t._fromReadableStream(e))),t}static runFunctions(e,t,n){const r=new Rt,i={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run((()=>r._runFunctions(e,t,i))),r}static runTools(e,t,n){const r=new Rt,i={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run((()=>r._runTools(e,t,i))),r}}class Nt extends Ee{runFunctions(e,t){return e.stream?Rt.runFunctions(this._client.chat.completions,e,t):kt.runFunctions(this._client.chat.completions,e,t)}runTools(e,t){return e.stream?Rt.runTools(this._client.chat.completions,e,t):kt.runTools(this._client.chat.completions,e,t)}stream(e,t){return Mt.createChatCompletion(this._client.chat.completions,e,t)}}class Dt extends Ee{constructor(){super(...arguments),this.completions=new Nt(this._client)}}!function(e){e.Completions=Nt}(Dt||(Dt={}));var jt,Ft,Bt,zt,$t,Ut,Vt,Wt,Ht,Gt,qt,Kt,Zt=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},Xt=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class Yt{constructor(){this.controller=new AbortController,jt.set(this,void 0),Ft.set(this,(()=>{})),Bt.set(this,(()=>{})),zt.set(this,void 0),$t.set(this,(()=>{})),Ut.set(this,(()=>{})),Vt.set(this,{}),Wt.set(this,!1),Ht.set(this,!1),Gt.set(this,!1),qt.set(this,!1),Kt.set(this,(e=>{if(Zt(this,Ht,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new he),e instanceof he)return Zt(this,Gt,!0,"f"),this._emit("abort",e);if(e instanceof de)return this._emit("error",e);if(e instanceof Error){const t=new de(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new de(String(e)))})),Zt(this,jt,new Promise(((e,t)=>{Zt(this,Ft,e,"f"),Zt(this,Bt,t,"f")})),"f"),Zt(this,zt,new Promise(((e,t)=>{Zt(this,$t,e,"f"),Zt(this,Ut,t,"f")})),"f"),Xt(this,jt,"f").catch((()=>{})),Xt(this,zt,"f").catch((()=>{}))}_run(e){setTimeout((()=>{e().then((()=>{this._emit("end")}),Xt(this,Kt,"f"))}),0)}_addRun(e){return e}_connected(){this.ended||(Xt(this,Ft,"f").call(this),this._emit("connect"))}get ended(){return Xt(this,Wt,"f")}get errored(){return Xt(this,Ht,"f")}get aborted(){return Xt(this,Gt,"f")}abort(){this.controller.abort()}on(e,t){return(Xt(this,Vt,"f")[e]||(Xt(this,Vt,"f")[e]=[])).push({listener:t}),this}off(e,t){const n=Xt(this,Vt,"f")[e];if(!n)return this;const r=n.findIndex((e=>e.listener===t));return r>=0&&n.splice(r,1),this}once(e,t){return(Xt(this,Vt,"f")[e]||(Xt(this,Vt,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise(((t,n)=>{Zt(this,qt,!0,"f"),"error"!==e&&this.once("error",n),this.once(e,t)}))}async done(){Zt(this,qt,!0,"f"),await Xt(this,zt,"f")}_emit(e,...t){if(Xt(this,Wt,"f"))return;"end"===e&&(Zt(this,Wt,!0,"f"),Xt(this,$t,"f").call(this));const n=Xt(this,Vt,"f")[e];if(n&&(Xt(this,Vt,"f")[e]=n.filter((e=>!e.once)),n.forEach((({listener:e})=>e(...t)))),"abort"===e){const e=t[0];return Xt(this,qt,"f")||n?.length||Promise.reject(e),Xt(this,Bt,"f").call(this,e),Xt(this,Ut,"f").call(this,e),void this._emit("end")}if("error"===e){const e=t[0];Xt(this,qt,"f")||n?.length||Promise.reject(e),Xt(this,Bt,"f").call(this,e),Xt(this,Ut,"f").call(this,e),this._emit("end")}}async _threadAssistantStream(e,t,n){return await this._createThreadAssistantStream(t,e,n)}async _runAssistantStream(e,t,n,r){return await this._createAssistantStream(t,e,n,r)}async _runToolAssistantStream(e,t,n,r,i){return await this._createToolAssistantStream(n,e,t,r,i)}async _createThreadAssistantStream(e,t,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort())));const i=await e.createAndRun({...t,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addRun(i)}async _createToolAssistantStream(e,t,n,r,i){const a=i?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",(()=>this.controller.abort())));const o=await e.submitToolOutputs(t,n,{...r,stream:!1},{...i,signal:this.controller.signal});return this._connected(),this._addRun(o)}async _createAssistantStream(e,t,n,r){const i=r?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",(()=>this.controller.abort())));const a=await e.create(t,{...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addRun(a)}}jt=new WeakMap,Ft=new WeakMap,Bt=new WeakMap,zt=new WeakMap,$t=new WeakMap,Ut=new WeakMap,Vt=new WeakMap,Wt=new WeakMap,Ht=new WeakMap,Gt=new WeakMap,qt=new WeakMap,Kt=new WeakMap;var Jt,Qt,en,tn,nn,rn,an,on,sn,ln,un,cn,dn,fn,hn,pn,gn,mn,yn,_n,bn,vn,wn=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},xn=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n};class kn extends Yt{constructor(){super(...arguments),Jt.add(this),Qt.set(this,[]),en.set(this,{}),tn.set(this,{}),nn.set(this,void 0),rn.set(this,void 0),an.set(this,void 0),on.set(this,void 0),sn.set(this,void 0),ln.set(this,void 0),un.set(this,void 0),cn.set(this,void 0),dn.set(this,void 0)}[(Qt=new WeakMap,en=new WeakMap,tn=new WeakMap,nn=new WeakMap,rn=new WeakMap,an=new WeakMap,on=new WeakMap,sn=new WeakMap,ln=new WeakMap,un=new WeakMap,cn=new WeakMap,dn=new WeakMap,Jt=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("event",(n=>{const r=t.shift();r?r.resolve(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),this.on("error",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise(((e,n)=>t.push({resolve:e,reject:n}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const t=new kn;return t._run((()=>t._fromReadableStream(e))),t}async _fromReadableStream(e,t){const n=t?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort()))),this._connected();const r=v.fromReadableStream(e,this.controller);for await(const i of r)wn(this,Jt,"m",fn).call(this,i);if(r.controller.signal?.aborted)throw new he;return this._addRun(wn(this,Jt,"m",hn).call(this))}toReadableStream(){return new v(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,n,r,i){const a=new kn;return a._run((()=>a._runToolAssistantStream(e,t,n,r,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}}))),a}async _createToolAssistantStream(e,t,n,r,i){const a=i?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",(()=>this.controller.abort())));const o={...r,stream:!0},s=await e.submitToolOutputs(t,n,o,{...i,signal:this.controller.signal});this._connected();for await(const l of s)wn(this,Jt,"m",fn).call(this,l);if(s.controller.signal?.aborted)throw new he;return this._addRun(wn(this,Jt,"m",hn).call(this))}static createThreadAssistantStream(e,t,n){const r=new kn;return r._run((()=>r._threadAssistantStream(e,t,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}}))),r}static createAssistantStream(e,t,n,r){const i=new kn;return i._run((()=>i._runAssistantStream(e,t,n,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}}))),i}currentEvent(){return wn(this,un,"f")}currentRun(){return wn(this,cn,"f")}currentMessageSnapshot(){return wn(this,nn,"f")}currentRunStepSnapshot(){return wn(this,dn,"f")}async finalRunSteps(){return await this.done(),Object.values(wn(this,en,"f"))}async finalMessages(){return await this.done(),Object.values(wn(this,tn,"f"))}async finalRun(){if(await this.done(),!wn(this,rn,"f"))throw Error("Final run was not received.");return wn(this,rn,"f")}async _createThreadAssistantStream(e,t,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort())));const i={...t,stream:!0},a=await e.createAndRun(i,{...n,signal:this.controller.signal});this._connected();for await(const o of a)wn(this,Jt,"m",fn).call(this,o);if(a.controller.signal?.aborted)throw new he;return this._addRun(wn(this,Jt,"m",hn).call(this))}async _createAssistantStream(e,t,n,r){const i=r?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",(()=>this.controller.abort())));const a={...n,stream:!0},o=await e.create(t,a,{...r,signal:this.controller.signal});this._connected();for await(const s of o)wn(this,Jt,"m",fn).call(this,s);if(o.controller.signal?.aborted)throw new he;return this._addRun(wn(this,Jt,"m",hn).call(this))}static accumulateDelta(e,t){for(const[n,r]of Object.entries(t)){if(!e.hasOwnProperty(n)){e[n]=r;continue}let t=e[n];if(null!==t&&void 0!==t)if("index"!==n&&"type"!==n){if("string"===typeof t&&"string"===typeof r)t+=r;else if("number"===typeof t&&"number"===typeof r)t+=r;else if(ce(t)&&ce(r))t=this.accumulateDelta(t,r);else{if(!Array.isArray(t)||!Array.isArray(r))throw Error(`Unhandled record type: ${n}, deltaValue: ${r}, accValue: ${t}`);if(t.every((e=>"string"===typeof e||"number"===typeof e))){t.push(...r);continue}}e[n]=t}else e[n]=r;else e[n]=r}return e}}fn=function(e){if(!this.ended)switch(xn(this,un,e,"f"),wn(this,Jt,"m",mn).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":wn(this,Jt,"m",vn).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":wn(this,Jt,"m",gn).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":wn(this,Jt,"m",pn).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},hn=function(){if(this.ended)throw new de("stream has ended, this shouldn't happen");if(!wn(this,rn,"f"))throw Error("Final run has not been received");return wn(this,rn,"f")},pn=function(e){const[t,n]=wn(this,Jt,"m",_n).call(this,e,wn(this,nn,"f"));xn(this,nn,t,"f"),wn(this,tn,"f")[t.id]=t;for(const r of n){const e=t.content[r.index];"text"==e?.type&&this._emit("textCreated",e.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const n of e.data.delta.content){if("text"==n.type&&n.text){let e=n.text,r=t.content[n.index];if(!r||"text"!=r.type)throw Error("The snapshot associated with this text delta is not text or missing");this._emit("textDelta",e,r.text)}if(n.index!=wn(this,an,"f")){if(wn(this,on,"f"))switch(wn(this,on,"f").type){case"text":this._emit("textDone",wn(this,on,"f").text,wn(this,nn,"f"));break;case"image_file":this._emit("imageFileDone",wn(this,on,"f").image_file,wn(this,nn,"f"))}xn(this,an,n.index,"f")}xn(this,on,t.content[n.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(void 0!==wn(this,an,"f")){const t=e.data.content[wn(this,an,"f")];if(t)switch(t.type){case"image_file":this._emit("imageFileDone",t.image_file,wn(this,nn,"f"));break;case"text":this._emit("textDone",t.text,wn(this,nn,"f"))}}wn(this,nn,"f")&&this._emit("messageDone",e.data),xn(this,nn,void 0,"f")}},gn=function(e){const t=wn(this,Jt,"m",yn).call(this,e);switch(xn(this,dn,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const n=e.data.delta;if(n.step_details&&"tool_calls"==n.step_details.type&&n.step_details.tool_calls&&"tool_calls"==t.step_details.type)for(const e of n.step_details.tool_calls)e.index==wn(this,sn,"f")?this._emit("toolCallDelta",e,t.step_details.tool_calls[e.index]):(wn(this,ln,"f")&&this._emit("toolCallDone",wn(this,ln,"f")),xn(this,sn,e.index,"f"),xn(this,ln,t.step_details.tool_calls[e.index],"f"),wn(this,ln,"f")&&this._emit("toolCallCreated",wn(this,ln,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":xn(this,dn,void 0,"f");"tool_calls"==e.data.step_details.type&&wn(this,ln,"f")&&(this._emit("toolCallDone",wn(this,ln,"f")),xn(this,ln,void 0,"f")),this._emit("runStepDone",e.data,t)}},mn=function(e){wn(this,Qt,"f").push(e),this._emit("event",e)},yn=function(e){switch(e.event){case"thread.run.step.created":return wn(this,en,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=wn(this,en,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){const r=kn.accumulateDelta(t,n.delta);wn(this,en,"f")[e.data.id]=r}return wn(this,en,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":wn(this,en,"f")[e.data.id]=e.data}if(wn(this,en,"f")[e.data.id])return wn(this,en,"f")[e.data.id];throw new Error("No snapshot available")},_n=function(e,t){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const e of r.delta.content)if(e.index in t.content){let n=t.content[e.index];t.content[e.index]=wn(this,Jt,"m",bn).call(this,e,n)}else t.content[e.index]=e,n.push(e);return[t,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},bn=function(e,t){return kn.accumulateDelta(t,e)},vn=function(e){switch(xn(this,cn,e.data,"f"),e.event){case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.cancelling":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":xn(this,rn,e.data,"f"),wn(this,ln,"f")&&(this._emit("toolCallDone",wn(this,ln,"f")),xn(this,ln,void 0,"f"))}};class Sn extends Ee{create(e,t,n){return this._client.post(`/threads/${e}/messages`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,t,n){return this._client.get(`/threads/${e}/messages/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(e,t,n,r){return this._client.post(`/threads/${e}/messages/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(e,t={},n){return G(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/messages`,Tn,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,t,n){return this._client.delete(`/threads/${e}/messages/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}}class Tn extends Te{}!function(e){e.MessagesPage=Tn}(Sn||(Sn={}));class En extends Ee{retrieve(e,t,n,r){return this._client.get(`/threads/${e}/runs/${t}/steps/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(e,t,n={},r){return G(n)?this.list(e,t,{},n):this._client.getAPIList(`/threads/${e}/runs/${t}/steps`,An,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}}class An extends Te{}!function(e){e.RunStepsPage=An}(En||(En={}));class On extends Ee{constructor(){super(...arguments),this.steps=new En(this._client)}create(e,t,n){return this._client.post(`/threads/${e}/runs`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers},stream:t.stream??!1})}retrieve(e,t,n){return this._client.get(`/threads/${e}/runs/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(e,t,n,r){return this._client.post(`/threads/${e}/runs/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(e,t={},n){return G(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/runs`,Cn,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}cancel(e,t,n){return this._client.post(`/threads/${e}/runs/${t}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(e,r.id,n)}createAndStream(e,t,n){return kn.createAssistantStream(e,this._client.beta.threads.runs,t,n)}async poll(e,t,n){const r={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:i,response:a}=await this.retrieve(e,t,{...n,headers:{...n?.headers,...r}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=a.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await te(e);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(e,t,n){return kn.createAssistantStream(e,this._client.beta.threads.runs,t,n)}submitToolOutputs(e,t,n,r){return this._client.post(`/threads/${e}/runs/${t}/submit_tool_outputs`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers},stream:n.stream??!1})}async submitToolOutputsAndPoll(e,t,n,r){const i=await this.submitToolOutputs(e,t,n,r);return await this.poll(e,i.id,r)}submitToolOutputsStream(e,t,n,r){return kn.createToolAssistantStream(e,t,this._client.beta.threads.runs,n,r)}}class Cn extends Te{}!function(e){e.RunsPage=Cn,e.Steps=En,e.RunStepsPage=An}(On||(On={}));class In extends Ee{constructor(){super(...arguments),this.runs=new On(this._client),this.messages=new Sn(this._client)}create(e={},t){return G(e)?this.create({},e):this._client.post("/threads",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,n){return this._client.post(`/threads/${e}`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,t){return this._client.delete(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers},stream:e.stream??!1})}async createAndRunPoll(e,t){const n=await this.createAndRun(e,t);return await this.runs.poll(n.thread_id,n.id,t)}createAndRunStream(e,t){return kn.createThreadAssistantStream(e,this._client.beta.threads,t)}}!function(e){e.Runs=On,e.RunsPage=Cn,e.Messages=Sn,e.MessagesPage=Tn}(In||(In={}));class Pn extends Ee{create(e,t,n){return this._client.post(`/vector_stores/${e}/files`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,t,n){return this._client.get(`/vector_stores/${e}/files/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(e,t={},n){return G(t)?this.list(e,{},t):this._client.getAPIList(`/vector_stores/${e}/files`,Mn,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,t,n){return this._client.delete(`/vector_stores/${e}/files/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(e,r.id,n)}async poll(e,t,n){const r={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const i=await this.retrieve(e,t,{...n,headers:r}).withResponse(),a=i.data;switch(a.status){case"in_progress":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=i.response.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await te(e);break;case"failed":case"completed":return a}}}async upload(e,t,n){const r=await this._client.files.create({file:t,purpose:"assistants"},n);return this.create(e,{file_id:r.id},n)}async uploadAndPoll(e,t,n){const r=await this.upload(e,t,n);return await this.poll(e,r.id,n)}}class Mn extends Te{}!function(e){e.VectorStoreFilesPage=Mn}(Pn||(Pn={}));class Ln extends Ee{create(e,t,n){return this._client.post(`/vector_stores/${e}/file_batches`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,t,n){return this._client.get(`/vector_stores/${e}/file_batches/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}cancel(e,t,n){return this._client.post(`/vector_stores/${e}/file_batches/${t}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,t,n){const r=await this.create(e,t);return await this.poll(e,r.id,n)}listFiles(e,t,n={},r){return G(n)?this.listFiles(e,t,{},n):this._client.getAPIList(`/vector_stores/${e}/file_batches/${t}/files`,Mn,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}async poll(e,t,n){const r={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:i,response:a}=await this.retrieve(e,t,{...n,headers:r}).withResponse();switch(i.status){case"in_progress":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=a.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await te(e);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(e,{files:t,fileIds:n=[]},r){if(null===t||0==t.length)throw new Error("No files provided to process.");const i=r?.maxConcurrency??5,a=Math.min(i,t.length),o=this._client,s=t.values(),l=[...n];const u=Array(a).fill(s).map((async function(e){for(let t of e){const e=await o.files.create({file:t,purpose:"assistants"},r);l.push(e.id)}}));return await(async e=>{const t=await Promise.allSettled(e),n=t.filter((e=>"rejected"===e.status));if(n.length){for(const e of n)console.error(e.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const i of t)"fulfilled"===i.status&&r.push(i.value);return r})(u),await this.createAndPoll(e,{file_ids:l})}}Ln||(Ln={});class Rn extends Ee{constructor(){super(...arguments),this.files=new Pn(this._client),this.fileBatches=new Ln(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,n){return this._client.post(`/vector_stores/${e}`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(e={},t){return G(e)?this.list({},e):this._client.getAPIList("/vector_stores",Nn,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}del(e,t){return this._client.delete(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}}class Nn extends Te{}!function(e){e.VectorStoresPage=Nn,e.Files=Pn,e.VectorStoreFilesPage=Mn,e.FileBatches=Ln}(Rn||(Rn={}));class Dn extends Ee{constructor(){super(...arguments),this.vectorStores=new Rn(this._client),this.chat=new Dt(this._client),this.assistants=new qe(this._client),this.threads=new In(this._client)}}!function(e){e.VectorStores=Rn,e.VectorStoresPage=Nn,e.Chat=Dt,e.Assistants=qe,e.AssistantsPage=Ke,e.Threads=In}(Dn||(Dn={}));class jn extends Ee{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get(`/batches/${e}`,t)}list(e={},t){return G(e)?this.list({},e):this._client.getAPIList("/batches",Fn,{query:e,...t})}cancel(e,t){return this._client.post(`/batches/${e}/cancel`,t)}}class Fn extends Te{}var Bn;!function(e){e.BatchesPage=Fn}(jn||(jn={}));class zn extends ${constructor({baseURL:e=ie("OPENAI_BASE_URL"),apiKey:t=ie("OPENAI_API_KEY"),organization:n=ie("OPENAI_ORG_ID")??null,project:r=ie("OPENAI_PROJECT_ID")??null,...i}={}){if(void 0===t)throw new de("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const a={apiKey:t,organization:n,project:r,...i,baseURL:e||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof navigator)throw new de("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");super({baseURL:a.baseURL,timeout:a.timeout??6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new Ae(this),this.chat=new Ce(this),this.embeddings=new Ie(this),this.files=new Pe(this),this.images=new Le(this),this.audio=new je(this),this.moderations=new Fe(this),this.models=new Be(this),this.fineTuning=new Ge(this),this.beta=new Dn(this),this.batches=new jn(this),this._options=a,this.apiKey=t,this.organization=n,this.project=r}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}}Bn=zn,zn.OpenAI=Bn,zn.OpenAIError=de,zn.APIError=fe,zn.APIConnectionError=pe,zn.APIConnectionTimeoutError=ge,zn.APIUserAbortError=he,zn.NotFoundError=be,zn.ConflictError=ve,zn.RateLimitError=xe,zn.BadRequestError=me,zn.AuthenticationError=ye,zn.InternalServerError=ke,zn.PermissionDeniedError=_e,zn.UnprocessableEntityError=we,zn.toFile=C,zn.fileFromPath=m;const{OpenAIError:$n,APIError:Un,APIConnectionError:Vn,APIConnectionTimeoutError:Wn,APIUserAbortError:Hn,NotFoundError:Gn,ConflictError:qn,RateLimitError:Kn,BadRequestError:Zn,AuthenticationError:Xn,InternalServerError:Yn,PermissionDeniedError:Jn,UnprocessableEntityError:Qn}=r;var er=C;!function(e){e.Page=Se,e.CursorPage=Te,e.Completions=Ae,e.Chat=Ce,e.Embeddings=Ie,e.Files=Pe,e.FileObjectsPage=Me,e.Images=Le,e.Audio=je,e.Moderations=Fe,e.Models=Be,e.ModelsPage=ze,e.FineTuning=Ge,e.Beta=Dn,e.Batches=jn,e.BatchesPage=Fn}(zn||(zn={}));class tr extends zn{constructor({baseURL:e=ie("OPENAI_BASE_URL"),apiKey:t=ie("AZURE_OPENAI_API_KEY"),apiVersion:n=ie("OPENAI_API_VERSION"),endpoint:r,deployment:i,azureADTokenProvider:a,dangerouslyAllowBrowser:o,...s}={}){if(!n)throw new de("The OPENAI_API_VERSION environment variable is missing or empty; either provide it, or instantiate the AzureOpenAI client with an apiVersion option, like new AzureOpenAI({ apiVersion: 'My API Version' }).");if("function"===typeof a&&(o=!0),!a&&!t)throw new de("Missing credentials. Please pass one of `apiKey` and `azureADTokenProvider`, or set the `AZURE_OPENAI_API_KEY` environment variable.");if(a&&t)throw new de("The `apiKey` and `azureADTokenProvider` arguments are mutually exclusive; only one can be passed at a time.");if(t??(t=rr),s.defaultQuery={...s.defaultQuery,"api-version":n},e){if(r)throw new de("baseURL and endpoint are mutually exclusive")}else{if(r||(r={NODE_ENV:"production",PUBLIC_URL:".",APP_MANIFEST:{name:"Soulgarden",slug:"Soulgarden",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"light",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#1e2c33"},web:{},extra:{eas:{projectId:"38711c52-ddf9-4daf-b83c-8fb7f02dc34b"}},description:"Soulgarden AI companion",sdkVersion:"48.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.AZURE_OPENAI_ENDPOINT),!r)throw new de("Must provide one of the `baseURL` or `endpoint` arguments, or the `AZURE_OPENAI_ENDPOINT` environment variable");e=`${r}/openai`}super({apiKey:t,baseURL:e,...s,...void 0!==o?{dangerouslyAllowBrowser:o}:{}}),this.apiVersion="",this._azureADTokenProvider=a,this.apiVersion=n,this._deployment=i}buildRequest(e){if(nr.has(e.path)&&"post"===e.method&&void 0!==e.body){if(!ce(e.body))throw new Error("Expected request body to be an object");const t=this._deployment||e.body.model;delete e.body.model,void 0===t||this.baseURL.includes("/deployments")||(e.path=`/deployments/${t}${e.path}`)}return super.buildRequest(e)}async _getAzureADToken(){if("function"===typeof this._azureADTokenProvider){const e=await this._azureADTokenProvider();if(!e||"string"!==typeof e)throw new de(`Expected 'azureADTokenProvider' argument to return a string but it returned ${e}`);return e}}authHeaders(e){return{}}async prepareOptions(e){if(e.headers?.Authorization||e.headers?.["api-key"])return super.prepareOptions(e);const t=await this._getAzureADToken();if(e.headers??(e.headers={}),t)e.headers.Authorization=`Bearer ${t}`;else{if(this.apiKey===rr)throw new de("Unable to handle auth");e.headers["api-key"]=this.apiKey}return super.prepareOptions(e)}}const nr=new Set(["/completions","/chat/completions","/embeddings","/audio/transcriptions","/audio/translations","/audio/speech","/images/generations"]),rr="<Missing Key>";var ir=n(2228),ar=n(8509),or=n(6306),sr=n(8042),lr=n(5202),ur="object"===typeof window?window:{},cr="0123456789abcdef".split(""),dr=[-2147483648,8388608,32768,128],fr=[24,16,8,0],hr=[];function pr(e){e?(hr[0]=hr[16]=hr[1]=hr[2]=hr[3]=hr[4]=hr[5]=hr[6]=hr[7]=hr[8]=hr[9]=hr[10]=hr[11]=hr[12]=hr[13]=hr[14]=hr[15]=0,this.blocks=hr):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}pr.prototype.update=function(e){if(!this.finalized){var t="string"!==typeof e;t&&e.constructor===ur.ArrayBuffer&&(e=new Uint8Array(e));for(var n,r,i=0,a=e.length||0,o=this.blocks;i<a;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),t)for(r=this.start;i<a&&r<64;++i)o[r>>2]|=e[i]<<fr[3&r++];else for(r=this.start;i<a&&r<64;++i)(n=e.charCodeAt(i))<128?o[r>>2]|=n<<fr[3&r++]:n<2048?(o[r>>2]|=(192|n>>6)<<fr[3&r++],o[r>>2]|=(128|63&n)<<fr[3&r++]):n<55296||n>=57344?(o[r>>2]|=(224|n>>12)<<fr[3&r++],o[r>>2]|=(128|n>>6&63)<<fr[3&r++],o[r>>2]|=(128|63&n)<<fr[3&r++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++i)),o[r>>2]|=(240|n>>18)<<fr[3&r++],o[r>>2]|=(128|n>>12&63)<<fr[3&r++],o[r>>2]|=(128|n>>6&63)<<fr[3&r++],o[r>>2]|=(128|63&n)<<fr[3&r++]);this.lastByteIndex=r,this.bytes+=r-this.start,r>=64?(this.block=o[16],this.start=r-64,this.hash(),this.hashed=!0):this.start=r}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296|0,this.bytes=this.bytes%4294967296),this}},pr.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=dr[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},pr.prototype.hash=function(){var e,t,n=this.h0,r=this.h1,i=this.h2,a=this.h3,o=this.h4,s=this.blocks;for(e=16;e<80;++e)t=s[e-3]^s[e-8]^s[e-14]^s[e-16],s[e]=t<<1|t>>>31;for(e=0;e<20;e+=5)n=(t=(r=(t=(i=(t=(a=(t=(o=(t=n<<5|n>>>27)+(r&i|~r&a)+o+1518500249+s[e]|0)<<5|o>>>27)+(n&(r=r<<30|r>>>2)|~n&i)+a+1518500249+s[e+1]|0)<<5|a>>>27)+(o&(n=n<<30|n>>>2)|~o&r)+i+1518500249+s[e+2]|0)<<5|i>>>27)+(a&(o=o<<30|o>>>2)|~a&n)+r+1518500249+s[e+3]|0)<<5|r>>>27)+(i&(a=a<<30|a>>>2)|~i&o)+n+1518500249+s[e+4]|0,i=i<<30|i>>>2;for(;e<40;e+=5)n=(t=(r=(t=(i=(t=(a=(t=(o=(t=n<<5|n>>>27)+(r^i^a)+o+1859775393+s[e]|0)<<5|o>>>27)+(n^(r=r<<30|r>>>2)^i)+a+1859775393+s[e+1]|0)<<5|a>>>27)+(o^(n=n<<30|n>>>2)^r)+i+1859775393+s[e+2]|0)<<5|i>>>27)+(a^(o=o<<30|o>>>2)^n)+r+1859775393+s[e+3]|0)<<5|r>>>27)+(i^(a=a<<30|a>>>2)^o)+n+1859775393+s[e+4]|0,i=i<<30|i>>>2;for(;e<60;e+=5)n=(t=(r=(t=(i=(t=(a=(t=(o=(t=n<<5|n>>>27)+(r&i|r&a|i&a)+o-1894007588+s[e]|0)<<5|o>>>27)+(n&(r=r<<30|r>>>2)|n&i|r&i)+a-1894007588+s[e+1]|0)<<5|a>>>27)+(o&(n=n<<30|n>>>2)|o&r|n&r)+i-1894007588+s[e+2]|0)<<5|i>>>27)+(a&(o=o<<30|o>>>2)|a&n|o&n)+r-1894007588+s[e+3]|0)<<5|r>>>27)+(i&(a=a<<30|a>>>2)|i&o|a&o)+n-1894007588+s[e+4]|0,i=i<<30|i>>>2;for(;e<80;e+=5)n=(t=(r=(t=(i=(t=(a=(t=(o=(t=n<<5|n>>>27)+(r^i^a)+o-899497514+s[e]|0)<<5|o>>>27)+(n^(r=r<<30|r>>>2)^i)+a-899497514+s[e+1]|0)<<5|a>>>27)+(o^(n=n<<30|n>>>2)^r)+i-899497514+s[e+2]|0)<<5|i>>>27)+(a^(o=o<<30|o>>>2)^n)+r-899497514+s[e+3]|0)<<5|r>>>27)+(i^(a=a<<30|a>>>2)^o)+n-899497514+s[e+4]|0,i=i<<30|i>>>2;this.h0=this.h0+n|0,this.h1=this.h1+r|0,this.h2=this.h2+i|0,this.h3=this.h3+a|0,this.h4=this.h4+o|0},pr.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4;return cr[e>>28&15]+cr[e>>24&15]+cr[e>>20&15]+cr[e>>16&15]+cr[e>>12&15]+cr[e>>8&15]+cr[e>>4&15]+cr[15&e]+cr[t>>28&15]+cr[t>>24&15]+cr[t>>20&15]+cr[t>>16&15]+cr[t>>12&15]+cr[t>>8&15]+cr[t>>4&15]+cr[15&t]+cr[n>>28&15]+cr[n>>24&15]+cr[n>>20&15]+cr[n>>16&15]+cr[n>>12&15]+cr[n>>8&15]+cr[n>>4&15]+cr[15&n]+cr[r>>28&15]+cr[r>>24&15]+cr[r>>20&15]+cr[r>>16&15]+cr[r>>12&15]+cr[r>>8&15]+cr[r>>4&15]+cr[15&r]+cr[i>>28&15]+cr[i>>24&15]+cr[i>>20&15]+cr[i>>16&15]+cr[i>>12&15]+cr[i>>8&15]+cr[i>>4&15]+cr[15&i]},pr.prototype.toString=pr.prototype.hex,pr.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4;return[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,i>>24&255,i>>16&255,i>>8&255,255&i]},pr.prototype.array=pr.prototype.digest,pr.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(20),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),e};var gr=n(9717);const mr=(...e)=>{return t=e.join("_"),new pr(!0).update(t).hex();var t};class yr{}const _r=new Map;class br extends yr{constructor(e){super(),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cache=e??new Map}lookup(e,t){return Promise.resolve(this.cache.get(mr(e,t))??null)}async update(e,t,n){this.cache.set(mr(e,t),n)}static global(){return new br(_r)}}var vr=n(7949),wr=n(601);class xr extends vr.Serializable{}class kr extends xr{static lc_name(){return"StringPromptValue"}constructor(e){super({value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=e}toString(){return this.value}toChatMessages(){return[new wr.HumanMessage(this.value)]}}class Sr extends xr{static lc_name(){return"ChatPromptValue"}constructor(e){Array.isArray(e)&&(e={messages:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.messages=e.messages}toString(){return(0,gr.getBufferString)(this.messages)}toChatMessages(){return this.messages}}var Tr=n(9763),Er=n(3703),Ar=Object.defineProperty;function Or(e,t){return 1===e.length?[t.get(e.join(","))]:function(e,t){let n=Array.from({length:e.length},((e,t)=>({start:t,end:t+1})));for(;n.length>1;){let r=null;for(let i=0;i<n.length-1;i++){const a=e.slice(n[i].start,n[i+1].end),o=t.get(a.join(","));null!=o&&(null==r||o<r[0])&&(r=[o,i])}if(null==r)break;{const e=r[1];n[e]={start:n[e].start,end:n[e+1].end},n.splice(e+1,1)}}return n}(e,t).map((n=>t.get(e.slice(n.start,n.end).join(",")))).filter((e=>null!=e))}var Cr,Ir,Pr=class{specialTokens;inverseSpecialTokens;patStr;textEncoder=new TextEncoder;textDecoder=new TextDecoder("utf-8");rankMap=new Map;textMap=new Map;constructor(e,t){this.patStr=e.pat_str;const n=e.bpe_ranks.split("\n").filter(Boolean).reduce(((e,t)=>{const[n,r,...i]=t.split(" "),a=Number.parseInt(r,10);return i.forEach(((t,n)=>e[t]=a+n)),e}),{});for(const[r,i]of Object.entries(n)){const e=Er.toByteArray(r);this.rankMap.set(e.join(","),i),this.textMap.set(i,e)}this.specialTokens={...e.special_tokens,...t},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce(((e,[t,n])=>(e[n]=this.textEncoder.encode(t),e)),{})}encode(e,t=[],n="all"){const r=new RegExp(this.patStr,"ug"),i=Pr.specialTokenRegex(Object.keys(this.specialTokens)),a=[],o=new Set("all"===t?Object.keys(this.specialTokens):t),s=new Set("all"===n?Object.keys(this.specialTokens).filter((e=>!o.has(e))):n);if(s.size>0){const t=Pr.specialTokenRegex([...s]),n=e.match(t);if(null!=n)throw new Error(`The text contains a special token that is not allowed: ${n[0]}`)}let l=0;for(;;){let t=null,n=l;for(;i.lastIndex=n,t=i.exec(e),null!=t&&!o.has(t[0]);)n=t.index+1;const s=t?.index??e.length;for(const i of e.substring(l,s).matchAll(r)){const e=this.textEncoder.encode(i[0]),t=this.rankMap.get(e.join(","));null==t?a.push(...Or(e,this.rankMap)):a.push(t)}if(null==t)break;let u=this.specialTokens[t[0]];a.push(u),l=t.index+t[0].length}return a}decode(e){const t=[];let n=0;for(let a=0;a<e.length;++a){const r=e[a],i=this.textMap.get(r)??this.inverseSpecialTokens[r];null!=i&&(t.push(i),n+=i.length)}const r=new Uint8Array(n);let i=0;for(const a of t)r.set(a,i),i+=a.length;return this.textDecoder.decode(r)}},Mr=Pr;Ir=e=>new RegExp(e.map((e=>function(e){return e.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}(e))).join("|"),"g"),((e,t,n)=>{t in e?Ar(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(Mr,"symbol"!==typeof(Cr="specialTokenRegex")?Cr+"":Cr,Ir);const Lr={},Rr=new Tr.AsyncCaller({});async function Nr(e){return async function(e){return e in Lr||(Lr[e]=Rr.fetch(`https://tiktoken.pages.dev/js/${e}.json`).then((e=>e.json())).then((e=>new Mr(e))).catch((t=>{throw delete Lr[e],t}))),await Lr[e]}(function(e){switch(e){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":return"o200k_base";default:throw new Error("Unknown model")}}(e))}var Dr=n(864);const jr=e=>e.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":e.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":e.startsWith("gpt-4-32k")?"gpt-4-32k":e.startsWith("gpt-4-")?"gpt-4":e.startsWith("gpt-4o")?"gpt-4o":e;const Fr=async({prompt:e,modelName:t})=>{let n;try{n=(await Nr(jr(t))).encode(e).length}catch(i){console.warn("Failed to calculate number of tokens, falling back to approximate count"),n=Math.ceil(e.length/4)}const r=(e=>{switch(jr(e)){case"gpt-3.5-turbo-16k":return 16384;case"gpt-3.5-turbo":return 4096;case"gpt-4-32k":return 32768;case"gpt-4":return 8192;case"text-davinci-003":default:return 4097;case"text-curie-001":case"text-babbage-001":case"text-ada-001":case"code-cushman-001":return 2048;case"code-davinci-002":return 8e3}})(t);return r-n};class Br extends Dr.Runnable{get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(e){super(e),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.verbose=e.verbose??!1,this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}}class zr extends Br{get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}constructor({callbacks:e,callbackManager:t,...n}){super({callbacks:e??t,...n}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_encoding",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),"object"===typeof n.cache?this.cache=n.cache:n.cache?this.cache=br.global():this.cache=void 0,this.caller=new Tr.AsyncCaller(n??{})}async getNumTokens(e){if("string"!==typeof e)return 0;let t=Math.ceil(e.length/4);if(!this._encoding)try{this._encoding=await Nr("modelName"in this?jr(this.modelName):"gpt2")}catch(n){console.warn("Failed to calculate number of tokens, falling back to approximate count",n)}if(this._encoding)try{t=this._encoding.encode(e).length}catch(n){console.warn("Failed to calculate number of tokens, falling back to approximate count",n)}return t}static _convertInputToPromptValue(e){return"string"===typeof e?new kr(e):Array.isArray(e)?new Sr(e.map(gr.coerceMessageLikeToMessage)):e}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall({config:e,...t}){const n={...this._identifyingParams(),...t,_type:this._llmType(),_model:this._modelType()},r=Object.entries(n).filter((([e,t])=>void 0!==t)),i=r.map((([e,t])=>`${e}:${JSON.stringify(t)}`)).sort().join(",");return i}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){throw new Error("Use .toJSON() instead")}}var $r=n(9761),Ur=n(3117),Vr=n(5483),Wr=n(3689),Hr=n(4578);class Gr extends Dr.Runnable{static lc_name(){return"RunnablePassthrough"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e&&(this.func=e.func)}async invoke(e,t){const n=(0,Hr.ensureConfig)(t);return this.func&&await this.func(e,n),this._callWithConfig((e=>Promise.resolve(e)),e,n)}async*transform(e,t){const n=(0,Hr.ensureConfig)(t);let r,i=!0;for await(const a of this._transformStreamWithConfig(e,(e=>e),n))if(yield a,i)if(void 0===r)r=a;else try{r=(0,Wr.concat)(r,a)}catch{r=void 0,i=!1}this.func&&void 0!==r&&await this.func(r,n)}static assign(e){return new Dr.RunnableAssign(new Dr.RunnableMap({steps:e}))}}class qr extends zr{constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models",this._llmType()]})}_separateRunnableConfigFromCallOptions(e){const[t,n]=super._separateRunnableConfigFromCallOptions(e);return n?.timeout&&!n.signal&&(n.signal=AbortSignal.timeout(n.timeout)),[t,n]}async invoke(e,t){const n=qr._convertInputToPromptValue(e);return(await this.generatePrompt([n],t,t?.callbacks)).generations[0][0].message}async*_streamResponseChunks(e,t,n){throw new Error("Not implemented.")}async*_streamIterator(e,t){if(this._streamResponseChunks===qr.prototype._streamResponseChunks)yield this.invoke(e,t);else{const r=qr._convertInputToPromptValue(e).toChatMessages(),[i,a]=this._separateRunnableConfigFromCallOptions(t),o={...i.metadata,...this.getLsParams(a)},s=await $r.CallbackManager.configure(i.callbacks,this.callbacks,i.tags,this.tags,o,this.metadata,{verbose:this.verbose}),l={options:a,invocation_params:this?.invocationParams(a),batch_size:1},u=await(s?.handleChatModelStart(this.toJSON(),[r],i.runId,void 0,l,void 0,void 0,i.runName));let c;try{for await(const e of this._streamResponseChunks(r,a,u?.[0]))e.message.response_metadata={...e.generationInfo,...e.message.response_metadata},yield e.message,c=c?c.concat(e):e}catch(n){throw await Promise.all((u??[]).map((e=>e?.handleLLMError(n)))),n}await Promise.all((u??[]).map((e=>e?.handleLLMEnd({generations:[[c]]}))))}}getLsParams(e){return{ls_model_type:"chat",ls_stop:e.stop}}async _generateUncached(e,t,n){const r=e.map((e=>e.map(lr.coerceMessageLikeToMessage))),i={...n.metadata,...this.getLsParams(t)},a=await $r.CallbackManager.configure(n.callbacks,this.callbacks,n.tags,this.tags,i,this.metadata,{verbose:this.verbose}),o={options:t,invocation_params:this?.invocationParams(t),batch_size:1},s=await(a?.handleChatModelStart(this.toJSON(),r,n.runId,void 0,o,void 0,void 0,n.runName)),l=[],u=[];if(!!s?.[0].handlers.find((e=>(0,Ur.isStreamEventsHandler)(e)||(0,Vr.isLogStreamHandler)(e)))&&1===r.length&&this._streamResponseChunks!==qr.prototype._streamResponseChunks)try{const e=await this._streamResponseChunks(r[0],t,s?.[0]);let n;for await(const t of e)n=void 0===n?t:(0,Wr.concat)(n,t);if(void 0===n)throw new Error("Received empty response from chat model call.");l.push([n]),await(s?.[0].handleLLMEnd({generations:l,llmOutput:{}}))}catch(d){throw await(s?.[0].handleLLMError(d)),d}else{const e=await Promise.allSettled(r.map(((e,n)=>this._generate(e,{...t,promptIndex:n},s?.[n]))));await Promise.all(e.map((async(e,t)=>{if("fulfilled"===e.status){const n=e.value;for(const e of n.generations)e.message.response_metadata={...e.generationInfo,...e.message.response_metadata};return 1===n.generations.length&&(n.generations[0].message.response_metadata={...n.llmOutput,...n.generations[0].message.response_metadata}),l[t]=n.generations,u[t]=n.llmOutput,s?.[t]?.handleLLMEnd({generations:[n.generations],llmOutput:n.llmOutput})}return await(s?.[t]?.handleLLMError(e.reason)),Promise.reject(e.reason)})))}const c={generations:l,llmOutput:u.length?this._combineLLMOutput?.(...u):void 0};return Object.defineProperty(c,ar.RUN_KEY,{value:s?{runIds:s?.map((e=>e.runId))}:void 0,configurable:!0}),c}async _generateCached({messages:e,cache:t,llmStringKey:n,parsedOptions:r,handledOptions:i}){const a=e.map((e=>e.map(lr.coerceMessageLikeToMessage))),o={...i.metadata,...this.getLsParams(r)},s=await $r.CallbackManager.configure(i.callbacks,this.callbacks,i.tags,this.tags,o,this.metadata,{verbose:this.verbose}),l={options:r,invocation_params:this?.invocationParams(r),batch_size:1,cached:!0},u=await(s?.handleChatModelStart(this.toJSON(),a,i.runId,void 0,l,void 0,void 0,i.runName)),c=[],d=(await Promise.allSettled(a.map((async(e,r)=>{const i=qr._convertInputToPromptValue(e).toString(),a=await t.lookup(i,n);return null==a&&c.push(r),a})))).map(((e,t)=>({result:e,runManager:u?.[t]}))).filter((({result:e})=>"fulfilled"===e.status&&null!=e.value||"rejected"===e.status)),f=[];await Promise.all(d.map((async({result:e,runManager:t},n)=>{if("fulfilled"===e.status){const r=e.value;return f[n]=r,r.length&&await(t?.handleLLMNewToken(r[0].text)),t?.handleLLMEnd({generations:[r]})}return await(t?.handleLLMError(e.reason)),Promise.reject(e.reason)})));const h={generations:f,missingPromptIndices:c};return Object.defineProperty(h,ar.RUN_KEY,{value:u?{runIds:u?.map((e=>e.runId))}:void 0,configurable:!0}),h}async generate(e,t,n){let r;r=Array.isArray(t)?{stop:t}:t;const i=e.map((e=>e.map(lr.coerceMessageLikeToMessage))),[a,o]=this._separateRunnableConfigFromCallOptions(r);if(a.callbacks=a.callbacks??n,!this.cache)return this._generateUncached(i,o,a);const{cache:s}=this,l=this._getSerializedCacheKeyParametersForCall(o),{generations:u,missingPromptIndices:c}=await this._generateCached({messages:i,cache:s,llmStringKey:l,parsedOptions:o,handledOptions:a});let d={};if(c.length>0){const e=await this._generateUncached(c.map((e=>i[e])),o,a);await Promise.all(e.generations.map((async(e,t)=>{const n=c[t];u[n]=e;const r=qr._convertInputToPromptValue(i[n]).toString();return s.update(r,l,e)}))),d=e.llmOutput??{}}return{generations:u,llmOutput:d}}invocationParams(e){return{}}_modelType(){return"base_chat_model"}serialize(){return{...this.invocationParams(),_type:this._llmType(),_model:this._modelType()}}async generatePrompt(e,t,n){const r=e.map((e=>e.toChatMessages()));return this.generate(r,t,n)}async call(e,t,n){return(await this.generate([e.map(lr.coerceMessageLikeToMessage)],t,n)).generations[0][0].message}async callPrompt(e,t,n){const r=e.toChatMessages();return this.call(r,t,n)}async predictMessages(e,t,n){return this.call(e,t,n)}async predict(e,t,n){const r=new lr.HumanMessage(e),i=await this.call([r],t,n);if("string"!==typeof i.content)throw new Error("Cannot use predict when output is not a string.");return i.content}withStructuredOutput(e,t){if("function"!==typeof this.bindTools)throw new Error('Chat model must implement ".bindTools()" to use withStructuredOutput.');const n=e,r=t?.name,i=n.description??"A function available to call.",a=t?.method,o=t?.includeRaw;if("jsonMode"===a)throw new Error('Base withStructuredOutput implementation only supports "functionCalling" as a method.');let s,l=r??"extract";var u;u=n,"function"===typeof u?.parse?s=[{type:"function",function:{name:l,description:i,parameters:(0,sr.zodToJsonSchema)(n)}}]:("name"in n&&(l=n.name),s=[{type:"function",function:{name:l,description:i,parameters:n}}]);const c=this.bindTools(s),d=Dr.RunnableLambda.from((e=>{if(!e.tool_calls||0===e.tool_calls.length)throw new Error("No tool calls found in the response.");const t=e.tool_calls.find((e=>e.name===l));if(!t)throw new Error(`No tool call found with name ${l}.`);return t.args}));if(!o)return c.pipe(d).withConfig({runName:"StructuredOutput"});const f=Gr.assign({parsed:(e,t)=>d.invoke(e.raw,t)}),h=Gr.assign({parsed:()=>null}),p=f.withFallbacks({fallbacks:[h]});return Dr.RunnableSequence.from([{raw:c},p]).withConfig({runName:"StructuredOutputRunnable"})}}function Kr(e){return{name:e.name,description:e.description,parameters:(0,sr.zodToJsonSchema)(e.schema)}}function Zr(e){return function(e){return void 0!==e&&Array.isArray(e.lc_namespace)}(e)?{type:"function",function:Kr(e)}:e}Dr.Runnable;Dr.Runnable;Dr.RunnableBinding;class Xr extends Dr.Runnable{parseResultWithPrompt(e,t,n){return this.parseResult(e,n)}_baseMessageToString(e){return"string"===typeof e.content?e.content:this._baseMessageContentToString(e.content)}_baseMessageContentToString(e){return JSON.stringify(e)}async invoke(e,t){return"string"===typeof e?this._callWithConfig((async(e,t)=>this.parseResult([{text:e}],t?.callbacks)),e,{...t,runType:"parser"}):this._callWithConfig((async(e,t)=>this.parseResult([{message:e,text:this._baseMessageToString(e)}],t?.callbacks)),e,{...t,runType:"parser"})}}class Yr extends Xr{parseResult(e,t){return this.parse(e[0].text,t)}async parseWithPrompt(e,t,n){return this.parse(e,n)}_type(){throw new Error("_type not implemented")}}class Jr extends Error{constructor(e,t,n,r=!1){if(super(e),Object.defineProperty(this,"llmOutput",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"observation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sendToLLM",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.llmOutput=t,this.observation=n,this.sendToLLM=r,r&&(void 0===n||void 0===t))throw new Error("Arguments 'observation' & 'llmOutput' are required if 'sendToLlm' is true")}}var Qr=n(5555);function ei(e,t){const n=typeof e;if(n!==typeof t)return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(!ei(e[r],t[r]))return!1;return!0}if("object"===n){if(!e||!t)return e===t;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n)if(!ei(e[i],t[i]))return!1;return!0}return e===t}"undefined"!==typeof self&&self.location&&"null"!==self.location.origin&&(self.location.origin,self.location.pathname,location.search);const ti=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,ni=[0,31,28,31,30,31,30,31,31,30,31,30,31],ri=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,ii=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ai=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,oi=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,si=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)(?:\.(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,li=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,ui=/^(?:\/(?:[^~/]|~0|~1)*)*$/,ci=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,di=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,fi=/^\d\d\d\d-[0-1]\d-[0-3]\d$/,hi=/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,pi=/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,gi=/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,mi=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,yi=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i;function _i(e){return e.test.bind(e)}const bi={date:vi,time:wi.bind(void 0,!1),"date-time":function(e){const t=e.split(xi);return 2==t.length&&vi(t[0])&&wi(!0,t[1])},duration:e=>e.length>1&&e.length<80&&(/^P\d+([.,]\d+)?W$/.test(e)||/^P[\dYMDTHS]*(\d[.,]\d+)?[YMDHS]$/.test(e)&&/^P([.,\d]+Y)?([.,\d]+M)?([.,\d]+D)?(T([.,\d]+H)?([.,\d]+M)?([.,\d]+S)?)?$/.test(e)),uri:function(e){return ki.test(e)&&Si.test(e)},"uri-reference":_i(ai),"uri-template":_i(oi),url:_i(si),email:e=>{if('"'===e[0])return!1;const[t,n,...r]=e.split("@");return!(!t||!n||0!==r.length||t.length>64||n.length>253)&&("."!==t[0]&&!t.endsWith(".")&&!t.includes("..")&&(!(!/^[a-z0-9.-]+$/i.test(n)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(t))&&n.split(".").every((e=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(e)))))},hostname:_i(ii),ipv4:_i(mi),ipv6:_i(yi),regex:function(e){if(Ti.test(e))return!1;try{return new RegExp(e),!0}catch(t){return!1}},uuid:_i(li),"json-pointer":_i(ui),"json-pointer-uri-fragment":_i(ci),"relative-json-pointer":_i(di)};function vi(e){const t=e.match(ti);if(!t)return!1;const n=+t[1],r=+t[2],i=+t[3];return r>=1&&r<=12&&i>=1&&i<=(2==r&&function(e){return e%4===0&&(e%100!==0||e%400===0)}(n)?29:ni[r])}function wi(e,t){const n=t.match(ri);if(!n)return!1;const r=+n[1],i=+n[2],a=+n[3],o=!!n[5];return(r<=23&&i<=59&&a<=59||23==r&&59==i&&60==a)&&(!e||o)}const xi=/t|\s/i;const ki=/\/|:/,Si=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;const Ti=/[^\\]\\Z/;class Ei extends Yr{async*_transform(e){for await(const t of e)"string"===typeof t?yield this.parseResult([{text:t}]):yield this.parseResult([{message:t,text:this._baseMessageToString(t)}])}async*transform(e,t){yield*this._transformStreamWithConfig(e,this._transform.bind(this),{...t,runType:"parser"})}}class Ai extends Ei{constructor(e){super(e),Object.defineProperty(this,"diff",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.diff=e?.diff??this.diff}async*_transform(e){let t,n;for await(const r of e){if("string"!==typeof r&&"string"!==typeof r.content)throw new Error("Cannot handle non-string output.");let e;if((0,Qr.isBaseMessageChunk)(r)){if("string"!==typeof r.content)throw new Error("Cannot handle non-string message output.");e=new ar.ChatGenerationChunk({message:r,text:r.content})}else if((0,Qr.isBaseMessage)(r)){if("string"!==typeof r.content)throw new Error("Cannot handle non-string message output.");e=new ar.ChatGenerationChunk({message:(0,gr.convertToChunk)(r),text:r.content})}else e=new ar.GenerationChunk({text:r});n=void 0===n?e:n.concat(e);const i=await this.parsePartialResult([n]);void 0===i||null===i||ei(i,t)||(this.diff?yield this._diff(t,i):yield i,t=i)}}}var Oi=n(373);class Ci extends Yr{static lc_name(){return"StructuredOutputParser"}toJSON(){return this.toJSONNotImplemented()}constructor(e){super(e),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","structured"]})}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){return new this(Oi.z.object(Object.fromEntries(Object.entries(e).map((([e,t])=>[e,Oi.z.string().describe(t)])))))}getFormatInstructions(){return`You must format your output as a JSON value that adheres to a given "JSON Schema" instance.\n\n"JSON Schema" is a declarative language that allows you to annotate and validate JSON documents.\n\nFor example, the example "JSON Schema" instance {{"properties": {{"foo": {{"description": "a list of test words", "type": "array", "items": {{"type": "string"}}}}}}, "required": ["foo"]}}}}\nwould match an object with one required property, "foo". The "type" property specifies "foo" must be an "array", and the "description" property semantically describes it as "a list of test words". The items within "foo" must be strings.\nThus, the object {{"foo": ["bar", "baz"]}} is a well-formatted instance of this example "JSON Schema". The object {{"properties": {{"foo": ["bar", "baz"]}}}} is not well-formatted.\n\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\n\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\n\`\`\`json\n${JSON.stringify((0,sr.zodToJsonSchema)(this.schema))}\n\`\`\`\n`}async parse(e){try{const t=(e.includes("```")?e.trim().split(/```(?:json)?/)[1]:e.trim()).replace(/"([^"\\]*(\\.[^"\\]*)*)"/g,((e,t)=>`"${t.replace(/\n/g,"\\n")}"`)).replace(/\n/g,"");return await this.schema.parseAsync(JSON.parse(t))}catch(t){throw new Jr(`Failed to parse. Text: "${e}". Error: ${t}`,e)}}}var Ii=n(5263),Pi=n(2428);class Mi extends Ai{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","output_parsers"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}static lc_name(){return"JsonOutputParser"}_diff(e,t){if(t)return e?(0,Ii.compare)(e,t):[{op:"replace",path:"",value:t}]}async parsePartialResult(e){return(0,Pi.parseJsonMarkdown)(e[0].text)}async parse(e){return(0,Pi.parseJsonMarkdown)(e,JSON.parse)}getFormatInstructions(){return""}}function Li(e,t){if(void 0===e.function)return;let n;if(t?.partial)try{n=(0,Pi.parsePartialJson)(e.function.arguments??"{}")}catch(i){return}else try{n=JSON.parse(e.function.arguments)}catch(i){throw new Jr([`Function "${e.function.name}" arguments:`,"",e.function.arguments,"","are not valid JSON.",`Error: ${i.message}`].join("\n"))}const r={name:e.function.name,args:n};return t?.returnId&&(r.id=e.id),r}function Ri(e){if(void 0===e.id)throw new Error('All OpenAI tool calls must have an "id" field.');return{id:e.id,type:"function",function:{name:e.name,arguments:JSON.stringify(e.args)}}}function Ni(e,t){return{name:e.function?.name,args:e.function?.arguments,id:e.id,error:t}}class Di extends Xr{static lc_name(){return"JsonOutputToolsParser"}constructor(e){super(e),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","openai_tools"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.returnId=e?.returnId??this.returnId}async parseResult(e){const t=e[0].message.additional_kwargs.tool_calls;if(!t)throw new Error(`No tools_call in message ${JSON.stringify(e)}`);const n=JSON.parse(JSON.stringify(t)),r=[];for(const i of n){const e=Li(i,{partial:!0});if(void 0!==e){const t={type:e.name,args:e.args,id:e.id};Object.defineProperty(t,"name",{get(){return this.type}}),Object.defineProperty(t,"arguments",{get(){return this.args}}),r.push(t)}}return r}}class ji extends Xr{static lc_name(){return"JsonOutputKeyToolsParser"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","openai_tools"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"keyName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSingle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"initialParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"zodSchema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keyName=e.keyName,this.returnSingle=e.returnSingle??this.returnSingle,this.initialParser=new Di(e),this.zodSchema=e.zodSchema}async _validateResult(e){if(void 0===this.zodSchema)return e;const t=await this.zodSchema.safeParseAsync(e);if(t.success)return t.data;throw new Jr(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify(t.error.errors)}`,JSON.stringify(e,null,2))}async parseResult(e){const t=(await this.initialParser.parseResult(e)).filter((e=>e.type===this.keyName));let n=t;if(this.returnId||(n=t.map((e=>e.args))),this.returnSingle)return this._validateResult(n[0]);const r=await Promise.all(n.map((e=>this._validateResult(e))));return r}}function Fi(e){const{azureOpenAIApiDeploymentName:t,azureOpenAIApiInstanceName:n,azureOpenAIApiKey:r,azureOpenAIBasePath:i,baseURL:a,azureADTokenProvider:o}=e;if((r||o)&&i&&t)return`${i}/${t}`;if(r||o){if(!n)throw new Error("azureOpenAIApiInstanceName is required when using azureOpenAIApiKey");if(!t)throw new Error("azureOpenAIApiDeploymentName is a required parameter when using azureOpenAIApiKey");return`https://${n}.openai.azure.com/openai/deployments/${t}`}return a}function Bi(e){let t;return e.constructor.name===Wn.name?(t=new Error(e.message),t.name="TimeoutError"):e.constructor.name===Hn.name?(t=new Error(e.message),t.name="AbortError"):t=e,t}function zi(e){return{type:"function",function:{name:e.name,description:e.description,parameters:(0,sr.zodToJsonSchema)(e.schema)}}}function $i(e,t){const n=[];for(const[r,i]of Object.entries(e.properties??{}))i.description&&t<2&&n.push(`// ${i.description}`),e.required?.includes(r)?n.push(`${r}: ${Ui(i,t)},`):n.push(`${r}?: ${Ui(i,t)},`);return n.map((e=>" ".repeat(t)+e)).join("\n")}function Ui(e,t){if(void 0!==(n=e).anyOf&&Array.isArray(n.anyOf))return e.anyOf.map((e=>Ui(e,t))).join(" | ");var n;switch(e.type){case"string":return e.enum?e.enum.map((e=>`"${e}"`)).join(" | "):"string";case"number":case"integer":return e.enum?e.enum.map((e=>`${e}`)).join(" | "):"number";case"boolean":return"boolean";case"null":return"null";case"object":return["{",$i(e,t+2),"}"].join("\n");case"array":return e.items?`${Ui(e.items,t)}[]`:"any[]";default:return""}}function Vi(e){const t=e._getType();switch(t){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"tool":return"tool";case"generic":if(!ir.ChatMessage.isInstance(e))throw new Error("Invalid generic chat message");return function(e){return"system"!==e.role&&"assistant"!==e.role&&"user"!==e.role&&"function"!==e.role&&"tool"!==e.role&&console.warn(`Unknown message role: ${e.role}`),e.role}(e);default:throw new Error(`Unknown message type: ${t}`)}}function Wi(e,t){const n=e.tool_calls;if("assistant"===e.role){const i=[],a=[];for(const e of n??[])try{i.push(Li(e,{returnId:!0}))}catch(r){a.push(Ni(e,r.message))}return new ir.AIMessage({content:e.content||"",tool_calls:i,invalid_tool_calls:a,additional_kwargs:{function_call:e.function_call,tool_calls:n},id:t})}return new ir.ChatMessage(e.content||"",e.role??"unknown")}function Hi(e,t,n){const r=e.role??n,i=e.content??"";let a;if(a=e.function_call?{function_call:e.function_call}:e.tool_calls?{tool_calls:e.tool_calls}:{},"user"===r)return new ir.HumanMessageChunk({content:i});if("assistant"===r){const n=[];if(Array.isArray(e.tool_calls))for(const t of e.tool_calls)n.push({name:t.function?.name,args:t.function?.arguments,id:t.id,index:t.index});return new ir.AIMessageChunk({content:i,tool_call_chunks:n,additional_kwargs:a,id:t})}return"system"===r?new ir.SystemMessageChunk({content:i}):"function"===r?new ir.FunctionMessageChunk({content:i,additional_kwargs:a,name:e.name}):"tool"===r?new ir.ToolMessageChunk({content:i,additional_kwargs:a,tool_call_id:e.tool_call_id}):new ir.ChatMessageChunk({content:i,role:r})}function Gi(e){return e.map((e=>{const t={role:Vi(e),content:e.content};return null!=e.name&&(t.name=e.name),null!=e.additional_kwargs.function_call&&(t.function_call=e.additional_kwargs.function_call,t.content=null),(0,ir.isAIMessage)(e)&&e.tool_calls?.length?(t.tool_calls=e.tool_calls.map(Ri),t.content=null):(null!=e.additional_kwargs.tool_calls&&(t.tool_calls=e.additional_kwargs.tool_calls),null!=e.tool_call_id&&(t.tool_call_id=e.tool_call_id)),t}))}class qi extends qr{static lc_name(){return"ChatOpenAI"}get callKeys(){return[...super.callKeys,"options","function_call","functions","tools","tool_choice","promptIndex","response_format","seed"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",apiKey:"OPENAI_API_KEY",azureOpenAIApiKey:"AZURE_OPENAI_API_KEY",organization:"OPENAI_ORGANIZATION"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",apiKey:"openai_api_key",azureOpenAIApiVersion:"azure_openai_api_version",azureOpenAIApiKey:"azure_openai_api_key",azureOpenAIApiInstanceName:"azure_openai_api_instance_name",azureOpenAIApiDeploymentName:"azure_openai_api_deployment_name"}}constructor(e,t){if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopSequences",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"streamUsage",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logprobs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topLogprobs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureADTokenProvider",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.openAIApiKey=e?.apiKey??e?.openAIApiKey??(0,or.getEnvironmentVariable)("OPENAI_API_KEY"),this.apiKey=this.openAIApiKey,this.azureOpenAIApiKey=e?.azureOpenAIApiKey??(0,or.getEnvironmentVariable)("AZURE_OPENAI_API_KEY"),this.azureADTokenProvider=e?.azureADTokenProvider??void 0,!this.azureOpenAIApiKey&&!this.apiKey&&!this.azureADTokenProvider)throw new Error("OpenAI or Azure OpenAI API key or Token Provider not found");if(this.azureOpenAIApiInstanceName=e?.azureOpenAIApiInstanceName??(0,or.getEnvironmentVariable)("AZURE_OPENAI_API_INSTANCE_NAME"),this.azureOpenAIApiDeploymentName=e?.azureOpenAIApiDeploymentName??(0,or.getEnvironmentVariable)("AZURE_OPENAI_API_DEPLOYMENT_NAME"),this.azureOpenAIApiVersion=e?.azureOpenAIApiVersion??(0,or.getEnvironmentVariable)("AZURE_OPENAI_API_VERSION"),this.azureOpenAIBasePath=e?.azureOpenAIBasePath??(0,or.getEnvironmentVariable)("AZURE_OPENAI_BASE_PATH"),this.organization=e?.configuration?.organization??(0,or.getEnvironmentVariable)("OPENAI_ORGANIZATION"),this.modelName=e?.model??e?.modelName??this.model,this.model=this.modelName,this.modelKwargs=e?.modelKwargs??{},this.timeout=e?.timeout,this.temperature=e?.temperature??this.temperature,this.topP=e?.topP??this.topP,this.frequencyPenalty=e?.frequencyPenalty??this.frequencyPenalty,this.presencePenalty=e?.presencePenalty??this.presencePenalty,this.maxTokens=e?.maxTokens,this.logprobs=e?.logprobs,this.topLogprobs=e?.topLogprobs,this.n=e?.n??this.n,this.logitBias=e?.logitBias,this.stop=e?.stopSequences??e?.stop,this.stopSequences=this?.stop,this.user=e?.user,this.azureOpenAIApiKey||this.azureADTokenProvider){if(!this.azureOpenAIApiInstanceName&&!this.azureOpenAIBasePath)throw new Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw new Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw new Error("Azure OpenAI API version not found");this.apiKey=this.apiKey??"",this.streamUsage=!1}this.streaming=e?.streaming??!1,this.streamUsage=e?.streamUsage??this.streamUsage,this.clientConfig={apiKey:this.apiKey,organization:this.organization,baseURL:t?.basePath??e?.configuration?.basePath,dangerouslyAllowBrowser:!0,defaultHeaders:t?.baseOptions?.headers??e?.configuration?.baseOptions?.headers,defaultQuery:t?.baseOptions?.params??e?.configuration?.baseOptions?.params,...t,...e?.configuration}}getLsParams(e){const t=this.invocationParams(e);return{ls_provider:"openai",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:t.temperature??void 0,ls_max_tokens:t.max_tokens??void 0,ls_stop:e.stop}}bindTools(e,t){return this.bind({tools:e.map(Zr),...t})}invocationParams(e){let t={};void 0!==e?.stream_options?t={stream_options:e.stream_options}:this.streamUsage&&this.streaming&&(t={stream_options:{include_usage:!0}});const n={model:this.model,temperature:this.temperature,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,max_tokens:-1===this.maxTokens?void 0:this.maxTokens,logprobs:this.logprobs,top_logprobs:this.topLogprobs,n:this.n,logit_bias:this.logitBias,stop:e?.stop??this.stopSequences,user:this.user,stream:this.streaming,functions:e?.functions,function_call:e?.function_call,tools:(r=e?.tools,void 0!==r&&r.every((e=>Array.isArray(e.lc_namespace)))?e?.tools.map(Zr):e?.tools),tool_choice:e?.tool_choice,response_format:e?.response_format,seed:e?.seed,...t,parallel_tool_calls:e?.parallel_tool_calls,...this.modelKwargs};var r;return n}_identifyingParams(){return{model_name:this.model,...this.invocationParams(),...this.clientConfig}}async*_streamResponseChunks(e,t,n){const r=Gi(e),i={...this.invocationParams(t),messages:r,stream:!0};let a;const o=await this.completionWithRetry(i,t);let s;for await(const l of o){const e=l?.choices[0];if(l.usage&&(s=l.usage),!e)continue;const{delta:r}=e;if(!r)continue;const i=Hi(r,l.id,a);a=r.role??a;const o={prompt:t.promptIndex??0,completion:e.index??0};if("string"!==typeof i.content){console.log("[WARNING]: Received non-string content from OpenAI. This is currently not supported.");continue}const u={...o};void 0!==e.finish_reason&&(u.finish_reason=e.finish_reason),this.logprobs&&(u.logprobs=e.logprobs);const c=new ar.ChatGenerationChunk({message:i,text:i.content,generationInfo:u});yield c,n?.handleLLMNewToken(c.text??"",o,void 0,void 0,void 0,{chunk:c})}if(s){const e=new ar.ChatGenerationChunk({message:new ir.AIMessageChunk({content:"",usage_metadata:{input_tokens:s.prompt_tokens,output_tokens:s.completion_tokens,total_tokens:s.total_tokens}}),text:""});yield e}if(t.signal?.aborted)throw new Error("AbortError")}identifyingParams(){return this._identifyingParams()}async _generate(e,t,n){const r={},i=this.invocationParams(t),a=Gi(e);if(i.stream){const i=this._streamResponseChunks(e,t,n),a={};for await(const e of i){e.message.response_metadata={...e.generationInfo,...e.message.response_metadata};const t=e.generationInfo?.completion??0;void 0===a[t]?a[t]=e:a[t]=a[t].concat(e)}const o=Object.entries(a).sort((([e],[t])=>parseInt(e,10)-parseInt(t,10))).map((([e,t])=>t)),{functions:s,function_call:l}=this.invocationParams(t),u=await this.getEstimatedTokenCountFromPrompt(e,s,l),c=await this.getNumTokensFromGenerations(o);return r.promptTokens=u,r.completionTokens=c,r.totalTokens=u+c,{generations:o,llmOutput:{estimatedTokenUsage:r}}}{const e=await this.completionWithRetry({...i,stream:!1,messages:a},{signal:t?.signal,...t?.options}),{completion_tokens:n,prompt_tokens:o,total_tokens:s}=e?.usage??{};n&&(r.completionTokens=(r.completionTokens??0)+n),o&&(r.promptTokens=(r.promptTokens??0)+o),s&&(r.totalTokens=(r.totalTokens??0)+s);const l=[];for(const t of e?.choices??[]){const n={text:t.message?.content??"",message:Wi(t.message??{role:"assistant"},e.id)};n.generationInfo={...t.finish_reason?{finish_reason:t.finish_reason}:{},...t.logprobs?{logprobs:t.logprobs}:{}},(0,ir.isAIMessage)(n.message)&&(n.message.usage_metadata={input_tokens:r.promptTokens??0,output_tokens:r.completionTokens??0,total_tokens:r.totalTokens??0}),l.push(n)}return{generations:l,llmOutput:{tokenUsage:r}}}}async getEstimatedTokenCountFromPrompt(e,t,n){let r=(await this.getNumTokensFromMessages(e)).totalCount;if(t&&"auto"!==n){const e=function(e){const t=["namespace functions {",""];for(const n of e)n.description&&t.push(`// ${n.description}`),Object.keys(n.parameters.properties??{}).length>0?(t.push(`type ${n.name} = (_: {`),t.push($i(n.parameters,0)),t.push("}) => any;")):t.push(`type ${n.name} = () => any;`),t.push("");return t.push("} // namespace functions"),t.join("\n")}(t);r+=await this.getNumTokens(e),r+=9}return t&&e.find((e=>"system"===e._getType()))&&(r-=4),"none"===n?r+=1:"object"===typeof n&&(r+=await this.getNumTokens(n.name)+4),r}async getNumTokensFromGenerations(e){return(await Promise.all(e.map((async e=>e.message.additional_kwargs?.function_call?(await this.getNumTokensFromMessages([e.message])).countPerMessage[0]:await this.getNumTokens(e.message.content))))).reduce(((e,t)=>e+t),0)}async getNumTokensFromMessages(e){let t=0,n=0,r=0;"gpt-3.5-turbo-0301"===this.model?(n=4,r=-1):(n=3,r=1);const i=await Promise.all(e.map((async e=>{const i=await this.getNumTokens(e.content),a=await this.getNumTokens(Vi(e)),o=void 0!==e.name?r+await this.getNumTokens(e.name):0;let s=i+n+a+o;const l=e;if("function"===l._getType()&&(s-=2),l.additional_kwargs?.function_call&&(s+=3),l?.additional_kwargs.function_call?.name&&(s+=await this.getNumTokens(l.additional_kwargs.function_call?.name)),l.additional_kwargs.function_call?.arguments)try{s+=await this.getNumTokens(JSON.stringify(JSON.parse(l.additional_kwargs.function_call?.arguments)))}catch(u){console.error("Error parsing function arguments",u,JSON.stringify(l.additional_kwargs.function_call)),s+=await this.getNumTokens(l.additional_kwargs.function_call?.arguments)}return t+=s,s})));return t+=3,{totalCount:t,countPerMessage:i}}async completionWithRetry(e,t){const n=this._getClientOptions(t);return this.caller.call((async()=>{try{return await this.client.chat.completions.create(e,n)}catch(t){throw Bi(t)}}))}_getClientOptions(e){if(!this.client){const e=Fi({azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,baseURL:this.clientConfig.baseURL}),t={...this.clientConfig,baseURL:e,timeout:this.timeout,maxRetries:0};t.baseURL||delete t.baseURL,this.client=new zn(t)}const t={...this.clientConfig,...e};return this.azureOpenAIApiKey&&(t.headers={"api-key":this.azureOpenAIApiKey,...t.headers},t.query={"api-version":this.azureOpenAIApiVersion,...t.query}),t}_llmType(){return"openai"}_combineLLMOutput(...e){return e.reduce(((e,t)=>(t&&t.tokenUsage&&(e.tokenUsage.completionTokens+=t.tokenUsage.completionTokens??0,e.tokenUsage.promptTokens+=t.tokenUsage.promptTokens??0,e.tokenUsage.totalTokens+=t.tokenUsage.totalTokens??0),e)),{tokenUsage:{completionTokens:0,promptTokens:0,totalTokens:0}})}withStructuredOutput(e,t){let n,r,i,a;var o;let s,l;if(void 0!==(o=e)&&"object"===typeof o.schema?(n=e.schema,r=e.name,i=e.method,a=e.includeRaw):(n=e,r=t?.name,i=t?.method,a=t?.includeRaw),"jsonMode"===i)s=this.bind({response_format:{type:"json_object"}}),l=Ki(n)?Ci.fromZodSchema(n):new Mi;else{let e=r??"extract";if(Ki(n)){const t=(0,sr.zodToJsonSchema)(n);s=this.bind({tools:[{type:"function",function:{name:e,description:t.description,parameters:t}}],tool_choice:{type:"function",function:{name:e}}}),l=new ji({returnSingle:!0,keyName:e,zodSchema:n})}else{let t;"string"===typeof n.name&&"object"===typeof n.parameters&&null!=n.parameters?(t=n,e=n.name):(e=n.title??e,t={name:e,description:n.description??"",parameters:n}),s=this.bind({tools:[{type:"function",function:t}],tool_choice:{type:"function",function:{name:e}}}),l=new ji({returnSingle:!0,keyName:e})}}if(!a)return s.pipe(l);const u=Gr.assign({parsed:(e,t)=>l.invoke(e.raw,t)}),c=Gr.assign({parsed:()=>null}),d=u.withFallbacks({fallbacks:[c]});return Dr.RunnableSequence.from([{raw:s},d])}}function Ki(e){return"function"===typeof e?.parse}class Zi extends qi{_llmType(){return"azure_openai"}get lc_aliases(){return{openAIApiKey:"openai_api_key",openAIApiVersion:"openai_api_version",openAIBasePath:"openai_api_base"}}constructor(e){const t=e?{...e}:e;t&&(t.azureOpenAIApiDeploymentName=t.azureOpenAIApiDeploymentName??t.deploymentName,t.azureOpenAIApiKey=t.azureOpenAIApiKey??t.openAIApiKey,t.azureOpenAIApiVersion=t.azureOpenAIApiVersion??t.openAIApiVersion),super(t)}getLsParams(e){const t=super.getLsParams(e);return t.ls_provider="azure",t}_getClientOptions(e){if(!this.client){const e={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,azureADTokenProvider:this.azureADTokenProvider,baseURL:this.clientConfig.baseURL},t=Fi(e),n={...this.clientConfig,baseURL:t,timeout:this.timeout,maxRetries:0};this.azureADTokenProvider||(n.apiKey=e.azureOpenAIApiKey),n.baseURL||delete n.baseURL,n.defaultHeaders={...n.defaultHeaders,"User-Agent":n.defaultHeaders?.["User-Agent"]?`${n.defaultHeaders["User-Agent"]}: langchainjs-azure-openai-v2`:"langchainjs-azure-openai-v2"},this.client=new tr({apiVersion:this.azureOpenAIApiVersion,azureADTokenProvider:this.azureADTokenProvider,deployment:this.azureOpenAIApiDeploymentName,...n})}const t={...this.clientConfig,...e};return this.azureOpenAIApiKey&&(t.headers={"api-key":this.azureOpenAIApiKey,...t.headers},t.query={"api-version":this.azureOpenAIApiVersion,...t.query}),t}toJSON(){const e=super.toJSON();function t(e){return"object"===typeof e&&null!=e}return t(e)&&t(e.kwargs)&&(delete e.kwargs.azure_openai_base_path,delete e.kwargs.azure_openai_api_deployment_name,delete e.kwargs.azure_openai_api_key,delete e.kwargs.azure_openai_api_version,delete e.kwargs.azure_open_ai_base_path),e}}class Xi extends zr{constructor({concurrency:e,...t}){super(e?{maxConcurrency:e,...t}:t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","llms",this._llmType()]})}async invoke(e,t){const n=Xi._convertInputToPromptValue(e);return(await this.generatePrompt([n],t,t?.callbacks)).generations[0][0].text}async*_streamResponseChunks(e,t,n){throw new Error("Not implemented.")}_separateRunnableConfigFromCallOptions(e){const[t,n]=super._separateRunnableConfigFromCallOptions(e);return n?.timeout&&!n.signal&&(n.signal=AbortSignal.timeout(n.timeout)),[t,n]}async*_streamIterator(e,t){if(this._streamResponseChunks===Xi.prototype._streamResponseChunks)yield this.invoke(e,t);else{const r=Xi._convertInputToPromptValue(e),[i,a]=this._separateRunnableConfigFromCallOptions(t),o=await $r.CallbackManager.configure(i.callbacks,this.callbacks,i.tags,this.tags,i.metadata,this.metadata,{verbose:this.verbose}),s={options:a,invocation_params:this?.invocationParams(a),batch_size:1},l=await(o?.handleLLMStart(this.toJSON(),[r.toString()],i.runId,void 0,s,void 0,void 0,i.runName));let u=new ar.GenerationChunk({text:""});try{for await(const e of this._streamResponseChunks(r.toString(),a,l?.[0]))u=u?u.concat(e):e,"string"===typeof e.text&&(yield e.text)}catch(n){throw await Promise.all((l??[]).map((e=>e?.handleLLMError(n)))),n}await Promise.all((l??[]).map((e=>e?.handleLLMEnd({generations:[[u]]}))))}}async generatePrompt(e,t,n){const r=e.map((e=>e.toString()));return this.generate(r,t,n)}invocationParams(e){return{}}_flattenLLMResult(e){const t=[];for(let n=0;n<e.generations.length;n+=1){const r=e.generations[n];if(0===n)t.push({generations:[r],llmOutput:e.llmOutput});else{const n=e.llmOutput?{...e.llmOutput,tokenUsage:{}}:void 0;t.push({generations:[r],llmOutput:n})}}return t}async _generateUncached(e,t,n){const r=await $r.CallbackManager.configure(n.callbacks,this.callbacks,n.tags,this.tags,n.metadata,this.metadata,{verbose:this.verbose}),i={options:t,invocation_params:this?.invocationParams(t),batch_size:e.length},a=await(r?.handleLLMStart(this.toJSON(),e,n.runId,void 0,i,void 0,void 0,n?.runName));let o;if(!!a?.[0].handlers.find((e=>(0,Ur.isStreamEventsHandler)(e)||(0,Vr.isLogStreamHandler)(e)))&&1===e.length&&this._streamResponseChunks!==Xi.prototype._streamResponseChunks)try{const n=await this._streamResponseChunks(e[0],t,a?.[0]);let r;for await(const e of n)r=void 0===r?e:(0,Wr.concat)(r,e);if(void 0===r)throw new Error("Received empty response from chat model call.");o={generations:[[r]],llmOutput:{}},await(a?.[0].handleLLMEnd(o))}catch(l){throw await(a?.[0].handleLLMError(l)),l}else{try{o=await this._generate(e,t,a?.[0])}catch(u){throw await Promise.all((a??[]).map((e=>e?.handleLLMError(u)))),u}const n=this._flattenLLMResult(o);await Promise.all((a??[]).map(((e,t)=>e?.handleLLMEnd(n[t]))))}const s=a?.map((e=>e.runId))||void 0;return Object.defineProperty(o,ar.RUN_KEY,{value:s?{runIds:s}:void 0,configurable:!0}),o}async _generateCached({prompts:e,cache:t,llmStringKey:n,parsedOptions:r,handledOptions:i,runId:a}){const o=await $r.CallbackManager.configure(i.callbacks,this.callbacks,i.tags,this.tags,i.metadata,this.metadata,{verbose:this.verbose}),s={options:r,invocation_params:this?.invocationParams(r),batch_size:e.length,cached:!0},l=await(o?.handleLLMStart(this.toJSON(),e,a,void 0,s,void 0,void 0,i?.runName)),u=[],c=(await Promise.allSettled(e.map((async(e,r)=>{const i=await t.lookup(e,n);return null==i&&u.push(r),i})))).map(((e,t)=>({result:e,runManager:l?.[t]}))).filter((({result:e})=>"fulfilled"===e.status&&null!=e.value||"rejected"===e.status)),d=[];await Promise.all(c.map((async({result:e,runManager:t},n)=>{if("fulfilled"===e.status){const r=e.value;return d[n]=r,r.length&&await(t?.handleLLMNewToken(r[0].text)),t?.handleLLMEnd({generations:[r]})}return await(t?.handleLLMError(e.reason)),Promise.reject(e.reason)})));const f={generations:d,missingPromptIndices:u};return Object.defineProperty(f,ar.RUN_KEY,{value:l?{runIds:l?.map((e=>e.runId))}:void 0,configurable:!0}),f}async generate(e,t,n){if(!Array.isArray(e))throw new Error("Argument 'prompts' is expected to be a string[]");let r;r=Array.isArray(t)?{stop:t}:t;const[i,a]=this._separateRunnableConfigFromCallOptions(r);if(i.callbacks=i.callbacks??n,!this.cache)return this._generateUncached(e,a,i);const{cache:o}=this,s=this._getSerializedCacheKeyParametersForCall(a),{generations:l,missingPromptIndices:u}=await this._generateCached({prompts:e,cache:o,llmStringKey:s,parsedOptions:a,handledOptions:i,runId:i.runId});let c={};if(u.length>0){const t=await this._generateUncached(u.map((t=>e[t])),a,i);await Promise.all(t.generations.map((async(t,n)=>{const r=u[n];return l[r]=t,o.update(e[r],s,t)}))),c=t.llmOutput??{}}return{generations:l,llmOutput:c}}async call(e,t,n){const{generations:r}=await this.generate([e],t,n);return r[0][0].text}async predict(e,t,n){return this.call(e,t,n)}async predictMessages(e,t,n){const r=(0,lr.getBufferString)(e),i=await this.call(r,t,n);return new lr.AIMessage(i)}_identifyingParams(){return{}}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}_modelType(){return"base_llm"}}class Yi extends Xi{async _generate(e,t,n){return{generations:await Promise.all(e.map(((e,r)=>this._call(e,{...t,promptIndex:r},n).then((e=>[{text:e}])))))}}}var Ji=n(834);class Qi extends Yi{static lc_name(){return"OpenAIChat"}get callKeys(){return[...super.callKeys,"options","promptIndex"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",azureOpenAIApiKey:"AZURE_OPENAI_API_KEY",organization:"OPENAI_ORGANIZATION"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",azureOpenAIApiVersion:"azure_openai_api_version",azureOpenAIApiKey:"azure_openai_api_key",azureOpenAIApiInstanceName:"azure_openai_api_instance_name",azureOpenAIApiDeploymentName:"azure_openai_api_deployment_name"}}constructor(e,t){if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"prefixMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.openAIApiKey=e?.apiKey??e?.openAIApiKey??(0,or.getEnvironmentVariable)("OPENAI_API_KEY"),this.azureOpenAIApiKey=e?.azureOpenAIApiKey??(0,or.getEnvironmentVariable)("AZURE_OPENAI_API_KEY"),!this.azureOpenAIApiKey&&!this.openAIApiKey)throw new Error("OpenAI or Azure OpenAI API key not found");if(this.azureOpenAIApiInstanceName=e?.azureOpenAIApiInstanceName??(0,or.getEnvironmentVariable)("AZURE_OPENAI_API_INSTANCE_NAME"),this.azureOpenAIApiDeploymentName=(e?.azureOpenAIApiCompletionsDeploymentName||e?.azureOpenAIApiDeploymentName)??((0,or.getEnvironmentVariable)("AZURE_OPENAI_API_COMPLETIONS_DEPLOYMENT_NAME")||(0,or.getEnvironmentVariable)("AZURE_OPENAI_API_DEPLOYMENT_NAME")),this.azureOpenAIApiVersion=e?.azureOpenAIApiVersion??(0,or.getEnvironmentVariable)("AZURE_OPENAI_API_VERSION"),this.azureOpenAIBasePath=e?.azureOpenAIBasePath??(0,or.getEnvironmentVariable)("AZURE_OPENAI_BASE_PATH"),this.organization=e?.configuration?.organization??(0,or.getEnvironmentVariable)("OPENAI_ORGANIZATION"),this.modelName=e?.modelName??this.modelName,this.prefixMessages=e?.prefixMessages??this.prefixMessages,this.modelKwargs=e?.modelKwargs??{},this.timeout=e?.timeout,this.temperature=e?.temperature??this.temperature,this.topP=e?.topP??this.topP,this.frequencyPenalty=e?.frequencyPenalty??this.frequencyPenalty,this.presencePenalty=e?.presencePenalty??this.presencePenalty,this.n=e?.n??this.n,this.logitBias=e?.logitBias,this.maxTokens=e?.maxTokens,this.stop=e?.stop,this.user=e?.user,this.streaming=e?.streaming??!1,this.n>1)throw new Error("Cannot use n > 1 in OpenAIChat LLM. Use ChatOpenAI Chat Model instead.");if(this.azureOpenAIApiKey){if(!this.azureOpenAIApiInstanceName&&!this.azureOpenAIBasePath)throw new Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw new Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw new Error("Azure OpenAI API version not found");this.openAIApiKey=this.openAIApiKey??""}this.clientConfig={apiKey:this.openAIApiKey,organization:this.organization,baseURL:t?.basePath??e?.configuration?.basePath,dangerouslyAllowBrowser:!0,defaultHeaders:t?.baseOptions?.headers??e?.configuration?.baseOptions?.headers,defaultQuery:t?.baseOptions?.params??e?.configuration?.baseOptions?.params,...t,...e?.configuration}}invocationParams(e){return{model:this.modelName,temperature:this.temperature,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,n:this.n,logit_bias:this.logitBias,max_tokens:-1===this.maxTokens?void 0:this.maxTokens,stop:e?.stop??this.stop,user:this.user,stream:this.streaming,...this.modelKwargs}}_identifyingParams(){return{model_name:this.modelName,...this.invocationParams(),...this.clientConfig}}identifyingParams(){return{model_name:this.modelName,...this.invocationParams(),...this.clientConfig}}formatMessages(e){const t={role:"user",content:e};return this.prefixMessages?[...this.prefixMessages,t]:[t]}async*_streamResponseChunks(e,t,n){const r={...this.invocationParams(t),messages:this.formatMessages(e),stream:!0},i=await this.completionWithRetry(r,t);for await(const a of i){const e=a?.choices[0];if(!e)continue;const{delta:r}=e,i=new ar.GenerationChunk({text:r.content??""});yield i;const o={prompt:t.promptIndex??0,completion:e.index??0};n?.handleLLMNewToken(i.text??"",o)}if(t.signal?.aborted)throw new Error("AbortError")}async _call(e,t,n){const r=this.invocationParams(t);if(r.stream){const r=await this._streamResponseChunks(e,t,n);let i;for await(const e of r)i=void 0===i?e:i.concat(e);return i?.text??""}{const n=await this.completionWithRetry({...r,stream:!1,messages:this.formatMessages(e)},{signal:t.signal,...t.options});return n?.choices[0]?.message?.content??""}}async completionWithRetry(e,t){const n=this._getClientOptions(t);return this.caller.call((async()=>{try{return await this.client.chat.completions.create(e,n)}catch(t){throw Bi(t)}}))}_getClientOptions(e){if(!this.client){const e=Fi({azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,baseURL:this.clientConfig.baseURL}),t={...this.clientConfig,baseURL:e,timeout:this.timeout,maxRetries:0};t.baseURL||delete t.baseURL,this.client=new zn(t)}const t={...this.clientConfig,...e};return this.azureOpenAIApiKey&&(t.headers={"api-key":this.azureOpenAIApiKey,...t.headers},t.query={"api-version":this.azureOpenAIApiVersion,...t.query}),t}_llmType(){return"openai"}}class ea extends Xi{static lc_name(){return"OpenAI"}get callKeys(){return[...super.callKeys,"options"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",apiKey:"OPENAI_API_KEY",azureOpenAIApiKey:"AZURE_OPENAI_API_KEY",organization:"OPENAI_ORGANIZATION"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",apiKey:"openai_api_key",azureOpenAIApiVersion:"azure_openai_api_version",azureOpenAIApiKey:"azure_openai_api_key",azureOpenAIApiInstanceName:"azure_openai_api_instance_name",azureOpenAIApiDeploymentName:"azure_openai_api_deployment_name"}}constructor(e,t){let n=e?.model??e?.modelName;if((n?.startsWith("gpt-3.5-turbo")||n?.startsWith("gpt-4"))&&!n?.includes("-instruct"))return new Qi(e,t);if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:.7}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:256}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"bestOf",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo-instruct"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo-instruct"}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchSize",{enumerable:!0,configurable:!0,writable:!0,value:20}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopSequences",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureADTokenProvider",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),n=n??this.model,this.openAIApiKey=e?.apiKey??e?.openAIApiKey??(0,or.getEnvironmentVariable)("OPENAI_API_KEY"),this.apiKey=this.openAIApiKey,this.azureOpenAIApiKey=e?.azureOpenAIApiKey??(0,or.getEnvironmentVariable)("AZURE_OPENAI_API_KEY"),this.azureADTokenProvider=e?.azureADTokenProvider??void 0,!this.azureOpenAIApiKey&&!this.apiKey&&!this.azureADTokenProvider)throw new Error("OpenAI or Azure OpenAI API key or Token Provider not found");if(this.azureOpenAIApiInstanceName=e?.azureOpenAIApiInstanceName??(0,or.getEnvironmentVariable)("AZURE_OPENAI_API_INSTANCE_NAME"),this.azureOpenAIApiDeploymentName=(e?.azureOpenAIApiCompletionsDeploymentName||e?.azureOpenAIApiDeploymentName)??((0,or.getEnvironmentVariable)("AZURE_OPENAI_API_COMPLETIONS_DEPLOYMENT_NAME")||(0,or.getEnvironmentVariable)("AZURE_OPENAI_API_DEPLOYMENT_NAME")),this.azureOpenAIApiVersion=e?.azureOpenAIApiVersion??(0,or.getEnvironmentVariable)("AZURE_OPENAI_API_VERSION"),this.azureOpenAIBasePath=e?.azureOpenAIBasePath??(0,or.getEnvironmentVariable)("AZURE_OPENAI_BASE_PATH"),this.organization=e?.configuration?.organization??(0,or.getEnvironmentVariable)("OPENAI_ORGANIZATION"),this.modelName=n,this.model=n,this.modelKwargs=e?.modelKwargs??{},this.batchSize=e?.batchSize??this.batchSize,this.timeout=e?.timeout,this.temperature=e?.temperature??this.temperature,this.maxTokens=e?.maxTokens??this.maxTokens,this.topP=e?.topP??this.topP,this.frequencyPenalty=e?.frequencyPenalty??this.frequencyPenalty,this.presencePenalty=e?.presencePenalty??this.presencePenalty,this.n=e?.n??this.n,this.bestOf=e?.bestOf??this.bestOf,this.logitBias=e?.logitBias,this.stop=e?.stopSequences??e?.stop,this.stopSequences=e?.stopSequences,this.user=e?.user,this.streaming=e?.streaming??!1,this.streaming&&this.bestOf&&this.bestOf>1)throw new Error("Cannot stream results when bestOf > 1");if(this.azureOpenAIApiKey||this.azureADTokenProvider){if(!this.azureOpenAIApiInstanceName&&!this.azureOpenAIBasePath)throw new Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw new Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw new Error("Azure OpenAI API version not found");this.apiKey=this.apiKey??""}this.clientConfig={apiKey:this.apiKey,organization:this.organization,baseURL:t?.basePath??e?.configuration?.basePath,dangerouslyAllowBrowser:!0,defaultHeaders:t?.baseOptions?.headers??e?.configuration?.baseOptions?.headers,defaultQuery:t?.baseOptions?.params??e?.configuration?.baseOptions?.params,...t,...e?.configuration}}invocationParams(e){return{model:this.model,temperature:this.temperature,max_tokens:this.maxTokens,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,n:this.n,best_of:this.bestOf,logit_bias:this.logitBias,stop:e?.stop??this.stopSequences,user:this.user,stream:this.streaming,...this.modelKwargs}}_identifyingParams(){return{model_name:this.model,...this.invocationParams(),...this.clientConfig}}identifyingParams(){return this._identifyingParams()}async _generate(e,t,n){const r=(0,Ji.chunkArray)(e,this.batchSize),i=[],a={},o=this.invocationParams(t);if(-1===o.max_tokens){if(1!==e.length)throw new Error("max_tokens set to -1 not supported for multiple inputs");o.max_tokens=await Fr({prompt:e[0],modelName:this.model})}for(let s=0;s<r.length;s+=1){const e=o.stream?await(async()=>{const e=[];let i;const a=await this.completionWithRetry({...o,stream:!0,prompt:r[s]},t);for await(const t of a){i||(i={id:t.id,object:t.object,created:t.created,model:t.model});for(const r of t.choices){if(e[r.index]){const t=e[r.index];t.text+=r.text,t.finish_reason=r.finish_reason,t.logprobs=r.logprobs}else e[r.index]=r;n?.handleLLMNewToken(r.text,{prompt:Math.floor(r.index/this.n),completion:r.index%this.n})}}if(t.signal?.aborted)throw new Error("AbortError");return{...i,choices:e}})():await this.completionWithRetry({...o,stream:!1,prompt:r[s]},{signal:t.signal,...t.options});i.push(...e.choices);const{completion_tokens:l,prompt_tokens:u,total_tokens:c}=e.usage?e.usage:{completion_tokens:void 0,prompt_tokens:void 0,total_tokens:void 0};l&&(a.completionTokens=(a.completionTokens??0)+l),u&&(a.promptTokens=(a.promptTokens??0)+u),c&&(a.totalTokens=(a.totalTokens??0)+c)}return{generations:(0,Ji.chunkArray)(i,this.n).map((e=>e.map((e=>({text:e.text??"",generationInfo:{finishReason:e.finish_reason,logprobs:e.logprobs}}))))),llmOutput:{tokenUsage:a}}}async*_streamResponseChunks(e,t,n){const r={...this.invocationParams(t),prompt:e,stream:!0},i=await this.completionWithRetry(r,t);for await(const a of i){const e=a?.choices[0];if(!e)continue;const t=new ar.GenerationChunk({text:e.text,generationInfo:{finishReason:e.finish_reason}});yield t,n?.handleLLMNewToken(t.text??"")}if(t.signal?.aborted)throw new Error("AbortError")}async completionWithRetry(e,t){const n=this._getClientOptions(t);return this.caller.call((async()=>{try{return await this.client.completions.create(e,n)}catch(t){throw Bi(t)}}))}_getClientOptions(e){if(!this.client){const e=Fi({azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,baseURL:this.clientConfig.baseURL}),t={...this.clientConfig,baseURL:e,timeout:this.timeout,maxRetries:0};t.baseURL||delete t.baseURL,this.client=new zn(t)}const t={...this.clientConfig,...e};return this.azureOpenAIApiKey&&(t.headers={"api-key":this.azureOpenAIApiKey,...t.headers},t.query={"api-version":this.azureOpenAIApiVersion,...t.query}),t}_llmType(){return"openai"}}class ta extends ea{get lc_aliases(){return{openAIApiKey:"openai_api_key",openAIApiVersion:"openai_api_version",openAIBasePath:"openai_api_base"}}constructor(e){const t=e?{...e}:e;t&&(t.azureOpenAIApiDeploymentName=t.azureOpenAIApiDeploymentName??t.deploymentName,t.azureOpenAIApiKey=t.azureOpenAIApiKey??t.openAIApiKey,t.azureOpenAIApiVersion=t.azureOpenAIApiVersion??t.openAIApiVersion),super(t)}_getClientOptions(e){if(!this.client){const e={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,azureADTokenProvider:this.azureADTokenProvider,baseURL:this.clientConfig.baseURL},t=Fi(e),n={...this.clientConfig,baseURL:t,timeout:this.timeout,maxRetries:0};this.azureADTokenProvider||(n.apiKey=e.azureOpenAIApiKey),n.baseURL||delete n.baseURL,n.defaultHeaders={...n.defaultHeaders,"User-Agent":n.defaultHeaders?.["User-Agent"]?`${n.defaultHeaders["User-Agent"]}: langchainjs-azure-openai-v2`:"langchainjs-azure-openai-v2"},this.client=new tr({apiVersion:this.azureOpenAIApiVersion,azureADTokenProvider:this.azureADTokenProvider,...n})}const t={...this.clientConfig,...e};return this.azureOpenAIApiKey&&(t.headers={"api-key":this.azureOpenAIApiKey,...t.headers},t.query={"api-version":this.azureOpenAIApiVersion,...t.query}),t}toJSON(){const e=super.toJSON();function t(e){return"object"===typeof e&&null!=e}return t(e)&&t(e.kwargs)&&(delete e.kwargs.azure_openai_base_path,delete e.kwargs.azure_openai_api_deployment_name,delete e.kwargs.azure_openai_api_key,delete e.kwargs.azure_openai_api_version,delete e.kwargs.azure_open_ai_base_path),e}}var na=n(9177);class ra extends na.Embeddings{constructor(e,t){const n={maxConcurrency:2,...e};super(n),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"text-embedding-ada-002"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"text-embedding-ada-002"}),Object.defineProperty(this,"batchSize",{enumerable:!0,configurable:!0,writable:!0,value:512}),Object.defineProperty(this,"stripNewLines",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"dimensions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureADTokenProvider",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let r=n?.apiKey??n?.openAIApiKey??(0,or.getEnvironmentVariable)("OPENAI_API_KEY");const i=n?.azureOpenAIApiKey??(0,or.getEnvironmentVariable)("AZURE_OPENAI_API_KEY");if(this.azureADTokenProvider=e?.azureADTokenProvider??void 0,!i&&!r&&!this.azureADTokenProvider)throw new Error("OpenAI or Azure OpenAI API key or Token Provider not found");const a=n?.azureOpenAIApiInstanceName??(0,or.getEnvironmentVariable)("AZURE_OPENAI_API_INSTANCE_NAME"),o=(n?.azureOpenAIApiEmbeddingsDeploymentName||n?.azureOpenAIApiDeploymentName)??((0,or.getEnvironmentVariable)("AZURE_OPENAI_API_EMBEDDINGS_DEPLOYMENT_NAME")||(0,or.getEnvironmentVariable)("AZURE_OPENAI_API_DEPLOYMENT_NAME")),s=n?.azureOpenAIApiVersion??(0,or.getEnvironmentVariable)("AZURE_OPENAI_API_VERSION");if(this.azureOpenAIBasePath=n?.azureOpenAIBasePath??(0,or.getEnvironmentVariable)("AZURE_OPENAI_BASE_PATH"),this.organization=n?.configuration?.organization??(0,or.getEnvironmentVariable)("OPENAI_ORGANIZATION"),this.modelName=n?.model??n?.modelName??this.model,this.model=this.modelName,this.batchSize=n?.batchSize??(i?1:this.batchSize),this.stripNewLines=n?.stripNewLines??this.stripNewLines,this.timeout=n?.timeout,this.dimensions=n?.dimensions,this.azureOpenAIApiVersion=s,this.azureOpenAIApiKey=i,this.azureOpenAIApiInstanceName=a,this.azureOpenAIApiDeploymentName=o,this.azureOpenAIApiKey||this.azureADTokenProvider){if(!this.azureOpenAIApiInstanceName&&!this.azureOpenAIBasePath)throw new Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw new Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw new Error("Azure OpenAI API version not found");r=r??""}this.clientConfig={apiKey:r,organization:this.organization,baseURL:t?.basePath,dangerouslyAllowBrowser:!0,defaultHeaders:t?.baseOptions?.headers,defaultQuery:t?.baseOptions?.params,...t,...e?.configuration}}async embedDocuments(e){const t=(0,Ji.chunkArray)(this.stripNewLines?e.map((e=>e.replace(/\n/g," "))):e,this.batchSize),n=t.map((e=>{const t={model:this.model,input:e};return this.dimensions&&(t.dimensions=this.dimensions),this.embeddingWithRetry(t)})),r=await Promise.all(n),i=[];for(let a=0;a<r.length;a+=1){const e=t[a],{data:n}=r[a];for(let t=0;t<e.length;t+=1)i.push(n[t].embedding)}return i}async embedQuery(e){const t={model:this.model,input:this.stripNewLines?e.replace(/\n/g," "):e};this.dimensions&&(t.dimensions=this.dimensions);const{data:n}=await this.embeddingWithRetry(t);return n[0].embedding}async embeddingWithRetry(e){if(!this.client){const e=Fi({azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,baseURL:this.clientConfig.baseURL}),t={...this.clientConfig,baseURL:e,timeout:this.timeout,maxRetries:0};t.baseURL||delete t.baseURL,this.client=new zn(t)}const t={};return this.azureOpenAIApiKey&&(t.headers={"api-key":this.azureOpenAIApiKey,...t.headers},t.query={"api-version":this.azureOpenAIApiVersion,...t.query}),this.caller.call((async()=>{try{return await this.client.embeddings.create(e,t)}catch(n){throw Bi(n)}}))}}class ia extends ra{constructor(e,t){const n={...e};Object.entries(n).length&&(n.azureOpenAIApiDeploymentName=n.azureOpenAIApiDeploymentName??n.deploymentName,n.azureOpenAIApiKey=n.azureOpenAIApiKey??n.apiKey,n.azureOpenAIApiVersion=n.azureOpenAIApiVersion??n.openAIApiVersion),super(n,t)}async embeddingWithRetry(e){if(!this.client){const e={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,azureADTokenProvider:this.azureADTokenProvider,baseURL:this.clientConfig.baseURL},t=Fi(e),n={...this.clientConfig,baseURL:t,timeout:this.timeout,maxRetries:0};this.azureADTokenProvider||(n.apiKey=e.azureOpenAIApiKey),n.baseURL||delete n.baseURL,n.defaultHeaders={...n.defaultHeaders,"User-Agent":n.defaultHeaders?.["User-Agent"]?`${n.defaultHeaders["User-Agent"]}: langchainjs-azure-openai-v2`:"langchainjs-azure-openai-v2"},this.client=new tr({apiVersion:this.azureOpenAIApiVersion,azureADTokenProvider:this.azureADTokenProvider,deployment:this.azureOpenAIApiDeploymentName,...n})}const t={};return this.azureOpenAIApiKey&&(t.headers={"api-key":this.azureOpenAIApiKey,...t.headers},t.query={"api-version":this.azureOpenAIApiVersion,...t.query}),this.caller.call((async()=>{try{return await this.client.embeddings.create(e,t)}catch(n){throw Bi(n)}}))}}class aa extends Error{constructor(e,t){super(e),Object.defineProperty(this,"output",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.output=t}}class oa extends Br{get lc_namespace(){return["langchain","tools"]}constructor(e){super(e??{}),Object.defineProperty(this,"returnDirect",{enumerable:!0,configurable:!0,writable:!0,value:!1})}async invoke(e,t){return this.call(e,(0,Hr.ensureConfig)(t))}async call(e,t,n){let r;try{r=await this.schema.parseAsync(e)}catch(l){throw new aa("Received tool input did not match expected schema",JSON.stringify(e))}const i=(0,$r.parseCallbackConfigArg)(t),a=await $r.CallbackManager.configure(i.callbacks,this.callbacks,i.tags||n,this.tags,i.metadata,this.metadata,{verbose:this.verbose}),o=await(a?.handleToolStart(this.toJSON(),"string"===typeof r?r:JSON.stringify(r),i.runId,void 0,void 0,void 0,i.runName));let s;delete i.runId;try{s=await this._call(r,o,i)}catch(l){throw await(o?.handleToolError(l)),l}return await(o?.handleToolEnd(s)),s}}class sa extends oa{constructor(e){super(e),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:Oi.z.object({input:Oi.z.string().optional()}).transform((e=>e.input))})}call(e,t){return super.call("string"!==typeof e&&e?e:{input:e},t)}}class la extends sa{static lc_name(){return"DallEAPIWrapper"}constructor(e){super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"dalle_api_wrapper"}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:"A wrapper around OpenAI DALL-E API. Useful for when you need to generate images from a text description. Input should be an image description."}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"dall-e-3"}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:"vivid"}),Object.defineProperty(this,"quality",{enumerable:!0,configurable:!0,writable:!0,value:"standard"}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:"1024x1024"}),Object.defineProperty(this,"responseFormat",{enumerable:!0,configurable:!0,writable:!0,value:"url"}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const t={apiKey:e?.apiKey??e?.openAIApiKey??(0,or.getEnvironmentVariable)("OPENAI_API_KEY"),organization:e?.organization??(0,or.getEnvironmentVariable)("OPENAI_ORGANIZATION"),dangerouslyAllowBrowser:!0};this.client=new zn(t),this.model=e?.model??e?.modelName??this.model,this.style=e?.style??this.style,this.quality=e?.quality??this.quality,this.n=e?.n??this.n,this.size=e?.size??this.size,this.responseFormat=e?.responseFormat??this.responseFormat,this.user=e?.user}async _call(e){const t=await this.client.images.generate({model:this.model,prompt:e,n:this.n,size:this.size,response_format:this.responseFormat,style:this.style,quality:this.quality,user:this.user});let n="";return"url"===this.responseFormat?[n]=t.data.map((e=>e.url)).filter((e=>"undefined"!==e)):[n]=t.data.map((e=>e.b64_json)).filter((e=>"undefined"!==e)),n}}Object.defineProperty(la,"toolName",{enumerable:!0,configurable:!0,writable:!0,value:"dalle_api_wrapper"})},1988:(e,t,n)=>{"use strict";function r(e,t){e&&e(t)}function i(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}n.r(t),n.d(t,{ASTFeatureExtractor:()=>Ef,ASTForAudioClassification:()=>Do,ASTModel:()=>No,ASTPreTrainedModel:()=>Ro,AlbertForMaskedLM:()=>Wa,AlbertForQuestionAnswering:()=>Va,AlbertForSequenceClassification:()=>Ua,AlbertModel:()=>$a,AlbertPreTrainedModel:()=>za,AlbertTokenizer:()=>Mn,AudioClassificationPipeline:()=>Jf,AutoConfig:()=>Or,AutoModel:()=>Uc,AutoModelForAudioClassification:()=>od,AutoModelForAudioFrameClassification:()=>ld,AutoModelForCTC:()=>ad,AutoModelForCausalLM:()=>Zc,AutoModelForDepthEstimation:()=>fd,AutoModelForDocumentQuestionAnswering:()=>ud,AutoModelForImageClassification:()=>Qc,AutoModelForImageFeatureExtraction:()=>hd,AutoModelForImageMatting:()=>cd,AutoModelForImageSegmentation:()=>ed,AutoModelForImageToImage:()=>dd,AutoModelForMaskGeneration:()=>id,AutoModelForMaskedLM:()=>Xc,AutoModelForObjectDetection:()=>nd,AutoModelForQuestionAnswering:()=>Yc,AutoModelForSemanticSegmentation:()=>td,AutoModelForSeq2SeqLM:()=>Hc,AutoModelForSequenceClassification:()=>Vc,AutoModelForSpeechSeq2Seq:()=>Gc,AutoModelForTextToSpectrogram:()=>qc,AutoModelForTextToWaveform:()=>Kc,AutoModelForTokenClassification:()=>Wc,AutoModelForVision2Seq:()=>Jc,AutoModelForXVector:()=>sd,AutoModelForZeroShotObjectDetection:()=>rd,AutoProcessor:()=>Nf,AutoTokenizer:()=>Er,AutomaticSpeechRecognitionPipeline:()=>eh,BartForConditionalGeneration:()=>no,BartForSequenceClassification:()=>ro,BartModel:()=>to,BartPretrainedModel:()=>eo,BartTokenizer:()=>Gn,BaseModelOutput:()=>xi,BeitFeatureExtractor:()=>gf,BeitForImageClassification:()=>il,BeitModel:()=>rl,BeitPreTrainedModel:()=>nl,BertForMaskedLM:()=>Ti,BertForQuestionAnswering:()=>Oi,BertForSequenceClassification:()=>Ei,BertForTokenClassification:()=>Ai,BertModel:()=>Si,BertPreTrainedModel:()=>ki,BertTokenizer:()=>Pn,BitImageProcessor:()=>Qd,BlenderbotForConditionalGeneration:()=>fo,BlenderbotModel:()=>co,BlenderbotPreTrainedModel:()=>uo,BlenderbotSmallForConditionalGeneration:()=>go,BlenderbotSmallModel:()=>po,BlenderbotSmallPreTrainedModel:()=>ho,BlenderbotSmallTokenizer:()=>wr,BlenderbotTokenizer:()=>vr,BloomForCausalLM:()=>Cs,BloomModel:()=>Os,BloomPreTrainedModel:()=>As,BloomTokenizer:()=>Xn,CLIPFeatureExtractor:()=>tf,CLIPModel:()=>Uo,CLIPPreTrainedModel:()=>$o,CLIPSegForImageSegmentation:()=>Qo,CLIPSegModel:()=>Jo,CLIPSegPreTrainedModel:()=>Yo,CLIPTextModelWithProjection:()=>Vo,CLIPTokenizer:()=>mr,CLIPVisionModelWithProjection:()=>Wo,CamembertForMaskedLM:()=>Yi,CamembertForQuestionAnswering:()=>ea,CamembertForSequenceClassification:()=>Ji,CamembertForTokenClassification:()=>Qi,CamembertModel:()=>Xi,CamembertPreTrainedModel:()=>Zi,CamembertTokenizer:()=>$n,CausalLMOutput:()=>vd,CausalLMOutputWithPast:()=>wd,ChineseCLIPFeatureExtractor:()=>nf,ChineseCLIPModel:()=>Xo,ChineseCLIPPreTrainedModel:()=>Zo,ClapAudioModelWithProjection:()=>Ju,ClapFeatureExtractor:()=>Af,ClapModel:()=>Xu,ClapPreTrainedModel:()=>Zu,ClapTextModelWithProjection:()=>Yu,CodeGenForCausalLM:()=>ys,CodeGenModel:()=>ms,CodeGenPreTrainedModel:()=>gs,CodeGenTokenizer:()=>gr,CodeLlamaTokenizer:()=>Qn,CohereTokenizer:()=>Tr,ConvBertForMaskedLM:()=>Bi,ConvBertForQuestionAnswering:()=>Ui,ConvBertForSequenceClassification:()=>zi,ConvBertForTokenClassification:()=>$i,ConvBertModel:()=>Fi,ConvBertPreTrainedModel:()=>ji,ConvBertTokenizer:()=>Fn,ConvNextFeatureExtractor:()=>af,ConvNextForImageClassification:()=>Bl,ConvNextImageProcessor:()=>of,ConvNextModel:()=>Fl,ConvNextPreTrainedModel:()=>jl,ConvNextV2ForImageClassification:()=>Ul,ConvNextV2Model:()=>$l,ConvNextV2PreTrainedModel:()=>zl,DPTFeatureExtractor:()=>Yd,DPTForDepthEstimation:()=>Cl,DPTImageProcessor:()=>Jd,DPTModel:()=>Ol,DPTPreTrainedModel:()=>Al,DebertaForMaskedLM:()=>ra,DebertaForQuestionAnswering:()=>oa,DebertaForSequenceClassification:()=>ia,DebertaForTokenClassification:()=>aa,DebertaModel:()=>na,DebertaPreTrainedModel:()=>ta,DebertaTokenizer:()=>Nn,DebertaV2ForMaskedLM:()=>ua,DebertaV2ForQuestionAnswering:()=>fa,DebertaV2ForSequenceClassification:()=>ca,DebertaV2ForTokenClassification:()=>da,DebertaV2Model:()=>la,DebertaV2PreTrainedModel:()=>sa,DebertaV2Tokenizer:()=>Dn,DeiTFeatureExtractor:()=>pf,DeiTForImageClassification:()=>yl,DeiTModel:()=>ml,DeiTPreTrainedModel:()=>gl,DepthAnythingForDepthEstimation:()=>Pl,DepthAnythingPreTrainedModel:()=>Il,DepthEstimationPipeline:()=>ch,DetrFeatureExtractor:()=>_f,DetrForObjectDetection:()=>sl,DetrForSegmentation:()=>ll,DetrModel:()=>ol,DetrObjectDetectionOutput:()=>ul,DetrPreTrainedModel:()=>al,DetrSegmentationOutput:()=>cl,Dinov2ForImageClassification:()=>Hl,Dinov2Model:()=>Wl,Dinov2PreTrainedModel:()=>Vl,DistilBertForMaskedLM:()=>_a,DistilBertForQuestionAnswering:()=>ya,DistilBertForSequenceClassification:()=>ga,DistilBertForTokenClassification:()=>ma,DistilBertModel:()=>pa,DistilBertPreTrainedModel:()=>ha,DistilBertTokenizer:()=>zn,DocumentQuestionAnsweringPipeline:()=>sh,DonutFeatureExtractor:()=>mf,DonutSwinModel:()=>Dl,DonutSwinPreTrainedModel:()=>Nl,EfficientNetForImageClassification:()=>cc,EfficientNetImageProcessor:()=>uf,EfficientNetModel:()=>uc,EfficientNetPreTrainedModel:()=>lc,ElectraForMaskedLM:()=>Hi,ElectraForQuestionAnswering:()=>Ki,ElectraForSequenceClassification:()=>Gi,ElectraForTokenClassification:()=>qi,ElectraModel:()=>Wi,ElectraPreTrainedModel:()=>Vi,ElectraTokenizer:()=>Vn,EsmForMaskedLM:()=>wa,EsmForSequenceClassification:()=>xa,EsmForTokenClassification:()=>ka,EsmModel:()=>va,EsmPreTrainedModel:()=>ba,EsmTokenizer:()=>ir,FFT:()=>ne,FalconForCausalLM:()=>Ku,FalconModel:()=>qu,FalconPreTrainedModel:()=>Gu,FalconTokenizer:()=>nr,FastViTForImageClassification:()=>$s,FastViTModel:()=>zs,FastViTPreTrainedModel:()=>Bs,FeatureExtractionPipeline:()=>Xf,FeatureExtractor:()=>Kd,FillMaskPipeline:()=>Vf,GLPNFeatureExtractor:()=>ef,GLPNForDepthEstimation:()=>Rl,GLPNModel:()=>Ll,GLPNPreTrainedModel:()=>Ml,GPT2LMHeadModel:()=>ns,GPT2Model:()=>ts,GPT2PreTrainedModel:()=>es,GPT2Tokenizer:()=>Hn,GPTBigCodeForCausalLM:()=>ps,GPTBigCodeModel:()=>hs,GPTBigCodePreTrainedModel:()=>fs,GPTJForCausalLM:()=>ds,GPTJModel:()=>cs,GPTJPreTrainedModel:()=>us,GPTNeoForCausalLM:()=>as,GPTNeoModel:()=>is,GPTNeoPreTrainedModel:()=>rs,GPTNeoXForCausalLM:()=>ls,GPTNeoXModel:()=>ss,GPTNeoXPreTrainedModel:()=>os,GPTNeoXTokenizer:()=>rr,GemmaTokenizer:()=>or,Grok1Tokenizer:()=>sr,HerbertTokenizer:()=>jn,HubertForCTC:()=>Tu,HubertForSequenceClassification:()=>Eu,HubertModel:()=>Su,HubertPreTrainedModel:()=>ku,ImageClassificationPipeline:()=>nh,ImageFeatureExtractionPipeline:()=>Yf,ImageFeatureExtractor:()=>Zd,ImageMattingOutput:()=>xd,ImageSegmentationPipeline:()=>rh,ImageToImagePipeline:()=>uh,ImageToTextPipeline:()=>th,LlamaForCausalLM:()=>vs,LlamaModel:()=>bs,LlamaPreTrainedModel:()=>_s,LlamaTokenizer:()=>Jn,LongT5ForConditionalGeneration:()=>Xa,LongT5Model:()=>Za,LongT5PreTrainedModel:()=>Ka,M2M100ForConditionalGeneration:()=>iu,M2M100Model:()=>ru,M2M100PreTrainedModel:()=>nu,M2M100Tokenizer:()=>cr,MBart50Tokenizer:()=>Kn,MBartForCausalLM:()=>lo,MBartForConditionalGeneration:()=>oo,MBartForSequenceClassification:()=>so,MBartModel:()=>ao,MBartPreTrainedModel:()=>io,MBartTokenizer:()=>qn,MPNetForMaskedLM:()=>Pa,MPNetForQuestionAnswering:()=>Ra,MPNetForSequenceClassification:()=>Ma,MPNetForTokenClassification:()=>La,MPNetModel:()=>Ia,MPNetPreTrainedModel:()=>Ca,MPNetTokenizer:()=>tr,MT5ForConditionalGeneration:()=>Qa,MT5Model:()=>Ja,MT5PreTrainedModel:()=>Ya,MarianMTModel:()=>tu,MarianModel:()=>eu,MarianPreTrainedModel:()=>Ql,MarianTokenizer:()=>_r,MaskedLMOutput:()=>_d,MistralForCausalLM:()=>Uu,MistralModel:()=>$u,MistralPreTrainedModel:()=>zu,MobileBertForMaskedLM:()=>Ea,MobileBertForQuestionAnswering:()=>Oa,MobileBertForSequenceClassification:()=>Aa,MobileBertModel:()=>Ta,MobileBertPreTrainedModel:()=>Sa,MobileBertTokenizer:()=>Ln,MobileViTFeatureExtractor:()=>cf,MobileViTForImageClassification:()=>Gs,MobileViTImageProcessor:()=>df,MobileViTModel:()=>Hs,MobileViTPreTrainedModel:()=>Ws,MobileViTV2ForImageClassification:()=>Zs,MobileViTV2Model:()=>Ks,MobileViTV2PreTrainedModel:()=>qs,ModelOutput:()=>wi,MptForCausalLM:()=>Ms,MptModel:()=>Ps,MptPreTrainedModel:()=>Is,NllbTokenizer:()=>ur,NomicBertModel:()=>Ii,NomicBertPreTrainedModel:()=>Ci,NougatImageProcessor:()=>yf,NougatTokenizer:()=>kr,OPTForCausalLM:()=>Ns,OPTModel:()=>Rs,OPTPreTrainedModel:()=>Ls,ObjectDetectionPipeline:()=>ah,OwlViTFeatureExtractor:()=>ff,OwlViTForObjectDetection:()=>Js,OwlViTModel:()=>Ys,OwlViTPreTrainedModel:()=>Xs,OwlViTProcessor:()=>Rf,Owlv2ForObjectDetection:()=>tl,Owlv2ImageProcessor:()=>hf,Owlv2Model:()=>el,Owlv2PreTrainedModel:()=>Qs,PhiForCausalLM:()=>Es,PhiModel:()=>Ts,PhiPreTrainedModel:()=>Ss,Pipeline:()=>Bf,PreTrainedModel:()=>vi,PreTrainedTokenizer:()=>In,PretrainedConfig:()=>Ar,PretrainedMixin:()=>dc,Processor:()=>Cf,QuestionAnsweringModelOutput:()=>bd,QuestionAnsweringPipeline:()=>Uf,Qwen2ForCausalLM:()=>ks,Qwen2Model:()=>xs,Qwen2PreTrainedModel:()=>ws,Qwen2Tokenizer:()=>ar,RawImage:()=>Md,ResNetForImageClassification:()=>vl,ResNetModel:()=>bl,ResNetPreTrainedModel:()=>_l,RoFormerForMaskedLM:()=>Li,RoFormerForQuestionAnswering:()=>Di,RoFormerForSequenceClassification:()=>Ri,RoFormerForTokenClassification:()=>Ni,RoFormerModel:()=>Mi,RoFormerPreTrainedModel:()=>Pi,RoFormerTokenizer:()=>Bn,RobertaForMaskedLM:()=>_o,RobertaForQuestionAnswering:()=>wo,RobertaForSequenceClassification:()=>bo,RobertaForTokenClassification:()=>vo,RobertaModel:()=>yo,RobertaPreTrainedModel:()=>mo,RobertaTokenizer:()=>Zn,SamImageProcessor:()=>vf,SamImageSegmentationOutput:()=>Jl,SamModel:()=>Yl,SamPreTrainedModel:()=>Xl,SamProcessor:()=>If,SeamlessM4TFeatureExtractor:()=>Tf,SegformerFeatureExtractor:()=>Xd,SegformerForImageClassification:()=>rc,SegformerForSemanticSegmentation:()=>ic,SegformerModel:()=>nc,SegformerPreTrainedModel:()=>tc,Seq2SeqLMOutput:()=>pd,SequenceClassifierOutput:()=>gd,SiglipImageProcessor:()=>rf,SiglipModel:()=>Go,SiglipPreTrainedModel:()=>Ho,SiglipTextModel:()=>qo,SiglipTokenizer:()=>yr,SiglipVisionModel:()=>Ko,SpeechT5FeatureExtractor:()=>Of,SpeechT5ForSpeechToText:()=>Nu,SpeechT5ForTextToSpeech:()=>Du,SpeechT5HifiGan:()=>ju,SpeechT5Model:()=>Ru,SpeechT5PreTrainedModel:()=>Lu,SpeechT5Processor:()=>Lf,SpeechT5Tokenizer:()=>xr,SqueezeBertForMaskedLM:()=>ja,SqueezeBertForQuestionAnswering:()=>Ba,SqueezeBertForSequenceClassification:()=>Fa,SqueezeBertModel:()=>Da,SqueezeBertPreTrainedModel:()=>Na,SqueezeBertTokenizer:()=>Rn,StableLmForCausalLM:()=>sc,StableLmModel:()=>oc,StableLmPreTrainedModel:()=>ac,Starcoder2ForCausalLM:()=>Hu,Starcoder2Model:()=>Wu,Starcoder2PreTrainedModel:()=>Vu,SummarizationPipeline:()=>Hf,Swin2SRForImageSuperResolution:()=>El,Swin2SRImageProcessor:()=>wf,Swin2SRModel:()=>Tl,Swin2SRPreTrainedModel:()=>Sl,SwinForImageClassification:()=>kl,SwinModel:()=>xl,SwinPreTrainedModel:()=>wl,T5ForConditionalGeneration:()=>qa,T5Model:()=>Ga,T5PreTrainedModel:()=>Ha,T5Tokenizer:()=>Wn,TableTransformerForObjectDetection:()=>hl,TableTransformerModel:()=>fl,TableTransformerObjectDetectionOutput:()=>pl,TableTransformerPreTrainedModel:()=>dl,Tensor:()=>le,Text2TextGenerationPipeline:()=>Wf,TextClassificationPipeline:()=>zf,TextGenerationPipeline:()=>Kf,TextToAudioPipeline:()=>lh,TokenClassificationPipeline:()=>$f,TokenClassifierOutput:()=>yd,TokenizerModel:()=>Pt,TrOCRForCausalLM:()=>Bu,TrOCRPreTrainedModel:()=>Fu,TranslationPipeline:()=>Gf,UniSpeechForCTC:()=>fu,UniSpeechForSequenceClassification:()=>hu,UniSpeechModel:()=>du,UniSpeechPreTrainedModel:()=>cu,UniSpeechSatForAudioFrameClassification:()=>_u,UniSpeechSatForCTC:()=>mu,UniSpeechSatForSequenceClassification:()=>yu,UniSpeechSatModel:()=>gu,UniSpeechSatPreTrainedModel:()=>pu,ViTFeatureExtractor:()=>sf,ViTForImageClassification:()=>Fs,ViTImageProcessor:()=>lf,ViTModel:()=>js,ViTPreTrainedModel:()=>Ds,VisionEncoderDecoderModel:()=>zo,VitMatteForImageMatting:()=>Vs,VitMatteImageProcessor:()=>xf,VitMattePreTrainedModel:()=>Us,VitsModel:()=>ec,VitsModelOutput:()=>kd,VitsPreTrainedModel:()=>Qu,VitsTokenizer:()=>Sr,Wav2Vec2BertForCTC:()=>wu,Wav2Vec2BertForSequenceClassification:()=>xu,Wav2Vec2BertModel:()=>vu,Wav2Vec2BertPreTrainedModel:()=>bu,Wav2Vec2CTCTokenizer:()=>br,Wav2Vec2FeatureExtractor:()=>Sf,Wav2Vec2ForAudioFrameClassification:()=>uu,Wav2Vec2ForCTC:()=>su,Wav2Vec2ForSequenceClassification:()=>lu,Wav2Vec2Model:()=>ou,Wav2Vec2PreTrainedModel:()=>au,Wav2Vec2ProcessorWithLM:()=>Mf,WavLMForAudioFrameClassification:()=>Mu,WavLMForCTC:()=>Cu,WavLMForSequenceClassification:()=>Iu,WavLMForXVector:()=>Pu,WavLMModel:()=>Ou,WavLMPreTrainedModel:()=>Au,WhisperFeatureExtractor:()=>kf,WhisperForConditionalGeneration:()=>Bo,WhisperModel:()=>Fo,WhisperPreTrainedModel:()=>jo,WhisperProcessor:()=>Pf,WhisperTokenizer:()=>pr,XLMForQuestionAnswering:()=>Ao,XLMForSequenceClassification:()=>To,XLMForTokenClassification:()=>Eo,XLMModel:()=>ko,XLMPreTrainedModel:()=>xo,XLMRobertaForMaskedLM:()=>Io,XLMRobertaForQuestionAnswering:()=>Lo,XLMRobertaForSequenceClassification:()=>Po,XLMRobertaForTokenClassification:()=>Mo,XLMRobertaModel:()=>Co,XLMRobertaPreTrainedModel:()=>Oo,XLMRobertaTokenizer:()=>er,XLMTokenizer:()=>Un,XLMWithLMHeadModel:()=>So,XVectorOutput:()=>md,YolosFeatureExtractor:()=>bf,YolosForObjectDetection:()=>Kl,YolosModel:()=>ql,YolosObjectDetectionOutput:()=>Zl,YolosPreTrainedModel:()=>Gl,ZeroShotAudioClassificationPipeline:()=>Qf,ZeroShotClassificationPipeline:()=>Zf,ZeroShotImageClassificationPipeline:()=>ih,ZeroShotObjectDetectionPipeline:()=>oh,bankers_round:()=>ae,cat:()=>me,cos_sim:()=>Z,dot:()=>q,dynamicTimeWarping:()=>ve,env:()=>L,getTopItems:()=>K,hanning:()=>Rd,interpolate:()=>ce,interpolate_data:()=>V,layer_norm:()=>fe,log_softmax:()=>G,magnitude:()=>X,max:()=>J,mean:()=>be,mean_pooling:()=>de,medianFilter:()=>re,mel_filter_bank:()=>Bd,min:()=>Y,ones:()=>we,ones_like:()=>xe,permute:()=>ue,permute_data:()=>W,pipeline:()=>hh,quantize_embeddings:()=>ke,read_audio:()=>Ld,round:()=>ie,softmax:()=>H,spectrogram:()=>$d,stack:()=>ye,std_mean:()=>_e,window_function:()=>Ud});const a=class{constructor(){let e=function(...t){return e._call(...t)};return Object.setPrototypeOf(e,new.target.prototype)}_call(...e){throw Error("Must implement _call method in subclass")}};function o(e){return Number.isInteger(e)||"bigint"===typeof e}function s(e){const t=[];let n=e;for(;Array.isArray(n);)t.push(n.length),n=n[0];return t}function l(e,t,n=void 0){const r=e[t];if(void 0!==r)return delete e[t],r;if(void 0===n)throw Error(`Key ${t} does not exist in object.`);return n}function u(...e){return Array.prototype.concat.apply([],e)}function c(...e){return e.reduce(((e,t)=>e.flatMap((e=>t.map((t=>[e,t]))))))}function d(e,t){return Math.abs((e+t)%(2*t)-t)}var f=n(143),h=n(2603),p=n(2009),g=n(6837),m=n(2499),y=n(3052),_=n.t(y,2),b=n(1631),v=n.t(b,2);let w;const x=["wasm"];if("undefined"!==typeof process&&"node"===process?.release?.name)w=y??_,x.unshift("cpu");else{w=b??v;"undefined"!==typeof navigator&&/iP(hone|od|ad).+16_4.+AppleWebKit/.test(navigator.userAgent)&&(w.env.wasm.simd=!1)}const{env:k}=w,S="2.17.2",T="undefined"!==typeof self&&"caches"in self,E=!R(p),A=!R(g),O=E&&A,C=O?g.dirname(g.dirname(m.fileURLToPath("file:///Users/davidgortega/Documents/projects/soulgarden/Soulgarden/node_modules/@xenova/transformers/src/env.js"))):"./",I=O?g.join(C,"/.cache/"):null,P="/models/",M=O?g.join(C,P):P;k?.wasm&&(k.wasm.wasmPaths=O?g.join(C,"/dist/"):`https://cdn.jsdelivr.net/npm/@xenova/transformers@${S}/dist/`);const L={backends:{onnx:k,tfjs:{}},__dirname:C,version:S,allowRemoteModels:!0,remoteHost:"https://huggingface.co/",remotePathTemplate:"{model}/resolve/{revision}/",allowLocalModels:!0,localModelPath:M,useFS:E,useBrowserCache:T,useFSCache:E,cacheDir:I,useCustomCache:!1,customCache:null};function R(e){return 0===Object.keys(e).length}class N{_CONTENT_TYPE_MAP={txt:"text/plain",html:"text/html",css:"text/css",js:"text/javascript",json:"application/json",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif"};constructor(e){if(this.filePath=e,this.headers=new Headers,this.exists=f.existsSync(e),this.exists){this.status=200,this.statusText="OK";let t=f.statSync(e);this.headers.set("content-length",t.size.toString()),this.updateContentType();let n=this;this.body=new ReadableStream({start(e){n.arrayBuffer().then((t=>{e.enqueue(new Uint8Array(t)),e.close()}))}})}else this.status=404,this.statusText="Not Found",this.body=null}updateContentType(){const e=this.filePath.toString().split(".").pop().toLowerCase();this.headers.set("content-type",this._CONTENT_TYPE_MAP[e]??"application/octet-stream")}clone(){let e=new N(this.filePath);return e.exists=this.exists,e.status=this.status,e.statusText=this.statusText,e.headers=new Headers(this.headers),e}async arrayBuffer(){return(await f.promises.readFile(this.filePath)).buffer}async blob(){const e=await f.promises.readFile(this.filePath);return new Blob([e],{type:this.headers.get("content-type")})}async text(){return await f.promises.readFile(this.filePath,"utf8")}async json(){return JSON.parse(await this.text())}}function D(e,t=null,n=null){let r;try{r=new URL(e)}catch(i){return!1}return!(t&&!t.includes(r.protocol))&&!(n&&!n.includes(r.hostname))}async function j(e){if(L.useFS&&!D(e,["http:","https:","blob:"]))return new N(e);if("undefined"!==typeof process&&"node"===process?.release?.name){const t=!!{NODE_ENV:"production",PUBLIC_URL:".",APP_MANIFEST:{name:"Soulgarden",slug:"Soulgarden",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"light",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#1e2c33"},web:{},extra:{eas:{projectId:"38711c52-ddf9-4daf-b83c-8fb7f02dc34b"}},description:"Soulgarden AI companion",sdkVersion:"48.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}?.TESTING_REMOTELY,n=L.version,r=new Headers;r.set("User-Agent",`transformers.js/${n}; is_ci/${t};`);if(D(e,["http:","https:"],["huggingface.co","hf.co"])){const e={NODE_ENV:"production",PUBLIC_URL:".",APP_MANIFEST:{name:"Soulgarden",slug:"Soulgarden",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"light",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#1e2c33"},web:{},extra:{eas:{projectId:"38711c52-ddf9-4daf-b83c-8fb7f02dc34b"}},description:"Soulgarden AI companion",sdkVersion:"48.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}?.HF_TOKEN??{NODE_ENV:"production",PUBLIC_URL:".",APP_MANIFEST:{name:"Soulgarden",slug:"Soulgarden",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"light",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#1e2c33"},web:{},extra:{eas:{projectId:"38711c52-ddf9-4daf-b83c-8fb7f02dc34b"}},description:"Soulgarden AI companion",sdkVersion:"48.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}?.HF_ACCESS_TOKEN;e&&r.set("Authorization",`Bearer ${e}`)}return fetch(e,{headers:r})}return fetch(e)}const F={400:"Bad request error occurred while trying to load file",401:"Unauthorized access to file",403:"Forbidden access to file",404:"Could not locate file",408:"Request timeout error occurred while trying to load file",500:"Internal server error error occurred while trying to load file",502:"Bad gateway error occurred while trying to load file",503:"Service unavailable error occurred while trying to load file",504:"Gateway timeout error occurred while trying to load file"};class B{constructor(e){this.path=e}async match(e){let t=h.join(this.path,e),n=new N(t);return n.exists?n:void 0}async put(e,t){const n=Buffer.from(await t.arrayBuffer());let r=h.join(this.path,e);try{await f.promises.mkdir(h.dirname(r),{recursive:!0}),await f.promises.writeFile(r,n)}catch(i){console.warn("An error occurred while writing the file to cache:",i)}}}async function z(e,t,n=!0,i={}){if(!L.allowLocalModels){if(i.local_files_only)throw Error("Invalid configuration detected: local models are disabled (`env.allowLocalModels=false`) but you have requested to only use local models (`local_files_only=true`).");if(!L.allowRemoteModels)throw Error("Invalid configuration detected: both local and remote models are disabled. Fix by setting `env.allowLocalModels` or `env.allowRemoteModels` to `true`.")}let a;if(r(i.progress_callback,{status:"initiate",name:e,file:t}),!a&&L.useBrowserCache){if("undefined"===typeof caches)throw Error("Browser cache is not available in this environment.");try{a=await caches.open("transformers-cache")}catch(_){console.warn("An error occurred while opening the browser cache:",_)}}if(!a&&L.useFSCache&&(a=new B(i.cache_dir??L.cacheDir)),!a&&L.useCustomCache){if(!L.customCache)throw Error("`env.useCustomCache=true`, but `env.customCache` is not defined.");if(!L.customCache.match||!L.customCache.put)throw new Error("`env.customCache` must be an object which implements the `match` and `put` functions of the Web Cache API. For more information, see https://developer.mozilla.org/en-US/docs/Web/API/Cache");a=L.customCache}const o=i.revision??"main";let s,l,u=U(e,t),c=U(L.localModelPath,u),d=U(L.remoteHost,L.remotePathTemplate.replaceAll("{model}",e).replaceAll("{revision}",encodeURIComponent(o)),t),f="main"===o?u:U(e,o,t),h=a instanceof B?f:d,p=!1;a&&(l=await async function(e,...t){for(let n of t)try{let t=await e.match(n);if(t)return t}catch(_){continue}}(a,c,h));const g=void 0!==l;if(void 0===l){if(L.allowLocalModels){if(D(u,["http:","https:"])){if(i.local_files_only)throw new Error(`\`local_files_only=true\`, but attempted to load a remote file from: ${u}.`);if(!L.allowRemoteModels)throw new Error(`\`env.allowRemoteModels=false\`, but attempted to load a remote file from: ${u}.`)}else try{l=await j(c),s=c}catch(_){console.warn(`Unable to load from local path "${c}": "${_}"`)}}if(void 0===l||404===l.status){if(i.local_files_only||!L.allowRemoteModels){if(n)throw Error(`\`local_files_only=true\` or \`env.allowRemoteModels=false\` and file was not found locally at "${c}".`);return null}if(l=await j(d),200!==l.status)return function(e,t,n){if(!n)return null;const r=F[e]??`Error (${e}) occurred while trying to load file`;throw Error(`${r}: "${t}".`)}(l.status,d,n);s=h}p=a&&"undefined"!==typeof Response&&l instanceof Response&&200===l.status}r(i.progress_callback,{status:"download",name:e,file:t});const m={status:"progress",name:e,file:t};let y;return i.progress_callback?g&&"undefined"!==typeof navigator&&/firefox/i.test(navigator.userAgent)?(y=new Uint8Array(await l.arrayBuffer()),r(i.progress_callback,{...m,progress:100,loaded:y.length,total:y.length})):y=await async function(e,t){const n=e.headers.get("Content-Length");null===n&&console.warn("Unable to determine content-length from response headers. Will expand buffer when needed.");let r=parseInt(n??"0"),i=new Uint8Array(r),a=0;const o=e.body.getReader();async function s(){const{done:e,value:n}=await o.read();if(e)return;let l=a+n.length;if(l>r){r=l;let e=new Uint8Array(r);e.set(i),i=e}i.set(n,a),a=l;return t({progress:a/r*100,loaded:a,total:r}),s()}return await s(),i}(l,(e=>{r(i.progress_callback,{...m,...e})})):y=new Uint8Array(await l.arrayBuffer()),p&&s&&void 0===await a.match(s)&&await a.put(s,new Response(y,{headers:l.headers})).catch((e=>{console.warn(`Unable to add response to browser cache: ${e}.`)})),r(i.progress_callback,{status:"done",name:e,file:t}),y}async function $(e,t,n=!0,r={}){let i=await z(e,t,n,r);if(null===i)return{};let a=new TextDecoder("utf-8").decode(i);return JSON.parse(a)}function U(...e){return(e=e.map(((t,n)=>(n&&(t=t.replace(new RegExp("^/"),"")),n!==e.length-1&&(t=t.replace(new RegExp("/$"),"")),t)))).join("/")}function V(e,[t,n,r],[i,a],o="bilinear",s=!1){const l=a/r,u=i/n,c=new e.constructor(i*a*t),d=n*r,f=i*a;for(let h=0;h<i;++h)for(let i=0;i<a;++i){const o=h*a+i,s=(i+.5)/l-.5,p=(h+.5)/u-.5;let g=Math.floor(s),m=Math.floor(p);const y=Math.min(g+1,r-1),_=Math.min(m+1,n-1);g=Math.max(g,0),m=Math.max(m,0);const b=s-g,v=p-m,w=(1-b)*(1-v),x=b*(1-v),k=(1-b)*v,S=b*v,T=m*r,E=_*r,A=T+g,O=T+y,C=E+g,I=E+y;for(let n=0;n<t;++n){const t=n*d;c[n*f+o]=w*e[t+A]+x*e[t+O]+k*e[t+C]+S*e[t+I]}}return c}function W(e,t,n){const r=new Array(n.length),i=new Array(n.length);for(let s=n.length-1,l=1;s>=0;--s)i[s]=l,r[s]=t[n[s]],l*=r[s];const a=n.map(((e,t)=>i[n.indexOf(t)])),o=new e.constructor(e.length);for(let s=0;s<e.length;++s){let n=0;for(let e=t.length-1,r=s;e>=0;--e)n+=r%t[e]*a[e],r=Math.floor(r/t[e]);o[n]=e[s]}return[o,r]}function H(e){const t=J(e)[0],n=e.map((e=>Math.exp(e-t))),r=n.reduce(((e,t)=>e+t),0);return n.map((e=>e/r))}function G(e){return H(e).map((e=>Math.log(e)))}function q(e,t){let n=0;for(let r=0;r<e.length;++r)n+=e[r]*t[r];return n}function K(e,t=0){return e=Array.from(e).map(((e,t)=>[t,e])).sort(((e,t)=>t[1]-e[1])),null!==t&&t>0&&(e=e.slice(0,t)),e}function Z(e,t){return q(e,t)/(X(e)*X(t))}function X(e){return Math.sqrt(e.reduce(((e,t)=>e+t*t),0))}function Y(e){if(0===e.length)throw Error("Array must not be empty");let t=e[0],n=0;for(let r=1;r<e.length;++r)e[r]<t&&(t=e[r],n=r);return[t,n]}function J(e){if(0===e.length)throw Error("Array must not be empty");let t=e[0],n=0;for(let r=1;r<e.length;++r)e[r]>t&&(t=e[r],n=r);return[Number(t),n]}function Q(e){return e>0&&0===(e&e-1)}class ee{constructor(e){if(this.size=0|e,this.size<=1||!Q(this.size))throw new Error("FFT size must be a power of two larger than 1");this._csize=e<<1,this.table=new Float64Array(2*this.size);for(let n=0;n<this.table.length;n+=2){const e=Math.PI*n/this.size;this.table[n]=Math.cos(e),this.table[n+1]=-Math.sin(e)}let t=0;for(let n=1;this.size>n;n<<=1)++t;this._width=t%2===0?t-1:t,this._bitrev=new Int32Array(1<<this._width);for(let n=0;n<this._bitrev.length;++n){this._bitrev[n]=0;for(let e=0;e<this._width;e+=2){const t=this._width-e-2;this._bitrev[n]|=(n>>>e&3)<<t}}}createComplexArray(){return new Float64Array(this._csize)}fromComplexArray(e,t){const n=t||new Array(e.length>>>1);for(let r=0;r<e.length;r+=2)n[r>>>1]=e[r];return n}toComplexArray(e,t){const n=t||this.createComplexArray();for(let r=0;r<n.length;r+=2)n[r]=e[r>>>1],n[r+1]=0;return n}transform(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._transform4(e,t,1)}realTransform(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._realTransform4(e,t,1)}inverseTransform(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._transform4(e,t,-1);for(let n=0;n<e.length;++n)e[n]/=this.size}_transform4(e,t,n){const r=this._csize;let i,a,o=1<<this._width,s=r/o<<1;const l=this._bitrev;if(4===s)for(i=0,a=0;i<r;i+=s,++a){const n=l[a];this._singleTransform2(t,e,i,n,o)}else for(i=0,a=0;i<r;i+=s,++a){const r=l[a];this._singleTransform4(t,e,i,r,o,n)}const u=this.table;for(o>>=2;o>=2;o>>=2){s=r/o<<1;const t=s>>>2;for(i=0;i<r;i+=s){const r=i+t-1;for(let a=i,s=0;a<r;a+=2,s+=o){const r=a,i=r+t,o=i+t,l=o+t,c=e[r],d=e[r+1],f=e[i],h=e[i+1],p=e[o],g=e[o+1],m=e[l],y=e[l+1],_=u[s],b=n*u[s+1],v=f*_-h*b,w=f*b+h*_,x=u[2*s],k=n*u[2*s+1],S=p*x-g*k,T=p*k+g*x,E=u[3*s],A=n*u[3*s+1],O=m*E-y*A,C=m*A+y*E,I=c+S,P=d+T,M=c-S,L=d-T,R=v+O,N=w+C,D=n*(v-O),j=n*(w-C);e[r]=I+R,e[r+1]=P+N,e[i]=M+j,e[i+1]=L-D,e[o]=I-R,e[o+1]=P-N,e[l]=M-j,e[l+1]=L+D}}}}_singleTransform2(e,t,n,r,i){const a=e[r],o=e[r+1],s=e[r+i],l=e[r+i+1];t[n]=a+s,t[n+1]=o+l,t[n+2]=a-s,t[n+3]=o-l}_singleTransform4(e,t,n,r,i,a){const o=2*i,s=3*i,l=e[r],u=e[r+1],c=e[r+i],d=e[r+i+1],f=e[r+o],h=e[r+o+1],p=e[r+s],g=e[r+s+1],m=l+f,y=u+h,_=l-f,b=u-h,v=c+p,w=d+g,x=a*(c-p),k=a*(d-g);t[n]=m+v,t[n+1]=y+w,t[n+2]=_+k,t[n+3]=b-x,t[n+4]=m-v,t[n+5]=y-w,t[n+6]=_-k,t[n+7]=b+x}_realTransform4(e,t,n){const r=this._csize;let i,a,o=1<<this._width,s=r/o<<1;const l=this._bitrev;if(4===s)for(i=0,a=0;i<r;i+=s,++a){const n=l[a];this._singleRealTransform2(t,e,i,n>>>1,o>>>1)}else for(i=0,a=0;i<r;i+=s,++a){const r=l[a];this._singleRealTransform4(t,e,i,r>>>1,o>>>1,n)}const u=this.table;for(o>>=2;o>=2;o>>=2){s=r/o<<1;const t=s>>>1,a=t>>>1,l=a>>>1;for(i=0;i<r;i+=s)for(let r=0,s=0;r<=l;r+=2,s+=o){const o=i+r,c=o+a,d=c+a,f=d+a,h=e[o],p=e[o+1],g=e[c],m=e[c+1],y=e[d],_=e[d+1],b=e[f],v=e[f+1],w=h,x=p,k=u[s],S=n*u[s+1],T=g*k-m*S,E=g*S+m*k,A=u[2*s],O=n*u[2*s+1],C=y*A-_*O,I=y*O+_*A,P=u[3*s],M=n*u[3*s+1],L=b*P-v*M,R=b*M+v*P,N=w+C,D=x+I,j=w-C,F=x-I,B=T+L,z=E+R,$=n*(T-L),U=n*(E-R);if(e[o]=N+B,e[o+1]=D+z,e[c]=j+U,e[c+1]=F-$,0===r){e[d]=N-B,e[d+1]=D-z;continue}if(r===l)continue;const V=i+a-r,W=i+t-r;e[V]=j-n*U,e[V+1]=-F-n*$,e[W]=N-n*B,e[W+1]=n*z-D}}const c=r>>>1;for(let d=2;d<c;d+=2)e[r-d]=e[d],e[r-d+1]=-e[d+1]}_singleRealTransform2(e,t,n,r,i){const a=e[r],o=e[r+i];t[n]=a+o,t[n+1]=0,t[n+2]=a-o,t[n+3]=0}_singleRealTransform4(e,t,n,r,i,a){const o=2*i,s=3*i,l=e[r],u=e[r+i],c=e[r+o],d=e[r+s],f=l+c,h=l-c,p=u+d,g=a*(u-d);t[n]=f+p,t[n+1]=0,t[n+2]=h,t[n+3]=-g,t[n+4]=f-p,t[n+5]=0,t[n+6]=h,t[n+7]=g}}class te{constructor(e){const t=2*(e-1),n=2*(2*e-1),r=2**Math.ceil(Math.log2(n));this.bufferSize=r,this._a=t;const i=new Float64Array(n),a=new Float64Array(r);this._chirpBuffer=new Float64Array(r),this._buffer1=new Float64Array(r),this._buffer2=new Float64Array(r),this._outBuffer1=new Float64Array(r),this._outBuffer2=new Float64Array(r);const o=-2*Math.PI/e,s=Math.cos(o),l=Math.sin(o);for(let u=0;u<n>>1;++u){const t=(u+1-e)**2/2,n=Math.sqrt(s**2+l**2)**t,r=t*Math.atan2(l,s),o=2*u;i[o]=n*Math.cos(r),i[o+1]=n*Math.sin(r),a[o]=i[o],a[o+1]=-i[o+1]}this._slicedChirpBuffer=i.subarray(t,n),this._f=new ee(r>>1),this._f.transform(this._chirpBuffer,a)}_transform(e,t,n){const r=this._buffer1,i=this._buffer2,a=this._outBuffer1,o=this._outBuffer2,s=this._chirpBuffer,l=this._slicedChirpBuffer,u=this._a;if(n)for(let c=0;c<l.length;c+=2){const e=c+1,n=t[c>>1];r[c]=n*l[c],r[e]=n*l[e]}else for(let c=0;c<l.length;c+=2){const e=c+1;r[c]=t[c]*l[c]-t[e]*l[e],r[e]=t[c]*l[e]+t[e]*l[c]}this._f.transform(a,r);for(let c=0;c<s.length;c+=2){const e=c+1;i[c]=a[c]*s[c]-a[e]*s[e],i[e]=a[c]*s[e]+a[e]*s[c]}this._f.inverseTransform(o,i);for(let c=0;c<o.length;c+=2){const t=o[c+u],n=o[c+u+1],r=l[c],i=l[c+1];e[c]=t*r-n*i,e[c+1]=t*i+n*r}}transform(e,t){this._transform(e,t,!1)}realTransform(e,t){this._transform(e,t,!0)}}class ne{constructor(e){this.fft_length=e,this.isPowerOfTwo=Q(e),this.isPowerOfTwo?(this.fft=new ee(e),this.outputBufferSize=2*e):(this.fft=new te(e),this.outputBufferSize=this.fft.bufferSize)}realTransform(e,t){this.fft.realTransform(e,t)}transform(e,t){this.fft.transform(e,t)}}function re(e,t){if(t%2===0||t<=0)throw new Error("Window size must be a positive odd number");const n=new e.constructor(e.length),r=new e.constructor(t),i=Math.floor(t/2);for(let a=0;a<e.length;++a){let t=0;for(let n=-i;n<=i;++n){let i=a+n;i<0?i=Math.abs(i):i>=e.length&&(i=2*(e.length-1)-i),r[t++]=e[i]}r.sort(),n[a]=r[i]}return n}function ie(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}function ae(e){const t=Math.round(e);return Math.abs(e)%1===.5?t%2===0?t:t-1:t}const oe=Object.freeze({float32:Float32Array,float64:Float64Array,string:Array,int8:Int8Array,uint8:Uint8Array,int16:Int16Array,uint16:Uint16Array,int32:Int32Array,uint32:Uint32Array,int64:BigInt64Array,uint64:BigUint64Array,bool:Uint8Array}),se=w.Tensor;class le{dims;type;data;size;constructor(...e){return e[0]instanceof se?Object.assign(this,e[0]):Object.assign(this,new se(e[0],e[1],e[2])),new Proxy(this,{get:(e,t)=>{if("string"===typeof t){let n=Number(t);if(Number.isInteger(n))return e._getitem(n)}return e[t]},set:(e,t,n)=>e[t]=n})}*[Symbol.iterator](){const[e,...t]=this.dims;if(t.length>0){const n=t.reduce(((e,t)=>e*t));for(let r=0;r<e;++r)yield this._subarray(r,n,t)}else yield*this.data}_getitem(e){const[t,...n]=this.dims;if(e=ge(e,t),n.length>0){const t=n.reduce(((e,t)=>e*t));return this._subarray(e,t,n)}return new le(this.type,[this.data[e]],n)}indexOf(e){for(let t=0;t<this.data.length;++t)if(this.data[t]==e)return t;return-1}_subarray(e,t,n){const r=e*t,i=(e+1)*t,a="subarray"in this.data?this.data.subarray(r,i):this.data.slice(r,i);return new le(this.type,a,n)}item(){if(1!==this.data.length)throw new Error(`a Tensor with ${this.data.length} elements cannot be converted to Scalar`);return this.data[0]}tolist(){return function(e,t){const n=e.length,r=t.reduce(((e,t)=>e*t));if(n!==r)throw Error(`cannot reshape array of size ${n} into shape (${t})`);let i=e;for(let a=t.length-1;a>=0;a--)i=i.reduce(((e,n)=>{let r=e[e.length-1];return r.length<t[a]?r.push(n):e.push([n]),e}),[[]]);return i[0]}(this.data,this.dims)}sigmoid(){return this.clone().sigmoid_()}sigmoid_(){for(let e=0;e<this.data.length;++e)this.data[e]=1/(1+Math.exp(-this.data[e]));return this}mul(e){return this.clone().mul_(e)}mul_(e){for(let t=0;t<this.data.length;++t)this.data[t]*=e;return this}add(e){return this.clone().add_(e)}add_(e){for(let t=0;t<this.data.length;++t)this.data[t]+=e;return this}clone(){return new le(this.type,this.data.slice(),this.dims.slice())}slice(...e){let t=[],n=[];for(let s=0;s<this.dims.length;++s){let r=e[s];if(null===r||void 0===r)n.push([0,this.dims[s]]),t.push(this.dims[s]);else if("number"===typeof r)r=ge(r,this.dims[s],s),n.push([r,r+1]);else{if(!Array.isArray(r)||2!==r.length)throw new Error(`Invalid slice: ${r}`);{if(r[0]>r[1])throw new Error(`Invalid slice: ${r}`);let e=[Math.max(r[0],0),Math.min(r[1],this.dims[s])];n.push(e),t.push(e[1]-e[0])}}}let r=n.map((([e,t])=>t-e)),i=r.reduce(((e,t)=>e*t)),a=new this.data.constructor(i);const o=this.stride();for(let s=0;s<i;++s){let e=0;for(let t=r.length-1,i=s;t>=0;--t){const a=r[t];e+=(i%a+n[t][0])*o[t],i=Math.floor(i/a)}a[s]=this.data[e]}return new le(this.type,a,t)}permute(...e){return ue(this,e)}transpose(...e){return this.permute(...e)}sum(e=null,t=!1){return this.norm(1,e,t)}norm(e="fro",t=null,n=!1){if("fro"===e)e=2;else if("string"===typeof e)throw Error(`Unsupported norm: ${e}`);if(null===t){let t=this.data.reduce(((t,n)=>t+n**e),0)**(1/e);return new le(this.type,[t],[])}t=ge(t,this.dims.length);const r=this.dims.slice();r[t]=1;const i=new this.data.constructor(this.data.length/this.dims[t]);for(let a=0;a<this.data.length;++a){let n=0;for(let e=this.dims.length-1,i=a,o=1;e>=0;--e){const a=this.dims[e];if(e!==t){n+=i%a*o,o*=r[e]}i=Math.floor(i/a)}i[n]+=this.data[a]**e}if(1!==e)for(let a=0;a<i.length;++a)i[a]=i[a]**(1/e);return n||r.splice(t,1),new le(this.type,i,r)}normalize_(e=2,t=1){t=ge(t,this.dims.length);const n=this.norm(e,t,!0);for(let r=0;r<this.data.length;++r){let e=0;for(let n=this.dims.length-1,i=r,a=1;n>=0;--n){const r=this.dims[n];if(n!==t){e+=i%r*a,a*=this.dims[n]}i=Math.floor(i/r)}this.data[r]/=n.data[e]}return this}normalize(e=2,t=1){return this.clone().normalize_(e,t)}stride(){return function(e){const t=new Array(e.length);for(let n=e.length-1,r=1;n>=0;--n)t[n]=r,r*=e[n];return t}(this.dims)}squeeze(e=null){return new le(this.type,this.data,he(this.dims,e))}squeeze_(e=null){return this.dims=he(this.dims,e),this}unsqueeze(e=null){return new le(this.type,this.data,pe(this.dims,e))}unsqueeze_(e=null){return this.dims=pe(this.dims,e),this}flatten_(e=0,t=-1){t=(t+this.dims.length)%this.dims.length;let n=this.dims.slice(0,e),r=this.dims.slice(e,t+1),i=this.dims.slice(t+1);return this.dims=[...n,r.reduce(((e,t)=>e*t),1),...i],this}flatten(e=0,t=-1){return this.clone().flatten_(e,t)}view(...e){let t=-1;for(let n=0;n<e.length;++n)if(-1===e[n]){if(-1!==t)throw new Error("Only one dimension can be inferred");t=n}if(-1!==t){const n=e.reduce(((e,n,r)=>r!==t?e*n:e),1);e[t]=this.data.length/n}return new le(this.type,this.data,e)}neg_(){for(let e=0;e<this.data.length;++e)this.data[e]=-this.data[e];return this}neg(){return this.clone().neg_()}clamp_(e,t){for(let n=0;n<this.data.length;++n)this.data[n]=Math.min(Math.max(this.data[n],e),t);return this}clamp(e,t){return this.clone().clamp_(e,t)}round_(){for(let e=0;e<this.data.length;++e)this.data[e]=Math.round(this.data[e]);return this}round(){return this.clone().round_()}to(e){if(this.type===e)return this;if(!oe.hasOwnProperty(e))throw new Error(`Unsupported type: ${e}`);return new le(e,oe[e].from(this.data),this.dims)}}function ue(e,t){const[n,r]=W(e.data,e.dims,t);return new le(e.type,n,r)}function ce(e,[t,n],r="bilinear",i=!1){const a=e.dims.at(-3)??1,o=e.dims.at(-2),s=e.dims.at(-1);let l=V(e.data,[a,o,s],[t,n],r,i);return new le(e.type,l,[a,t,n])}function de(e,t){let n=[e.dims[0],e.dims[2]],r=new e.data.constructor(n[0]*n[1]),[i,a,o]=e.dims,s=0;for(let l=0;l<i;++l){let n=l*o*a;for(let i=0;i<o;++i){let u=0,c=0,d=l*a,f=n+i;for(let n=0;n<a;++n){let r=Number(t.data[d+n]);c+=r,u+=e.data[f+n*o]*r}let h=u/c;r[s++]=h}}return new le(e.type,r,n)}function fe(e,t,{eps:n=1e-5}={}){if(2!==e.dims.length)throw new Error("`layer_norm` currently only supports 2D input.");const[r,i]=e.dims;if(1!==t.length&&t[0]!==i)throw new Error("`normalized_shape` must be a 1D array with shape `[input.dims[1]]`.");const[a,o]=_e(e,1,0,!0),s=new e.data.constructor(e.data.length);for(let l=0;l<r;++l){const t=l*i;for(let r=0;r<i;++r){const i=t+r;s[i]=(e.data[i]-o.data[l])/(a.data[l]+n)}}return new le(e.type,s,e.dims)}function he(e,t){return e=e.slice(),null===t?e=e.filter((e=>1!==e)):"number"===typeof t?1===e[t]&&e.splice(t,1):Array.isArray(t)&&(e=e.filter(((e,n)=>1!==e||!t.includes(n)))),e}function pe(e,t){return t=ge(t,e.length+1),(e=e.slice()).splice(t,0,1),e}function ge(e,t,n=null){if(e<-t||e>=t)throw new Error(`IndexError: index ${e} is out of bounds for dimension${null===n?"":" "+n} with size ${t}`);return e<0&&(e=(e%t+t)%t),e}function me(e,t=0){t=ge(t,e[0].dims.length);const n=e[0].dims.slice();n[t]=e.reduce(((e,n)=>e+n.dims[t]),0);const r=n.reduce(((e,t)=>e*t),1),i=new e[0].data.constructor(r),a=e[0].type;if(0===t){let t=0;for(let n of e)i.set(n.data,t),t+=n.data.length}else{let r=0;for(let a=0;a<e.length;++a){let o=e[a];for(let e=0;e<o.data.length;++e){let a=0;for(let i=o.dims.length-1,s=e,l=1;i>=0;--i){const e=o.dims[i];let u=s%e;i===t&&(u+=r),a+=u*l,l*=n[i],s=Math.floor(s/e)}i[a]=o.data[e]}r+=o.dims[t]}}return new le(a,i,n)}function ye(e,t=0){return me(e.map((e=>e.unsqueeze(t))),t)}function _e(e,t=null,n=1,r=!1){if(null===t){const t=e.data.reduce(((e,t)=>e+t),0)/e.data.length,r=Math.sqrt(e.data.reduce(((e,n)=>e+(n-t)**2),0)/(e.data.length-n)),i=new le(e.type,[t],[]);return[new le(e.type,[r],[]),i]}const i=be(e,t=ge(t,e.dims.length),r),a=e.dims.slice();a[t]=1;const o=new e.data.constructor(e.data.length/e.dims[t]);for(let s=0;s<e.data.length;++s){let n=0;for(let r=e.dims.length-1,i=s,o=1;r>=0;--r){const s=e.dims[r];if(r!==t){n+=i%s*o,o*=a[r]}i=Math.floor(i/s)}o[n]+=(e.data[s]-i.data[n])**2}for(let s=0;s<o.length;++s)o[s]=Math.sqrt(o[s]/(e.dims[t]-n));r||a.splice(t,1);return[new le(e.type,o,a),i]}function be(e,t=null,n=!1){if(null===t){let t=e.data.reduce(((e,t)=>e+t),0);return new le(e.type,[t/e.data.length],[])}t=ge(t,e.dims.length);const r=e.dims.slice();r[t]=1;const i=new e.data.constructor(e.data.length/e.dims[t]);for(let a=0;a<e.data.length;++a){let n=0;for(let i=e.dims.length-1,o=a,s=1;i>=0;--i){const a=e.dims[i];if(i!==t){n+=o%a*s,s*=r[i]}o=Math.floor(o/a)}i[n]+=e.data[a]}if(1!==e.dims[t])for(let a=0;a<i.length;++a)i[a]=i[a]/e.dims[t];return n||r.splice(t,1),new le(e.type,i,r)}function ve(e){const[t,n]=e.dims,r=[t+1,n+1],i=new le("float32",new Float32Array(r[0]*r[1]).fill(1/0),r),a=new le("float32",new Float32Array(r[0]*r[1]).fill(-1),r);i[0].data[0]=0;for(let c=1;c<n+1;++c)for(let n=1;n<t+1;++n){const t=i[n-1][c-1].item(),r=i[n-1][c].item(),o=i[n][c-1].item();let s,l;t<r&&t<o?(s=t,l=0):r<t&&r<o?(s=r,l=1):(s=o,l=2),i[n].data[c]=e[n-1][c-1].item()+s,a[n].data[c]=l}let o=t,s=n;a.data.fill(2,0,r[1]);for(let c=0;c<r[0];++c)a[c].data[0]=1;let l=[],u=[];for(;o>0||s>0;){l.push(o-1),u.push(s-1);switch(a[o][s].item()){case 0:--o,--s;break;case 1:--o;break;case 2:--s;break;default:throw new Error(`Internal error in dynamic time warping. Unexpected trace[${o}, ${s}]. Please file a bug report.`)}}return l.reverse(),u.reverse(),[l,u]}function we(e){const t=e.reduce(((e,t)=>e*t),1);return new le("int64",new BigInt64Array(t).fill(1n),e)}function xe(e){return we(e.dims)}function ke(e,t){if(2!==e.dims.length)throw new Error("The tensor must have 2 dimensions");if(e.dims.at(-1)%8!==0)throw new Error("The last dimension of the tensor must be a multiple of 8");if(!["binary","ubinary"].includes(t))throw new Error("The precision must be either 'binary' or 'ubinary'");const n="binary"===t,r=n?"int8":"uint8",i=n?Int8Array:Uint8Array,a=e.data,o=new i(a.length/8);for(let s=0;s<a.length;++s){const e=a[s]>0?1:0,t=Math.floor(s/8),r=s%8;o[t]|=e<<7-r,n&&0===r&&(o[t]-=128)}return new le(r,o,[e.dims[0],e.dims[1]/8])}class Se{constructor(e=((e,t)=>e>t)){this._heap=[],this._comparator=e}get size(){return this._heap.length}isEmpty(){return 0===this.size}peek(){return this._heap[0]}push(...e){return this.extend(e)}extend(e){for(const t of e)this._heap.push(t),this._siftUp();return this.size}pop(){const e=this.peek(),t=this.size-1;return t>0&&this._swap(0,t),this._heap.pop(),this._siftDown(),e}replace(e){const t=this.peek();return this._heap[0]=e,this._siftDown(),t}_parent(e){return(e+1>>>1)-1}_left(e){return 1+(e<<1)}_right(e){return e+1<<1}_greater(e,t){return this._comparator(this._heap[e],this._heap[t])}_swap(e,t){const n=this._heap[e];this._heap[e]=this._heap[t],this._heap[t]=n}_siftUp(){let e=this.size-1;for(;e>0&&this._greater(e,this._parent(e));)this._swap(e,this._parent(e)),e=this._parent(e)}_siftDown(){let e=0;for(;this._left(e)<this.size&&this._greater(this._left(e),e)||this._right(e)<this.size&&this._greater(this._right(e),e);){const t=this._right(e)<this.size&&this._greater(this._right(e),this._left(e))?this._right(e):this._left(e);this._swap(e,t),e=t}}}class Te{constructor(){this.root=Ee.default()}extend(e){for(let t of e)this.push(t)}push(e){let t=this.root;for(let n of e){let e=t.children.get(n);void 0===e&&(e=Ee.default(),t.children.set(n,e)),t=e}t.isLeaf=!0}*commonPrefixSearch(e){let t=this.root,n="";for(let r=0;r<e.length&&void 0!==t;++r){const i=e[r];n+=i,t=t.children.get(i),void 0!==t&&t.isLeaf&&(yield n)}}}class Ee{constructor(e,t){this.isLeaf=e,this.children=t}static default(){return new Ee(!1,new Map)}}class Ae{constructor(e,t,n){this.sentence=e,this.len=e.length,this.bosTokenId=t,this.eosTokenId=n,this.nodes=[],this.beginNodes=Array.from({length:this.len+1},(()=>[])),this.endNodes=Array.from({length:this.len+1},(()=>[]));const r=new Oe(this.bosTokenId,0,0,0,0),i=new Oe(this.eosTokenId,1,this.len,0,0);this.nodes.push(r.clone()),this.nodes.push(i.clone()),this.beginNodes[this.len].push(i),this.endNodes[0].push(r)}insert(e,t,n,r){const i=this.nodes.length,a=new Oe(r,i,e,t,n);this.beginNodes[e].push(a),this.endNodes[e+t].push(a),this.nodes.push(a)}viterbi(){const e=this.len;let t=0;for(;t<=e;){if(0==this.beginNodes[t].length)return[];for(let e of this.beginNodes[t]){e.prev=null;let n=0,r=null;for(let i of this.endNodes[t]){const t=i.backtraceScore+e.score;(null===r||t>n)&&(r=i.clone(),n=t)}if(null===r)return[];e.prev=r,e.backtraceScore=n}++t}const n=[],r=this.beginNodes[e][0].prev;if(null===r)return[];let i=r.clone();for(;null!==i.prev;){n.push(i.clone());const e=i.clone();i=e.prev.clone()}return n.reverse(),n}piece(e){return this.sentence.slice(e.pos,e.pos+e.length)}tokens(){return this.viterbi().map((e=>this.piece(e)))}tokenIds(){return this.viterbi().map((e=>e.tokenId))}}class Oe{constructor(e,t,n,r,i){this.tokenId=e,this.nodeId=t,this.pos=n,this.length=r,this.score=i,this.prev=null,this.backtraceScore=0}clone(){const e=new Oe(this.tokenId,this.nodeId,this.pos,this.length,this.score);return e.prev=this.prev,e.backtraceScore=this.backtraceScore,e}}var Ce=Object.freeze({Text:"Text",NumericLiteral:"NumericLiteral",BooleanLiteral:"BooleanLiteral",StringLiteral:"StringLiteral",Identifier:"Identifier",Equals:"Equals",OpenParen:"OpenParen",CloseParen:"CloseParen",OpenStatement:"OpenStatement",CloseStatement:"CloseStatement",OpenExpression:"OpenExpression",CloseExpression:"CloseExpression",OpenSquareBracket:"OpenSquareBracket",CloseSquareBracket:"CloseSquareBracket",OpenCurlyBracket:"OpenCurlyBracket",CloseCurlyBracket:"CloseCurlyBracket",Comma:"Comma",Dot:"Dot",Colon:"Colon",Pipe:"Pipe",CallOperator:"CallOperator",AdditiveBinaryOperator:"AdditiveBinaryOperator",MultiplicativeBinaryOperator:"MultiplicativeBinaryOperator",ComparisonBinaryOperator:"ComparisonBinaryOperator",UnaryOperator:"UnaryOperator",Set:"Set",If:"If",For:"For",In:"In",Is:"Is",NotIn:"NotIn",Else:"Else",EndIf:"EndIf",ElseIf:"ElseIf",EndFor:"EndFor",And:"And",Or:"Or",Not:"UnaryOperator"}),Ie=Object.freeze({set:Ce.Set,for:Ce.For,in:Ce.In,is:Ce.Is,if:Ce.If,else:Ce.Else,endif:Ce.EndIf,elif:Ce.ElseIf,endfor:Ce.EndFor,and:Ce.And,or:Ce.Or,not:Ce.Not,"not in":Ce.NotIn,true:Ce.BooleanLiteral,false:Ce.BooleanLiteral}),Pe=class{constructor(e,t){this.value=e,this.type=t}};function Me(e){return/\w/.test(e)}function Le(e){return/[0-9]/.test(e)}var Re=[["{%",Ce.OpenStatement],["%}",Ce.CloseStatement],["{{",Ce.OpenExpression],["}}",Ce.CloseExpression],["(",Ce.OpenParen],[")",Ce.CloseParen],["{",Ce.OpenCurlyBracket],["}",Ce.CloseCurlyBracket],["[",Ce.OpenSquareBracket],["]",Ce.CloseSquareBracket],[",",Ce.Comma],[".",Ce.Dot],[":",Ce.Colon],["|",Ce.Pipe],["<=",Ce.ComparisonBinaryOperator],[">=",Ce.ComparisonBinaryOperator],["==",Ce.ComparisonBinaryOperator],["!=",Ce.ComparisonBinaryOperator],["<",Ce.ComparisonBinaryOperator],[">",Ce.ComparisonBinaryOperator],["+",Ce.AdditiveBinaryOperator],["-",Ce.AdditiveBinaryOperator],["*",Ce.MultiplicativeBinaryOperator],["/",Ce.MultiplicativeBinaryOperator],["%",Ce.MultiplicativeBinaryOperator],["=",Ce.Equals]],Ne=new Map([["n","\n"],["t","\t"],["r","\r"],["b","\b"],["f","\f"],["v","\v"],["'","'"],['"','"'],["\\","\\"]]);var De=class{type="Statement"},je=class extends De{constructor(e){super(),this.body=e}type="Program"},Fe=class extends De{constructor(e,t,n){super(),this.test=e,this.body=t,this.alternate=n}type="If"},Be=class extends De{constructor(e,t,n){super(),this.loopvar=e,this.iterable=t,this.body=n}type="For"},ze=class extends De{constructor(e,t){super(),this.assignee=e,this.value=t}type="Set"},$e=class extends De{type="Expression"},Ue=class extends $e{constructor(e,t,n){super(),this.object=e,this.property=t,this.computed=n}type="MemberExpression"},Ve=class extends $e{constructor(e,t){super(),this.callee=e,this.args=t}type="CallExpression"},We=class extends $e{constructor(e){super(),this.value=e}type="Identifier"},He=class extends $e{constructor(e){super(),this.value=e}type="Literal"},Ge=class extends He{type="NumericLiteral"},qe=class extends He{type="StringLiteral"},Ke=class extends He{type="BooleanLiteral"},Ze=class extends He{type="ArrayLiteral"},Xe=class extends He{type="TupleLiteral"},Ye=class extends He{type="ObjectLiteral"},Je=class extends $e{constructor(e,t,n){super(),this.operator=e,this.left=t,this.right=n}type="BinaryExpression"},Qe=class extends $e{constructor(e,t){super(),this.operand=e,this.filter=t}type="FilterExpression"},et=class extends $e{constructor(e,t,n){super(),this.operand=e,this.negate=t,this.test=n}type="TestExpression"},tt=class extends $e{constructor(e,t){super(),this.operator=e,this.argument=t}type="UnaryExpression"},nt=class extends $e{constructor(e=void 0,t=void 0,n=void 0){super(),this.start=e,this.stop=t,this.step=n}type="SliceExpression"},rt=class extends $e{constructor(e,t){super(),this.key=e,this.value=t}type="KeywordArgumentExpression"};function it(e){const t=new je([]);let n=0;function r(t,r){const i=e[n++];if(!i||i.type!==t)throw new Error(`Parser Error: ${r}. ${i.type} !== ${t}.`);return i}function i(){switch(e[n].type){case Ce.Text:return new qe(r(Ce.Text,"Expected text token").value);case Ce.OpenStatement:return function(){let t;switch(r(Ce.OpenStatement,"Expected opening statement token"),e[n].type){case Ce.Set:++n,t=s(),r(Ce.CloseStatement,"Expected closing statement token");break;case Ce.If:++n,t=l(),r(Ce.OpenStatement,"Expected {% token"),r(Ce.EndIf,"Expected endif token"),r(Ce.CloseStatement,"Expected %} token");break;case Ce.For:++n,t=function(){const e=u(!0);if(!(e instanceof We||e instanceof Xe))throw new SyntaxError(`Expected identifier/tuple for the loop variable, got ${e.type} instead`);r(Ce.In,"Expected `in` keyword following loop variable");const t=c();r(Ce.CloseStatement,"Expected closing statement token");const n=[];for(;a(Ce.OpenStatement,Ce.EndFor);)n.push(i());return new Be(e,t,n)}(),r(Ce.OpenStatement,"Expected {% token"),r(Ce.EndFor,"Expected endfor token"),r(Ce.CloseStatement,"Expected %} token");break;default:throw new SyntaxError(`Unknown statement type: ${e[n].type}`)}return t}();case Ce.OpenExpression:return function(){r(Ce.OpenExpression,"Expected opening expression token");const e=c();return r(Ce.CloseExpression,"Expected closing expression token"),e}();default:throw new SyntaxError(`Unexpected token type: ${e[n].type}`)}}function a(...t){return n+t.length<=e.length&&t.some(((t,r)=>t!==e[n+r].type))}function o(...t){return n+t.length<=e.length&&t.every(((t,r)=>t===e[n+r].type))}function s(){const e=c();if(o(Ce.Equals)){++n;const t=s();return new ze(e,t)}return e}function l(){const t=c();r(Ce.CloseStatement,"Expected closing statement token");const a=[],s=[];for(;e[n]?.type!==Ce.OpenStatement||e[n+1]?.type!==Ce.ElseIf&&e[n+1]?.type!==Ce.Else&&e[n+1]?.type!==Ce.EndIf;)a.push(i());if(e[n]?.type===Ce.OpenStatement&&e[n+1]?.type!==Ce.EndIf)if(++n,o(Ce.ElseIf))r(Ce.ElseIf,"Expected elseif token"),s.push(l());else for(r(Ce.Else,"Expected else token"),r(Ce.CloseStatement,"Expected closing statement token");e[n]?.type!==Ce.OpenStatement||e[n+1]?.type!==Ce.EndIf;)s.push(i());return new Fe(t,a,s)}function u(e=!1){const t=e?v:c,r=[t()],i=o(Ce.Comma);for(;i&&(++n,r.push(t()),o(Ce.Comma)););return i?new Xe(r):r[0]}function c(){return function(){const e=d();if(o(Ce.If)){++n;const t=d();r(Ce.Else,"Expected else token");const i=d();return new Fe(t,[e],[i])}return e}()}function d(){let t=f();for(;o(Ce.Or);){const r=e[n];++n;const i=f();t=new Je(r,t,i)}return t}function f(){let t=h();for(;o(Ce.And);){const r=e[n];++n;const i=h();t=new Je(r,t,i)}return t}function h(){let t;for(;o(Ce.Not);){const r=e[n];++n;const i=h();t=new tt(r,i)}return t??function(){let t=p();for(;o(Ce.ComparisonBinaryOperator)||o(Ce.In)||o(Ce.NotIn);){const r=e[n];++n;const i=p();t=new Je(r,t,i)}return t}()}function p(){let t=_();for(;o(Ce.AdditiveBinaryOperator);){const r=e[n];++n;const i=_();t=new Je(r,t,i)}return t}function g(){const t=function(){let t=v();for(;o(Ce.Dot)||o(Ce.OpenSquareBracket);){const i=e[n];let a;++n;const o=i.type!==Ce.Dot;if(o)a=y(),r(Ce.CloseSquareBracket,"Expected closing square bracket");else if(a=v(),"Identifier"!==a.type)throw new SyntaxError("Expected identifier following dot operator");t=new Ue(t,a,o)}return t}();return o(Ce.OpenParen)?m(t):t}function m(e){let t=new Ve(e,function(){r(Ce.OpenParen,"Expected opening parenthesis for arguments list");const e=function(){const e=[];for(;!o(Ce.CloseParen);){let t=c();if(o(Ce.Equals)){if(++n,!(t instanceof We))throw new SyntaxError("Expected identifier for keyword argument");const e=c();t=new rt(t,e)}e.push(t),o(Ce.Comma)&&++n}return e}();return r(Ce.CloseParen,"Expected closing parenthesis for arguments list"),e}());return o(Ce.OpenParen)&&(t=m(t)),t}function y(){const e=[];let t=!1;for(;!o(Ce.CloseSquareBracket);)o(Ce.Colon)?(e.push(void 0),++n,t=!0):(e.push(c()),o(Ce.Colon)&&(++n,t=!0));if(0===e.length)throw new SyntaxError("Expected at least one argument for member/slice expression");if(t){if(e.length>3)throw new SyntaxError("Expected 0-3 arguments for slice expression");return new nt(...e)}return e[0]}function _(){let t=b();for(;o(Ce.MultiplicativeBinaryOperator);){const r=e[n];++n;const i=b();t=new Je(r,t,i)}return t}function b(){let e=function(){let e=g();for(;o(Ce.Pipe);){++n;let t=v();if(!(t instanceof We))throw new SyntaxError("Expected identifier for the filter");o(Ce.OpenParen)&&(t=m(t)),e=new Qe(e,t)}return e}();for(;o(Ce.Is);){++n;const t=o(Ce.Not);t&&++n;let r=v();if(r instanceof Ke&&(r=new We(r.value.toString())),!(r instanceof We))throw new SyntaxError("Expected identifier for the test");e=new et(e,t,r)}return e}function v(){const t=e[n];switch(t.type){case Ce.NumericLiteral:return++n,new Ge(Number(t.value));case Ce.StringLiteral:return++n,new qe(t.value);case Ce.BooleanLiteral:return++n,new Ke("true"===t.value);case Ce.Identifier:return++n,new We(t.value);case Ce.OpenParen:{++n;const t=u();if(e[n].type!==Ce.CloseParen)throw new SyntaxError(`Expected closing parenthesis, got ${e[n].type} instead`);return++n,t}case Ce.OpenSquareBracket:{++n;const e=[];for(;!o(Ce.CloseSquareBracket);)e.push(c()),o(Ce.Comma)&&++n;return++n,new Ze(e)}case Ce.OpenCurlyBracket:{++n;const e=new Map;for(;!o(Ce.CloseCurlyBracket);){const t=c();r(Ce.Colon,"Expected colon between key and value in object literal");const i=c();e.set(t,i),o(Ce.Comma)&&++n}return++n,new Ye(e)}default:throw new SyntaxError(`Unexpected token: ${t.type}`)}}for(;n<e.length;)t.body.push(i());return t}function at(e,t,n=1){void 0===t&&(t=e,e=0);const r=[];for(let i=e;i<t;i+=n)r.push(i);return r}function ot(e,t,n,r=1){const i=Math.sign(r);i>=0?(t=(t??=0)<0?Math.max(e.length+t,0):Math.min(t,e.length),n=(n??=e.length)<0?Math.max(e.length+n,0):Math.min(n,e.length)):(t=(t??=e.length-1)<0?Math.max(e.length+t,-1):Math.min(t,e.length-1),n=(n??=-1)<-1?Math.max(e.length+n,-1):Math.min(n,e.length-1));const a=[];for(let o=t;i*o<i*n;o+=r)a.push(e[o]);return a}function st(e){return e.replace(/\b\w/g,(e=>e.toUpperCase()))}var lt=class{type="RuntimeValue";value;builtins=new Map;constructor(e=void 0){this.value=e}__bool__(){return new dt(!!this.value)}},ut=class extends lt{type="NumericValue"},ct=class extends lt{type="StringValue";builtins=new Map([["upper",new gt((()=>new ct(this.value.toUpperCase())))],["lower",new gt((()=>new ct(this.value.toLowerCase())))],["strip",new gt((()=>new ct(this.value.trim())))],["title",new gt((()=>new ct(st(this.value))))],["length",new ut(this.value.length)]])},dt=class extends lt{type="BooleanValue"},ft=class extends lt{type="ObjectValue";__bool__(){return new dt(this.value.size>0)}builtins=new Map([["get",new gt((([e,t])=>{if(!(e instanceof ct))throw new Error(`Object key must be a string: got ${e.type}`);return this.value.get(e.value)??t??new mt}))],["items",new gt((()=>new ht(Array.from(this.value.entries()).map((([e,t])=>new ht([new ct(e),t]))))))]])},ht=class extends lt{type="ArrayValue";builtins=new Map([["length",new ut(this.value.length)]]);__bool__(){return new dt(this.value.length>0)}},pt=class extends ht{type="TupleValue"},gt=class extends lt{type="FunctionValue"},mt=class extends lt{type="NullValue"},yt=class extends lt{type="UndefinedValue"},_t=class{constructor(e){this.parent=e}variables=new Map([["namespace",new gt((e=>{if(0===e.length)return new ft(new Map);if(1!==e.length||!(e[0]instanceof ft))throw new Error("`namespace` expects either zero arguments or a single object argument");return e[0]}))]]);tests=new Map([["boolean",e=>"BooleanValue"===e.type],["callable",e=>e instanceof gt],["odd",e=>{if("NumericValue"!==e.type)throw new Error(`Cannot apply test "odd" to type: ${e.type}`);return e.value%2!==0}],["even",e=>{if("NumericValue"!==e.type)throw new Error(`Cannot apply test "even" to type: ${e.type}`);return e.value%2===0}],["false",e=>"BooleanValue"===e.type&&!e.value],["true",e=>"BooleanValue"===e.type&&e.value],["number",e=>"NumericValue"===e.type],["integer",e=>"NumericValue"===e.type&&Number.isInteger(e.value)],["iterable",e=>e instanceof ht||e instanceof ct],["lower",e=>{const t=e.value;return"StringValue"===e.type&&t===t.toLowerCase()}],["upper",e=>{const t=e.value;return"StringValue"===e.type&&t===t.toUpperCase()}],["none",e=>"NullValue"===e.type],["defined",e=>"UndefinedValue"!==e.type],["undefined",e=>"UndefinedValue"===e.type],["equalto",(e,t)=>e.value===t.value]]);set(e,t){return this.declareVariable(e,vt(t))}declareVariable(e,t){if(this.variables.has(e))throw new SyntaxError(`Variable already declared: ${e}`);return this.variables.set(e,t),t}setVariable(e,t){return this.variables.set(e,t),t}resolve(e){if(this.variables.has(e))return this;if(this.parent)return this.parent.resolve(e);throw new Error(`Unknown variable: ${e}`)}lookupVariable(e){try{return this.resolve(e).variables.get(e)??new yt}catch{return new yt}}},bt=class{global;constructor(e){this.global=e??new _t}run(e){return this.evaluate(e,this.global)}evaluateBinaryExpression(e,t){const n=this.evaluate(e.left,t);switch(e.operator.value){case"and":return n.__bool__().value?this.evaluate(e.right,t):n;case"or":return n.__bool__().value?n:this.evaluate(e.right,t)}const r=this.evaluate(e.right,t);switch(e.operator.value){case"==":return new dt(n.value==r.value);case"!=":return new dt(n.value!=r.value)}if(n instanceof yt||r instanceof yt)throw new Error("Cannot perform operation on undefined values");if(n instanceof mt||r instanceof mt)throw new Error("Cannot perform operation on null values");if(n instanceof ut&&r instanceof ut)switch(e.operator.value){case"+":return new ut(n.value+r.value);case"-":return new ut(n.value-r.value);case"*":return new ut(n.value*r.value);case"/":return new ut(n.value/r.value);case"%":return new ut(n.value%r.value);case"<":return new dt(n.value<r.value);case">":return new dt(n.value>r.value);case">=":return new dt(n.value>=r.value);case"<=":return new dt(n.value<=r.value)}else if(n instanceof ht&&r instanceof ht){if("+"===e.operator.value)return new ht(n.value.concat(r.value))}else if(r instanceof ht){const t=void 0!==r.value.find((e=>e.value===n.value));switch(e.operator.value){case"in":return new dt(t);case"not in":return new dt(!t)}}if((n instanceof ct||r instanceof ct)&&"+"===e.operator.value)return new ct(n.value.toString()+r.value.toString());if(n instanceof ct&&r instanceof ct)switch(e.operator.value){case"in":return new dt(r.value.includes(n.value));case"not in":return new dt(!r.value.includes(n.value))}if(n instanceof ct&&r instanceof ft)switch(e.operator.value){case"in":return new dt(r.value.has(n.value));case"not in":return new dt(!r.value.has(n.value))}throw new SyntaxError(`Unknown operator "${e.operator.value}" between ${n.type} and ${r.type}`)}evaluateFilterExpression(e,t){const n=this.evaluate(e.operand,t);if("Identifier"===e.filter.type){const t=e.filter;if(n instanceof ht)switch(t.value){case"list":return n;case"first":return n.value[0];case"last":return n.value[n.value.length-1];case"length":return new ut(n.value.length);case"reverse":return new ht(n.value.reverse());case"sort":return new ht(n.value.sort(((e,t)=>{if(e.type!==t.type)throw new Error(`Cannot compare different types: ${e.type} and ${t.type}`);switch(e.type){case"NumericValue":return e.value-t.value;case"StringValue":return e.value.localeCompare(t.value);default:throw new Error(`Cannot compare type: ${e.type}`)}})));default:throw new Error(`Unknown ArrayValue filter: ${t.value}`)}else if(n instanceof ct)switch(t.value){case"length":return new ut(n.value.length);case"upper":return new ct(n.value.toUpperCase());case"lower":return new ct(n.value.toLowerCase());case"title":return new ct(st(n.value));case"capitalize":return new ct(n.value.charAt(0).toUpperCase()+n.value.slice(1));case"trim":return new ct(n.value.trim());default:throw new Error(`Unknown StringValue filter: ${t.value}`)}else{if(n instanceof ut){if("abs"===t.value)return new ut(Math.abs(n.value));throw new Error(`Unknown NumericValue filter: ${t.value}`)}if(n instanceof ft)switch(t.value){case"items":return new ht(Array.from(n.value.entries()).map((([e,t])=>new ht([new ct(e),t]))));case"length":return new ut(n.value.size);default:throw new Error(`Unknown ObjectValue filter: ${t.value}`)}}throw new Error(`Cannot apply filter "${t.value}" to type: ${n.type}`)}if("CallExpression"===e.filter.type){const r=e.filter;if("Identifier"!==r.callee.type)throw new Error(`Unknown filter: ${r.callee.type}`);const i=r.callee.value;if(n instanceof ht){if("selectattr"===i){if(n.value.some((e=>!(e instanceof ft))))throw new Error("`selectattr` can only be applied to array of objects");if(r.args.some((e=>"StringLiteral"!==e.type)))throw new Error("arguments of `selectattr` must be strings");const[e,i,a]=r.args.map((e=>this.evaluate(e,t)));let o;if(i){const e=t.tests.get(i.value);if(!e)throw new Error(`Unknown test: ${i.value}`);o=e}else o=(...e)=>e[0].__bool__().value;const s=n.value.filter((t=>{const n=t.value.get(e.value);return!!n&&o(n,a)}));return new ht(s)}throw new Error(`Unknown ArrayValue filter: ${i}`)}throw new Error(`Cannot apply filter "${i}" to type: ${n.type}`)}throw new Error(`Unknown filter: ${e.filter.type}`)}evaluateTestExpression(e,t){const n=this.evaluate(e.operand,t),r=t.tests.get(e.test.value);if(!r)throw new Error(`Unknown test: ${e.test.value}`);const i=r(n);return new dt(e.negate?!i:i)}evaluateUnaryExpression(e,t){const n=this.evaluate(e.argument,t);if("not"===e.operator.value)return new dt(!n.value);throw new SyntaxError(`Unknown operator: ${e.operator.value}`)}evalProgram(e,t){return this.evaluateBlock(e.body,t)}evaluateBlock(e,t){let n="";for(const r of e){const e=this.evaluate(r,t);"NullValue"!==e.type&&"UndefinedValue"!==e.type&&(n+=e.value)}return new ct(n)}evaluateIdentifier(e,t){return t.lookupVariable(e.value)}evaluateCallExpression(e,t){const n=[],r=new Map;for(const a of e.args)if("KeywordArgumentExpression"===a.type){const e=a;r.set(e.key.value,this.evaluate(e.value,t))}else n.push(this.evaluate(a,t));r.size>0&&n.push(new ft(r));const i=this.evaluate(e.callee,t);if("FunctionValue"!==i.type)throw new Error(`Cannot call something that is not a function: got ${i.type}`);return i.value(n,t)}evaluateSliceExpression(e,t,n){if(!(e instanceof ht||e instanceof ct))throw new Error("Slice object must be an array or string");const r=this.evaluate(t.start,n),i=this.evaluate(t.stop,n),a=this.evaluate(t.step,n);if(!(r instanceof ut||r instanceof yt))throw new Error("Slice start must be numeric or undefined");if(!(i instanceof ut||i instanceof yt))throw new Error("Slice stop must be numeric or undefined");if(!(a instanceof ut||a instanceof yt))throw new Error("Slice step must be numeric or undefined");return e instanceof ht?new ht(ot(e.value,r.value,i.value,a.value)):new ct(ot(Array.from(e.value),r.value,i.value,a.value).join(""))}evaluateMemberExpression(e,t){const n=this.evaluate(e.object,t);let r,i;if(e.computed){if("SliceExpression"===e.property.type)return this.evaluateSliceExpression(n,e.property,t);r=this.evaluate(e.property,t)}else r=new ct(e.property.value);if(n instanceof ft){if(!(r instanceof ct))throw new Error(`Cannot access property with non-string: got ${r.type}`);i=n.value.get(r.value)??n.builtins.get(r.value)}else if(n instanceof ht||n instanceof ct)if(r instanceof ut)i=n.value.at(r.value),n instanceof ct&&(i=new ct(n.value.at(r.value)));else{if(!(r instanceof ct))throw new Error(`Cannot access property with non-string/non-number: got ${r.type}`);i=n.builtins.get(r.value)}else{if(!(r instanceof ct))throw new Error(`Cannot access property with non-string: got ${r.type}`);i=n.builtins.get(r.value)}return i instanceof lt?i:new yt}evaluateSet(e,t){const n=this.evaluate(e.value,t);if("Identifier"===e.assignee.type){const r=e.assignee.value;t.setVariable(r,n)}else{if("MemberExpression"!==e.assignee.type)throw new Error(`Invalid LHS inside assignment expression: ${JSON.stringify(e.assignee)}`);{const r=e.assignee,i=this.evaluate(r.object,t);if(!(i instanceof ft))throw new Error("Cannot assign to member of non-object");if("Identifier"!==r.property.type)throw new Error("Cannot assign to member with non-identifier property");i.value.set(r.property.value,n)}}return new mt}evaluateIf(e,t){const n=this.evaluate(e.test,t);return this.evaluateBlock(n.__bool__().value?e.body:e.alternate,t)}evaluateFor(e,t){const n=new _t(t),r=this.evaluate(e.iterable,n);if(!(r instanceof ht))throw new Error(`Expected iterable type in for loop: got ${r.type}`);let i="";for(let a=0;a<r.value.length;++a){const t=new Map([["index",new ut(a+1)],["index0",new ut(a)],["revindex",new ut(r.value.length-a)],["revindex0",new ut(r.value.length-a-1)],["first",new dt(0===a)],["last",new dt(a===r.value.length-1)],["length",new ut(r.value.length)],["previtem",a>0?r.value[a-1]:new yt],["nextitem",a<r.value.length-1?r.value[a+1]:new yt]]);n.setVariable("loop",new ft(t));const o=r.value[a];if("Identifier"===e.loopvar.type)n.setVariable(e.loopvar.value,o);else if("TupleLiteral"===e.loopvar.type){const t=e.loopvar;if("ArrayValue"!==o.type)throw new Error(`Cannot unpack non-iterable type: ${o.type}`);const r=o;if(t.value.length!==r.value.length)throw new Error(`Too ${t.value.length>r.value.length?"few":"many"} items to unpack`);for(let e=0;e<t.value.length;++e){if("Identifier"!==t.value[e].type)throw new Error(`Cannot unpack non-identifier type: ${t.value[e].type}`);n.setVariable(t.value[e].value,r.value[e])}}i+=this.evaluateBlock(e.body,n).value}return new ct(i)}evaluate(e,t){if(void 0===e)return new yt;switch(e.type){case"Program":return this.evalProgram(e,t);case"Set":return this.evaluateSet(e,t);case"If":return this.evaluateIf(e,t);case"For":return this.evaluateFor(e,t);case"NumericLiteral":return new ut(Number(e.value));case"StringLiteral":return new ct(e.value);case"BooleanLiteral":return new dt(e.value);case"ArrayLiteral":return new ht(e.value.map((e=>this.evaluate(e,t))));case"TupleLiteral":return new pt(e.value.map((e=>this.evaluate(e,t))));case"ObjectLiteral":{const n=new Map;for(const[r,i]of e.value){const e=this.evaluate(r,t);if(!(e instanceof ct))throw new Error(`Object keys must be strings: got ${e.type}`);n.set(e.value,this.evaluate(i,t))}return new ft(n)}case"Identifier":return this.evaluateIdentifier(e,t);case"CallExpression":return this.evaluateCallExpression(e,t);case"MemberExpression":return this.evaluateMemberExpression(e,t);case"UnaryExpression":return this.evaluateUnaryExpression(e,t);case"BinaryExpression":return this.evaluateBinaryExpression(e,t);case"FilterExpression":return this.evaluateFilterExpression(e,t);case"TestExpression":return this.evaluateTestExpression(e,t);default:throw new SyntaxError(`Unknown node type: ${e.type}`)}}};function vt(e){switch(typeof e){case"number":return new ut(e);case"string":return new ct(e);case"boolean":return new dt(e);case"object":return null===e?new mt:Array.isArray(e)?new ht(e.map(vt)):new ft(new Map(Object.entries(e).map((([e,t])=>[e,vt(t)]))));case"function":return new gt(((t,n)=>vt(e(...t.map((e=>e.value)))??null)));default:throw new Error(`Cannot convert to runtime value: ${e}`)}}var wt=class{parsed;constructor(e){const t=function(e,t={}){const n=[],r=function(e,t={}){return e.endsWith("\n")&&(e=e.slice(0,-1)),e=e.replace(/{#.*?#}/gs,"{##}"),t.lstrip_blocks&&(e=e.replace(/^[ \t]*({[#%])/gm,"$1")),t.trim_blocks&&(e=e.replace(/([#%]})\n/g,"$1")),e.replace(/{##}/g,"").replace(/-%}\s*/g,"%}").replace(/\s*{%-/g,"{%").replace(/-}}\s*/g,"}}").replace(/\s*{{-/g,"{{")}(e,t);let i=0;const a=e=>{let t="";for(;e(r[i]);)if("\\"!==r[i]){if(t+=r[i++],i>=r.length)throw new SyntaxError("Unexpected end of input")}else{if(++i,i>=r.length)throw new SyntaxError("Unexpected end of input");const e=r[i++],n=Ne.get(e);if(void 0===n)throw new SyntaxError(`Unexpected escaped character: ${e}`);t+=n}return t};e:for(;i<r.length;){const e=n.at(-1)?.type;if(void 0===e||e===Ce.CloseStatement||e===Ce.CloseExpression){let e="";for(;i<r.length&&("{"!==r[i]||"%"!==r[i+1]&&"{"!==r[i+1]);)e+=r[i++];if(e.length>0){n.push(new Pe(e,Ce.Text));continue}}a((e=>/\s/.test(e)));const t=r[i];if("-"===t||"+"===t){const e=n.at(-1)?.type;if(e===Ce.Text||void 0===e)throw new SyntaxError(`Unexpected character: ${t}`);switch(e){case Ce.Identifier:case Ce.NumericLiteral:case Ce.BooleanLiteral:case Ce.StringLiteral:case Ce.CloseParen:case Ce.CloseSquareBracket:break;default:{++i;const e=a(Le);n.push(new Pe(`${t}${e}`,e.length>0?Ce.NumericLiteral:Ce.UnaryOperator));continue}}}for(const[a,o]of Re)if(r.slice(i,i+a.length)===a){n.push(new Pe(a,o)),i+=a.length;continue e}if("'"!==t&&'"'!==t)if(Le(t)){const e=a(Le);n.push(new Pe(e,Ce.NumericLiteral))}else{if(!Me(t))throw new SyntaxError(`Unexpected character: ${t}`);{const e=a(Me),t=Object.hasOwn(Ie,e)?Ie[e]:Ce.Identifier;t===Ce.In&&n.at(-1)?.type===Ce.Not?(n.pop(),n.push(new Pe("not in",Ce.NotIn))):n.push(new Pe(e,t))}}else{++i;const e=a((e=>e!==t));n.push(new Pe(e,Ce.StringLiteral)),++i}}return n}(e,{lstrip_blocks:!0,trim_blocks:!0});this.parsed=it(t)}render(e){const t=new _t;t.set("false",!1),t.set("true",!0),t.set("raise_exception",(e=>{throw new Error(e)})),t.set("range",at);for(const[n,r]of Object.entries(e))t.set(n,r);return new bt(t).run(this.parsed).value}};async function xt(e,t){const n=await Promise.all([$(e,"tokenizer.json",!0,t),$(e,"tokenizer_config.json",!0,t)]);return null!==t.legacy&&(n[1].legacy=t.legacy),n}function kt(e,t=!0){if(void 0!==e.Regex){let t=e.Regex.replace(/\\([#&~])/g,"$1");for(const[e,n]of Ct)t=t.replaceAll(e,n);return new RegExp(t,"gu")}if(void 0!==e.String){const n=i(e.String);return new RegExp(t?n:`(${n})`,"gu")}return console.warn("Unknown pattern type:",e),null}function St(e){return new Map(Object.entries(e))}function Tt(e){const t=e.dims;switch(t.length){case 1:return e.tolist();case 2:if(1!==t[0])throw new Error("Unable to decode tensor with `batch size !== 1`. Use `tokenizer.batch_decode(...)` for batched inputs.");return e.tolist()[0];default:throw new Error(`Expected tensor to have 1-2 dimensions, got ${t.length}.`)}}function Et(e){return e.replace(/ \./g,".").replace(/ \?/g,"?").replace(/ \!/g,"!").replace(/ ,/g,",").replace(/ \' /g,"'").replace(/ n\'t/g,"n't").replace(/ \'m/g,"'m").replace(/ \'s/g,"'s").replace(/ \'ve/g,"'ve").replace(/ \'re/g,"'re")}function At(e){return e.replace(/[\u0300-\u036f]/g,"")}const Ot="\\p{P}\\u0021-\\u002F\\u003A-\\u0040\\u005B-\\u0060\\u007B-\\u007E",Ct=new Map([["(?i:'s|'t|'re|'ve|'m|'ll|'d)","(?:'([sS]|[tT]|[rR][eE]|[vV][eE]|[mM]|[lL][lL]|[dD]))"]]);class It{constructor(e){this.content=e.content,this.id=e.id,this.single_word=e.single_word??!1,this.lstrip=e.lstrip??!1,this.rstrip=e.rstrip??!1,this.special=e.special??!1,this.normalized=e.normalized??null}}class Pt extends a{constructor(e){super(),this.config=e,this.vocab=[],this.tokens_to_ids=new Map,this.unk_token_id=void 0,this.unk_token=void 0,this.end_of_word_suffix=void 0,this.fuse_unk=this.config.fuse_unk??!1}static fromConfig(e,...t){switch(e.type){case"WordPiece":return new Mt(e);case"Unigram":return new Lt(e,...t);case"BPE":return new jt(e);default:if(e.vocab)return new Ft(e,...t);throw new Error(`Unknown TokenizerModel type: ${e.type}`)}}_call(e){let t=this.encode(e);return this.fuse_unk&&(t=function(e,t,n){const r=[];let i=0;for(;i<e.length;)if(r.push(e[i]),(n.get(e[i])??t)===t)for(;i<e.length&&(n.get(e[i])??t)===t;)++i;else++i;return r}(t,this.unk_token_id,this.tokens_to_ids)),t}encode(e){throw Error("encode should be implemented in subclass.")}convert_tokens_to_ids(e){return e.map((e=>this.tokens_to_ids.get(e)??this.unk_token_id))}convert_ids_to_tokens(e){return e.map((e=>this.vocab[e]??this.unk_token))}}class Mt extends Pt{constructor(e){super(e),this.tokens_to_ids=St(e.vocab),this.unk_token_id=this.tokens_to_ids.get(e.unk_token),this.unk_token=e.unk_token,this.max_input_chars_per_word=e.max_input_chars_per_word??100,this.vocab=new Array(this.tokens_to_ids.size);for(const[t,n]of this.tokens_to_ids)this.vocab[n]=t}encode(e){const t=[];for(const n of e){const e=[...n];if(e.length>this.max_input_chars_per_word){t.push(this.unk_token);continue}let r=!1,i=0;const a=[];for(;i<e.length;){let t=e.length,n=null;for(;i<t;){let r=e.slice(i,t).join("");if(i>0&&(r=this.config.continuing_subword_prefix+r),this.tokens_to_ids.has(r)){n=r;break}--t}if(null===n){r=!0;break}a.push(n),i=t}r?t.push(this.unk_token):t.push(...a)}return t}}class Lt extends Pt{constructor(e,t){super(e);const n=e.vocab.length;this.vocab=new Array(n),this.scores=new Array(n);for(let r=0;r<n;++r){const t=e.vocab[r];this.vocab[r]=t[0],this.scores[r]=t[1]}this.unk_token_id=e.unk_id,this.unk_token=this.vocab[e.unk_id],this.tokens_to_ids=new Map(this.vocab.map(((e,t)=>[e,t]))),this.bosToken=" ",this.bosTokenId=this.tokens_to_ids.get(this.bosToken),this.eosToken=t.eos_token,this.eosTokenId=this.tokens_to_ids.get(this.eosToken),this.unkToken=this.vocab[this.unk_token_id],this.minScore=Y(this.scores)[0],this.unkScore=this.minScore-10,this.scores[this.unk_token_id]=this.unkScore,this.trie=new Te,this.trie.extend(this.vocab),this.fuse_unk=!0}populateNodes(e){const t=e.sentence,n=t.length;let r=0;for(;r<n;){const n=1;let i=!1;const a=[];for(let o of this.trie.commonPrefixSearch(t.slice(r))){a.push(o);const t=this.tokens_to_ids.get(o),s=this.scores[t],l=o.length;e.insert(r,l,s,t),i||l!==n||(i=!0)}i||e.insert(r,n,this.unkScore,this.unk_token_id),r+=n}}tokenize(e){const t=new Ae(e,this.bosTokenId,this.eosTokenId);return this.populateNodes(t),t.tokens()}encode(e){const t=[];for(const n of e){const e=this.tokenize(n);t.push(...e)}return t}}const Rt=(()=>{const e=[...Array.from({length:"~".charCodeAt(0)-"!".charCodeAt(0)+1},((e,t)=>t+"!".charCodeAt(0))),...Array.from({length:"\xac".charCodeAt(0)-"\xa1".charCodeAt(0)+1},((e,t)=>t+"\xa1".charCodeAt(0))),...Array.from({length:"\xff".charCodeAt(0)-"\xae".charCodeAt(0)+1},((e,t)=>t+"\xae".charCodeAt(0)))],t=e.slice();let n=0;for(let i=0;i<256;++i)e.includes(i)||(e.push(i),t.push(256+n),n+=1);const r=t.map((e=>String.fromCharCode(e)));return Object.fromEntries(e.map(((e,t)=>[e,r[t]])))})(),Nt=(Dt=Rt,Object.fromEntries(Object.entries(Dt).map((([e,t])=>[t,e]))));var Dt;class jt extends Pt{constructor(e){super(e),this.BPE_SPLIT_TOKEN=" ",this.tokens_to_ids=St(e.vocab),this.unk_token_id=this.tokens_to_ids.get(e.unk_token),this.unk_token=e.unk_token,this.vocab=new Array(this.tokens_to_ids.size);for(const[t,n]of this.tokens_to_ids)this.vocab[n]=t;this.bpe_ranks=new Map(e.merges.map(((e,t)=>[e,t]))),this.merges=e.merges.map((e=>e.split(this.BPE_SPLIT_TOKEN))),this.end_of_word_suffix=e.end_of_word_suffix,this.continuing_subword_suffix=e.continuing_subword_suffix??null,this.byte_fallback=this.config.byte_fallback??!1,this.byte_fallback&&(this.text_encoder=new TextEncoder),this.ignore_merges=this.config.ignore_merges??!1,this.cache=new Map}bpe(e){if(0===e.length)return[];const t=this.cache.get(e);if(void 0!==t)return t;const n=Array.from(e);this.end_of_word_suffix&&(n[n.length-1]+=this.end_of_word_suffix);let r=[];if(n.length>1){const e=new Se(((e,t)=>e.score<t.score));let t={token:n[0],bias:0,prev:null,next:null},i=t;for(let r=1;r<n.length;++r){const t={bias:r/n.length,token:n[r],prev:i,next:null};i.next=t,this._add_node(e,i),i=t}for(;!e.isEmpty();){const n=e.pop();if(n.deleted||!n.next||n.next.deleted)continue;if(n.deleted=!0,n.next.deleted=!0,n.prev){const e={...n.prev};n.prev.deleted=!0,n.prev=e,e.prev?e.prev.next=e:t=e}const r={token:n.token+n.next.token,bias:n.bias,prev:n.prev,next:n.next.next};r.prev?(r.prev.next=r,this._add_node(e,r.prev)):t=r,r.next&&(r.next.prev=r,this._add_node(e,r))}for(let n=t;null!==n;n=n.next)r.push(n.token)}else r=n;if(this.continuing_subword_suffix)for(let i=0;i<r.length-1;++i)r[i]+=this.continuing_subword_suffix;return this.cache.set(e,r),r}_add_node(e,t){const n=this.bpe_ranks.get(t.token+this.BPE_SPLIT_TOKEN+t.next.token);void 0!==n&&(t.score=n+t.bias,e.push(t))}encode(e){const t=[];for(const n of e){if(this.ignore_merges&&this.tokens_to_ids.has(n)){t.push(n);continue}const e=this.bpe(n);for(const n of e)this.tokens_to_ids.has(n)?t.push(n):this.byte_fallback?t.push(...Array.from(this.text_encoder.encode(n)).map((e=>`<0x${e.toString(16).toUpperCase().padStart(2,"0")}>`))):t.push(this.unk_token)}return t}}class Ft extends Pt{constructor(e,t){super(e),this.tokens_to_ids=St(t.target_lang?e.vocab[t.target_lang]:e.vocab),this.bos_token=t.bos_token,this.bos_token_id=this.tokens_to_ids.get(this.bos_token),this.eos_token=t.eos_token,this.eos_token_id=this.tokens_to_ids.get(this.eos_token),this.pad_token=t.pad_token,this.pad_token_id=this.tokens_to_ids.get(this.pad_token),this.unk_token=t.unk_token,this.unk_token_id=this.tokens_to_ids.get(this.unk_token),this.vocab=new Array(this.tokens_to_ids.size);for(const[n,r]of this.tokens_to_ids)this.vocab[r]=n}encode(e){return e}}class Bt extends a{constructor(e){super(),this.config=e}static fromConfig(e){if(null===e)return null;switch(e.type){case"BertNormalizer":return new Zt(e);case"Precompiled":return new xn(e);case"Sequence":return new Kt(e);case"Replace":return new zt(e);case"NFC":return new $t(e);case"NFKC":return new Ut(e);case"NFKD":return new Vt(e);case"Strip":return new Wt(e);case"StripAccents":return new Ht(e);case"Lowercase":return new Gt(e);case"Prepend":return new qt(e);default:throw new Error(`Unknown Normalizer type: ${e.type}`)}}normalize(e){throw Error("normalize should be implemented in subclass.")}_call(e){return this.normalize(e)}}class zt extends Bt{normalize(e){const t=kt(this.config.pattern);return null===t?e:e.replaceAll(t,this.config.content)}}class $t extends Bt{normalize(e){return e=e.normalize("NFC")}}class Ut extends Bt{normalize(e){return e=e.normalize("NFKC")}}class Vt extends Bt{normalize(e){return e=e.normalize("NFKD")}}class Wt extends Bt{normalize(e){return this.config.strip_left&&this.config.strip_right?e=e.trim():(this.config.strip_left&&(e=e.trimStart()),this.config.strip_right&&(e=e.trimEnd())),e}}class Ht extends Bt{normalize(e){return e=At(e)}}class Gt extends Bt{normalize(e){return e=e.toLowerCase()}}class qt extends Bt{normalize(e){return e=this.config.prepend+e}}class Kt extends Bt{constructor(e){super(e),this.normalizers=e.normalizers.map((e=>Bt.fromConfig(e)))}normalize(e){return this.normalizers.reduce(((e,t)=>t.normalize(e)),e)}}class Zt extends Bt{_tokenize_chinese_chars(e){const t=[];for(let n=0;n<e.length;++n){const r=e[n],i=r.charCodeAt(0);this._is_chinese_char(i)?(t.push(" "),t.push(r),t.push(" ")):t.push(r)}return t.join("")}_is_chinese_char(e){return e>=19968&&e<=40959||e>=13312&&e<=19903||e>=131072&&e<=173791||e>=173824&&e<=177983||e>=177984&&e<=178207||e>=178208&&e<=183983||e>=63744&&e<=64255||e>=194560&&e<=195103}stripAccents(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}_is_control(e){switch(e){case"\t":case"\n":case"\r":return!1;default:return/^\p{Cc}|\p{Cf}|\p{Co}|\p{Cs}$/u.test(e)}}_clean_text(e){const t=[];for(const n of e){const e=n.charCodeAt(0);0===e||65533===e||this._is_control(n)||(/^\s$/.test(n)?t.push(" "):t.push(n))}return t.join("")}normalize(e){return this.config.clean_text&&(e=this._clean_text(e)),this.config.handle_chinese_chars&&(e=this._tokenize_chinese_chars(e)),this.config.lowercase?(e=e.toLowerCase(),!1!==this.config.strip_accents&&(e=this.stripAccents(e))):this.config.strip_accents&&(e=this.stripAccents(e)),e}}class Xt extends a{static fromConfig(e){if(null===e)return null;switch(e.type){case"BertPreTokenizer":return new Yt(e);case"Sequence":return new kn(e);case"Whitespace":return new Sn(e);case"WhitespaceSplit":return new Tn(e);case"Metaspace":return new vn(e);case"ByteLevel":return new Jt(e);case"Split":return new Qt(e);case"Punctuation":return new en(e);case"Digits":return new tn(e);case"Replace":return new En(e);default:throw new Error(`Unknown PreTokenizer type: ${e.type}`)}}pre_tokenize_text(e,t){throw Error("pre_tokenize_text should be implemented in subclass.")}pre_tokenize(e,t){return(Array.isArray(e)?e.map((e=>this.pre_tokenize_text(e,t))):this.pre_tokenize_text(e,t)).flat()}_call(e,t){return this.pre_tokenize(e,t)}}class Yt extends Xt{constructor(e){super(),this.pattern=new RegExp(`[^\\s${Ot}]+|[${Ot}]`,"gu")}pre_tokenize_text(e,t){return e.trim().match(this.pattern)||[]}}class Jt extends Xt{constructor(e){super(),this.config=e,this.add_prefix_space=this.config.add_prefix_space,this.trim_offsets=this.config.trim_offsets,this.use_regex=this.config.use_regex??!0,this.pattern=/'s|'t|'re|'ve|'m|'ll|'d| ?\p{L}+| ?\p{N}+| ?[^\s\p{L}\p{N}]+|\s+(?!\S)|\s+/gu,this.byte_encoder=Rt,this.text_encoder=new TextEncoder}pre_tokenize_text(e,t){this.add_prefix_space&&!e.startsWith(" ")&&(e=" "+e);return(this.use_regex?e.match(this.pattern)||[]:[e]).map((e=>Array.from(this.text_encoder.encode(e),(e=>this.byte_encoder[e])).join("")))}}class Qt extends Xt{constructor(e){super(),this.config=e,this.pattern=kt(this.config.pattern,this.config.invert)}pre_tokenize_text(e,t){return null===this.pattern?[]:this.config.invert?e.match(this.pattern)||[]:function(e,t){const n=[];let r=0;for(const i of e.matchAll(t)){const t=i[0];r<i.index&&n.push(e.slice(r,i.index)),t.length>0&&n.push(t),r=i.index+t.length}return r<e.length&&n.push(e.slice(r)),n}(e,this.pattern)}}class en extends Xt{constructor(e){super(),this.config=e,this.pattern=new RegExp(`[^${Ot}]+|[${Ot}]+`,"gu")}pre_tokenize_text(e,t){return e.match(this.pattern)||[]}}class tn extends Xt{constructor(e){super(),this.config=e;const t="[^\\d]+|\\d"+(this.config.individual_digits?"":"+");this.pattern=new RegExp(t,"gu")}pre_tokenize_text(e,t){return e.match(this.pattern)||[]}}class nn extends a{constructor(e){super(),this.config=e}static fromConfig(e){if(null===e)return null;switch(e.type){case"TemplateProcessing":return new on(e);case"ByteLevel":return new sn(e);case"RobertaProcessing":return new an(e);case"BertProcessing":return new rn(e);case"Sequence":return new ln(e);default:throw new Error(`Unknown PostProcessor type: ${e.type}`)}}post_process(e,...t){throw Error("post_process should be implemented in subclass.")}_call(e,...t){return this.post_process(e,...t)}}class rn extends nn{constructor(e){super(e),this.cls=e.cls[0],this.sep=e.sep[0]}post_process(e,t=null,{add_special_tokens:n=!0}={}){n&&(e=u([this.cls],e,[this.sep]));let r=new Array(e.length).fill(0);if(null!==t){const i=n&&this instanceof an?[this.sep]:[],a=n?[this.sep]:[];e=u(e,i,t,a),r=u(r,new Array(t.length+i.length+a.length).fill(1))}return{tokens:e,token_type_ids:r}}}class an extends rn{}class on extends nn{constructor(e){super(e),this.single=e.single,this.pair=e.pair}post_process(e,t=null,{add_special_tokens:n=!0}={}){const r=null===t?this.single:this.pair;let i=[],a=[];for(const o of r)"SpecialToken"in o?n&&(i.push(o.SpecialToken.id),a.push(o.SpecialToken.type_id)):"Sequence"in o&&("A"===o.Sequence.id?(i=u(i,e),a=u(a,new Array(e.length).fill(o.Sequence.type_id))):"B"===o.Sequence.id&&(i=u(i,t),a=u(a,new Array(t.length).fill(o.Sequence.type_id))));return{tokens:i,token_type_ids:a}}}class sn extends nn{post_process(e,t=null){return t&&(e=u(e,t)),{tokens:e}}}class ln extends nn{constructor(e){super(e),this.processors=e.processors.map((e=>nn.fromConfig(e)))}post_process(e,t=null,n={}){let r;for(const i of this.processors)if(i instanceof sn){if(e=i.post_process(e).tokens,t){t=i.post_process(t).tokens}}else{const a=i.post_process(e,t,n);e=a.tokens,r=a.token_type_ids}return{tokens:e,token_type_ids:r}}}class un extends a{constructor(e){super(),this.config=e,this.added_tokens=[],this.end_of_word_suffix=null,this.trim_offsets=e.trim_offsets}static fromConfig(e){if(null===e)return null;switch(e.type){case"WordPiece":return new pn(e);case"Metaspace":return new wn(e);case"ByteLevel":return new gn(e);case"Replace":return new cn(e);case"ByteFallback":return new dn(e);case"Fuse":return new fn(e);case"Strip":return new hn(e);case"Sequence":return new yn(e);case"CTC":return new mn(e);case"BPEDecoder":return new _n(e);default:throw new Error(`Unknown Decoder type: ${e.type}`)}}_call(e){return this.decode(e)}decode(e){return this.decode_chain(e).join("")}decode_chain(e){throw Error("`decode_chain` should be implemented in subclass.")}}class cn extends un{decode_chain(e){const t=kt(this.config.pattern);return null===t?e:e.map((e=>e.replaceAll(t,this.config.content)))}}class dn extends un{constructor(e){super(e),this.text_decoder=new TextDecoder}decode_chain(e){const t=[];let n=[];for(const r of e){let e=null;if(6===r.length&&r.startsWith("<0x")&&r.endsWith(">")){const t=parseInt(r.slice(3,5),16);isNaN(t)||(e=t)}if(null!==e)n.push(e);else{if(n.length>0){const e=this.text_decoder.decode(Uint8Array.from(n));t.push(e),n=[]}t.push(r)}}if(n.length>0){const e=this.text_decoder.decode(Uint8Array.from(n));t.push(e),n=[]}return t}}class fn extends un{decode_chain(e){return[e.join("")]}}class hn extends un{constructor(e){super(e),this.content=this.config.content,this.start=this.config.start,this.stop=this.config.stop}decode_chain(e){return e.map((e=>{let t=0;for(let r=0;r<this.start&&e[r]===this.content;++r)t=r+1;let n=e.length;for(let r=0;r<this.stop;++r){const t=e.length-r-1;if(e[t]!==this.content)break;n=t}return e.slice(t,n)}))}}class pn extends un{constructor(e){super(e),this.cleanup=e.cleanup}decode_chain(e){return e.map(((e,t)=>(0!==t&&(e=e.startsWith(this.config.prefix)?e.replace(this.config.prefix,""):" "+e),this.cleanup&&(e=Et(e)),e)))}}class gn extends un{constructor(e){super(e),this.byte_decoder=Nt,this.text_decoder=new TextDecoder("utf-8",{fatal:!1,ignoreBOM:!0}),this.end_of_word_suffix=null}convert_tokens_to_string(e){const t=e.join(""),n=new Uint8Array([...t].map((e=>this.byte_decoder[e])));return this.text_decoder.decode(n)}decode_chain(e){const t=[];let n=[];for(const r of e)void 0!==this.added_tokens.find((e=>e.content===r))?(n.length>0&&(t.push(this.convert_tokens_to_string(n)),n=[]),t.push(r)):n.push(r);return n.length>0&&t.push(this.convert_tokens_to_string(n)),t}}class mn extends un{constructor(e){super(e),this.pad_token=this.config.pad_token,this.word_delimiter_token=this.config.word_delimiter_token,this.cleanup=this.config.cleanup}convert_tokens_to_string(e){if(0===e.length)return"";const t=[e[0]];for(let r=1;r<e.length;++r)e[r]!==t.at(-1)&&t.push(e[r]);let n=t.filter((e=>e!==this.pad_token)).join("");return this.cleanup&&(n=Et(n).replaceAll(this.word_delimiter_token," ").trim()),n}decode_chain(e){return[this.convert_tokens_to_string(e)]}}class yn extends un{constructor(e){super(e),this.decoders=e.decoders.map((e=>un.fromConfig(e)))}decode_chain(e){return this.decoders.reduce(((e,t)=>t.decode_chain(e)),e)}}class _n extends un{constructor(e){super(e),this.suffix=this.config.suffix}decode_chain(e){return e.map(((t,n)=>t.replaceAll(this.suffix,n===e.length-1?"":" ")))}}class bn extends un{decode_chain(e){let t="";for(let n=1;n<e.length;n+=2)t+=e[n];return[t]}}class vn extends Xt{constructor(e){super(),this.addPrefixSpace=e.add_prefix_space,this.replacement=e.replacement,this.strRep=e.str_rep||this.replacement,this.prepend_scheme=e.prepend_scheme??"always"}pre_tokenize_text(e,{section_index:t}={}){let n=e.replaceAll(" ",this.strRep);return this.addPrefixSpace&&!n.startsWith(this.replacement)&&("always"===this.prepend_scheme||"first"===this.prepend_scheme&&0===t)&&(n=this.strRep+n),[n]}}class wn extends un{constructor(e){super(e),this.addPrefixSpace=e.add_prefix_space,this.replacement=e.replacement}decode_chain(e){const t=[];for(let n=0;n<e.length;++n){let r=e[n].replaceAll(this.replacement," ");this.addPrefixSpace&&0==n&&r.startsWith(" ")&&(r=r.substring(1)),t.push(r)}return t}}class xn extends Bt{constructor(e){super(e),this.charsmap=e.precompiled_charsmap}normalize(e){if((e=(e=e.replace(/[\u0001-\u0008\u000B\u000E-\u001F\u007F\u008F\u009F]/gm,"")).replace(/[\u0009\u000A\u000C\u000D\u1680\u200B\u200C\u200E\u200F\u2028\u2029\u2581\uFEFF\uFFFD]/gm," ")).includes("\uff5e")){const t=e.split("\uff5e");e=t.map((e=>e.normalize("NFKC"))).join("\uff5e")}else e=e.normalize("NFKC");return e}}class kn extends Xt{constructor(e){super(),this.tokenizers=e.pretokenizers.map((e=>Xt.fromConfig(e)))}pre_tokenize_text(e,t){return this.tokenizers.reduce(((e,n)=>n.pre_tokenize(e,t)),[e])}}class Sn extends Xt{constructor(e){super()}pre_tokenize_text(e,t){return e.match(/\w+|[^\w\s]+/g)||[]}}class Tn extends Xt{constructor(e){super()}pre_tokenize_text(e,t){return function(e){return e.match(/\S+/g)||[]}(e)}}class En extends Xt{constructor(e){super(),this.config=e,this.pattern=kt(this.config.pattern),this.content=this.config.content}pre_tokenize_text(e,t){return null===this.pattern?[e]:[e.replaceAll(this.pattern,this.config.content)]}}const An=["bos_token","eos_token","unk_token","sep_token","pad_token","cls_token","mask_token"];function On(e,t,n,r){for(const i of Object.keys(e)){const a=t-e[i].length,o=n(i),s=new Array(a).fill(o);e[i]="right"===r?u(e[i],s):u(s,e[i])}}function Cn(e,t){for(const n of Object.keys(e))e[n].length=t}class In extends a{return_token_type_ids=!1;_default_chat_template="{% for message in messages %}{{'<|im_start|>' + message['role'] + '\n' + message['content'] + '<|im_end|>' + '\n'}}{% endfor %}{% if add_generation_prompt %}{{ '<|im_start|>assistant\n' }}{% endif %}";constructor(e,t){super(),this._tokenizer_config=t,this.normalizer=Bt.fromConfig(e.normalizer),this.pre_tokenizer=Xt.fromConfig(e.pre_tokenizer),this.model=Pt.fromConfig(e.model,t),this.post_processor=nn.fromConfig(e.post_processor),this.decoder=un.fromConfig(e.decoder),this.special_tokens=[],this.all_special_ids=[],this.added_tokens=[];for(const n of e.added_tokens){const e=new It(n);this.added_tokens.push(e),this.model.tokens_to_ids.set(e.content,e.id),this.model.vocab[e.id]=e.content,e.special&&(this.special_tokens.push(e.content),this.all_special_ids.push(e.id))}if(this.additional_special_tokens=t.additional_special_tokens??[],this.special_tokens.push(...this.additional_special_tokens),this.special_tokens=[...new Set(this.special_tokens)],this.decoder&&(this.decoder.added_tokens=this.added_tokens,this.decoder.end_of_word_suffix=this.model.end_of_word_suffix),this.added_tokens_regex=this.added_tokens.length>0?new RegExp(this.added_tokens.map((e=>`${e.lstrip?"\\s*":""}(${i(e.content)})${e.rstrip?"\\s*":""}`)).join("|")):null,this.mask_token=this.getToken("mask_token"),this.mask_token_id=this.model.tokens_to_ids.get(this.mask_token),this.pad_token=this.getToken("pad_token","eos_token"),this.pad_token_id=this.model.tokens_to_ids.get(this.pad_token),this.sep_token=this.getToken("sep_token"),this.sep_token_id=this.model.tokens_to_ids.get(this.sep_token),this.unk_token=this.getToken("unk_token"),this.unk_token_id=this.model.tokens_to_ids.get(this.unk_token),this.model_max_length=t.model_max_length,this.remove_space=t.remove_space,this.clean_up_tokenization_spaces=t.clean_up_tokenization_spaces??!0,this.do_lowercase_and_remove_accent=t.do_lowercase_and_remove_accent??!1,this.padding_side="right",this.legacy=!1,this.chat_template=t.chat_template??null,Array.isArray(this.chat_template)){const e=Object.create(null);for(const{name:t,template:n}of this.chat_template){if("string"!==typeof t||"string"!==typeof n)throw new Error('Chat template must be a list of objects with "name" and "template" properties');e[t]=n}this.chat_template=e}this._compiled_template_cache=new Map}getToken(...e){for(const t of e){const e=this._tokenizer_config[t];if(e){if("object"===typeof e){if("AddedToken"===e.__type)return e.content;throw Error(`Unknown token: ${e}`)}return e}}return null}static async from_pretrained(e,{progress_callback:t=null,config:n=null,cache_dir:r=null,local_files_only:i=!1,revision:a="main",legacy:o=null}={}){return new this(...await xt(e,{progress_callback:t,config:n,cache_dir:r,local_files_only:i,revision:a,legacy:o}))}_call(e,{text_pair:t=null,add_special_tokens:n=!0,padding:r=!1,truncation:i=null,max_length:a=null,return_tensor:o=!0,return_token_type_ids:s=null}={}){const l=Array.isArray(e);let u;if(l){if(0===e.length)throw Error("text array must be non-empty");if(null!==t){if(!Array.isArray(t))throw Error("text_pair must also be an array");if(e.length!==t.length)throw Error("text and text_pair must have the same length");u=e.map(((e,r)=>this._encode_plus(e,t[r],{add_special_tokens:n,return_token_type_ids:s})))}else u=e.map((e=>this._encode_plus(e,null,{add_special_tokens:n,return_token_type_ids:s})))}else{if(null===e||void 0===e)throw Error("text may not be null or undefined");if(Array.isArray(t))throw Error("When specifying `text_pair`, since `text` is a string, `text_pair` must also be a string (i.e., not an array).");u=[this._encode_plus(e,t,{add_special_tokens:n,return_token_type_ids:s})]}if(null===a?a="max_length"===r?this.model_max_length:J(u.map((e=>e.input_ids.length)))[0]:i||console.warn("Truncation was not explicitly activated but `max_length` is provided a specific value, please use `truncation=true` to explicitly truncate examples to max length."),a=Math.min(a,this.model_max_length),r||i)for(let d=0;d<u.length;++d)u[d].input_ids.length!==a&&(u[d].input_ids.length>a?i&&Cn(u[d],a):r&&On(u[d],a,(e=>"input_ids"===e?this.pad_token_id:0),this.padding_side));const c={};if(o){if((!r||!i)&&u.some((e=>{for(const t of Object.keys(e))if(e[t].length!==u[0][t]?.length)return!0;return!1})))throw Error("Unable to create tensor, you should probably activate truncation and/or padding with 'padding=true' and 'truncation=true' to have batched tensors with the same length.");const e=[u.length,u[0].input_ids.length];for(const t of Object.keys(u[0]))c[t]=new le("int64",BigInt64Array.from(u.flatMap((e=>e[t])).map(BigInt)),e)}else{for(const e of Object.keys(u[0]))c[e]=u.map((t=>t[e]));if(!l)for(const e of Object.keys(c))c[e]=c[e][0]}return c}_encode_text(e){if(null===e)return null;const t=(this.added_tokens_regex?e.split(this.added_tokens_regex).filter((e=>e)):[e]).map(((e,t)=>{if(void 0!==this.added_tokens.find((t=>t.content===e)))return e;{if(!0===this.remove_space&&(e=e.trim().split(/\s+/).join(" ")),this.do_lowercase_and_remove_accent&&(e=function(e){return At(e.toLowerCase())}(e)),null!==this.normalizer&&(e=this.normalizer(e)),0===e.length)return[];const n=null!==this.pre_tokenizer?this.pre_tokenizer(e,{section_index:t}):[e];return this.model(n)}})).flat();return t}_encode_plus(e,t=null,{add_special_tokens:n=!0,return_token_type_ids:r=null}={}){const i=this._encode_text(e),a=this._encode_text(t),o=this.post_processor?this.post_processor(i,a,{add_special_tokens:n}):{tokens:u(i??[],a??[])},s=this.model.convert_tokens_to_ids(o.tokens),l={input_ids:s,attention_mask:new Array(s.length).fill(1)};return(r??this.return_token_type_ids)&&o.token_type_ids&&(l.token_type_ids=o.token_type_ids),l}encode(e,t=null,{add_special_tokens:n=!0,return_token_type_ids:r=null}={}){const{input_ids:i}=this._encode_plus(e,t,{add_special_tokens:n,return_token_type_ids:r});return i}batch_decode(e,t={}){return e instanceof le&&(e=e.tolist()),e.map((e=>this.decode(e,t)))}decode(e,t={}){if(e instanceof le&&(e=Tt(e)),!Array.isArray(e)||0===e.length||!o(e[0]))throw Error("token_ids must be a non-empty array of integers.");return this.decode_single(e,t)}decode_single(e,{skip_special_tokens:t=!1,clean_up_tokenization_spaces:n=null}){let r=this.model.convert_ids_to_tokens(e);t&&(r=r.filter((e=>!this.special_tokens.includes(e))));let i=this.decoder?this.decoder(r):r.join(" ");return this.decoder&&this.decoder.end_of_word_suffix&&(i=i.replaceAll(this.decoder.end_of_word_suffix," "),t&&(i=i.trim())),(n??this.clean_up_tokenization_spaces)&&(i=Et(i)),i}get default_chat_template(){return this._warned_about_chat_template||(console.warn("No chat template is defined for this tokenizer - using a default chat template that implements the ChatML format. If the default is not appropriate for your model, please set `tokenizer.chat_template` to an appropriate template. See https://huggingface.co/docs/transformers/main/chat_templating for more information."),this._warned_about_chat_template=!0),this._default_chat_template}apply_chat_template(e,{chat_template:t=null,add_generation_prompt:n=!1,tokenize:r=!0,padding:i=!1,truncation:a=!1,max_length:o=null,return_tensor:s=!0,tokenizer_kwargs:l={},...u}={}){if(this.chat_template&&"object"===typeof this.chat_template||null===this.chat_template&&this.default_chat_template&&"object"===typeof this.default_chat_template){const e=this.chat_template??this.default_chat_template;if(null!==t&&Object.hasOwn(e,t))t=e[t];else if(null===t&&"default"in e)t=e.default;else if(null===t)throw Error(`This model has multiple chat templates with no default specified! Please either pass a chat template or the name of the template you wish to use to the 'chat_template' argument. Available template names are ${Object.keys(e).sort()}.`)}else t??=this.chat_template??this.default_chat_template;if("string"!==typeof t)throw Error("chat_template must be a string, but got "+typeof t);let c=this._compiled_template_cache.get(t);void 0===c&&(c=new wt(t),this._compiled_template_cache.set(t,c));const d=Object.create(null);for(const h of An){const e=this.getToken(h);e&&(d[h]=e)}const f=c.render({messages:e,add_generation_prompt:n,...d,...u});return r?this._call(f,{add_special_tokens:!1,padding:i,truncation:a,max_length:o,return_tensor:s,...l}).input_ids:f}}class Pn extends In{return_token_type_ids=!0}class Mn extends In{return_token_type_ids=!0}class Ln extends In{return_token_type_ids=!0}class Rn extends In{return_token_type_ids=!0}class Nn extends In{return_token_type_ids=!0}class Dn extends In{return_token_type_ids=!0}class jn extends In{return_token_type_ids=!0}class Fn extends In{return_token_type_ids=!0}class Bn extends In{return_token_type_ids=!0}class zn extends In{}class $n extends In{}class Un extends In{return_token_type_ids=!0;constructor(e,t){super(e,t),console.warn('WARNING: `XLMTokenizer` is not yet supported by Hugging Face\'s "fast" tokenizers library. Therefore, you may experience slightly inaccurate results.')}}class Vn extends In{return_token_type_ids=!0}class Wn extends In{}class Hn extends In{_default_chat_template='{% for message in messages %}" "{{ message.content }}{{ eos_token }}" "{% endfor %}'}class Gn extends In{}class qn extends In{constructor(e,t){super(e,t),this.languageRegex=/^[a-z]{2}_[A-Z]{2}$/,this.language_codes=this.special_tokens.filter((e=>this.languageRegex.test(e))),this.lang_to_token=e=>e}_build_translation_inputs(e,t,n){return lr(this,e,t,n)}}class Kn extends qn{}class Zn extends In{}class Xn extends Hn{constructor(e,t){const n=".,!?\u2026\u3002\uff0c\u3001\u0964\u06d4\u060c",r=e.pre_tokenizer?.pretokenizers[0]?.pattern;r&&r.Regex===` ?[^(\\s|[${n}])]+`&&(r.Regex=` ?[^\\s${n}]+`),super(e,t)}}const Yn="\u2581";class Jn extends In{_default_chat_template="{% if messages[0]['role'] == 'system' %}{% set loop_messages = messages[1:] %}{% set system_message = messages[0]['content'] %}{% elif USE_DEFAULT_PROMPT == true and not '<<SYS>>' in messages[0]['content'] %}{% set loop_messages = messages %}{% set system_message = 'DEFAULT_SYSTEM_MESSAGE' %}{% else %}{% set loop_messages = messages %}{% set system_message = false %}{% endif %}{% for message in loop_messages %}{% if (message['role'] == 'user') != (loop.index0 % 2 == 0) %}{{ raise_exception('Conversation roles must alternate user/assistant/user/assistant/...') }}{% endif %}{% if loop.index0 == 0 and system_message != false %}{% set content = '<<SYS>>\n' + system_message + '\n<</SYS>>\n\n' + message['content'] %}{% else %}{% set content = message['content'] %}{% endif %}{% if message['role'] == 'user' %}{{ bos_token + '[INST] ' + content.strip() + ' [/INST]' }}{% elif message['role'] == 'system' %}{{ '<<SYS>>\n' + content.strip() + '\n<</SYS>>\n\n' }}{% elif message['role'] == 'assistant' %}{{ ' '  + content.strip() + ' ' + eos_token }}{% endif %}{% endfor %}";DEFAULT_SYSTEM_PROMPT="You are a helpful, respectful and honest assistant. Always answer as helpfully as possible, while being safe. Your answers should not include any harmful, unethical, racist, sexist, toxic, dangerous, or illegal content. Please ensure that your responses are socially unbiased and positive in nature.\n\nIf a question does not make any sense, or is not factually coherent, explain why instead of answering something not correct. If you don't know the answer to a question, please don't share false information.";constructor(e,t){super(e,t),this.use_default_system_prompt=t.use_default_system_prompt??!1,this.legacy=t.legacy??!0,this.legacy||(this.normalizer=null,this.pre_tokenizer=new vn({replacement:Yn,add_prefix_space:!0,prepend_scheme:"first"}))}_encode_text(e){if(null===e)return null;if(this.legacy||0===e.length)return super._encode_text(e);let t=super._encode_text(Yn+e.replaceAll(Yn," "));return t.length>1&&t[0]===Yn&&this.special_tokens.includes(t[1])&&(t=t.slice(1)),t}get default_chat_template(){return super.default_chat_template.replaceAll("USE_DEFAULT_PROMPT",this.use_default_system_prompt?"true":"false").replaceAll("DEFAULT_SYSTEM_MESSAGE",this.DEFAULT_SYSTEM_PROMPT.replaceAll("\n","\\n").replaceAll("'","\\'"))}}class Qn extends Jn{}class er extends In{}class tr extends In{}class nr extends In{}class rr extends In{}class ir extends In{}class ar extends In{}class or extends In{_default_chat_template="{% if messages[0]['role'] == 'system' %}{{ raise_exception('System role not supported') }}{% endif %}{% for message in messages %}{% if (message['role'] == 'user') != (loop.index0 % 2 == 0) %}{{ raise_exception('Conversation roles must alternate user/assistant/user/assistant/...') }}{% endif %}{% if (message['role'] == 'assistant') %}{% set role = 'model' %}{% else %}{% set role = message['role'] %}{% endif %}{{ '<start_of_turn>' + role + '\n' + message['content'] | trim + '<end_of_turn>\n' }}{% endfor %}{% if add_generation_prompt %}{{'<start_of_turn>model\n'}}{% endif %}"}class sr extends In{}function lr(e,t,n,r){if(!("language_codes"in e)||!Array.isArray(e.language_codes))throw new Error("Tokenizer must have `language_codes` attribute set and it should be an array of language ids.");if(!("languageRegex"in e)||!(e.languageRegex instanceof RegExp))throw new Error("Tokenizer must have `languageRegex` attribute set and it should be a regular expression.");if(!("lang_to_token"in e)||"function"!==typeof e.lang_to_token)throw new Error("Tokenizer must have `lang_to_token` attribute set and it should be a function.");const i=r.src_lang,a=r.tgt_lang;if(!e.language_codes.includes(a))throw new Error(`Target language code "${a}" is not valid. Must be one of: {${e.language_codes.join(", ")}}`);if(void 0!==i){if(!e.language_codes.includes(i))throw new Error(`Source language code "${i}" is not valid. Must be one of: {${e.language_codes.join(", ")}}`);for(const t of e.post_processor.config.single)if("SpecialToken"in t&&e.languageRegex.test(t.SpecialToken.id)){t.SpecialToken.id=e.lang_to_token(i);break}}return r.forced_bos_token_id=e.model.convert_tokens_to_ids([e.lang_to_token(a)])[0],e._call(t,n)}class ur extends In{constructor(e,t){super(e,t),this.languageRegex=/^[a-z]{3}_[A-Z][a-z]{3}$/,this.language_codes=this.special_tokens.filter((e=>this.languageRegex.test(e))),this.lang_to_token=e=>e}_build_translation_inputs(e,t,n){return lr(this,e,t,n)}}class cr extends In{constructor(e,t){super(e,t),this.languageRegex=/^__[a-z]{2,3}__$/,this.language_codes=this.special_tokens.filter((e=>this.languageRegex.test(e))).map((e=>e.slice(2,-2))),this.lang_to_token=e=>`__${e}__`}_build_translation_inputs(e,t,n){return lr(this,e,t,n)}}const dr=[["en","english"],["zh","chinese"],["de","german"],["es","spanish"],["ru","russian"],["ko","korean"],["fr","french"],["ja","japanese"],["pt","portuguese"],["tr","turkish"],["pl","polish"],["ca","catalan"],["nl","dutch"],["ar","arabic"],["sv","swedish"],["it","italian"],["id","indonesian"],["hi","hindi"],["fi","finnish"],["vi","vietnamese"],["he","hebrew"],["uk","ukrainian"],["el","greek"],["ms","malay"],["cs","czech"],["ro","romanian"],["da","danish"],["hu","hungarian"],["ta","tamil"],["no","norwegian"],["th","thai"],["ur","urdu"],["hr","croatian"],["bg","bulgarian"],["lt","lithuanian"],["la","latin"],["mi","maori"],["ml","malayalam"],["cy","welsh"],["sk","slovak"],["te","telugu"],["fa","persian"],["lv","latvian"],["bn","bengali"],["sr","serbian"],["az","azerbaijani"],["sl","slovenian"],["kn","kannada"],["et","estonian"],["mk","macedonian"],["br","breton"],["eu","basque"],["is","icelandic"],["hy","armenian"],["ne","nepali"],["mn","mongolian"],["bs","bosnian"],["kk","kazakh"],["sq","albanian"],["sw","swahili"],["gl","galician"],["mr","marathi"],["pa","punjabi"],["si","sinhala"],["km","khmer"],["sn","shona"],["yo","yoruba"],["so","somali"],["af","afrikaans"],["oc","occitan"],["ka","georgian"],["be","belarusian"],["tg","tajik"],["sd","sindhi"],["gu","gujarati"],["am","amharic"],["yi","yiddish"],["lo","lao"],["uz","uzbek"],["fo","faroese"],["ht","haitian creole"],["ps","pashto"],["tk","turkmen"],["nn","nynorsk"],["mt","maltese"],["sa","sanskrit"],["lb","luxembourgish"],["my","myanmar"],["bo","tibetan"],["tl","tagalog"],["mg","malagasy"],["as","assamese"],["tt","tatar"],["haw","hawaiian"],["ln","lingala"],["ha","hausa"],["ba","bashkir"],["jw","javanese"],["su","sundanese"]],fr=new Map(dr),hr=new Map([...dr.map((([e,t])=>[t,e])),["burmese","my"],["valencian","ca"],["flemish","nl"],["haitian","ht"],["letzeburgesch","lb"],["pushto","ps"],["panjabi","pa"],["moldavian","ro"],["moldovan","ro"],["sinhalese","si"],["castilian","es"]]);class pr extends In{_default_chat_template='{% for message in messages %}" "{{ message.content }}{{ eos_token }}" "{% endfor %}';_decode_asr(e,{return_timestamps:t=!1,return_language:n=!1,time_precision:r=null,force_full_sequences:i=!0}={}){if(null===r)throw Error("Must specify time_precision");let a=null;const o="word"===t;function s(){return{language:a,timestamp:[null,null],text:""}}const l=[];let u=s(),c=0;const d=this.model.convert_tokens_to_ids(["<|notimestamps|>"])[0]+1;let f=[],h=[],p=!1,g=null;const m=new Set(this.all_special_ids);for(const b of e){const e=b.tokens,n=o?b.token_timestamps:null;let i=null,y=d;if("stride"in b){const[t,n,a]=b.stride;if(c-=n,g=t-a,n&&(y=n/r+d),a)for(let o=e.length-1;o>=0;--o){const t=e[o];if(t>=d){if(null!==i&&(t-d)*r<g)break;i=t}}}let _=[],v=[];for(let g=0;g<e.length;++g){const b=e[g];if(m.has(b)){const e=this.decode([b]),n=fr.get(e.slice(2,-2));if(void 0!==n){if(null!==a&&n!==a&&!t){f.push(_);const e=this.findLongestCommonSequence(f)[0],t=this.decode(e);u.text=t,l.push(u),f=[],_=[],u=s()}a=u.language=n}}else if(b>=d){const e=ie((b-d)*r+c,2);if(null!==i&&b>=i)p=!0;else if(p||f.length>0&&b<y)p=!1;else if(null===u.timestamp[0])u.timestamp[0]=e;else if(e===u.timestamp[0]);else{u.timestamp[1]=e,f.push(_),o&&h.push(v);const[t,n]=this.findLongestCommonSequence(f,h),r=this.decode(t);u.text=r,o&&(u.words=this.collateWordTimestamps(t,n,a)),l.push(u),f=[],_=[],h=[],v=[],u=s()}}else if(_.push(b),o){let e,t=ie(n[g]+c,2);e=g+1<n.length?ie(n[g+1]+c,2):null,v.push([t,e])}}if("stride"in b){const[e,t,n]=b.stride;c+=e-n}_.length>0?(f.push(_),o&&h.push(v)):f.every((e=>0===e.length))&&(u=s(),f=[],_=[],h=[],v=[])}if(f.length>0){if(i&&t)throw new Error("Whisper did not predict an ending timestamp, which can happen if audio is cut off in the middle of a word. Also make sure WhisperTimeStampLogitsProcessor was used during generation.");const[e,n]=this.findLongestCommonSequence(f,h),r=this.decode(e);u.text=r,o&&(u.words=this.collateWordTimestamps(e,n,a)),l.push(u)}let y=Object.create(null);const _=l.map((e=>e.text)).join("");if(t||n){for(let e=0;e<l.length;++e){const r=l[e];t||delete r.timestamp,n||delete r.language}if(o){const e=[];for(const t of l)for(const n of t.words)e.push(n);y={chunks:e}}else y={chunks:l}}return[_,y]}findLongestCommonSequence(e,t=null){let n=e[0],r=n.length,i=[];const a=Array.isArray(t)&&t.length>0;let o=a?[]:null,s=a?t[0]:null;for(let l=1;l<e.length;++l){const u=e[l];let c=0,d=[r,r,0,0];const f=u.length;for(let e=1;e<r+f;++e){const t=e/1e4,i=Math.max(0,r-e),a=Math.min(r,r+f-e),o=n.slice(i,a),s=Math.max(0,e-r),l=Math.min(f,e),h=u.slice(s,l);if(o.length!==h.length)throw new Error("There is a bug within whisper `decode_asr` function, please report it. Dropping to prevent bad inference.");const p=o.filter(((e,t)=>e===h[t])).length,g=p/e+t;p>1&&g>c&&(c=g,d=[i,a,s,l])}const[h,p,g,m]=d,y=Math.floor((p+h)/2),_=Math.floor((m+g)/2);i.push(...n.slice(0,y)),n=u.slice(_),r=n.length,a&&(o.push(...s.slice(0,y)),s=t[l].slice(_))}return i.push(...n),a?(o.push(...s),[i,o]):[i,[]]}collateWordTimestamps(e,t,n){const[r,i,a]=this.combineTokensIntoWords(e,n),o=[];for(let s=0;s<r.length;++s){const e=a[s];o.push({text:r[s],timestamp:[t[e.at(0)][0],t[e.at(-1)][1]]})}return o}combineTokensIntoWords(e,t,n="\"'\u201c\xa1\xbf([{-",r="\"'.\u3002,\uff0c!\uff01?\uff1f:\uff1a\u201d)]}\u3001"){let i,a,o;return["chinese","japanese","thai","lao","myanmar"].includes(t=t??"english")?[i,a,o]=this.splitTokensOnUnicode(e):[i,a,o]=this.splitTokensOnSpaces(e),this.mergePunctuations(i,a,o,n,r)}decode(e,t){let n;return t&&t.decode_with_timestamps?(e instanceof le&&(e=Tt(e)),n=this.decodeWithTimestamps(e,t)):n=super.decode(e,t),n}decodeWithTimestamps(e,t){const n=t?.time_precision??.02,r=Array.from(this.all_special_ids).at(-1)+1;let i=[[]];for(const a of e)if(a>=r){const e=ie((a-r)*n,2);i.push(`<|${e}|>`),i.push([])}else i[i.length-1].push(a);return i=i.map((e=>"string"===typeof e?e:super.decode(e,t))),i.join("")}splitTokensOnUnicode(e){const t=this.decode(e,{decode_with_timestamps:!0}),n=[],r=[],i=[];let a=[],o=[],s=0;for(let l=0;l<e.length;++l){const u=e[l];a.push(u),o.push(l);const c=this.decode(a,{decode_with_timestamps:!0});c.includes("\ufffd")&&"\ufffd"!==t[s+c.indexOf("\ufffd")]||(n.push(c),r.push(a),i.push(o),a=[],o=[],s+=c.length)}return[n,r,i]}splitTokensOnSpaces(e){const[t,n,r]=this.splitTokensOnUnicode(e),i=[],a=[],o=[],s=new RegExp(`^[${Ot}]$`,"gu");for(let l=0;l<t.length;++l){const e=t[l],u=n[l],c=r[l],d=u[0]>=this.model.tokens_to_ids.get("<|endoftext|>"),f=e.startsWith(" "),h=e.trim(),p=s.test(h);if(d||f||p||0===i.length)i.push(e),a.push(u),o.push(c);else{const t=i.length-1;i[t]+=e,a[t].push(...u),o[t].push(...c)}}return[i,a,o]}mergePunctuations(e,t,n,r,i){const a=structuredClone(e),o=structuredClone(t),s=structuredClone(n);let l=a.length-2,c=a.length-1;for(;l>=0;)a[l].startsWith(" ")&&r.includes(a[l].trim())?(a[c]=a[l]+a[c],o[c]=u(o[l],o[c]),s[c]=u(s[l],s[c]),a[l]="",o[l]=[],s[l]=[]):c=l,--l;for(l=0,c=1;c<a.length;)!a[l].endsWith(" ")&&i.includes(a[c])?(a[l]+=a[c],o[l]=u(o[l],o[c]),s[l]=u(s[l],s[c]),a[c]="",o[c]=[],s[c]=[]):l=c,++c;return[a.filter((e=>e)),o.filter((e=>e.length>0)),s.filter((e=>e.length>0))]}get_decoder_prompt_ids({language:e=null,task:t=null,no_timestamps:n=!0}={}){const r=[];if(e){e=e.toLowerCase();let t=hr.get(e);if(void 0===t){if(!fr.has(e)){const t=2===e.length?fr.keys():fr.values();throw new Error(`Language "${e}" is not supported. Must be one of: ${JSON.stringify(t)}`)}t=e}const n=this.model.tokens_to_ids.get(`<|${t}|>`);if(void 0===n)throw new Error(`Unable to find language "${t}" in model vocabulary. Please report this issue at https://github.com/xenova/transformers.js/issues/new/choose.`);r.push(n)}else r.push(null);if(t){if("transcribe"!==(t=t.toLowerCase())&&"translate"!==t)throw new Error(`Task "${t}" is not supported. Must be one of: ["transcribe", "translate"]`);const e=this.model.tokens_to_ids.get(`<|${t}|>`);if(void 0===e)throw new Error(`Unable to find task "${t}" in model vocabulary. Please report this issue at https://github.com/xenova/transformers.js/issues/new/choose.`);r.push(e)}else r.push(null);if(n){const e=this.model.tokens_to_ids.get("<|notimestamps|>");if(void 0===e)throw new Error('Unable to find "<|notimestamps|>" in model vocabulary. Please report this issue at https://github.com/xenova/transformers.js/issues/new/choose.');r.push(e)}return r.map(((e,t)=>[t+1,e])).filter((e=>null!==e[1]))}}class gr extends In{}class mr extends In{}class yr extends In{}class _r extends In{constructor(e,t){super(e,t),this.languageRegex=/^(>>\w+<<)\s*/g,this.supported_language_codes=this.model.vocab.filter((e=>this.languageRegex.test(e))),console.warn('WARNING: `MarianTokenizer` is not yet supported by Hugging Face\'s "fast" tokenizers library. Therefore, you may experience slightly inaccurate results.')}_encode_text(e){if(null===e)return null;const[t,...n]=e.trim().split(this.languageRegex);if(0===n.length)return super._encode_text(t);if(2===n.length){const[e,t]=n;return this.supported_language_codes.includes(e)||console.warn(`Unsupported language code "${e}" detected, which may lead to unexpected behavior. Should be one of: ${JSON.stringify(this.supported_language_codes)}`),u([e],super._encode_text(t))}}}class br extends In{}class vr extends In{_default_chat_template="{% for message in messages %}{% if message['role'] == 'user' %}{{ ' ' }}{% endif %}{{ message['content'] }}{% if not loop.last %}{{ '  ' }}{% endif %}{% endfor %}{{ eos_token }}"}class wr extends vr{}class xr extends In{}class kr extends In{}class Sr extends In{constructor(e,t){super(e,t),this.decoder=new bn({})}}class Tr extends In{}class Er{static TOKENIZER_CLASS_MAPPING={T5Tokenizer:Wn,DistilBertTokenizer:zn,CamembertTokenizer:$n,DebertaTokenizer:Nn,DebertaV2Tokenizer:Dn,BertTokenizer:Pn,HerbertTokenizer:jn,ConvBertTokenizer:Fn,RoFormerTokenizer:Bn,XLMTokenizer:Un,ElectraTokenizer:Vn,MobileBertTokenizer:Ln,SqueezeBertTokenizer:Rn,AlbertTokenizer:Mn,GPT2Tokenizer:Hn,BartTokenizer:Gn,MBartTokenizer:qn,MBart50Tokenizer:Kn,RobertaTokenizer:Zn,WhisperTokenizer:pr,CodeGenTokenizer:gr,CLIPTokenizer:mr,SiglipTokenizer:yr,MarianTokenizer:_r,BloomTokenizer:Xn,NllbTokenizer:ur,M2M100Tokenizer:cr,LlamaTokenizer:Jn,CodeLlamaTokenizer:Qn,XLMRobertaTokenizer:er,MPNetTokenizer:tr,FalconTokenizer:nr,GPTNeoXTokenizer:rr,EsmTokenizer:ir,Wav2Vec2CTCTokenizer:br,BlenderbotTokenizer:vr,BlenderbotSmallTokenizer:wr,SpeechT5Tokenizer:xr,NougatTokenizer:kr,VitsTokenizer:Sr,Qwen2Tokenizer:ar,GemmaTokenizer:or,Grok1Tokenizer:sr,CohereTokenizer:Tr,PreTrainedTokenizer:In};static async from_pretrained(e,{quantized:t=!0,progress_callback:n=null,config:r=null,cache_dir:i=null,local_files_only:a=!1,revision:o="main",legacy:s=null}={}){const[l,u]=await xt(e,{quantized:t,progress_callback:n,config:r,cache_dir:i,local_files_only:a,revision:o,legacy:s}),c=u.tokenizer_class?.replace(/Fast$/,"")??"PreTrainedTokenizer";let d=this.TOKENIZER_CLASS_MAPPING[c];return d||(console.warn(`Unknown tokenizer class "${c}", attempting to construct from base class.`),d=In),new d(l,u)}}class Ar{constructor(e){this.model_type=null,this.is_encoder_decoder=!1,Object.assign(this,e)}static async from_pretrained(e,{progress_callback:t=null,config:n=null,cache_dir:r=null,local_files_only:i=!1,revision:a="main"}={}){let o=n??await async function(e,t){return await $(e,"config.json",!0,t)}(e,{progress_callback:t,config:n,cache_dir:r,local_files_only:i,revision:a});return new this(o)}}class Or{static async from_pretrained(...e){return Ar.from_pretrained(...e)}}class Cr extends a{constructor(){super(),this.processors=[]}push(e){this.processors.push(e)}extend(e){this.processors.push(...e)}_call(e,t){for(let n of t)this.processors.forEach((t=>t(e,n)))}[Symbol.iterator](){return this.processors.values()}}class Ir extends a{_call(e,t){throw Error("`_call` should be implemented in a subclass")}}class Pr extends Ir{constructor(e){super(),this.force_token_map=Object.fromEntries(e??[])}_call(e,t){let n=this.force_token_map[e.length];var r;return void 0!==(r=n)&&null!==r&&(t.data.fill(-1/0),t.data[n]=0),t}}class Mr extends Ir{constructor(e){super(),this.bos_token_id=e}_call(e,t){return 1===e.length&&(t.data.fill(-1/0),t.data[this.bos_token_id]=0),t}}class Lr extends Ir{constructor(e,t){super(),this.max_length=e,this.forced_eos_token_id=t}_call(e,t){}}class Rr extends Ir{constructor(e,t){super(),this.begin_suppress_tokens=e,this.begin_index=t}_call(e,t){if(e.length===this.begin_index)for(let n of this.begin_suppress_tokens)t.data[n]=-1/0;return t}}class Nr extends Ir{constructor(e){super(),this.eos_token_id=e.eos_token_id,this.no_timestamps_token_id=e.no_timestamps_token_id,this.timestamp_begin=this.no_timestamps_token_id+1,this.begin_index=(e.forced_decoder_ids||[]).length+2,e.forced_decoder_ids.slice(-1)[0][1]===this.no_timestamps_token_id&&(this.begin_index-=1),this.max_initial_timestamp_index=e.max_initial_timestamp_index}_call(e,t){const n=t.data;if(n[this.no_timestamps_token_id]=-1/0,e.length===this.begin_index-1)return n.fill(-1/0),n[this.timestamp_begin]=0,t;const r=e.slice(this.begin_index),i=r.length>=1&&r[r.length-1]>=this.timestamp_begin,a=r.length<2||r[r.length-2]>=this.timestamp_begin;if(i&&(a?n.subarray(this.timestamp_begin).fill(-1/0):n.subarray(0,this.eos_token_id).fill(-1/0)),e.length===this.begin_index&&null!==this.max_initial_timestamp_index){const e=this.timestamp_begin+this.max_initial_timestamp_index;n.subarray(e+1).fill(-1/0)}const o=G(n);return Math.log(o.subarray(this.timestamp_begin).map(Math.exp).reduce(((e,t)=>e+t)))>J(o.subarray(0,this.timestamp_begin))[0]&&n.subarray(0,this.timestamp_begin).fill(-1/0),t}}class Dr extends Ir{constructor(e){super(),this.no_repeat_ngram_size=e}getNgrams(e){const t=e.length,n=[];for(let i=0;i<t+1-this.no_repeat_ngram_size;++i){const t=[];for(let n=0;n<this.no_repeat_ngram_size;++n)t.push(e[i+n]);n.push(t)}const r=new Map;for(const i of n){const e=i.slice(0,i.length-1),t=JSON.stringify(e),n=r.get(t)??[];n.push(i[i.length-1]),r.set(t,n)}return r}getGeneratedNgrams(e,t){const n=t.slice(t.length+1-this.no_repeat_ngram_size,t.length);return e.get(JSON.stringify(n))??[]}calcBannedNgramTokens(e){const t=[];if(e.length+1<this.no_repeat_ngram_size)return t;{const t=this.getNgrams(e);return this.getGeneratedNgrams(t,e)}}_call(e,t){const n=this.calcBannedNgramTokens(e);for(const r of n)t.data[r]=-1/0;return t}}class jr extends Ir{constructor(e){super(),this.penalty=e}_call(e,t){for(const n of e)t.data[n]<0?t.data[n]*=this.penalty:t.data[n]/=this.penalty;return t}}class Fr extends Ir{constructor(e,t){super(),this.min_length=e,this.eos_token_id=Array.isArray(t)?t:[t]}_call(e,t){if(e.length<this.min_length)for(const n of this.eos_token_id)t.data[n]=-1/0;return t}}class Br extends Ir{constructor(e,t,n){super(),this.prompt_length_to_skip=e,this.min_new_tokens=t,this.eos_token_id=Array.isArray(n)?n:[n]}_call(e,t){if(e.length-this.prompt_length_to_skip<this.min_new_tokens)for(const n of this.eos_token_id)t.data[n]=-1/0;return t}}class zr extends Ir{constructor(e,t){super(),this.bad_words_ids=e,this.eos_token_id=Array.isArray(t)?t:[t]}_call(e,t){for(const n of this.bad_words_ids){let r=!0;for(let t=1;t<=n.length-1&&n.length<e.length;++t)if(n.at(-t-1)!==e.at(-t)){r=!1;break}r&&(t.data[n.at(-1)]=-1/0)}return t}}const $r=class{constructor(e={}){this.max_length=e.max_length??20,this.max_new_tokens=e.max_new_tokens??null,this.min_length=e.min_length??0,this.min_new_tokens=e.min_new_tokens??null,this.early_stopping=e.early_stopping??!1,this.max_time=e.max_time??null,this.do_sample=e.do_sample??!1,this.num_beams=e.num_beams??1,this.num_beam_groups=e.num_beam_groups??1,this.penalty_alpha=e.penalty_alpha??null,this.use_cache=e.use_cache??!0,this.temperature=e.temperature??1,this.top_k=e.top_k??50,this.top_p=e.top_p??1,this.typical_p=e.typical_p??1,this.epsilon_cutoff=e.epsilon_cutoff??0,this.eta_cutoff=e.eta_cutoff??0,this.diversity_penalty=e.diversity_penalty??0,this.repetition_penalty=e.repetition_penalty??1,this.encoder_repetition_penalty=e.encoder_repetition_penalty??1,this.length_penalty=e.length_penalty??1,this.no_repeat_ngram_size=e.no_repeat_ngram_size??0,this.bad_words_ids=e.bad_words_ids??null,this.force_words_ids=e.force_words_ids??null,this.renormalize_logits=e.renormalize_logits??!1,this.constraints=e.constraints??null,this.forced_bos_token_id=e.forced_bos_token_id??null,this.forced_eos_token_id=e.forced_eos_token_id??null,this.remove_invalid_values=e.remove_invalid_values??!1,this.exponential_decay_length_penalty=e.exponential_decay_length_penalty??null,this.suppress_tokens=e.suppress_tokens??null,this.begin_suppress_tokens=e.begin_suppress_tokens??null,this.forced_decoder_ids=e.forced_decoder_ids??null,this.num_return_sequences=e.num_return_sequences??1,this.output_attentions=e.output_attentions??!1,this.output_hidden_states=e.output_hidden_states??!1,this.output_scores=e.output_scores??!1,this.return_dict_in_generate=e.return_dict_in_generate??!1,this.pad_token_id=e.pad_token_id??null,this.bos_token_id=e.bos_token_id??null,this.eos_token_id=e.eos_token_id??null,this.encoder_no_repeat_ngram_size=e.encoder_no_repeat_ngram_size??0,this.decoder_start_token_id=e.decoder_start_token_id??null,this.generation_kwargs=e.generation_kwargs??{}}};class Ur extends a{constructor(e){super(),this.generation_config=e}_call(e,t=-1){return this.sample(e,t)}sample(e,t){throw Error("sample should be implemented in subclasses.")}getLogits(e,t){let n=e.dims.at(-1),r=e.data;if(-1===t)r=r.slice(-n);else{let e=t*n;r=r.slice(e,e+n)}return this.generation_config.temperature>0&&(r=r.map((e=>e/this.generation_config.temperature))),r}randomSelect(e){let t=e.reduce(((e,t)=>e+t),0),n=Math.random()*t;for(let r=0;r<e.length;++r)if(n-=e[r],n<=0)return r;return 0}static getSampler(e){if(e.do_sample)return new Wr(e);if(e.num_beams>1)return new Hr(e);if(e.num_return_sequences>1)throw Error(`num_return_sequences has to be 1 when doing greedy search, but is ${e.num_return_sequences}.`);return new Vr(e)}}class Vr extends Ur{sample(e,t=-1){return[[J(this.getLogits(e,t))[1],0]]}}class Wr extends Ur{sample(e,t=-1){let n=e.dims.at(-1);this.generation_config.top_k>0&&(n=Math.min(this.generation_config.top_k,n));const r=K(this.getLogits(e,t),n),i=H(r.map((e=>e[1])));return Array.from({length:this.generation_config.num_beams},(()=>{const e=this.randomSelect(i);return[r[e][0],Math.log(i[e])]}))}}class Hr extends Ur{sample(e,t=-1){let n=e.dims.at(-1);this.generation_config.top_k>0&&(n=Math.min(this.generation_config.top_k,n));const r=K(this.getLogits(e,t),n),i=H(r.map((e=>e[1])));return Array.from({length:this.generation_config.num_beams},((e,t)=>[r[t][0],Math.log(i[t])]))}}const{InferenceSession:Gr,Tensor:qr,env:Kr}=w,Zr=0,Xr=1,Yr=2,Jr=3,Qr=4,ei=5,ti=new Map,ni=new Map,ri=new Map;async function ii(e,t,n){let r=`onnx/${t}${n.quantized?"_quantized":""}.onnx`,i=await z(e,r,!0,n);try{return await Gr.create(i,{executionProviders:x})}catch(a){if(1===x.length&&"wasm"===x[0])throw a;return console.warn(a),console.warn("Something went wrong during model construction (most likely a missing operation). Using `wasm` as a fallback. "),await Gr.create(i,{executionProviders:["wasm"]})}}async function ai(e,t){const n=function(e,t){const n=Object.create(null),r=[];for(const o of e.inputNames){const e=t[o];e instanceof le?n[o]=Kr.wasm.proxy?e.clone():e:r.push(o)}if(r.length>0)throw new Error(`An error occurred during model execution: "Missing the following inputs: ${r.join(", ")}.`);const i=Object.keys(t).length,a=e.inputNames.length;if(i>a){let n=Object.keys(t).filter((t=>!e.inputNames.includes(t)));console.warn(`WARNING: Too many inputs were provided (${i} > ${a}). The following inputs will be ignored: "${n.join(", ")}".`)}return n}(e,t);try{let t=await e.run(n);return t=oi(t),t}catch(r){throw console.error(`An error occurred during model execution: "${r}".`),console.error("Inputs given to model:",n),r}}function oi(e){for(let t in e)e[t]instanceof qr?e[t]=new le(e[t]):"object"===typeof e[t]&&oi(e[t]);return e}function si(e){if(e instanceof le)return e;if(0===e.length)throw Error("items must be non-empty");if(Array.isArray(e[0])){if(e.some((t=>t.length!==e[0].length)))throw Error("Unable to create tensor, you should probably activate truncation and/or padding with 'padding=True' and/or 'truncation=True' to have batched tensors with the same length.");return new le("int64",BigInt64Array.from(e.flat().map((e=>BigInt(e)))),[e.length,e[0].length])}return new le("int64",BigInt64Array.from(e.map((e=>BigInt(e)))),[1,e.length])}function li(e,t){let n=e.config.pad_token_id??null,r=e.config.eos_token_id??null;o(r)&&(r=[r]);let i=-1!==t.indexOf(n),a=null===r||!r.includes(n);if(i&&a){let e=BigInt64Array.from(t.data.map((e=>e!=n)));return new le("int64",e,t.dims)}return xe(t)}function ui(e,t,n){if(!e.inputNames.includes("position_ids"))return;const r=new BigInt64Array(t.attention_mask.data.length);for(let i=0;i<t.attention_mask.dims[0];++i){let e=i*t.attention_mask.dims[1],n=BigInt(0);for(let i=0;i<t.attention_mask.dims[1];++i){const a=e+i;0n===t.attention_mask.data[a]?r[a]=BigInt(1):(r[a]=n,n+=t.attention_mask.data[a])}}t.position_ids=new le("int64",r,t.attention_mask.dims),n&&(t.position_ids=t.position_ids.slice(null,-1).unsqueeze_(-1))}function ci(e){return new le("bool",[e],[1])}async function di(e,t){let{encoder_outputs:n,past_key_values:r}=t;n||(n=(await gi(e,t)).last_hidden_state);let i={input_ids:t.decoder_input_ids,encoder_hidden_states:n};const a=!!r;e.decoder_merged_session.inputNames.includes("use_cache_branch")&&(i.use_cache_branch=ci(a)),e.decoder_merged_session.inputNames.includes("encoder_attention_mask")&&(i.encoder_attention_mask=t.attention_mask),ui(e.decoder_merged_session,i,a),e.addPastKeyValues(i,r);const o=await ai(e.decoder_merged_session,i);let s=o.logits;r=e.getPastKeyValues(o,r);const l=e.getAttentions(o);return new pd({logits:s,past_key_values:r,encoder_outputs:n,...l})}function fi(e,t,n,r){let i=[],a=0;const o=e.requires_attention_mask??!0;let s=n.decoder_input_ids??n.decoder_start_token_id??n.bos_token_id??n.eos_token_id;s instanceof le?s=s.tolist().flat():Array.isArray(s)||(s=[s]);for(let l of t){l.dims=[1,...l.dims];let t={inputs:l,encoder_outputs:null,prev_model_outputs:null,output_token_ids:s,done:!1,score:0,id:a++};o&&(t.attention_mask=li(e,l)),i.push(t)}return i}async function hi(e,t){const n=e.main_input_name;let r=t.output_token_ids;t.prev_model_outputs&&(r=r.slice(-1));let i={[n]:t.inputs,decoder_input_ids:si(r),encoder_outputs:t.encoder_outputs,past_key_values:t.prev_model_outputs?.past_key_values};t.attention_mask&&(i.attention_mask=t.attention_mask);let a=await e.forward(i);return t.prev_model_outputs=a,t.encoder_outputs=a.encoder_outputs,a}function pi(e,t){e.output_token_ids=[...e.output_token_ids,t]}async function gi(e,t){const n=Object.create(null);for(const r of e.session.inputNames)n[r]=t[r];return e.session.inputNames.includes("token_type_ids")&&!n.token_type_ids&&(n.token_type_ids=new le("int64",new BigInt64Array(n.input_ids.data.length),n.input_ids.dims)),await ai(e.session,n)}async function mi(e,t){let{input_ids:n,past_key_values:r,attention_mask:i}=t,a={input_ids:n,attention_mask:i??li(e,n)};const o=!!r;e.session.inputNames.includes("use_cache_branch")&&(a.use_cache_branch=ci(o)),ui(e.session,a,o),e.addPastKeyValues(a,r);let s=await ai(e.session,a),l=s.logits;return r=e.getPastKeyValues(s,r),{logits:l,past_key_values:r}}function yi(e,t,n,r,i){let a=[],o=0;for(let s of t){let t,n=s.tolist().map(Number);s.dims=[1,...s.dims],i?(t=i[o],t.dims=[1,...t.dims]):t=li(e,s);let l={input:s,model_input_ids:s,attention_mask:t,prev_model_outputs:null,output_token_ids:n,num_output_tokens:r,done:!1,score:0,id:o++};a.push(l)}return a}async function _i(e,t){let n=new BigInt64Array(t.output_token_ids.length).fill(1n),r={input_ids:t.model_input_ids,attention_mask:new le("int64",n,[1,n.length]),past_key_values:t.prev_model_outputs?.past_key_values},i=await e.forward(r);return t.prev_model_outputs=i,i}function bi(e,t){e.output_token_ids=[...e.output_token_ids,t],e.model_input_ids=new le("int64",[BigInt(t)],[1,1])}class vi extends a{main_input_name="input_ids";constructor(e,t){super(),this.config=e,this.session=t;const n=ri.get(this.constructor),r=ti.get(n);this.can_generate=!1,this._runBeam=null,this._getStartBeams=null,this._updateBeam=null,this._forward=null,r===Qr?(this.can_generate=!0,this._runBeam=_i,this._getStartBeams=yi,this._updateBeam=bi,this._forward=mi):r===Yr||r===Jr?(this.can_generate=!0,this._runBeam=hi,this._getStartBeams=fi,this._updateBeam=pi,this._forward=di):this._forward=gi}async dispose(){const e=[];for(let t of Object.keys(this)){const n=this[t];n instanceof Gr&&e.push(n.handler.dispose())}return await Promise.all(e)}static async from_pretrained(e,{quantized:t=!0,progress_callback:n=null,config:r=null,cache_dir:i=null,local_files_only:a=!1,revision:o="main",model_file_name:s=null}={}){let l={quantized:t,progress_callback:n,config:r,cache_dir:i,local_files_only:a,revision:o,model_file_name:s};const u=ri.get(this),c=ti.get(u);let d;return c===Qr?d=await Promise.all([Or.from_pretrained(e,l),ii(e,l.model_file_name??"decoder_model_merged",l),$(e,"generation_config.json",!1,l)]):c===Yr||c===Jr?d=await Promise.all([Or.from_pretrained(e,l),ii(e,"encoder_model",l),ii(e,"decoder_model_merged",l),$(e,"generation_config.json",!1,l)]):c===ei?d=await Promise.all([Or.from_pretrained(e,l),ii(e,"vision_encoder",l),ii(e,"prompt_encoder_mask_decoder",l)]):c===Xr?d=await Promise.all([Or.from_pretrained(e,l),ii(e,"encoder_model",l),ii(e,"decoder_model_merged",l)]):(c!==Zr&&console.warn(`Model type for '${u??r?.model_type}' not found, assuming encoder-only architecture. Please report this at https://github.com/xenova/transformers.js/issues/new/choose.`),d=await Promise.all([Or.from_pretrained(e,l),ii(e,l.model_file_name??"model",l)])),new this(...d)}async _call(e){return await this.forward(e)}async forward(e){return await this._forward(this,e)}_get_logits_processor(e,t,n=null){const r=new Cr;if(null!==e.repetition_penalty&&1!==e.repetition_penalty&&r.push(new jr(e.repetition_penalty)),null!==e.no_repeat_ngram_size&&e.no_repeat_ngram_size>0&&r.push(new Dr(e.no_repeat_ngram_size)),null!==e.bad_words_ids&&r.push(new zr(e.bad_words_ids,e.eos_token_id)),null!==e.min_length&&null!==e.eos_token_id&&e.min_length>0&&r.push(new Fr(e.min_length,e.eos_token_id)),null!==e.min_new_tokens&&null!==e.eos_token_id&&e.min_new_tokens>0&&r.push(new Br(t,e.min_new_tokens,e.eos_token_id)),null!==e.forced_bos_token_id&&r.push(new Mr(e.forced_bos_token_id)),null!==e.forced_eos_token_id&&r.push(new Lr(e.max_length,e.forced_eos_token_id)),null!==e.begin_suppress_tokens){let n=t>1||null===e.forced_bos_token_id?t:t+1;null!==e.forced_decoder_ids&&(n+=e.forced_decoder_ids[e.forced_decoder_ids.length-1][0]),r.push(new Rr(e.begin_suppress_tokens,n))}return null!==e.forced_decoder_ids&&r.push(new Pr(e.forced_decoder_ids)),null!==n&&r.extend(n),r}_get_generation_config(e){let t=new $r(this.config);return"generation_config"in this&&Object.assign(t,this.generation_config),null!==e&&Object.assign(t,e),t}async generate(e,t=null,n=null,{inputs_attention_mask:r=null}={}){if(!this.can_generate){let e=`The current model class (${ri.get(this.constructor)}) is not compatible with \`.generate()\`, as it doesn't have a language model head.`;const t=this.config.model_type,n=wc.get(t)??vc.get(t)??gc.get(t)??Sc.get(t);throw n&&(e+=` Please use the following class instead: '${n[0]}'`),Error(e)}if(!(e instanceof le)&&(i=e,"TypedArray"!==i?.prototype?.__proto__?.constructor?.name)&&!Array.isArray(e))throw Error(`\`inputs\` must be a Tensor, TypedArray, or Array, but is "${e.constructor.name}".`);var i;let a;if(this.config.is_encoder_decoder)a=0;else if(a=e instanceof le?e.dims.at(-1):e.length,0===a)throw Error("Must supply a non-empty array of input token ids.");t=this._get_generation_config(t),n=n??new Cr,n=this._get_logits_processor(t,a,n);let o=t.eos_token_id;null===o||Array.isArray(o)||(o=[o]);let s=1;const l=s+(t.max_new_tokens??1/0),u=Number.isInteger(t.max_length)&&null===(t.max_new_tokens??null);let c=Ur.getSampler(t),d=this.getStartBeams(e,t,s,r);for(;d.some((e=>!e.done))&&s<l;){let e=[];for(let r of d){if(r.done){e.push(r);continue}if(u&&r.output_token_ids.length>=t.max_length){r.done=!0,e.push(r);continue}let i=await this.runBeam(r);t.output_attentions&&this.addAttentionsToBeam(r,i),t.output_scores;let a=i.logits.slice(null,-1,null);n(r.output_token_ids,a);let s=c(a);for(let[t,n]of s){let i={...r};this.updateBeam(i,t),i.score+=n,o&&o.includes(t)&&(i.done=!0),e.push(i)}}++s,e=this.groupBeams(e).map((e=>e.sort(((e,t)=>t.score-e.score)).slice(0,t.num_beams))),d=e.flat(),t.callback_function&&t.callback_function(d)}const f=this.groupBeams(d),h=e=>f.map((n=>t.num_return_sequences>1?n.slice(0,t.num_return_sequences).map((t=>t[e])):[n[0][e]])).flat(),p=h("output_token_ids");if(t.return_dict_in_generate){return{sequences:p,decoder_attentions:h("decoder_attentions"),cross_attentions:h("cross_attentions")}}return p}addAttentionsToBeam(e,t){if(this.config.is_encoder_decoder){if(!t.cross_attentions||0===t.cross_attentions.length)throw Error("`output_attentions` is true, but the model did not produce cross-attentions. This is most likely because the model was not exported with `output_attentions=True`.");e.cross_attentions||(e.cross_attentions=[]),e.cross_attentions.push(t.cross_attentions)}if(!t.decoder_attentions||0===t.decoder_attentions.length)throw Error("`output_attentions` is true, but the model did not produce decoder-attentions. This is most likely because the model was not exported with `output_attentions=True`.");e.decoder_attentions||(e.decoder_attentions=[]),e.decoder_attentions.push(t.decoder_attentions)}groupBeams(e){const t=Object.create(null);for(const n of e)void 0===t[n.id]?t[n.id]=[n]:t[n.id].push(n);return Object.values(t)}getPastKeyValues(e,t){const n=Object.create(null);for(const r in e)if(r.startsWith("present")){let i=r.replace("present","past_key_values");t&&r.includes("encoder")?n[i]=t[i]:n[i]=e[r]}return n}getAttentions(e){const t=Object.create(null);for(const n of["cross_attentions","decoder_attentions"]){const r=[];for(const t in e)if(t.startsWith(n)){r[t.split(".").pop()]=e[t]}t[n]=r}return t}addPastKeyValues(e,t){if(t)Object.assign(e,t);else{const t=1;if(this.config.is_encoder_decoder&&(this.add_encoder_pkv??1)){let n=[t,this.num_encoder_heads,0,this.encoder_dim_kv],r=[t,this.num_decoder_heads,0,this.decoder_dim_kv];for(let t=0;t<this.num_decoder_layers;++t)e[`past_key_values.${t}.encoder.key`]=new le("float32",[],n),e[`past_key_values.${t}.encoder.value`]=new le("float32",[],n),e[`past_key_values.${t}.decoder.key`]=new le("float32",[],r),e[`past_key_values.${t}.decoder.value`]=new le("float32",[],r)}else if("falcon"===this.config.model_type){let n=[t*this.num_heads,0,this.dim_kv];for(let t=0;t<this.num_layers;++t)e[`past_key_values.${t}.key`]=new le("float32",[],n),e[`past_key_values.${t}.value`]=new le("float32",[],n)}else if(this.config.multi_query){let n=[t*this.num_heads,0,2*this.dim_kv];for(let t=0;t<this.num_layers;++t)e[`past_key_values.${t}.key_value`]=new le("float32",[],n)}else if("bloom"===this.config.model_type){let n=[t*this.num_heads,this.dim_kv,0],r=[t*this.num_heads,0,this.dim_kv];for(let t=0;t<this.num_layers;++t)e[`past_key_values.${t}.key`]=new le("float32",[],n),e[`past_key_values.${t}.value`]=new le("float32",[],r)}else{let n=[t,this.num_heads,0,this.dim_kv];for(let t=0;t<this.num_layers;++t)e[`past_key_values.${t}.key`]=new le("float32",[],n),e[`past_key_values.${t}.value`]=new le("float32",[],n)}}}getStartBeams(e,t,n,r){return this._getStartBeams(this,e,t,n,r)}async runBeam(e){return await this._runBeam(this,e)}updateBeam(e,t){return this._updateBeam(e,t)}}class wi{}class xi extends wi{constructor({last_hidden_state:e,hidden_states:t=null,attentions:n=null}){super(),this.last_hidden_state=e,this.hidden_states=t,this.attentions=n}}class ki extends vi{}class Si extends ki{}class Ti extends ki{async _call(e){return new _d(await super._call(e))}}class Ei extends ki{async _call(e){return new gd(await super._call(e))}}class Ai extends ki{async _call(e){return new yd(await super._call(e))}}class Oi extends ki{async _call(e){return new bd(await super._call(e))}}class Ci extends vi{}class Ii extends Ci{}class Pi extends vi{}class Mi extends Pi{}class Li extends Pi{async _call(e){return new _d(await super._call(e))}}class Ri extends Pi{async _call(e){return new gd(await super._call(e))}}class Ni extends Pi{async _call(e){return new yd(await super._call(e))}}class Di extends Pi{async _call(e){return new bd(await super._call(e))}}class ji extends vi{}class Fi extends ji{}class Bi extends ji{async _call(e){return new _d(await super._call(e))}}class zi extends ji{async _call(e){return new gd(await super._call(e))}}class $i extends ji{async _call(e){return new yd(await super._call(e))}}class Ui extends ji{async _call(e){return new bd(await super._call(e))}}class Vi extends vi{}class Wi extends Vi{}class Hi extends Vi{async _call(e){return new _d(await super._call(e))}}class Gi extends Vi{async _call(e){return new gd(await super._call(e))}}class qi extends Vi{async _call(e){return new yd(await super._call(e))}}class Ki extends Vi{async _call(e){return new bd(await super._call(e))}}class Zi extends vi{}class Xi extends Zi{}class Yi extends Zi{async _call(e){return new _d(await super._call(e))}}class Ji extends Zi{async _call(e){return new gd(await super._call(e))}}class Qi extends Zi{async _call(e){return new yd(await super._call(e))}}class ea extends Zi{async _call(e){return new bd(await super._call(e))}}class ta extends vi{}class na extends ta{}class ra extends ta{async _call(e){return new _d(await super._call(e))}}class ia extends ta{async _call(e){return new gd(await super._call(e))}}class aa extends ta{async _call(e){return new yd(await super._call(e))}}class oa extends ta{async _call(e){return new bd(await super._call(e))}}class sa extends vi{}class la extends sa{}class ua extends sa{async _call(e){return new _d(await super._call(e))}}class ca extends sa{async _call(e){return new gd(await super._call(e))}}class da extends sa{async _call(e){return new yd(await super._call(e))}}class fa extends sa{async _call(e){return new bd(await super._call(e))}}class ha extends vi{}class pa extends ha{}class ga extends ha{async _call(e){return new gd(await super._call(e))}}class ma extends ha{async _call(e){return new yd(await super._call(e))}}class ya extends ha{async _call(e){return new bd(await super._call(e))}}class _a extends ha{async _call(e){return new _d(await super._call(e))}}class ba extends vi{}class va extends ba{}class wa extends ba{async _call(e){return new _d(await super._call(e))}}class xa extends ba{async _call(e){return new gd(await super._call(e))}}class ka extends ba{async _call(e){return new yd(await super._call(e))}}class Sa extends vi{}class Ta extends Sa{}class Ea extends Sa{async _call(e){return new _d(await super._call(e))}}class Aa extends Sa{async _call(e){return new gd(await super._call(e))}}class Oa extends Sa{async _call(e){return new bd(await super._call(e))}}class Ca extends vi{}class Ia extends Ca{}class Pa extends Ca{async _call(e){return new _d(await super._call(e))}}class Ma extends Ca{async _call(e){return new gd(await super._call(e))}}class La extends Ca{async _call(e){return new yd(await super._call(e))}}class Ra extends Ca{async _call(e){return new bd(await super._call(e))}}class Na extends vi{}class Da extends Na{}class ja extends Na{async _call(e){return new _d(await super._call(e))}}class Fa extends Na{async _call(e){return new gd(await super._call(e))}}class Ba extends Na{async _call(e){return new bd(await super._call(e))}}class za extends vi{}class $a extends za{}class Ua extends za{async _call(e){return new gd(await super._call(e))}}class Va extends za{async _call(e){return new bd(await super._call(e))}}class Wa extends za{async _call(e){return new _d(await super._call(e))}}class Ha extends vi{}class Ga extends Ha{}class qa extends Ha{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.num_decoder_layers,this.num_decoder_heads=this.config.num_heads,this.decoder_dim_kv=this.config.d_kv,this.num_encoder_layers=this.config.num_layers,this.num_encoder_heads=this.config.num_heads,this.encoder_dim_kv=this.config.d_kv}}class Ka extends vi{}class Za extends Ka{}class Xa extends Ka{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.num_decoder_layers,this.num_decoder_heads=this.config.num_heads,this.decoder_dim_kv=this.config.d_kv,this.num_encoder_layers=this.config.num_layers,this.num_encoder_heads=this.config.num_heads,this.encoder_dim_kv=this.config.d_kv}}class Ya extends vi{}class Ja extends Ya{}class Qa extends Ya{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.num_decoder_layers,this.num_decoder_heads=this.config.num_heads,this.decoder_dim_kv=this.config.d_kv,this.num_encoder_layers=this.config.num_layers,this.num_encoder_heads=this.config.num_heads,this.encoder_dim_kv=this.config.d_kv}}class eo extends vi{}class to extends eo{}class no extends eo{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}class ro extends eo{async _call(e){return new gd(await super._call(e))}}class io extends vi{}class ao extends io{}class oo extends io{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}class so extends io{async _call(e){return new gd(await super._call(e))}}class lo extends io{constructor(e,t,n){super(e,t),this.generation_config=n,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}class uo extends vi{}class co extends uo{}class fo extends uo{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}class ho extends vi{}class po extends ho{}class go extends ho{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}class mo extends vi{}class yo extends mo{}class _o extends mo{async _call(e){return new _d(await super._call(e))}}class bo extends mo{async _call(e){return new gd(await super._call(e))}}class vo extends mo{async _call(e){return new yd(await super._call(e))}}class wo extends mo{async _call(e){return new bd(await super._call(e))}}class xo extends vi{}class ko extends xo{}class So extends xo{async _call(e){return new _d(await super._call(e))}}class To extends xo{async _call(e){return new gd(await super._call(e))}}class Eo extends xo{async _call(e){return new yd(await super._call(e))}}class Ao extends xo{async _call(e){return new bd(await super._call(e))}}class Oo extends vi{}class Co extends Oo{}class Io extends Oo{async _call(e){return new _d(await super._call(e))}}class Po extends Oo{async _call(e){return new gd(await super._call(e))}}class Mo extends Oo{async _call(e){return new yd(await super._call(e))}}class Lo extends Oo{async _call(e){return new bd(await super._call(e))}}class Ro extends vi{}class No extends Ro{}class Do extends Ro{}class jo extends vi{}class Fo extends jo{}class Bo extends jo{requires_attention_mask=!1;main_input_name="input_features";constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}async generate(e,t=null,n=null){if(t=this._get_generation_config(t),t.return_timestamps??=!1,t.return_timestamps&&(n=[new Nr(t)]),t.return_token_timestamps&&(t.output_attentions=!0,t.return_dict_in_generate=!0,"translate"===t.task&&console.warn("Token-level timestamps may not be reliable for task 'translate'."),!t.alignment_heads))throw new Error("Model generation config has no `alignment_heads`, token-level timestamps not available. See https://gist.github.com/hollance/42e32852f24243b748ae6bc1f985b13a on how to add this property to the generation config.");const r=await super.generate(e,t,n);return t.return_token_timestamps&&t.alignment_heads&&(r.token_timestamps=this._extract_token_timestamps(r,t.alignment_heads,t.num_frames)),r}_extract_token_timestamps(e,t,n=null,r=.02){if(!e.cross_attentions)throw new Error("Model outputs must contain cross attentions to extract timestamps. This is most likely because the model was not exported with `output_attentions=True`.");let i=this.config.median_filter_width;void 0===i&&(console.warn("Model config has no `median_filter_width`, using default value of 7."),i=7);const a=e.cross_attentions.map((e=>{let r=Array.from({length:this.config.decoder_layers},((t,n)=>me(e.map((e=>e[n])),2))),a=ye(t.map((([e,t])=>n?r[e].slice(null,t,null,[0,n]):r[e].slice(null,t))));a=a.transpose(1,0,2,3);let[o,s]=_e(a,-2,0,!0),l=a.clone();for(let t=0;t<l.dims[0];++t){let e=l[t];for(let n=0;n<e.dims[0];++n){let r=e[n];const a=o[t][n][0],l=s[t][n][0];for(let e=0;e<r.dims[0];++e){let t=r[e];for(let e=0;e<t.data.length;++e)t.data[e]=(t.data[e]-l.data[e])/a.data[e];t.data.set(re(t.data,i))}}}return be(l,1)})),o=[e.sequences.length,e.sequences[0].length],s=new le("float32",new Float32Array(o[0]*o[1]),o);for(let l=0;l<o[0];++l){const e=a[l].neg().squeeze_(0);let[t,n]=ve(e),i=u([1],Array.from({length:t.length-1},((e,n)=>t[n+1]-t[n]))).map((e=>!!e)),o=[];for(let a=0;a<i.length;++a)i[a]&&o.push(n[a]*r);s[l].data.set(o,1)}return s}}class zo extends vi{main_input_name="pixel_values";constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r;const i=this.config.encoder,a=this.config.decoder,o=i.model_type;(fc.get(o)??hc.get(o))||console.warn(`Model type for encoder '${o}' not found, assuming encoder-only architecture. Please report this at https://github.com/xenova/transformers.js/issues/new/choose.`);const s=wc.get(a.model_type);if(!s)throw new Error(`Unable to construct \`VisionEncoderDecoder\` due to unsupported decoder: "${this.config.decoder.model_type}"`);const l=new(0,s[1])(a,n,r);this.add_encoder_pkv="num_decoder_layers"in l,this.add_encoder_pkv?(this.num_decoder_layers=l.num_decoder_layers,this.num_decoder_heads=l.num_decoder_heads,this.decoder_dim_kv=l.decoder_dim_kv,this.num_encoder_layers=l.num_encoder_layers,this.num_encoder_heads=l.num_encoder_heads,this.encoder_dim_kv=l.encoder_dim_kv):(this.num_layers=l.num_layers,this.num_heads=l.num_heads,this.dim_kv=l.dim_kv)}}class $o extends vi{}class Uo extends $o{}class Vo extends $o{static async from_pretrained(e,t={}){return t.model_file_name??="text_model",super.from_pretrained(e,t)}}class Wo extends $o{static async from_pretrained(e,t={}){return t.model_file_name??="vision_model",super.from_pretrained(e,t)}}class Ho extends vi{}class Go extends Ho{}class qo extends Ho{static async from_pretrained(e,t={}){return t.model_file_name??="text_model",super.from_pretrained(e,t)}}class Ko extends $o{static async from_pretrained(e,t={}){return t.model_file_name??="vision_model",super.from_pretrained(e,t)}}class Zo extends vi{}class Xo extends Zo{}class Yo extends vi{}class Jo extends Yo{}class Qo extends Yo{}class es extends vi{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class ts extends es{}class ns extends es{}class rs extends vi{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_heads,this.num_layers=this.config.num_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class is extends rs{}class as extends rs{}class os extends vi{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class ss extends os{}class ls extends os{}class us extends vi{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class cs extends us{}class ds extends us{}class fs extends vi{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class hs extends fs{}class ps extends fs{}class gs extends vi{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class ms extends gs{}class ys extends gs{}class _s extends vi{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_key_value_heads??this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class bs extends _s{}class vs extends _s{}class ws extends vi{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_key_value_heads??this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class xs extends ws{}class ks extends ws{}class Ss extends vi{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class Ts extends Ss{}class Es extends Ss{}class As extends vi{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.hidden_size/this.num_heads}}class Os extends As{}class Cs extends As{}class Is extends vi{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_heads,this.num_layers=this.config.n_layers,this.dim_kv=this.config.d_model/this.num_heads}}class Ps extends Is{}class Ms extends Is{}class Ls extends vi{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class Rs extends Ls{}class Ns extends Ls{}class Ds extends vi{}class js extends Ds{}class Fs extends Ds{async _call(e){return new gd(await super._call(e))}}class Bs extends vi{}class zs extends Bs{}class $s extends Bs{async _call(e){return new gd(await super._call(e))}}class Us extends vi{}class Vs extends Us{async _call(e){return new xd(await super._call(e))}}class Ws extends vi{}class Hs extends Ws{}class Gs extends Ws{async _call(e){return new gd(await super._call(e))}}class qs extends vi{}class Ks extends qs{}class Zs extends qs{async _call(e){return new gd(await super._call(e))}}class Xs extends vi{}class Ys extends Xs{}class Js extends Xs{}class Qs extends vi{}class el extends Qs{}class tl extends Qs{}class nl extends vi{}class rl extends nl{}class il extends nl{async _call(e){return new gd(await super._call(e))}}class al extends vi{}class ol extends al{}class sl extends al{async _call(e){return new ul(await super._call(e))}}class ll extends al{async _call(e){return new cl(await super._call(e))}}class ul extends wi{constructor({logits:e,pred_boxes:t}){super(),this.logits=e,this.pred_boxes=t}}class cl extends wi{constructor({logits:e,pred_boxes:t,pred_masks:n}){super(),this.logits=e,this.pred_boxes=t,this.pred_masks=n}}class dl extends vi{}class fl extends dl{}class hl extends dl{async _call(e){return new pl(await super._call(e))}}class pl extends ul{}class gl extends vi{}class ml extends gl{}class yl extends gl{async _call(e){return new gd(await super._call(e))}}class _l extends vi{}class bl extends _l{}class vl extends _l{async _call(e){return new gd(await super._call(e))}}class wl extends vi{}class xl extends wl{}class kl extends wl{async _call(e){return new gd(await super._call(e))}}class Sl extends vi{}class Tl extends Sl{}class El extends Sl{}class Al extends vi{}class Ol extends Al{}class Cl extends Al{}class Il extends vi{}class Pl extends Il{}class Ml extends vi{}class Ll extends Ml{}class Rl extends Ml{}class Nl extends vi{}class Dl extends Nl{}class jl extends vi{}class Fl extends jl{}class Bl extends jl{async _call(e){return new gd(await super._call(e))}}class zl extends vi{}class $l extends zl{}class Ul extends zl{async _call(e){return new gd(await super._call(e))}}class Vl extends vi{}class Wl extends Vl{}class Hl extends Vl{async _call(e){return new gd(await super._call(e))}}class Gl extends vi{}class ql extends Gl{}class Kl extends Gl{async _call(e){return new Zl(await super._call(e))}}class Zl extends wi{constructor({logits:e,pred_boxes:t}){super(),this.logits=e,this.pred_boxes=t}}class Xl extends vi{}class Yl extends Xl{constructor(e,t,n){super(e,t),this.prompt_encoder_mask_decoder=n}async get_image_embeddings({pixel_values:e}){return await gi(this,{pixel_values:e})}async forward(e){if(e.image_embeddings&&e.image_positional_embeddings||(e={...e,...await this.get_image_embeddings(e)}),!e.input_labels){const t=e.input_points.dims.slice(0,-1),n=t.reduce(((e,t)=>e*t),1);e.input_labels=new le("int64",new BigInt64Array(n).fill(1n),t)}return await ai(this.prompt_encoder_mask_decoder,{input_points:e.input_points,input_labels:e.input_labels,image_embeddings:e.image_embeddings,image_positional_embeddings:e.image_positional_embeddings})}async _call(e){return new Jl(await super._call(e))}}class Jl extends wi{constructor({iou_scores:e,pred_masks:t}){super(),this.iou_scores=e,this.pred_masks=t}}class Ql extends vi{}class eu extends Ql{}class tu extends Ql{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}class nu extends vi{}class ru extends nu{}class iu extends nu{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}class au extends vi{}class ou extends au{}class su extends au{async _call(e){return new vd(await super._call(e))}}class lu extends au{async _call(e){return new gd(await super._call(e))}}class uu extends au{async _call(e){return new yd(await super._call(e))}}class cu extends vi{}class du extends cu{}class fu extends cu{async _call(e){return new vd(await super._call(e))}}class hu extends cu{async _call(e){return new gd(await super._call(e))}}class pu extends vi{}class gu extends pu{}class mu extends pu{async _call(e){return new vd(await super._call(e))}}class yu extends pu{async _call(e){return new gd(await super._call(e))}}class _u extends pu{async _call(e){return new yd(await super._call(e))}}class bu extends vi{}class vu extends bu{}class wu extends bu{async _call(e){return new vd(await super._call(e))}}class xu extends bu{async _call(e){return new gd(await super._call(e))}}class ku extends vi{}class Su extends au{}class Tu extends au{async _call(e){return new vd(await super._call(e))}}class Eu extends au{async _call(e){return new gd(await super._call(e))}}class Au extends vi{}class Ou extends Au{}class Cu extends Au{async _call(e){return new vd(await super._call(e))}}class Iu extends Au{async _call(e){return new gd(await super._call(e))}}class Pu extends Au{async _call(e){return new md(await super._call(e))}}class Mu extends Au{async _call(e){return new yd(await super._call(e))}}class Lu extends vi{}class Ru extends Lu{}class Nu extends Lu{}class Du extends Lu{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.hidden_size/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.hidden_size/this.num_encoder_heads}async generate_speech(e,t,{threshold:n=.5,minlenratio:r=0,maxlenratio:i=20,vocoder:a=null}={}){const o={input_ids:e},{encoder_outputs:s,encoder_attention_mask:l}=await gi(this,o),u=s.dims[1]/this.config.reduction_factor,c=Math.floor(u*i),d=Math.floor(u*r),f=this.config.num_mel_bins;let h=[],p=null,g=null,m=0;for(;;){++m;const e=ci(!!g);let r;r=g?g.output_sequence_out:new le("float32",new Float32Array(f),[1,1,f]);let i={use_cache_branch:e,output_sequence:r,encoder_attention_mask:l,speaker_embeddings:t,encoder_hidden_states:s};this.addPastKeyValues(i,p),g=await ai(this.decoder_merged_session,i),p=this.getPastKeyValues(g,p);const{prob:a,spectrum:o}=g;if(h.push(o),m>=d&&(Array.from(a.data).filter((e=>e>=n)).length>0||m>=c))break}const y=me(h),{waveform:_}=await ai(a.session,{spectrogram:y});return{spectrogram:y,waveform:_}}}class ju extends vi{main_input_name="spectrogram"}class Fu extends vi{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_encoder_layers=this.num_decoder_layers=this.config.decoder_layers,this.num_encoder_heads=this.num_decoder_heads=this.config.decoder_attention_heads,this.encoder_dim_kv=this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads}}class Bu extends Fu{}class zu extends vi{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_key_value_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class $u extends zu{}class Uu extends zu{}class Vu extends vi{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_key_value_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class Wu extends Vu{}class Hu extends Vu{}class Gu extends vi{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class qu extends Gu{}class Ku extends Gu{}class Zu extends vi{}class Xu extends Zu{}class Yu extends Zu{static async from_pretrained(e,t={}){return t.model_file_name??="text_model",super.from_pretrained(e,t)}}class Ju extends Zu{static async from_pretrained(e,t={}){return t.model_file_name??="audio_model",super.from_pretrained(e,t)}}class Qu extends vi{}class ec extends Qu{async _call(e){return new kd(await super._call(e))}}class tc extends vi{}class nc extends tc{}class rc extends tc{}class ic extends tc{}class ac extends vi{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class oc extends ac{}class sc extends ac{}class lc extends vi{}class uc extends lc{}class cc extends lc{async _call(e){return new gd(await super._call(e))}}class dc{static MODEL_CLASS_MAPPINGS=null;static BASE_IF_FAIL=!1;static async from_pretrained(e,{quantized:t=!0,progress_callback:n=null,config:r=null,cache_dir:i=null,local_files_only:a=!1,revision:o="main",model_file_name:s=null}={}){let l={quantized:t,progress_callback:n,config:r,cache_dir:i,local_files_only:a,revision:o,model_file_name:s};if(r=await Or.from_pretrained(e,l),l.config||(l.config=r),!this.MODEL_CLASS_MAPPINGS)throw new Error("`MODEL_CLASS_MAPPINGS` not implemented for this type of `AutoClass`: "+this.name);for(let u of this.MODEL_CLASS_MAPPINGS){const t=u.get(r.model_type);if(t)return await t[1].from_pretrained(e,l)}if(this.BASE_IF_FAIL)return console.warn(`Unknown model class "${r.model_type}", attempting to construct from base class.`),await vi.from_pretrained(e,l);throw Error(`Unsupported model type: ${r.model_type}`)}}const fc=new Map([["bert",["BertModel",Si]],["nomic_bert",["NomicBertModel",Ii]],["roformer",["RoFormerModel",Mi]],["electra",["ElectraModel",Wi]],["esm",["EsmModel",va]],["convbert",["ConvBertModel",Fi]],["camembert",["CamembertModel",Xi]],["deberta",["DebertaModel",na]],["deberta-v2",["DebertaV2Model",la]],["mpnet",["MPNetModel",Ia]],["albert",["AlbertModel",$a]],["distilbert",["DistilBertModel",pa]],["roberta",["RobertaModel",yo]],["xlm",["XLMModel",ko]],["xlm-roberta",["XLMRobertaModel",Co]],["clap",["ClapModel",Xu]],["clip",["CLIPModel",Uo]],["clipseg",["CLIPSegModel",Jo]],["chinese_clip",["ChineseCLIPModel",Xo]],["siglip",["SiglipModel",Go]],["mobilebert",["MobileBertModel",Ta]],["squeezebert",["SqueezeBertModel",Da]],["wav2vec2",["Wav2Vec2Model",ou]],["wav2vec2-bert",["Wav2Vec2BertModel",vu]],["unispeech",["UniSpeechModel",du]],["unispeech-sat",["UniSpeechSatModel",gu]],["hubert",["HubertModel",Su]],["wavlm",["WavLMModel",Ou]],["audio-spectrogram-transformer",["ASTModel",No]],["vits",["VitsModel",ec]],["detr",["DetrModel",ol]],["table-transformer",["TableTransformerModel",fl]],["vit",["ViTModel",js]],["fastvit",["FastViTModel",zs]],["mobilevit",["MobileViTModel",Hs]],["mobilevitv2",["MobileViTV2Model",Ks]],["owlvit",["OwlViTModel",Ys]],["owlv2",["Owlv2Model",el]],["beit",["BeitModel",rl]],["deit",["DeiTModel",ml]],["convnext",["ConvNextModel",Fl]],["convnextv2",["ConvNextV2Model",$l]],["dinov2",["Dinov2Model",Wl]],["resnet",["ResNetModel",bl]],["swin",["SwinModel",xl]],["swin2sr",["Swin2SRModel",Tl]],["donut-swin",["DonutSwinModel",Dl]],["yolos",["YolosModel",ql]],["dpt",["DPTModel",Ol]],["glpn",["GLPNModel",Ll]],["hifigan",["SpeechT5HifiGan",ju]],["efficientnet",["EfficientNetModel",uc]]]),hc=new Map([["t5",["T5Model",Ga]],["longt5",["LongT5Model",Za]],["mt5",["MT5Model",Ja]],["bart",["BartModel",to]],["mbart",["MBartModel",ao]],["marian",["MarianModel",eu]],["whisper",["WhisperModel",Fo]],["m2m_100",["M2M100Model",ru]],["blenderbot",["BlenderbotModel",co]],["blenderbot-small",["BlenderbotSmallModel",po]]]),pc=new Map([["bloom",["BloomModel",Os]],["gpt2",["GPT2Model",ts]],["gptj",["GPTJModel",cs]],["gpt_bigcode",["GPTBigCodeModel",hs]],["gpt_neo",["GPTNeoModel",is]],["gpt_neox",["GPTNeoXModel",ss]],["codegen",["CodeGenModel",ms]],["llama",["LlamaModel",bs]],["qwen2",["Qwen2Model",xs]],["phi",["PhiModel",Ts]],["mpt",["MptModel",Ps]],["opt",["OPTModel",Rs]],["mistral",["MistralModel",$u]],["starcoder2",["Starcoder2Model",Wu]],["falcon",["FalconModel",qu]]]),gc=new Map([["speecht5",["SpeechT5ForSpeechToText",Nu]],["whisper",["WhisperForConditionalGeneration",Bo]]]),mc=new Map([["speecht5",["SpeechT5ForTextToSpeech",Du]]]),yc=new Map([["vits",["VitsModel",ec]]]),_c=new Map([["bert",["BertForSequenceClassification",Ei]],["roformer",["RoFormerForSequenceClassification",Ri]],["electra",["ElectraForSequenceClassification",Gi]],["esm",["EsmForSequenceClassification",xa]],["convbert",["ConvBertForSequenceClassification",zi]],["camembert",["CamembertForSequenceClassification",Ji]],["deberta",["DebertaForSequenceClassification",ia]],["deberta-v2",["DebertaV2ForSequenceClassification",ca]],["mpnet",["MPNetForSequenceClassification",Ma]],["albert",["AlbertForSequenceClassification",Ua]],["distilbert",["DistilBertForSequenceClassification",ga]],["roberta",["RobertaForSequenceClassification",bo]],["xlm",["XLMForSequenceClassification",To]],["xlm-roberta",["XLMRobertaForSequenceClassification",Po]],["bart",["BartForSequenceClassification",ro]],["mbart",["MBartForSequenceClassification",so]],["mobilebert",["MobileBertForSequenceClassification",Aa]],["squeezebert",["SqueezeBertForSequenceClassification",Fa]]]),bc=new Map([["bert",["BertForTokenClassification",Ai]],["roformer",["RoFormerForTokenClassification",Ni]],["electra",["ElectraForTokenClassification",qi]],["esm",["EsmForTokenClassification",ka]],["convbert",["ConvBertForTokenClassification",$i]],["camembert",["CamembertForTokenClassification",Qi]],["deberta",["DebertaForTokenClassification",aa]],["deberta-v2",["DebertaV2ForTokenClassification",da]],["mpnet",["MPNetForTokenClassification",La]],["distilbert",["DistilBertForTokenClassification",ma]],["roberta",["RobertaForTokenClassification",vo]],["xlm",["XLMForTokenClassification",Eo]],["xlm-roberta",["XLMRobertaForTokenClassification",Mo]]]),vc=new Map([["t5",["T5ForConditionalGeneration",qa]],["longt5",["LongT5ForConditionalGeneration",Xa]],["mt5",["MT5ForConditionalGeneration",Qa]],["bart",["BartForConditionalGeneration",no]],["mbart",["MBartForConditionalGeneration",oo]],["marian",["MarianMTModel",tu]],["m2m_100",["M2M100ForConditionalGeneration",iu]],["blenderbot",["BlenderbotForConditionalGeneration",fo]],["blenderbot-small",["BlenderbotSmallForConditionalGeneration",go]]]),wc=new Map([["bloom",["BloomForCausalLM",Cs]],["gpt2",["GPT2LMHeadModel",ns]],["gptj",["GPTJForCausalLM",ds]],["gpt_bigcode",["GPTBigCodeForCausalLM",ps]],["gpt_neo",["GPTNeoForCausalLM",as]],["gpt_neox",["GPTNeoXForCausalLM",ls]],["codegen",["CodeGenForCausalLM",ys]],["llama",["LlamaForCausalLM",vs]],["qwen2",["Qwen2ForCausalLM",ks]],["phi",["PhiForCausalLM",Es]],["mpt",["MptForCausalLM",Ms]],["opt",["OPTForCausalLM",Ns]],["mbart",["MBartForCausalLM",lo]],["mistral",["MistralForCausalLM",Uu]],["starcoder2",["Starcoder2ForCausalLM",Hu]],["falcon",["FalconForCausalLM",Ku]],["trocr",["TrOCRForCausalLM",Bu]],["stablelm",["StableLmForCausalLM",sc]]]),xc=new Map([["bert",["BertForMaskedLM",Ti]],["roformer",["RoFormerForMaskedLM",Li]],["electra",["ElectraForMaskedLM",Hi]],["esm",["EsmForMaskedLM",wa]],["convbert",["ConvBertForMaskedLM",Bi]],["camembert",["CamembertForMaskedLM",Yi]],["deberta",["DebertaForMaskedLM",ra]],["deberta-v2",["DebertaV2ForMaskedLM",ua]],["mpnet",["MPNetForMaskedLM",Pa]],["albert",["AlbertForMaskedLM",Wa]],["distilbert",["DistilBertForMaskedLM",_a]],["roberta",["RobertaForMaskedLM",_o]],["xlm",["XLMWithLMHeadModel",So]],["xlm-roberta",["XLMRobertaForMaskedLM",Io]],["mobilebert",["MobileBertForMaskedLM",Ea]],["squeezebert",["SqueezeBertForMaskedLM",ja]]]),kc=new Map([["bert",["BertForQuestionAnswering",Oi]],["roformer",["RoFormerForQuestionAnswering",Di]],["electra",["ElectraForQuestionAnswering",Ki]],["convbert",["ConvBertForQuestionAnswering",Ui]],["camembert",["CamembertForQuestionAnswering",ea]],["deberta",["DebertaForQuestionAnswering",oa]],["deberta-v2",["DebertaV2ForQuestionAnswering",fa]],["mpnet",["MPNetForQuestionAnswering",Ra]],["albert",["AlbertForQuestionAnswering",Va]],["distilbert",["DistilBertForQuestionAnswering",ya]],["roberta",["RobertaForQuestionAnswering",wo]],["xlm",["XLMForQuestionAnswering",Ao]],["xlm-roberta",["XLMRobertaForQuestionAnswering",Lo]],["mobilebert",["MobileBertForQuestionAnswering",Oa]],["squeezebert",["SqueezeBertForQuestionAnswering",Ba]]]),Sc=new Map([["vision-encoder-decoder",["VisionEncoderDecoderModel",zo]]]),Tc=new Map([["vision-encoder-decoder",["VisionEncoderDecoderModel",zo]]]),Ec=new Map([["vit",["ViTForImageClassification",Fs]],["fastvit",["FastViTForImageClassification",$s]],["mobilevit",["MobileViTForImageClassification",Gs]],["mobilevitv2",["MobileViTV2ForImageClassification",Zs]],["beit",["BeitForImageClassification",il]],["deit",["DeiTForImageClassification",yl]],["convnext",["ConvNextForImageClassification",Bl]],["convnextv2",["ConvNextV2ForImageClassification",Ul]],["dinov2",["Dinov2ForImageClassification",Hl]],["resnet",["ResNetForImageClassification",vl]],["swin",["SwinForImageClassification",kl]],["segformer",["SegformerForImageClassification",rc]],["efficientnet",["EfficientNetForImageClassification",cc]]]),Ac=new Map([["detr",["DetrForObjectDetection",sl]],["table-transformer",["TableTransformerForObjectDetection",hl]],["yolos",["YolosForObjectDetection",Kl]]]),Oc=new Map([["owlvit",["OwlViTForObjectDetection",Js]],["owlv2",["Owlv2ForObjectDetection",tl]]]),Cc=new Map([["detr",["DetrForSegmentation",ll]],["clipseg",["CLIPSegForImageSegmentation",Qo]]]),Ic=new Map([["segformer",["SegformerForSemanticSegmentation",ic]]]),Pc=new Map([["sam",["SamModel",Yl]]]),Mc=new Map([["wav2vec2",["Wav2Vec2ForCTC",su]],["wav2vec2-bert",["Wav2Vec2BertForCTC",wu]],["unispeech",["UniSpeechForCTC",fu]],["unispeech-sat",["UniSpeechSatForCTC",mu]],["wavlm",["WavLMForCTC",Cu]],["hubert",["HubertForCTC",Tu]]]),Lc=new Map([["wav2vec2",["Wav2Vec2ForSequenceClassification",lu]],["wav2vec2-bert",["Wav2Vec2BertForSequenceClassification",xu]],["unispeech",["UniSpeechForSequenceClassification",hu]],["unispeech-sat",["UniSpeechSatForSequenceClassification",yu]],["wavlm",["WavLMForSequenceClassification",Iu]],["hubert",["HubertForSequenceClassification",Eu]],["audio-spectrogram-transformer",["ASTForAudioClassification",Do]]]),Rc=new Map([["wavlm",["WavLMForXVector",Pu]]]),Nc=new Map([["unispeech-sat",["UniSpeechSatForAudioFrameClassification",_u]],["wavlm",["WavLMForAudioFrameClassification",Mu]],["wav2vec2",["Wav2Vec2ForAudioFrameClassification",uu]]]),Dc=new Map([["vitmatte",["VitMatteForImageMatting",Vs]]]),jc=new Map([["swin2sr",["Swin2SRForImageSuperResolution",El]]]),Fc=new Map([["dpt",["DPTForDepthEstimation",Cl]],["depth_anything",["DepthAnythingForDepthEstimation",Pl]],["glpn",["GLPNForDepthEstimation",Rl]]]),Bc=new Map([["clip",["CLIPVisionModelWithProjection",Wo]],["siglip",["SiglipVisionModel",Ko]]]),zc=[[fc,Zr],[hc,Xr],[pc,Qr],[_c,Zr],[bc,Zr],[vc,Yr],[gc,Yr],[wc,Qr],[xc,Zr],[kc,Zr],[Sc,Jr],[Ec,Zr],[Cc,Zr],[Ic,Zr],[Dc,Zr],[jc,Zr],[Fc,Zr],[Ac,Zr],[Oc,Zr],[Pc,ei],[Mc,Zr],[Lc,Zr],[mc,Yr],[yc,Zr],[Rc,Zr],[Nc,Zr],[Bc,Zr]];for(const[ph,gh]of zc)for(const[e,t]of ph.values())ti.set(e,gh),ri.set(t,e),ni.set(e,t);const $c=[["CLIPTextModelWithProjection",Vo,Zr],["SiglipTextModel",qo,Zr],["ClapTextModelWithProjection",Yu,Zr],["ClapAudioModelWithProjection",Ju,Zr]];for(const[ph,gh,mh]of $c)ti.set(ph,mh),ri.set(gh,ph),ni.set(ph,gh);class Uc extends dc{static MODEL_CLASS_MAPPINGS=zc.map((e=>e[0]));static BASE_IF_FAIL=!0}class Vc extends dc{static MODEL_CLASS_MAPPINGS=[_c]}class Wc extends dc{static MODEL_CLASS_MAPPINGS=[bc]}class Hc extends dc{static MODEL_CLASS_MAPPINGS=[vc]}class Gc extends dc{static MODEL_CLASS_MAPPINGS=[gc]}class qc extends dc{static MODEL_CLASS_MAPPINGS=[mc]}class Kc extends dc{static MODEL_CLASS_MAPPINGS=[yc]}class Zc extends dc{static MODEL_CLASS_MAPPINGS=[wc]}class Xc extends dc{static MODEL_CLASS_MAPPINGS=[xc]}class Yc extends dc{static MODEL_CLASS_MAPPINGS=[kc]}class Jc extends dc{static MODEL_CLASS_MAPPINGS=[Sc]}class Qc extends dc{static MODEL_CLASS_MAPPINGS=[Ec]}class ed extends dc{static MODEL_CLASS_MAPPINGS=[Cc]}class td extends dc{static MODEL_CLASS_MAPPINGS=[Ic]}class nd extends dc{static MODEL_CLASS_MAPPINGS=[Ac]}class rd extends dc{static MODEL_CLASS_MAPPINGS=[Oc]}class id extends dc{static MODEL_CLASS_MAPPINGS=[Pc]}class ad extends dc{static MODEL_CLASS_MAPPINGS=[Mc]}class od extends dc{static MODEL_CLASS_MAPPINGS=[Lc]}class sd extends dc{static MODEL_CLASS_MAPPINGS=[Rc]}class ld extends dc{static MODEL_CLASS_MAPPINGS=[Nc]}class ud extends dc{static MODEL_CLASS_MAPPINGS=[Tc]}class cd extends dc{static MODEL_CLASS_MAPPINGS=[Dc]}class dd extends dc{static MODEL_CLASS_MAPPINGS=[jc]}class fd extends dc{static MODEL_CLASS_MAPPINGS=[Fc]}class hd extends dc{static MODEL_CLASS_MAPPINGS=[Bc]}class pd extends wi{constructor({logits:e,past_key_values:t,encoder_outputs:n,decoder_attentions:r=null,cross_attentions:i=null}){super(),this.logits=e,this.past_key_values=t,this.encoder_outputs=n,this.decoder_attentions=r,this.cross_attentions=i}}class gd extends wi{constructor({logits:e}){super(),this.logits=e}}class md extends wi{constructor({logits:e,embeddings:t}){super(),this.logits=e,this.embeddings=t}}class yd extends wi{constructor({logits:e}){super(),this.logits=e}}class _d extends wi{constructor({logits:e}){super(),this.logits=e}}class bd extends wi{constructor({start_logits:e,end_logits:t}){super(),this.start_logits=e,this.end_logits=t}}class vd extends wi{constructor({logits:e}){super(),this.logits=e}}class wd extends wi{constructor({logits:e,past_key_values:t}){super(),this.logits=e,this.past_key_values=t}}class xd extends wi{constructor({alphas:e}){super(),this.alphas=e}}class kd extends wi{constructor({waveform:e,spectrogram:t}){super(),this.waveform=e,this.spectrogram=t}}var Sd=n(7806);const Td="undefined"!==typeof self,Ed=Td&&"DedicatedWorkerGlobalScope"===self.constructor.name;let Ad,Od,Cd;if(Td)Ad=(e,t)=>{if(!self.OffscreenCanvas)throw new Error("OffscreenCanvas not supported by this browser.");return new self.OffscreenCanvas(e,t)},Cd=self.createImageBitmap,Od=self.ImageData;else{if(!Sd)throw new Error("Unable to load image processing library.");Cd=async e=>{const t=(await e.metadata()).channels;let{data:n,info:r}=await e.rotate().raw().toBuffer({resolveWithObject:!0});const i=new Md(new Uint8ClampedArray(n),r.width,r.height,r.channels);return void 0!==t&&t!==r.channels&&i.convert(t),i}}const Id={0:"nearest",1:"lanczos",2:"bilinear",3:"bicubic",4:"box",5:"hamming"},Pd=new Map([["png","image/png"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["gif","image/gif"]]);class Md{constructor(e,t,n,r){this.data=e,this.width=t,this.height=n,this.channels=r}get size(){return[this.width,this.height]}static async read(e){if(e instanceof Md)return e;if("string"===typeof e||e instanceof URL)return await this.fromURL(e);throw new Error("Unsupported input type: "+typeof e)}static async fromURL(e){let t=await j(e);if(200!==t.status)throw new Error(`Unable to read image from "${e}" (${t.status} ${t.statusText})`);let n=await t.blob();return this.fromBlob(n)}static async fromBlob(e){if(Td){let t=await Cd(e);const n=Ad(t.width,t.height).getContext("2d");return n.drawImage(t,0,0),new this(n.getImageData(0,0,t.width,t.height).data,t.width,t.height,4)}{let t=Sd(await e.arrayBuffer());return await Cd(t)}}static fromTensor(e,t="CHW"){if(3!==e.dims.length)throw new Error(`Tensor should have 3 dimensions, but has ${e.dims.length} dimensions.`);if("CHW"===t)e=e.transpose(1,2,0);else if("HWC"!==t)throw new Error(`Unsupported channel format: ${t}`);if(!(e.data instanceof Uint8ClampedArray||e.data instanceof Uint8Array))throw new Error(`Unsupported tensor type: ${e.type}`);switch(e.dims[2]){case 1:case 2:case 3:case 4:return new Md(e.data,e.dims[1],e.dims[0],e.dims[2]);default:throw new Error(`Unsupported number of channels: ${e.dims[2]}`)}}grayscale(){if(1===this.channels)return this;let e=new Uint8ClampedArray(this.width*this.height*1);switch(this.channels){case 3:case 4:for(let t=0,n=0;t<this.data.length;t+=this.channels){const r=this.data[t],i=this.data[t+1],a=this.data[t+2];e[n++]=Math.round(.2989*r+.587*i+.114*a)}break;default:throw new Error(`Conversion failed due to unsupported number of channels: ${this.channels}`)}return this._update(e,this.width,this.height,1)}rgb(){if(3===this.channels)return this;let e=new Uint8ClampedArray(this.width*this.height*3);switch(this.channels){case 1:for(let t=0,n=0;t<this.data.length;++t)e[n++]=this.data[t],e[n++]=this.data[t],e[n++]=this.data[t];break;case 4:for(let t=0,n=0;t<this.data.length;t+=4)e[n++]=this.data[t],e[n++]=this.data[t+1],e[n++]=this.data[t+2];break;default:throw new Error(`Conversion failed due to unsupported number of channels: ${this.channels}`)}return this._update(e,this.width,this.height,3)}rgba(){if(4===this.channels)return this;let e=new Uint8ClampedArray(this.width*this.height*4);switch(this.channels){case 1:for(let t=0,n=0;t<this.data.length;++t)e[n++]=this.data[t],e[n++]=this.data[t],e[n++]=this.data[t],e[n++]=255;break;case 3:for(let t=0,n=0;t<this.data.length;t+=3)e[n++]=this.data[t],e[n++]=this.data[t+1],e[n++]=this.data[t+2],e[n++]=255;break;default:throw new Error(`Conversion failed due to unsupported number of channels: ${this.channels}`)}return this._update(e,this.width,this.height,4)}async resize(e,t,{resample:n=2}={}){let r=Id[n]??n;if(Td){let n=this.channels,r=this.toCanvas();const i=Ad(e,t).getContext("2d");return i.drawImage(r,0,0,e,t),new Md(i.getImageData(0,0,e,t).data,e,t,4).convert(n)}{let n=this.toSharp();switch(r){case"box":case"hamming":"box"!==r&&"hamming"!==r||(console.warn(`Resampling method ${r} is not yet supported. Using bilinear instead.`),r="bilinear");case"nearest":case"bilinear":case"bicubic":n=n.affine([e/this.width,0,0,t/this.height],{interpolator:r});break;case"lanczos":n=n.resize({width:e,height:t,fit:"fill",kernel:"lanczos3"});break;default:throw new Error(`Resampling method ${r} is not supported.`)}return await Cd(n)}}async pad([e,t,n,r]){if(e=Math.max(e,0),t=Math.max(t,0),n=Math.max(n,0),r=Math.max(r,0),0===e&&0===t&&0===n&&0===r)return this;if(Td){let i=this.channels,a=this.toCanvas(),o=this.width+e+t,s=this.height+n+r;const l=Ad(o,s).getContext("2d");return l.drawImage(a,0,0,this.width,this.height,e,n,o,s),new Md(l.getImageData(0,0,o,s).data,o,s,4).convert(i)}{let i=this.toSharp().extend({left:e,right:t,top:n,bottom:r});return await Cd(i)}}async crop([e,t,n,r]){if(e=Math.max(e,0),t=Math.max(t,0),n=Math.min(n,this.width-1),r=Math.min(r,this.height-1),0===e&&0===t&&n===this.width-1&&r===this.height-1)return this;const i=n-e+1,a=r-t+1;if(Td){const n=this.channels,r=this.toCanvas(),o=Ad(i,a).getContext("2d");o.drawImage(r,e,t,i,a,0,0,i,a);return new Md(o.getImageData(0,0,i,a).data,i,a,4).convert(n)}{const n=this.toSharp().extract({left:e,top:t,width:i,height:a});return await Cd(n)}}async center_crop(e,t){if(this.width===e&&this.height===t)return this;let n=(this.width-e)/2,r=(this.height-t)/2;if(Td){let i=this.channels,a=this.toCanvas();const o=Ad(e,t).getContext("2d");let s=0,l=0,u=0,c=0;return n>=0?s=n:u=-n,r>=0?l=r:c=-r,o.drawImage(a,s,l,e,t,u,c,e,t),new Md(o.getImageData(0,0,e,t).data,e,t,4).convert(i)}{let i=this.toSharp();if(n>=0&&r>=0)i=i.extract({left:Math.floor(n),top:Math.floor(r),width:e,height:t});else if(n<=0&&r<=0){let a=Math.floor(-r),o=Math.floor(-n);i=i.extend({top:a,left:o,right:e-this.width-o,bottom:t-this.height-a})}else{let a=[0,0],o=0;r<0?(a[0]=Math.floor(-r),a[1]=t-this.height-a[0]):o=Math.floor(r);let s=[0,0],l=0;n<0?(s[0]=Math.floor(-n),s[1]=e-this.width-s[0]):l=Math.floor(n),i=i.extend({top:a[0],bottom:a[1],left:s[0],right:s[1]}).extract({left:l,top:o,width:e,height:t})}return await Cd(i)}}async toBlob(e="image/png",t=1){if(!Td)throw new Error("toBlob() is only supported in browser environments.");const n=this.toCanvas();return await n.convertToBlob({type:e,quality:t})}toTensor(e="CHW"){let t=new le("uint8",new Uint8Array(this.data),[this.height,this.width,this.channels]);if("HWC"===e);else{if("CHW"!==e)throw new Error(`Unsupported channel format: ${e}`);t=t.permute(2,0,1)}return t}toCanvas(){if(!Td)throw new Error("toCanvas() is only supported in browser environments.");let e=this.clone().rgba(),t=Ad(e.width,e.height),n=new Od(e.data,e.width,e.height);return t.getContext("2d").putImageData(n,0,0),t}_update(e,t,n,r=null){return this.data=e,this.width=t,this.height=n,null!==r&&(this.channels=r),this}clone(){return new Md(this.data.slice(),this.width,this.height,this.channels)}convert(e){if(this.channels===e)return this;switch(e){case 1:this.grayscale();break;case 3:this.rgb();break;case 4:this.rgba();break;default:throw new Error(`Conversion failed due to unsupported number of channels: ${this.channels}`)}return this}async save(e){if(!Td){if(L.useFS){const t=this.toSharp();return await t.toFile(e)}throw new Error("Unable to save the image because filesystem is disabled in this environment.")}{if(Ed)throw new Error("Unable to save an image from a Web Worker.");const t=e.split(".").pop().toLowerCase(),n=Pd.get(t)??"image/png",r=await this.toBlob(n),i=URL.createObjectURL(r),a=document.createElement("a");a.href=i,a.download=e,a.click(),a.remove()}}toSharp(){if(Td)throw new Error("toSharp() is only supported in server-side environments.");return Sd(this.data,{raw:{width:this.width,height:this.height,channels:this.channels}})}}async function Ld(e,t){if("undefined"===typeof AudioContext)throw Error("Unable to load audio from path/URL since `AudioContext` is not available in your environment. Instead, audio data should be passed directly to the pipeline/processor. For more information and some example code, see https://huggingface.co/docs/transformers.js/guides/node-audio-processing.");const n=await(await j(e)).arrayBuffer(),r=new AudioContext({sampleRate:t});"undefined"===typeof t&&console.warn(`No sampling rate provided, using default of ${r.sampleRate}Hz.`);const i=await r.decodeAudioData(n);let a;if(2===i.numberOfChannels){const e=Math.sqrt(2),t=i.getChannelData(0),n=i.getChannelData(1);a=new Float32Array(t.length);for(let r=0;r<i.length;++r)a[r]=e*(t[r]+n[r])/2}else a=i.getChannelData(0);return a}function Rd(e){if(e<1)return new Float64Array;if(1===e)return new Float64Array([1]);const t=e-1,n=Math.PI/t,r=new Float64Array(e);for(let i=0;i<e;++i){const e=2*i-t;r[i]=.5+.5*Math.cos(n*e)}return r}const Nd={htk:e=>2595*Math.log10(1+e/700),kaldi:e=>1127*Math.log(1+e/700),slaney:(e,t=1e3,n=15,r=27/Math.log(6.4))=>e>=t?n+Math.log(e/t)*r:3*e/200};function Dd(e,t="htk"){const n=Nd[t];if(!n)throw new Error('mel_scale should be one of "htk", "slaney" or "kaldi".');return"number"===typeof e?n(e):e.map((e=>n(e)))}const jd={htk:e=>700*(10**(e/2595)-1),kaldi:e=>700*(Math.exp(e/1127)-1),slaney:(e,t=1e3,n=15,r=Math.log(6.4)/27)=>e>=n?t*Math.exp(r*(e-n)):200*e/3};function Fd(e,t,n){const r=(t-e)/(n-1);return Float64Array.from({length:n},((t,n)=>e+r*n))}function Bd(e,t,n,r,i,a=null,o="htk",s=!1){if(null!==a&&"slaney"!==a)throw new Error('norm must be one of null or "slaney"');const l=Fd(Dd(n,o),Dd(r,o),t+2);let u,c=function(e,t="htk"){const n=jd[t];if(!n)throw new Error('mel_scale should be one of "htk", "slaney" or "kaldi".');return"number"===typeof e?n(e):e.map((e=>n(e)))}(l,o);if(s){const t=i/(2*e);u=Dd(Float64Array.from({length:e},((e,n)=>n*t)),o),c=l}else u=Fd(0,Math.floor(i/2),e);const d=function(e,t){const n=Float64Array.from({length:t.length-1},((e,n)=>t[n+1]-t[n])),r=Array.from({length:e.length},(()=>new Array(t.length)));for(let o=0;o<e.length;++o){const n=r[o];for(let r=0;r<t.length;++r)n[r]=t[r]-e[o]}const i=t.length-2,a=Array.from({length:i},(()=>new Array(e.length)));for(let o=0;o<e.length;++o){const e=r[o];for(let t=0;t<i;++t){const r=-e[t]/n[t],i=e[t+2]/n[t+1];a[t][o]=Math.max(0,Math.min(r,i))}}return a}(u,c);if(null!==a&&"slaney"===a)for(let f=0;f<t;++f){const t=d[f],n=2/(c[f+2]-c[f]);for(let r=0;r<e;++r)t[r]*=n}return d}function zd(e,t,n,r,i){if(n<=0)throw new Error("reference must be greater than zero");if(r<=0)throw new Error("min_value must be greater than zero");n=Math.max(r,n);const a=Math.log10(n);for(let o=0;o<e.length;++o)e[o]=t*Math.log10(Math.max(r,e[o])-a);if(null!==i){if(i<=0)throw new Error("db_range must be greater than zero");const t=J(e)[0]-i;for(let n=0;n<e.length;++n)e[n]=Math.max(e[n],t)}return e}function $d(e,t,n,r,{fft_length:i=null,power:a=1,center:o=!0,pad_mode:s="reflect",onesided:l=!0,preemphasis:u=null,mel_filters:c=null,mel_floor:f=1e-10,log_mel:h=null,reference:p=1,min_value:g=1e-10,db_range:m=null,remove_dc_offset:y=null,max_num_frames:_=null,do_pad:b=!0,transpose:v=!1}={}){const w=t.length;if(null===i&&(i=n),n>i)throw Error(`frame_length (${n}) may not be larger than fft_length (${i})`);if(w!==n)throw new Error(`Length of the window (${w}) must equal frame_length (${n})`);if(r<=0)throw new Error("hop_length must be greater than zero");if(null===a&&null!==c)throw new Error("You have provided `mel_filters` but `power` is `None`. Mel spectrogram computation is not yet supported for complex-valued spectrogram. Specify `power` to fix this issue.");if(o){if("reflect"!==s)throw new Error(`pad_mode="${s}" not implemented yet.`);const t=Math.floor((i-1)/2)+1;e=function(e,t,n){const r=new e.constructor(e.length+t+n),i=e.length-1;for(let a=0;a<e.length;++a)r[t+a]=e[a];for(let a=1;a<=t;++a)r[t-a]=e[d(a,i)];for(let a=1;a<=n;++a)r[i+t+a]=e[d(i-a,i)];return r}(e,t,t)}const x=Math.floor(1+Math.floor((e.length-n)/r)),k=l?Math.floor(i/2)+1:i;let S=x,T=x;null!==_&&(_>x?b&&(T=_):T=S=_);const E=new ne(i),A=new Float64Array(i),O=new Float64Array(E.outputBufferSize),C=new Array(S);for(let d=0;d<S;++d){const i=d*r;for(let t=0;t<n;++t)A[t]=e[i+t];if(y){let e=0;for(let r=0;r<n;++r)e+=A[r];const t=e/n;for(let r=0;r<n;++r)A[r]-=t}if(null!==u){for(let e=n-1;e>=1;--e)A[e]-=u*A[e-1];A[0]*=1-u}for(let e=0;e<t.length;++e)A[e]*=t[e];E.realTransform(O,A);const a=new Array(k);for(let e=0;e<a.length;++e){const t=e<<1;a[e]=O[t]**2+O[t+1]**2}C[d]=a}if(null!==a&&2!==a){const e=2/a;for(let t=0;t<C.length;++t){const n=C[t];for(let t=0;t<n.length;++t)n[t]**=e}}const I=c.length,P=new Float32Array(I*T),M=v?[T,I]:[I,T];for(let d=0;d<I;++d){const e=c[d];for(let t=0;t<S;++t){const n=C[t];let r=0;for(let t=0;t<k;++t)r+=e[t]*n[t];P[v?t*I+d:d*S+t]=Math.max(f,r)}}if(null!==a&&null!==h){const e=Math.min(P.length,S*I);switch(h){case"log":for(let t=0;t<e;++t)P[t]=Math.log(P[t]);break;case"log10":for(let t=0;t<e;++t)P[t]=Math.log10(P[t]);break;case"dB":if(1===a)!function(e,t=1,n=1e-5,r=null){zd(e,20,t,n,r)}(P,p,g,m);else{if(2!==a)throw new Error(`Cannot use log_mel option '${h}' with power ${a}`);!function(e,t=1,n=1e-10,r=null){zd(e,10,t,n,r)}(P,p,g,m)}break;default:throw new Error(`log_mel must be one of null, 'log', 'log10' or 'dB'. Got '${h}'`)}}return{data:P,dims:M}}function Ud(e,t,{periodic:n=!0,frame_length:r=null,center:i=!0}={}){const a=n?e+1:e;let o;switch(t){case"boxcar":o=new Float64Array(a).fill(1);break;case"hann":case"hann_window":o=Rd(a);break;case"povey":o=Rd(a).map((e=>Math.pow(e,.85)));break;default:throw new Error(`Unknown window type ${t}.`)}if(n&&(o=o.subarray(0,e)),null===r)return o;if(e>r)throw new Error(`Length of the window (${e}) may not be larger than frame_length (${r})`);return o}function Vd([e,t,n,r]){return[e-n/2,t-r/2,e+n/2,t+r/2]}function Wd(e,t=.5,n=null,r=!1){const i=e.logits,a=e.pred_boxes,[o,s,l]=i.dims;if(null!==n&&n.length!==o)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");let u=[];for(let c=0;c<o;++c){let e=null!==n?n[c]:null,o={boxes:[],classes:[],scores:[]},d=i[c],f=a[c];for(let n=0;n<s;++n){let i,a=d[n],s=[];if(r){i=a.sigmoid().data;for(let e=0;e<i.length;++e)i[e]>t&&s.push(e)}else{let e=J(a.data)[1];if(e===l-1)continue;s.push(e),i=H(a.data)}for(const t of s){let r=f[n].data;r=Vd(r),null!==e&&(r=r.map(((t,n)=>t*e[(n+1)%2]))),o.boxes.push(r),o.classes.push(t),o.scores.push(i[t])}}u.push(o)}return u}function Hd(e,t){if(!(e instanceof Float32Array||e instanceof Float64Array))throw new Error(`${t} expects input to be a Float32Array or a Float64Array, but got ${e?.constructor?.name??typeof e} instead. If using the feature extractor directly, remember to use \`read_audio(url, sampling_rate)\` to obtain the raw audio data of the file/url.`)}function Gd(e,t,n=0,r=null){const i=e/t;let a=ae(i)*t;return null!==r&&a>r&&(a=Math.floor(i)*t),a<n&&(a=Math.ceil(i)*t),a}function qd([e,t],n){return[Math.max(Math.floor(e/n),1)*n,Math.max(Math.floor(t/n),1)*n]}class Kd extends a{constructor(e){super(),this.config=e}}class Zd extends Kd{constructor(e){super(e),this.image_mean=this.config.image_mean??this.config.mean,this.image_std=this.config.image_std??this.config.std,this.resample=this.config.resample??2,this.do_rescale=this.config.do_rescale??!0,this.rescale_factor=this.config.rescale_factor??1/255,this.do_normalize=this.config.do_normalize,this.do_resize=this.config.do_resize,this.do_thumbnail=this.config.do_thumbnail,this.size=this.config.size,this.size_divisibility=this.config.size_divisibility??this.config.size_divisor,this.do_center_crop=this.config.do_center_crop,this.crop_size=this.config.crop_size,this.do_convert_rgb=this.config.do_convert_rgb??!0,this.do_crop_margin=this.config.do_crop_margin,this.pad_size=this.config.pad_size,this.do_pad=this.config.do_pad,this.do_pad&&!this.pad_size&&this.size&&void 0!==this.size.width&&void 0!==this.size.height&&(this.pad_size=this.size),this.do_flip_channel_order=this.config.do_flip_channel_order??!1}async thumbnail(e,t,n=2){const r=e.height,i=e.width,a=t.height,o=t.width;let s=Math.min(r,a),l=Math.min(i,o);return s===r&&l===i?e:(r>i?l=Math.floor(i*s/r):i>r&&(s=Math.floor(r*l/i)),await e.resize(l,s,{resample:n}))}async crop_margin(e,t=200){const n=e.clone().grayscale(),r=Y(n.data)[0],i=J(n.data)[0]-r;if(0===i)return e;const a=t/255;let o=n.width,s=n.height,l=0,u=0;for(let c=0;c<n.height;++c){const e=c*n.width;for(let t=0;t<n.width;++t)(n.data[e+t]-r)/i<a&&(o=Math.min(o,t),s=Math.min(s,c),l=Math.max(l,t),u=Math.max(u,c))}return e=await e.crop([o,s,l,u])}pad_image(e,t,n,{mode:r="constant",center:i=!1,constant_values:a=0}={}){const[o,s,l]=t;let u,c;if("number"===typeof n?(u=n,c=n):(u=n.width,c=n.height),u!==s||c!==o){const n=new Float32Array(u*c*l);if(Array.isArray(a))for(let e=0;e<n.length;++e)n[e]=a[e%l];else 0!==a&&n.fill(a);const[f,h]=i?[Math.floor((u-s)/2),Math.floor((c-o)/2)]:[0,0];for(let t=0;t<o;++t){const r=(t+h)*u,i=t*s;for(let t=0;t<s;++t){const a=(r+t+f)*l,o=(i+t)*l;for(let t=0;t<l;++t)n[a+t]=e[o+t]}}if("symmetric"===r){if(i)throw new Error("`center` padding is not supported when `mode` is set to `symmetric`.");const t=o-1,r=s-1;for(let i=0;i<c;++i){const a=i*u,c=d(i,t)*s;for(let t=0;t<u;++t){if(i<o&&t<s)continue;const u=(a+t)*l,f=(c+d(t,r))*l;for(let t=0;t<l;++t)n[u+t]=e[f+t]}}}e=n,t=[c,u,l]}return[e,t]}rescale(e){for(let t=0;t<e.length;++t)e[t]=this.rescale_factor*e[t]}get_resize_output_image_size(e,t){const[n,r]=e.size;let i,a;if(this.do_thumbnail){const{height:e,width:n}=t;i=Math.min(e,n)}else Number.isInteger(t)?(i=t,a=this.config.max_size??i):void 0!==t&&(i=t.shortest_edge,a=t.longest_edge);if(void 0!==i||void 0!==a){const e=void 0===i?1:Math.max(i/n,i/r),t=n*e,o=r*e,s=void 0===a?1:Math.min(a/t,a/o);let l=Math.floor(Number((t*s).toFixed(2))),u=Math.floor(Number((o*s).toFixed(2)));return void 0!==this.size_divisibility&&([l,u]=qd([l,u],this.size_divisibility)),[l,u]}if(void 0!==t&&void 0!==t.width&&void 0!==t.height){let e=t.width,i=t.height;if(this.config.keep_aspect_ratio&&this.config.ensure_multiple_of){let t=i/r,a=e/n;Math.abs(1-a)<Math.abs(1-t)?t=a:a=t,i=Gd(t*r,this.config.ensure_multiple_of),e=Gd(a*n,this.config.ensure_multiple_of)}return[e,i]}if(void 0!==this.size_divisibility)return qd([n,r],this.size_divisibility);throw new Error(`Could not resize image due to unsupported \`this.size\` option in config: ${JSON.stringify(t)}`)}async resize(e){const[t,n]=this.get_resize_output_image_size(e,this.size);return await e.resize(t,n,{resample:this.resample})}async preprocess(e,{do_normalize:t=null,do_pad:n=null,do_convert_rgb:r=null,do_convert_grayscale:i=null,do_flip_channel_order:a=null}={}){this.do_crop_margin&&(e=await this.crop_margin(e));const[o,s]=e.size;if(r??this.do_convert_rgb?e=e.rgb():i&&(e=e.grayscale()),this.do_resize&&(e=await this.resize(e)),this.do_thumbnail&&(e=await this.thumbnail(e,this.size,this.resample)),this.do_center_crop){let t,n;Number.isInteger(this.crop_size)?(t=this.crop_size,n=this.crop_size):(t=this.crop_size.width,n=this.crop_size.height),e=await e.center_crop(t,n)}const l=[e.height,e.width];let u=Float32Array.from(e.data),c=[e.height,e.width,e.channels];if(this.do_rescale&&this.rescale(u),t??this.do_normalize){let t=this.image_mean;Array.isArray(this.image_mean)||(t=new Array(e.channels).fill(t));let n=this.image_std;if(Array.isArray(this.image_std)||(n=new Array(e.channels).fill(t)),t.length!==e.channels||n.length!==e.channels)throw new Error(`When set to arrays, the length of \`image_mean\` (${t.length}) and \`image_std\` (${n.length}) must match the number of channels in the image (${e.channels}).`);for(let r=0;r<u.length;r+=e.channels)for(let i=0;i<e.channels;++i)u[r+i]=(u[r+i]-t[i])/n[i]}if(n??this.do_pad)if(this.pad_size){const t=this.pad_image(u,[e.height,e.width,e.channels],this.pad_size);[u,c]=t}else if(this.size_divisibility){const[e,t]=qd([c[1],c[0]],this.size_divisibility);[u,c]=this.pad_image(u,c,{width:e,height:t})}if(a??this.do_flip_channel_order){if(3!==c[2])throw new Error("Flipping channel order is only supported for RGB images.");for(let e=0;e<u.length;e+=3){const t=u[e];u[e]=u[e+2],u[e+2]=t}}return{original_size:[s,o],reshaped_input_size:l,pixel_values:new le("float32",u,c).permute(2,0,1)}}async _call(e,...t){Array.isArray(e)||(e=[e]);const n=await Promise.all(e.map((e=>this.preprocess(e))));return{pixel_values:ye(n.map((e=>e.pixel_values)),0),original_sizes:n.map((e=>e.original_size)),reshaped_input_sizes:n.map((e=>e.reshaped_input_size))}}}class Xd extends Zd{post_process_semantic_segmentation(e,t=null){const n=e.logits,r=n.dims[0];if(null!==t&&t.length!==r)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");const i=[];for(let a=0;a<r;++a){const e=null!==t?t[a]:null;let r=n[a];null!==e&&(r=ce(r,e,"bilinear",!1));const[o,s]=e??r.dims.slice(-2),l=new le("int32",new Int32Array(o*s),[o,s]),u=r[0].data;for(let t=1;t<r.dims[0];++t){const e=r[t].data;for(let n=0;n<e.length;++n)e[n]>u[n]&&(u[n]=e[n],l.data[n]=t)}const c=new Array(r.dims[0]),d=l.data;for(let t=0;t<d.length;++t){const e=d[t];c[e]=e}const f=c.filter((e=>void 0!==e));i.push({segmentation:l,labels:f})}return i}}class Yd extends Zd{}class Jd extends Yd{}class Qd extends Zd{}class ef extends Zd{}class tf extends Zd{}class nf extends Zd{}class rf extends Zd{}class af extends Zd{constructor(e){super(e),this.crop_pct=this.config.crop_pct??.875}async resize(e){const t=this.size?.shortest_edge;if(void 0===t)throw new Error("Size dictionary must contain 'shortest_edge' key.");if(t<384){const n=Math.floor(t/this.crop_pct),[r,i]=this.get_resize_output_image_size(e,{shortest_edge:n});e=await e.resize(r,i,{resample:this.resample}),e=await e.center_crop(t,t)}else e=await e.resize(t,t,{resample:this.resample});return e}}class of extends af{}class sf extends Zd{}class lf extends Zd{}class uf extends Zd{constructor(e){super(e),this.include_top=this.config.include_top??!0,this.include_top&&(this.image_std=this.image_std.map((e=>e*e)))}}class cf extends Zd{}class df extends cf{}class ff extends Zd{post_process_object_detection(...e){return Wd(...e)}}class hf extends ff{}class pf extends Zd{}class gf extends Zd{}class mf extends Zd{pad_image(e,t,n,r={}){const[i,a,o]=t;let s=this.image_mean;Array.isArray(this.image_mean)||(s=new Array(o).fill(s));let l=this.image_std;Array.isArray(l)||(l=new Array(o).fill(s));const u=s.map(((e,t)=>-e/l[t]));return super.pad_image(e,t,n,{center:!0,constant_values:u,...r})}}class yf extends mf{}class _f extends Zd{async _call(e){const t=await super._call(e),n=[t.pixel_values.dims[0],64,64],r=new le("int64",new BigInt64Array(n.reduce(((e,t)=>e*t))).fill(1n),n);return{...t,pixel_mask:r}}post_process_object_detection(...e){return Wd(...e)}remove_low_and_no_objects(e,t,n,r){let i=[],a=[],o=[];for(let s=0;s<e.dims[0];++s){let l=e[s],u=t[s],c=J(l.data)[1];if(c===r)continue;let d=H(l.data)[c];d>n&&(i.push(u),a.push(d),o.push(c))}return[i,a,o]}check_segment_validity(e,t,n,r=.5,i=.8){let a=[],o=0,s=0;for(let u=0;u<e.length;++u)e[u]===n&&(a.push(u),++o),t[n].data[u]>=r&&++s;let l=o>0&&s>0;if(l){l=o/s>i}return[l,a]}compute_segments(e,t,n,r,i,a=null,o=null){let[s,l]=o??e[0].dims,u=new le("int32",new Int32Array(s*l),[s,l]),c=[];if(null!==o)for(let p=0;p<e.length;++p)e[p]=ce(e[p],o,"bilinear",!1);let d=new Int32Array(e[0].data.length),f=new Float32Array(e[0].data.length);for(let p=0;p<e.length;++p){let n=t[p];for(let t=0;t<e[p].data.length;++t)e[p].data[t]*=n,e[p].data[t]>f[t]&&(d[t]=p,f[t]=e[p].data[t])}let h=0;for(let p=0;p<n.length;++p){let a=n[p],[o,s]=this.check_segment_validity(d,e,p,r,i);if(o){++h;for(let e of s)u.data[e]=h;c.push({id:h,label_id:a,score:t[p]})}}return[u,c]}post_process_panoptic_segmentation(e,t=.5,n=.5,r=.8,i=null,a=null){null===i&&(console.warn("`label_ids_to_fuse` unset. No instance will be fused."),i=new Set);const o=e.logits,s=e.pred_masks.sigmoid();let[l,u,c]=o.dims;if(c-=1,null!==a&&a.length!==l)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");let d=[];for(let f=0;f<l;++f){let e=null!==a?a[f]:null,l=o[f],u=s[f],[h,p,g]=this.remove_low_and_no_objects(l,u,t,c);if(0===g.length){let[t,n]=e??u.dims.slice(-2),r=new le("int32",new Int32Array(t*n).fill(-1),[t,n]);d.push({segmentation:r,segments_info:[]});continue}let[m,y]=this.compute_segments(h,p,g,n,r,i,e);d.push({segmentation:m,segments_info:y})}return d}post_process_instance_segmentation(){throw Error("Not implemented yet")}}class bf extends Zd{post_process_object_detection(...e){return Wd(...e)}}class vf extends Zd{reshape_input_points(e,t,n){let r=s(e=structuredClone(e));if(3===r.length)r=[1,...r],e=[e];else if(4!==r.length)throw Error("The input_points must be a 4D tensor of shape `batch_size`, `point_batch_size`, `nb_points_per_image`, `2`.");for(let i=0;i<e.length;++i){let r=t[i],a=n[i],o=[a[0]/r[0],a[1]/r[1]];for(let t=0;t<e[i].length;++t)for(let n=0;n<e[i][t].length;++n)for(let r=0;r<e[i][t][n].length;++r)e[i][t][n][r]*=o[r]}return new le("float32",Float32Array.from(e.flat(1/0)),r)}add_input_labels(e,t){let n=s(e);if(2===n.length)n=[1,...n],e=[e];else if(3!==n.length)throw Error("The input_points must be a 4D tensor of shape `batch_size`, `point_batch_size`, `nb_points_per_image`, `2`.");if(n.some(((e,n)=>e!==t.dims[n])))throw Error(`The first ${n.length} dimensions of 'input_points' and 'input_labels' must be the same.`);return new le("int64",e.flat(1/0).map(BigInt),n)}async _call(e,t=null,n=null){const r=await super._call(e);if(t&&(r.input_points=this.reshape_input_points(t,r.original_sizes,r.reshaped_input_sizes)),n){if(!r.input_points)throw Error("`input_points` must be provided if `input_labels` are provided.");r.input_labels=this.add_input_labels(n,r.input_points)}return r}post_process_masks(e,t,n,{mask_threshold:r=0,binarize:i=!0,pad_size:a=null}={}){const o=[],s=[(a=a??this.pad_size).height,a.width];for(let l=0;l<t.length;++l){const a=t[l],u=n[l],c=e[l],d=[];for(let e=0;e<c.dims[0];++e){let t=ce(c[e],s,"bilinear",!1);if(t=t.slice(null,[0,u[0]],[0,u[1]]),t=ce(t,a,"bilinear",!1),i){const e=new Uint8Array(t.data.length);for(let n=0;n<t.data.length;++n)t.data[n]>r&&(e[n]=1);t=new le("bool",e,t.dims)}d.push(t)}o.push(ye(d))}return o}}class wf extends Zd{pad_image(e,t,n,r={}){const[i,a,o]=t;return super.pad_image(e,t,{width:a+(n-a%n)%n,height:i+(n-i%n)%n},{mode:"symmetric",center:!1,constant_values:-1,...r})}}class xf extends Zd{async _call(e,t){Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]);const n=await Promise.all(e.map((e=>this.preprocess(e)))),r=await Promise.all(t.map((e=>this.preprocess(e,{do_normalize:!1,do_convert_rgb:!1,do_convert_grayscale:!0}))));return{pixel_values:ye(n.map(((e,t)=>me([e.pixel_values,r[t].pixel_values],0))),0),original_sizes:n.map((e=>e.original_size)),reshaped_input_sizes:n.map((e=>e.reshaped_input_size))}}}class kf extends Kd{constructor(e){super(e),this.config.mel_filters??=Bd(Math.floor(1+this.config.n_fft/2),this.config.feature_size,0,8e3,this.config.sampling_rate,"slaney","slaney"),this.window=Ud(this.config.n_fft,"hann")}_extract_fbank_features(e){const{data:t,dims:n}=$d(e,this.window,this.config.n_fft,this.config.hop_length,{power:2,mel_filters:this.config.mel_filters,log_mel:"log10",max_num_frames:this.config.nb_max_frames}),r=J(t)[0];for(let i=0;i<t.length;++i)t[i]=(Math.max(t[i],r-8)+4)/4;return{data:t,dims:n}}async _call(e){let t;Hd(e,"WhisperFeatureExtractor"),e.length>this.config.n_samples?(console.warn("Attempting to extract features for audio longer than 30 seconds. If using a pipeline to extract transcript from a long audio clip, remember to specify `chunk_length_s` and/or `stride_length_s`."),t=e.slice(0,this.config.n_samples)):(t=new Float32Array(this.config.n_samples),t.set(e));const{data:n,dims:r}=this._extract_fbank_features(t);return{input_features:new le("float32",n,[1,...r])}}}class Sf extends Kd{_zero_mean_unit_var_norm(e){const t=e.reduce(((e,t)=>e+t),0)/e.length,n=e.reduce(((e,n)=>e+(n-t)**2),0)/e.length;return e.map((e=>(e-t)/Math.sqrt(n+1e-7)))}async _call(e){Hd(e,"Wav2Vec2FeatureExtractor"),e instanceof Float64Array&&(e=new Float32Array(e));let t=e;this.config.do_normalize&&(t=this._zero_mean_unit_var_norm(t));const n=[1,t.length];return{input_values:new le("float32",t,n),attention_mask:new le("int64",new BigInt64Array(t.length).fill(1n),n)}}}class Tf extends Kd{constructor(e){super(e);const t=this.config.sampling_rate,n=Bd(256,this.config.num_mel_bins,20,Math.floor(t/2),t,null,"kaldi",!0);for(let r=0;r<n.length;++r)n[r].push(0);this.mel_filters=n,this.window=Ud(400,"povey",{periodic:!1})}_extract_fbank_features(e,t){return $d(e=e.map((e=>32768*e)),this.window,400,160,{fft_length:512,power:2,center:!1,preemphasis:.97,mel_filters:this.mel_filters,log_mel:"log",mel_floor:1.192092955078125e-7,remove_dc_offset:!0,max_num_frames:t,transpose:!0})}async _call(e,{padding:t=!0,pad_to_multiple_of:n=2,do_normalize_per_mel_bins:r=!0,return_attention_mask:i=!0}={}){Hd(e,"SeamlessM4TFeatureExtractor");let a,o=this._extract_fbank_features(e,this.config.max_length);if(r){const[e,t]=o.dims;for(let n=0;n<t;++n){let r=0;for(let l=0;l<e;++l)r+=o.data[l*t+n];const i=r/e;let a=0;for(let l=0;l<e;++l)a+=(o.data[l*t+n]-i)**2;a/=e-1;const s=Math.sqrt(a+1e-7);for(let l=0;l<e;++l){const e=l*t+n;o.data[e]=(o.data[e]-i)/s}}}if(t){const[e,t]=o.dims,r=e%n;if(r>0){const n=new Float32Array(t*(e+r));n.set(o.data),n.fill(this.config.padding_value,o.data.length);const s=e+r;o={data:n,dims:[s,t]},i&&(a=new le("int64",new BigInt64Array(s),[1,s]),a.data.fill(1n,0,e))}}const[s,l]=o.dims,u=this.config.stride;if(0!==s%u)throw new Error(`The number of frames (${s}) must be a multiple of the stride (${u}).`);const c=new le("float32",o.data,o.dims).view(1,Math.floor(s/u),l*u),d={input_features:c};if(i){const e=c.dims[1],t=new le("int64",new BigInt64Array(e),[1,e]);if(a)for(let n=1,r=0;n<s;n+=u,++r)t.data[r]=a.data[n];else t.data.fill(1n);d.attention_mask=t}return d}}class Ef extends Kd{constructor(e){super(e);const t=this.config.sampling_rate,n=Bd(256,this.config.num_mel_bins,20,Math.floor(t/2),t,null,"kaldi",!0);for(let r=0;r<n.length;++r)n[r].push(0);this.mel_filters=n,this.window=Ud(400,"hann",{periodic:!1}),this.mean=this.config.mean,this.std=this.config.std}_extract_fbank_features(e,t){return $d(e,this.window,400,160,{fft_length:512,power:2,center:!1,preemphasis:.97,mel_filters:this.mel_filters,log_mel:"log",mel_floor:1.192092955078125e-7,remove_dc_offset:!0,max_num_frames:t,transpose:!0})}async _call(e){Hd(e,"ASTFeatureExtractor");const t=this._extract_fbank_features(e,this.config.max_length);if(this.config.do_normalize){const e=2*this.std;for(let n=0;n<t.data.length;++n)t.data[n]=(t.data[n]-this.mean)/e}return{input_values:new le("float32",t.data,[1,...t.dims])}}}class Af extends Kd{constructor(e){super(e),this.mel_filters=Bd(this.config.nb_frequency_bins,this.config.feature_size,this.config.frequency_min,this.config.frequency_max,this.config.sampling_rate,null,"htk"),this.mel_filters_slaney=Bd(this.config.nb_frequency_bins,this.config.feature_size,this.config.frequency_min,this.config.frequency_max,this.config.sampling_rate,"slaney","slaney"),this.window=Ud(this.config.fft_window_size,"hann")}_get_input_mel(e,t,n,r){let i,a=!1;const o=e.length-t;if(o>0){if("rand_trunc"!==n)throw new Error(`Truncation strategy "${n}" not implemented`);{a=!0;const n=Math.floor(Math.random()*(o+1));e=e.subarray(n,n+t),i=this._extract_fbank_features(e,this.mel_filters_slaney,this.config.nb_max_samples),i.dims=[1,...i.dims]}}else{if(o<0){let n=new Float64Array(t);if(n.set(e),"repeat"===r)for(let r=e.length;r<t;r+=e.length)n.set(e.subarray(0,Math.min(e.length,t-r)),r);else if("repeatpad"===r)for(let t=e.length;t<-o;t+=e.length)n.set(e,t);e=n}if("fusion"===n)throw new Error(`Truncation strategy "${n}" not implemented`);i=this._extract_fbank_features(e,this.mel_filters_slaney,this.config.nb_max_samples),i.dims=[1,...i.dims]}return{...i,longer:a}}_extract_fbank_features(e,t,n=null){return $d(e,this.window,this.config.fft_window_size,this.config.hop_length,{power:2,mel_filters:t,log_mel:"dB",max_num_frames:n,do_pad:!1,transpose:!0})}async _call(e,{max_length:t=null}={}){Hd(e,"ClapFeatureExtractor");const n=this._get_input_mel(e,t??this.config.nb_max_samples,this.config.truncation,this.config.padding);return{input_features:new le("float32",n.data,[1,...n.dims])}}}class Of extends Kd{}class Cf extends a{constructor(e){super(),this.feature_extractor=e}async _call(e,...t){return await this.feature_extractor(e,...t)}}class If extends Cf{async _call(...e){return await this.feature_extractor(...e)}post_process_masks(...e){return this.feature_extractor.post_process_masks(...e)}reshape_input_points(...e){return this.feature_extractor.reshape_input_points(...e)}}class Pf extends Cf{async _call(e){return await this.feature_extractor(e)}}class Mf extends Cf{async _call(e){return await this.feature_extractor(e)}}class Lf extends Cf{async _call(e){return await this.feature_extractor(e)}}class Rf extends Cf{}class Nf{static FEATURE_EXTRACTOR_CLASS_MAPPING={ImageFeatureExtractor:Zd,WhisperFeatureExtractor:kf,ViTFeatureExtractor:sf,MobileViTFeatureExtractor:cf,MobileViTImageProcessor:df,OwlViTFeatureExtractor:ff,Owlv2ImageProcessor:hf,CLIPFeatureExtractor:tf,ChineseCLIPFeatureExtractor:nf,SiglipImageProcessor:rf,ConvNextFeatureExtractor:af,ConvNextImageProcessor:of,SegformerFeatureExtractor:Xd,BitImageProcessor:Qd,DPTImageProcessor:Jd,DPTFeatureExtractor:Yd,GLPNFeatureExtractor:ef,BeitFeatureExtractor:gf,DeiTFeatureExtractor:pf,DetrFeatureExtractor:_f,YolosFeatureExtractor:bf,DonutFeatureExtractor:mf,NougatImageProcessor:yf,EfficientNetImageProcessor:uf,ViTImageProcessor:lf,VitMatteImageProcessor:xf,SamImageProcessor:vf,Swin2SRImageProcessor:wf,Wav2Vec2FeatureExtractor:Sf,SeamlessM4TFeatureExtractor:Tf,SpeechT5FeatureExtractor:Of,ASTFeatureExtractor:Ef,ClapFeatureExtractor:Af};static PROCESSOR_CLASS_MAPPING={WhisperProcessor:Pf,Wav2Vec2ProcessorWithLM:Mf,SamProcessor:If,SpeechT5Processor:Lf,OwlViTProcessor:Rf};static async from_pretrained(e,{progress_callback:t=null,config:n=null,cache_dir:r=null,local_files_only:i=!1,revision:a="main"}={}){let o=n??await $(e,"preprocessor_config.json",!0,{progress_callback:t,config:n,cache_dir:r,local_files_only:i,revision:a}),s=o.feature_extractor_type??o.image_processor_type,l=this.FEATURE_EXTRACTOR_CLASS_MAPPING[s];if(!l){if(void 0===o.size)throw new Error(`Unknown Feature Extractor type: ${s}`);console.warn(`Feature extractor type "${s}" not found, assuming ImageFeatureExtractor due to size parameter in config.`),l=Zd}return new(this.PROCESSOR_CLASS_MAPPING[o.processor_class]??Cf)(new l(o))}}async function Df(e){return Array.isArray(e)||(e=[e]),await Promise.all(e.map((e=>Md.read(e))))}async function jf(e,t){return Array.isArray(e)||(e=[e]),await Promise.all(e.map((e=>"string"===typeof e||e instanceof URL?Ld(e,t):e instanceof Float64Array?new Float32Array(e):e)))}function Ff(e,t){t&&(e=e.map((e=>0|e)));const[n,r,i,a]=e;return{xmin:n,ymin:r,xmax:i,ymax:a}}class Bf extends a{constructor({task:e,model:t,tokenizer:n=null,processor:r=null}){super(),this.task=e,this.model=t,this.tokenizer=n,this.processor=r}async dispose(){await this.model.dispose()}}class zf extends Bf{constructor(e){super(e)}async _call(e,{topk:t=1}={}){const n=this.tokenizer(e,{padding:!0,truncation:!0}),r=await this.model(n),i="multi_label_classification"===this.model.config.problem_type?e=>e.sigmoid().data:e=>H(e.data),a=this.model.config.id2label,o=[];for(const s of r.logits){const e=K(i(s),t).map((e=>({label:a[e[0]],score:e[1]})));1===t?o.push(...e):o.push(e)}return Array.isArray(e)||1===t?o:o[0]}}class $f extends Bf{constructor(e){super(e)}async _call(e,{ignore_labels:t=["O"]}={}){const n=Array.isArray(e),r=this.tokenizer(n?e:[e],{padding:!0,truncation:!0}),i=(await this.model(r)).logits,a=this.model.config.id2label,o=[];for(let s=0;s<i.dims[0];++s){const e=r.input_ids[s],n=i[s],l=[];for(let r=0;r<n.dims[0];++r){const i=n[r],o=J(i.data)[1],s=a?a[o]:`LABEL_${o}`;if(t.includes(s))continue;const u=this.tokenizer.decode([e[r].item()],{skip_special_tokens:!0});if(""===u)continue;const c=H(i.data);l.push({entity:s,score:c[o],index:r,word:u,start:null,end:null})}o.push(l)}return n?o:o[0]}}class Uf extends Bf{constructor(e){super(e)}async _call(e,t,{topk:n=1}={}){const r=this.tokenizer(e,{text_pair:t,padding:!0,truncation:!0}),i=await this.model(r),a=[];for(let o=0;o<i.start_logits.dims[0];++o){const e=r.input_ids[o],t=e.indexOf(this.tokenizer.sep_token_id),s=c(Array.from(H(i.start_logits[o].data)).map(((e,t)=>[e,t])).filter((e=>e[1]>t)),Array.from(H(i.end_logits[o].data)).map(((e,t)=>[e,t])).filter((e=>e[1]>t))).filter((e=>e[0][1]<=e[1][1])).map((e=>[e[0][1],e[1][1],e[0][0]*e[1][0]])).sort(((e,t)=>t[2]-e[2]));for(let r=0;r<Math.min(s.length,n);++r){const[t,n,i]=s[r],o=[...e].slice(t,n+1),l=this.tokenizer.decode(o,{skip_special_tokens:!0});a.push({answer:l,score:i})}}return 1===n?a[0]:a}}class Vf extends Bf{constructor(e){super(e)}async _call(e,{topk:t=5}={}){const n=this.tokenizer(e,{padding:!0,truncation:!0}),r=await this.model(n),i=[];for(let a=0;a<n.input_ids.dims[0];++a){const e=n.input_ids[a],o=e.indexOf(this.tokenizer.mask_token_id);if(-1===o)throw Error(`Mask token (${this.tokenizer.mask_token}) not found in text.`);const s=K(H(r.logits[a][o].data),t);i.push(s.map((t=>{const n=[...e];return n[o]=t[0],{score:t[1],token:t[0],token_str:this.tokenizer.model.vocab[t[0]],sequence:this.tokenizer.decode(n,{skip_special_tokens:!0})}})))}return Array.isArray(e)?i:i[0]}}class Wf extends Bf{_key="generated_text";constructor(e){super(e)}async _call(e,t={}){Array.isArray(e)||(e=[e]),this.model.config.prefix&&(e=e.map((e=>this.model.config.prefix+e)));const n=this.model.config.task_specific_params;n&&n[this.task]&&n[this.task].prefix&&(e=e.map((e=>n[this.task].prefix+e)));const r=this.tokenizer,i={padding:!0,truncation:!0};let a;a=this instanceof Gf&&"_build_translation_inputs"in r?r._build_translation_inputs(e,i,t).input_ids:r(e,i).input_ids;const o=await this.model.generate(a,t);return r.batch_decode(o,{skip_special_tokens:!0}).map((e=>({[this._key]:e})))}}class Hf extends Wf{_key="summary_text";constructor(e){super(e)}}class Gf extends Wf{_key="translation_text";constructor(e){super(e)}}function qf(e){return Array.isArray(e)&&e.every((e=>"role"in e&&"content"in e))}class Kf extends Bf{constructor(e){super(e)}async _call(e,t={}){let n,r=!1,i=!1;if("string"===typeof e)n=e=[e];else if(Array.isArray(e)&&e.every((e=>"string"===typeof e)))r=!0,n=e;else{if(qf(e))e=[e];else{if(!Array.isArray(e)||!e.every(qf))throw new Error("Input must be a string, an array of strings, a Chat, or an array of Chats");r=!0}i=!0,n=e.map((e=>this.tokenizer.apply_chat_template(e,{tokenize:!1,add_generation_prompt:!0})))}const a=t.add_special_tokens??!1,o=!i&&(t.return_full_text??!0);this.tokenizer.padding_side="left";const{input_ids:s,attention_mask:l}=this.tokenizer(n,{add_special_tokens:a,padding:!0,truncation:!0}),u=await this.model.generate(s,t,null,{inputs_attention_mask:l});let c,d=this.tokenizer.batch_decode(u,{skip_special_tokens:!0});!o&&s.dims.at(-1)>0&&(c=this.tokenizer.batch_decode(s,{skip_special_tokens:!0}).map((e=>e.length)));const f=Array.from({length:e.length},(e=>[]));for(let h=0;h<d.length;++h){const t=Math.floor(h/u.length*e.length);c&&(d[h]=d[h].slice(c[t])),f[t].push({generated_text:i?[...e[t],{role:"assistant",content:d[h]}]:d[h]})}return r||1!==f.length?f:f[0]}}class Zf extends Bf{constructor(e){super(e),this.label2id=Object.fromEntries(Object.entries(this.model.config.label2id).map((([e,t])=>[e.toLowerCase(),t]))),this.entailment_id=this.label2id.entailment,void 0===this.entailment_id&&(console.warn("Could not find 'entailment' in label2id mapping. Using 2 as entailment_id."),this.entailment_id=2),this.contradiction_id=this.label2id.contradiction??this.label2id.not_entailment,void 0===this.contradiction_id&&(console.warn("Could not find 'contradiction' in label2id mapping. Using 0 as contradiction_id."),this.contradiction_id=0)}async _call(e,t,{hypothesis_template:n="This example is {}.",multi_label:r=!1}={}){const i=Array.isArray(e);i||(e=[e]),Array.isArray(t)||(t=[t]);const a=t.map((e=>n.replace("{}",e))),o=r||1===t.length,s=[];for(const l of e){const e=[];for(const t of a){const n=this.tokenizer(l,{text_pair:t,padding:!0,truncation:!0}),r=await this.model(n);o?e.push([r.logits.data[this.contradiction_id],r.logits.data[this.entailment_id]]):e.push(r.logits.data[this.entailment_id])}const n=(o?e.map((e=>H(e)[1])):H(e)).map(((e,t)=>[e,t])).sort(((e,t)=>t[0]-e[0]));s.push({sequence:l,labels:n.map((e=>t[e[1]])),scores:n.map((e=>e[0]))})}return i?s:s[0]}}class Xf extends Bf{constructor(e){super(e)}async _call(e,{pooling:t="none",normalize:n=!1,quantize:r=!1,precision:i="binary"}={}){const a=this.tokenizer(e,{padding:!0,truncation:!0}),o=await this.model(a);let s=o.last_hidden_state??o.logits??o.token_embeddings;if("none"===t);else if("mean"===t)s=de(s,a.attention_mask);else{if("cls"!==t)throw Error(`Pooling method '${t}' not supported.`);s=s.slice(null,0)}return n&&(s=s.normalize(2,-1)),r&&(s=ke(s,i)),s}}class Yf extends Bf{constructor(e){super(e)}async _call(e,{pool:t=null}={}){const n=await Df(e),{pixel_values:r}=await this.processor(n),i=await this.model({pixel_values:r});let a;if(t){if(!("pooler_output"in i))throw Error("No pooled output was returned. Make sure the model has a 'pooler' layer when using the 'pool' option.");a=i.pooler_output}else a=i.last_hidden_state??i.logits??i.image_embeds;return a}}class Jf extends Bf{constructor(e){super(e)}async _call(e,{topk:t=null}={}){const n=!Array.isArray(e),r=this.processor.feature_extractor.config.sampling_rate,i=await jf(e,r),a=this.model.config.id2label,o=[];for(const s of i){const e=await this.processor(s),n=K(H((await this.model(e)).logits[0].data),t).map((e=>({label:a[e[0]],score:e[1]})));1===t?o.push(...n):o.push(n)}return n&&1!==t?o[0]:o}}class Qf extends Bf{constructor(e){super(e)}async _call(e,t,{hypothesis_template:n="This is a sound of {}."}={}){const r=!Array.isArray(e);r&&(e=[e]);const i=t.map((e=>n.replace("{}",e))),a=this.tokenizer(i,{padding:!0,truncation:!0}),o=this.processor.feature_extractor.config.sampling_rate,s=await jf(e,o),l=[];for(const u of s){const e=await this.processor(u),n=H((await this.model({...a,...e})).logits_per_audio.data);l.push([...n].map(((e,n)=>({score:e,label:t[n]}))))}return r?l[0]:l}}class eh extends Bf{constructor(e){super(e)}async _call(e,t={}){switch(this.model.config.model_type){case"whisper":return this._call_whisper(e,t);case"wav2vec2":case"wav2vec2-bert":case"unispeech":case"unispeech-sat":case"hubert":return this._call_wav2vec2(e,t);default:throw new Error(`AutomaticSpeechRecognitionPipeline does not support model type '${this.model.config.model_type}'.`)}}async _call_wav2vec2(e,t={}){t.language&&console.warn('`language` parameter is not yet supported for `wav2vec2` models, defaulting to "English".'),t.task&&console.warn('`task` parameter is not yet supported for `wav2vec2` models, defaulting to "transcribe".');const n=!Array.isArray(e);n&&(e=[e]);const r=this.processor.feature_extractor.config.sampling_rate,i=await jf(e,r),a=[];for(const o of i){const e=await this.processor(o),t=(await this.model(e)).logits[0],n=[];for(const i of t)n.push(J(i.data)[1]);const r=this.tokenizer.decode(n);a.push({text:r})}return n?a[0]:a}async _call_whisper(e,t={}){const n=t.return_timestamps??!1,r=t.chunk_length_s??0,i=t.chunk_callback??null,a=t.force_full_sequences??!1;let o=t.stride_length_s??null;"word"===n&&(t.return_token_timestamps=!0);const s=l(t,"language",null),u=l(t,"task",null);if(s||u||n){if(t.forced_decoder_ids)throw new Error("Cannot specify `language`/`task`/`return_timestamps` and `forced_decoder_ids` at the same time.");const e=this.tokenizer.get_decoder_prompt_ids({language:s,task:u,no_timestamps:!n});e.length>0&&(t.forced_decoder_ids=e)}const c=!Array.isArray(e);c&&(e=[e]);const d=this.processor.feature_extractor.config.chunk_length/this.model.config.max_source_positions,f=this.processor.feature_extractor.config.hop_length,h=this.processor.feature_extractor.config.sampling_rate,p=await jf(e,h),g=[];for(const l of p){let e=[];if(r>0){if(null===o)o=r/6;else if(r<=o)throw Error("`chunk_length_s` must be larger than `stride_length_s`.");const t=h*r,n=h*o,i=t-2*n;let a=0;for(;a<l.length;){const r=l.subarray(a,a+t),o=await this.processor(r),s=0===a,u=a+i>=l.length;e.push({stride:[r.length,s?0:n,u?0:n],input_features:o.input_features,is_last:u}),a+=i}}else e=[{stride:[l.length,0,0],input_features:(await this.processor(l)).input_features,is_last:!0}];for(const r of e){t.num_frames=Math.floor(r.stride[0]/f);const e=await this.model.generate(r.input_features,t);"word"===n?(r.tokens=e.sequences[0],r.token_timestamps=e.token_timestamps.tolist()[0].map((e=>ie(e,2)))):r.tokens=e[0],r.stride=r.stride.map((e=>e/h)),null!==i&&i(r)}const[s,u]=this.tokenizer._decode_asr(e,{time_precision:d,return_timestamps:n,force_full_sequences:a});g.push({text:s,...u})}return c?g[0]:g}}class th extends Bf{constructor(e){super(e)}async _call(e,t={}){const n=Array.isArray(e),r=await Df(e),{pixel_values:i}=await this.processor(r),a=[];for(const o of i){o.dims=[1,...o.dims];const e=await this.model.generate(o,t),n=this.tokenizer.batch_decode(e,{skip_special_tokens:!0}).map((e=>({generated_text:e.trim()})));a.push(n)}return n?a:a[0]}}class nh extends Bf{constructor(e){super(e)}async _call(e,{topk:t=1}={}){const n=Array.isArray(e),r=await Df(e),{pixel_values:i}=await this.processor(r),a=await this.model({pixel_values:i}),o=this.model.config.id2label,s=[];for(const l of a.logits){const e=K(H(l.data),t).map((e=>({label:o[e[0]],score:e[1]})));1===t?s.push(...e):s.push(e)}return n||1===t?s:s[0]}}class rh extends Bf{constructor(e){super(e),this.subtasks_mapping={panoptic:"post_process_panoptic_segmentation",instance:"post_process_instance_segmentation",semantic:"post_process_semantic_segmentation"}}async _call(e,{threshold:t=.5,mask_threshold:n=.5,overlap_mask_area_threshold:r=.8,label_ids_to_fuse:i=null,target_sizes:a=null,subtask:o=null}={}){if(Array.isArray(e)&&1!==e.length)throw Error("Image segmentation pipeline currently only supports a batch size of 1.");const s=await Df(e),l=s.map((e=>[e.height,e.width])),{pixel_values:u,pixel_mask:c}=await this.processor(s),d=await this.model({pixel_values:u,pixel_mask:c});let f=null;if(null!==o)f=this.subtasks_mapping[o];else for(let[g,m]of Object.entries(this.subtasks_mapping))if(m in this.processor.feature_extractor){f=this.processor.feature_extractor[m].bind(this.processor.feature_extractor),o=g;break}const h=this.model.config.id2label,p=[];if("panoptic"===o||"instance"===o){const e=f(d,t,n,r,i,a??l)[0],o=e.segmentation;for(const t of e.segments_info){const e=new Uint8ClampedArray(o.data.length);for(let r=0;r<o.data.length;++r)o.data[r]===t.id&&(e[r]=255);const n=new Md(e,o.dims[1],o.dims[0],1);p.push({score:t.score,label:h[t.label_id],mask:n})}}else{if("semantic"!==o)throw Error(`Subtask ${o} not supported.`);{const{segmentation:e,labels:t}=f(d,a??l)[0];for(const n of t){const t=new Uint8ClampedArray(e.data.length);for(let i=0;i<e.data.length;++i)e.data[i]===n&&(t[i]=255);const r=new Md(t,e.dims[1],e.dims[0],1);p.push({score:null,label:h[n],mask:r})}}}return p}}class ih extends Bf{constructor(e){super(e)}async _call(e,t,{hypothesis_template:n="This is a photo of {}"}={}){const r=Array.isArray(e),i=await Df(e),a=t.map((e=>n.replace("{}",e))),o=this.tokenizer(a,{padding:"siglip"!==this.model.config.model_type||"max_length",truncation:!0}),{pixel_values:s}=await this.processor(i),l=await this.model({...o,pixel_values:s}),u="siglip"===this.model.config.model_type?e=>e.sigmoid().data:e=>H(e.data),c=[];for(const d of l.logits_per_image){const e=[...u(d)].map(((e,n)=>({score:e,label:t[n]})));e.sort(((e,t)=>t.score-e.score)),c.push(e)}return r?c:c[0]}}class ah extends Bf{constructor(e){super(e)}async _call(e,{threshold:t=.9,percentage:n=!1}={}){const r=Array.isArray(e);if(r&&1!==e.length)throw Error("Object detection pipeline currently only supports a batch size of 1.");const i=await Df(e),a=n?null:i.map((e=>[e.height,e.width])),{pixel_values:o,pixel_mask:s}=await this.processor(i),l=await this.model({pixel_values:o,pixel_mask:s}),u=this.processor.feature_extractor.post_process_object_detection(l,t,a),c=this.model.config.id2label,d=u.map((e=>e.boxes.map(((t,r)=>({score:e.scores[r],label:c[e.classes[r]],box:Ff(t,!n)})))));return r?d:d[0]}}class oh extends Bf{constructor(e){super(e)}async _call(e,t,{threshold:n=.1,topk:r=null,percentage:i=!1}={}){const a=Array.isArray(e),o=await Df(e),s=this.tokenizer(t,{padding:!0,truncation:!0}),l=await this.processor(o),u=[];for(let c=0;c<o.length;++c){const e=o[c],a=i?null:[[e.height,e.width]],d=l.pixel_values[c].unsqueeze_(0),f=await this.model({...s,pixel_values:d}),h=this.processor.feature_extractor.post_process_object_detection(f,n,a,!0)[0];let p=h.boxes.map(((e,n)=>({score:h.scores[n],label:t[h.classes[n]],box:Ff(e,!i)}))).sort(((e,t)=>t.score-e.score));null!==r&&(p=p.slice(0,r)),u.push(p)}return a?u:u[0]}}class sh extends Bf{constructor(e){super(e)}async _call(e,t,n={}){const r=(await Df(e))[0],{pixel_values:i}=await this.processor(r),a=`<s_docvqa><s_question>${t}</s_question><s_answer>`,o=this.tokenizer(a,{add_special_tokens:!1,padding:!0,truncation:!0}).input_ids,s=await this.model.generate(i,{...n,decoder_input_ids:o,max_length:this.model.config.decoder.max_position_embeddings}),l=this.tokenizer.batch_decode(s)[0].match(/<s_answer>(.*?)<\/s_answer>/);let u=null;return l&&l.length>=2&&(u=l[1].trim()),[{answer:u}]}}class lh extends Bf{DEFAULT_VOCODER_ID="Xenova/speecht5_hifigan";constructor(e){super(e),this.vocoder=e.vocoder??null}async _call(e,{speaker_embeddings:t=null}={}){return this.processor?this._call_text_to_spectrogram(e,{speaker_embeddings:t}):this._call_text_to_waveform(e)}async _call_text_to_waveform(e){const t=this.tokenizer(e,{padding:!0,truncation:!0}),{waveform:n}=await this.model(t),r=this.model.config.sampling_rate;return{audio:n.data,sampling_rate:r}}async _call_text_to_spectrogram(e,{speaker_embeddings:t}){if(this.vocoder||(console.log("No vocoder specified, using default HifiGan vocoder."),this.vocoder=await Uc.from_pretrained(this.DEFAULT_VOCODER_ID,{quantized:!1})),("string"===typeof t||t instanceof URL)&&(t=new Float32Array(await(await fetch(t)).arrayBuffer())),t instanceof Float32Array)t=new le("float32",t,[1,t.length]);else if(!(t instanceof le))throw new Error("Speaker embeddings must be a `Tensor`, `Float32Array`, `string`, or `URL`.");const{input_ids:n}=this.tokenizer(e,{padding:!0,truncation:!0}),{waveform:r}=await this.model.generate_speech(n,t,{vocoder:this.vocoder}),i=this.processor.feature_extractor.config.sampling_rate;return{audio:r.data,sampling_rate:i}}}class uh extends Bf{constructor(e){super(e)}async _call(e){const t=await Df(e),n=await this.processor(t),r=await this.model(n),i=[];for(const a of r.reconstruction){const e=a.squeeze().clamp_(0,1).mul_(255).round_().to("uint8");i.push(Md.fromTensor(e))}return i.length>1?i:i[0]}}class ch extends Bf{constructor(e){super(e)}async _call(e){const t=await Df(e),n=await this.processor(t),{predicted_depth:r}=await this.model(n),i=[];for(let a=0;a<t.length;++a){const e=ce(r[a],t[a].size.reverse(),"bilinear",!1),n=e.mul_(255/J(e.data)[0]).to("uint8");i.push({predicted_depth:r[a],depth:Md.fromTensor(n)})}return i.length>1?i:i[0]}}const dh=Object.freeze({"text-classification":{tokenizer:Er,pipeline:zf,model:Vc,default:{model:"Xenova/distilbert-base-uncased-finetuned-sst-2-english"},type:"text"},"token-classification":{tokenizer:Er,pipeline:$f,model:Wc,default:{model:"Xenova/bert-base-multilingual-cased-ner-hrl"},type:"text"},"question-answering":{tokenizer:Er,pipeline:Uf,model:Yc,default:{model:"Xenova/distilbert-base-cased-distilled-squad"},type:"text"},"fill-mask":{tokenizer:Er,pipeline:Vf,model:Xc,default:{model:"Xenova/bert-base-uncased"},type:"text"},summarization:{tokenizer:Er,pipeline:Hf,model:Hc,default:{model:"Xenova/distilbart-cnn-6-6"},type:"text"},translation:{tokenizer:Er,pipeline:Gf,model:Hc,default:{model:"Xenova/t5-small"},type:"text"},"text2text-generation":{tokenizer:Er,pipeline:Wf,model:Hc,default:{model:"Xenova/flan-t5-small"},type:"text"},"text-generation":{tokenizer:Er,pipeline:Kf,model:Zc,default:{model:"Xenova/gpt2"},type:"text"},"zero-shot-classification":{tokenizer:Er,pipeline:Zf,model:Vc,default:{model:"Xenova/distilbert-base-uncased-mnli"},type:"text"},"audio-classification":{pipeline:Jf,model:od,processor:Nf,default:{model:"Xenova/wav2vec2-base-superb-ks"},type:"audio"},"zero-shot-audio-classification":{tokenizer:Er,pipeline:Qf,model:Uc,processor:Nf,default:{model:"Xenova/clap-htsat-unfused"},type:"multimodal"},"automatic-speech-recognition":{tokenizer:Er,pipeline:eh,model:[Gc,ad],processor:Nf,default:{model:"Xenova/whisper-tiny.en"},type:"multimodal"},"text-to-audio":{tokenizer:Er,pipeline:lh,model:[Kc,qc],processor:[Nf,null],default:{model:"Xenova/speecht5_tts"},type:"text"},"image-to-text":{tokenizer:Er,pipeline:th,model:Jc,processor:Nf,default:{model:"Xenova/vit-gpt2-image-captioning"},type:"multimodal"},"image-classification":{pipeline:nh,model:Qc,processor:Nf,default:{model:"Xenova/vit-base-patch16-224"},type:"multimodal"},"image-segmentation":{pipeline:rh,model:[ed,td],processor:Nf,default:{model:"Xenova/detr-resnet-50-panoptic"},type:"multimodal"},"zero-shot-image-classification":{tokenizer:Er,pipeline:ih,model:Uc,processor:Nf,default:{model:"Xenova/clip-vit-base-patch32"},type:"multimodal"},"object-detection":{pipeline:ah,model:nd,processor:Nf,default:{model:"Xenova/detr-resnet-50"},type:"multimodal"},"zero-shot-object-detection":{tokenizer:Er,pipeline:oh,model:rd,processor:Nf,default:{model:"Xenova/owlvit-base-patch32"},type:"multimodal"},"document-question-answering":{tokenizer:Er,pipeline:sh,model:ud,processor:Nf,default:{model:"Xenova/donut-base-finetuned-docvqa"},type:"multimodal"},"image-to-image":{pipeline:uh,model:dd,processor:Nf,default:{model:"Xenova/swin2SR-classical-sr-x2-64"},type:"image"},"depth-estimation":{pipeline:ch,model:fd,processor:Nf,default:{model:"Xenova/dpt-large"},type:"image"},"feature-extraction":{tokenizer:Er,pipeline:Xf,model:Uc,default:{model:"Xenova/all-MiniLM-L6-v2"},type:"text"},"image-feature-extraction":{processor:Nf,pipeline:Yf,model:[hd,Uc],default:{model:"Xenova/vit-base-patch16-224-in21k"},type:"image"}}),fh=Object.freeze({"sentiment-analysis":"text-classification",ner:"token-classification",asr:"automatic-speech-recognition","text-to-speech":"text-to-audio",embeddings:"feature-extraction"});async function hh(e,t=null,{quantized:n=!0,progress_callback:i=null,config:a=null,cache_dir:o=null,local_files_only:s=!1,revision:l="main",model_file_name:u=null}={}){e=fh[e]??e;const c=dh[e.split("_",1)[0]];if(!c)throw Error(`Unsupported pipeline: ${e}. Must be one of [${Object.keys(dh)}]`);t||(t=c.default.model,console.log(`No model specified. Using default model: "${t}".`));const d={quantized:n,progress_callback:i,config:a,cache_dir:o,local_files_only:s,revision:l,model_file_name:u},f=new Map([["tokenizer",c.tokenizer],["model",c.model],["processor",c.processor]]),h=await async function(e,t,n){const r=Object.create(null),i=[];for(let[a,o]of e.entries()){if(!o)continue;let e;e=Array.isArray(o)?new Promise((async(e,r)=>{let i;for(let s of o){if(null===s)return void e(null);try{return void e(await s.from_pretrained(t,n))}catch(a){i=a}}r(i)})):o.from_pretrained(t,n),r[a]=e,i.push(e)}await Promise.all(i);for(let[a,o]of Object.entries(r))r[a]=await o;return r}(f,t,d);h.task=e,r(i,{status:"ready",task:e,model:t});return new(0,c.pipeline)(h)}},7:(e,t,n)=>{"use strict";let r,i,a,o,s,l,u;n.r(t),n.d(t,{IDBFS_STORE_NAME:()=>r,__tla:()=>c,defaultParams:()=>i,hnswParamsForAda:()=>a,loadHnswlib:()=>o,syncFileSystem:()=>s,waitForFileSystemInitalized:()=>l,waitForFileSystemSynced:()=>u});let c=(async()=>{let e;i={initIndex:[32,128,100]},a={m:32,efSearch:128,efConstruction:128,numNeighbors:8,dimensions:1538},r="FILE_DATA",s=t=>{const n=e.EmscriptenFileSystemManager,r="read"===t||"write"!==t&&void 0;if(void 0===r)throw new Error("Invalid action type");return new Promise(((e,t)=>{try{n.syncFS(r,(()=>{e()}))}catch(i){t(i)}}))},l=()=>{const t=e.EmscriptenFileSystemManager;return new Promise(((e,n)=>{let r=0;const i=()=>{t.isInitialized()?e():r>=4e3?n(new Error("Failed to initialize filesystem")):(r+=100,setTimeout(i,100))};setTimeout(i,100)}))},u=()=>{const t=e.EmscriptenFileSystemManager;return new Promise(((e,n)=>{let r=0;const i=()=>{t.isSynced()?e():r>=4e3?n(new Error("Failed to initialize filesystem")):(r+=100,setTimeout(i,100))};setTimeout(i,100)}))};o=async t=>{try{if("undefined"!==typeof hnswlib&&null!==hnswlib){const e=hnswlib();if(null!=e)return e}if(!e){const r=(await n.e(949).then(n.bind(n,330))).default;return e=await r(),await(async t=>{const n=null==t?"IDBFS":t,r=e.EmscriptenFileSystemManager;if(!r.isInitialized())return r.initializeFileSystem(n),await l()})(t),e}return e}catch(r){throw console.error("----------------------------------------"),console.error("Error initializing the library:",r),r}}})()},9984:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AsyncLocalStorageProviderSingleton:()=>i,ROOT:()=>s,getCurrentRunTree:()=>a,isTraceableFunction:()=>l,withRunTree:()=>o});class r{getStore(){}run(e,t){return t()}}const i=new class{constructor(){Object.defineProperty(this,"asyncLocalStorage",{enumerable:!0,configurable:!0,writable:!0,value:new r}),Object.defineProperty(this,"hasBeenInitialized",{enumerable:!0,configurable:!0,writable:!0,value:!1})}getInstance(){return this.asyncLocalStorage}initializeGlobalInstance(e){this.hasBeenInitialized||(this.hasBeenInitialized=!0,this.asyncLocalStorage=e)}},a=()=>{const e=i.getInstance().getStore();if(void 0===e)throw new Error(["Could not get the current run tree.","","Please make sure you are calling this method within a traceable function or the tracing is enabled."].join("\n"));return e};function o(e,t){const n=i.getInstance();return new Promise(((r,i)=>{n.run(e,(()=>{Promise.resolve(t()).then(r).catch(i)}))}))}const s=Symbol.for("langsmith:traceable:root");function l(e){return"function"===typeof e&&"langsmith:traceable"in e}},8042:(e,t,n)=>{"use strict";n.r(t),n.d(t,{addErrorMessage:()=>s,default:()=>re,defaultOptions:()=>i,getDefaultOptions:()=>a,getRefs:()=>o,ignoreOverride:()=>r,parseAnyDef:()=>c,parseArrayDef:()=>d,parseBigintDef:()=>f,parseBooleanDef:()=>h,parseBrandedDef:()=>p,parseCatchDef:()=>g,parseDateDef:()=>m,parseDef:()=>Y,parseDefaultDef:()=>_,parseEffectsDef:()=>b,parseEnumDef:()=>v,parseIntersectionDef:()=>x,parseLiteralDef:()=>k,parseMapDef:()=>P,parseNativeEnumDef:()=>M,parseNeverDef:()=>L,parseNullDef:()=>R,parseNullableDef:()=>F,parseNumberDef:()=>B,parseObjectDef:()=>U,parseObjectDefX:()=>$,parseOptionalDef:()=>V,parsePipelineDef:()=>W,parsePromiseDef:()=>H,parseReadonlyDef:()=>X,parseRecordDef:()=>I,parseSetDef:()=>G,parseStringDef:()=>T,parseTupleDef:()=>q,parseUndefinedDef:()=>K,parseUnionDef:()=>D,parseUnknownDef:()=>Z,primitiveMappings:()=>N,setResponseValueAndErrors:()=>l,zodPatterns:()=>S,zodToJsonSchema:()=>ne});const r=Symbol("Let zodToJsonSchema decide on which parser to use"),i={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},a=e=>"string"===typeof e?{...i,name:e}:{...i,...e},o=e=>{const t=a(e),n=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map((([e,n])=>[n._def,{def:n._def,path:[...t.basePath,t.definitionPath,e],jsonSchema:void 0}])))}};function s(e,t,n,r){r?.errorMessages&&n&&(e.errorMessage={...e.errorMessage,[t]:n})}function l(e,t,n,r,i){e[t]=n,s(e,t,r,i)}var u=n(373);function c(){return{}}function d(e,t){const n={type:"array"};return e.type?._def?.typeName!==u.ZodFirstPartyTypeKind.ZodAny&&(n.items=Y(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&l(n,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&l(n,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(l(n,"minItems",e.exactLength.value,e.exactLength.message,t),l(n,"maxItems",e.exactLength.value,e.exactLength.message,t)),n}function f(e,t){const n={type:"integer",format:"int64"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"min":"jsonSchema7"===t.target?r.inclusive?l(n,"minimum",r.value,r.message,t):l(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),l(n,"minimum",r.value,r.message,t));break;case"max":"jsonSchema7"===t.target?r.inclusive?l(n,"maximum",r.value,r.message,t):l(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),l(n,"maximum",r.value,r.message,t));break;case"multipleOf":l(n,"multipleOf",r.value,r.message,t)}return n}function h(){return{type:"boolean"}}function p(e,t){return Y(e.type._def,t)}const g=(e,t)=>Y(e.innerType._def,t);function m(e,t,n){const r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map(((n,r)=>m(e,t,n)))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return y(e,t)}}const y=(e,t)=>{const n={type:"integer",format:"unix-time"};if("openApi3"===t.target)return n;for(const r of e.checks)switch(r.kind){case"min":l(n,"minimum",r.value,r.message,t);break;case"max":l(n,"maximum",r.value,r.message,t)}return n};function _(e,t){return{...Y(e.innerType._def,t),default:e.defaultValue()}}function b(e,t){return"input"===t.effectStrategy?Y(e.schema._def,t):{}}function v(e){return{type:"string",enum:e.values}}const w=e=>(!("type"in e)||"string"!==e.type)&&"allOf"in e;function x(e,t){const n=[Y(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Y(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter((e=>!!e));let r="jsonSchema2019-09"===t.target?{unevaluatedProperties:!1}:void 0;const i=[];return n.forEach((e=>{if(w(e))i.push(...e.allOf),void 0===e.unevaluatedProperties&&(r=void 0);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){const{additionalProperties:n,...r}=e;t=r}else r=void 0;i.push(t)}})),i.length?{allOf:i,...r}:void 0}function k(e,t){const n=typeof e.value;return"bigint"!==n&&"number"!==n&&"boolean"!==n&&"string"!==n?{type:Array.isArray(e.value)?"array":"object"}:"openApi3"===t.target?{type:"bigint"===n?"integer":n,enum:[e.value]}:{type:"bigint"===n?"integer":n,const:e.value}}const S={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u"),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/};function T(e,t){const n={type:"string"};function r(e){return"escape"===t.patternStrategy?E(e):e}if(e.checks)for(const i of e.checks)switch(i.kind){case"min":l(n,"minLength","number"===typeof n.minLength?Math.max(n.minLength,i.value):i.value,i.message,t);break;case"max":l(n,"maxLength","number"===typeof n.maxLength?Math.min(n.maxLength,i.value):i.value,i.message,t);break;case"email":switch(t.emailStrategy){case"format:email":A(n,"email",i.message,t);break;case"format:idn-email":A(n,"idn-email",i.message,t);break;case"pattern:zod":O(n,S.email,i.message,t)}break;case"url":A(n,"uri",i.message,t);break;case"uuid":A(n,"uuid",i.message,t);break;case"regex":O(n,i.regex,i.message,t);break;case"cuid":O(n,S.cuid,i.message,t);break;case"cuid2":O(n,S.cuid2,i.message,t);break;case"startsWith":O(n,RegExp(`^${r(i.value)}`),i.message,t);break;case"endsWith":O(n,RegExp(`${r(i.value)}$`),i.message,t);break;case"datetime":A(n,"date-time",i.message,t);break;case"date":A(n,"date",i.message,t);break;case"time":A(n,"time",i.message,t);break;case"duration":A(n,"duration",i.message,t);break;case"length":l(n,"minLength","number"===typeof n.minLength?Math.max(n.minLength,i.value):i.value,i.message,t),l(n,"maxLength","number"===typeof n.maxLength?Math.min(n.maxLength,i.value):i.value,i.message,t);break;case"includes":O(n,RegExp(r(i.value)),i.message,t);break;case"ip":"v6"!==i.version&&A(n,"ipv4",i.message,t),"v4"!==i.version&&A(n,"ipv6",i.message,t);break;case"emoji":O(n,S.emoji,i.message,t);break;case"ulid":O(n,S.ulid,i.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":A(n,"binary",i.message,t);break;case"contentEncoding:base64":l(n,"contentEncoding","base64",i.message,t);break;case"pattern:zod":O(n,S.base64,i.message,t)}break;case"nanoid":O(n,S.nanoid,i.message,t)}return n}const E=e=>Array.from(e).map((e=>/[a-zA-Z0-9]/.test(e)?e:`\\${e}`)).join(""),A=(e,t,n,r)=>{e.format||e.anyOf?.some((e=>e.format))?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&r.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):l(e,"format",t,n,r)},O=(e,t,n,r)=>{e.pattern||e.allOf?.some((e=>e.pattern))?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&r.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.allOf.push({pattern:C(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):l(e,"pattern",C(t,r),n,r)},C=(e,t)=>{if(!t.applyRegexFlags||!e.flags)return e.source;const n=e.flags.includes("i"),r=e.flags.includes("m"),i=e.flags.includes("s"),a=n?e.source.toLowerCase():e.source;let o="",s=!1,l=!1,u=!1;for(let c=0;c<a.length;c++)if(s)o+=a[c],s=!1;else{if(n)if(l){if(a[c].match(/[a-z]/)){u?(o+=a[c],o+=`${a[c-2]}-${a[c]}`.toUpperCase(),u=!1):"-"===a[c+1]&&a[c+2]?.match(/[a-z]/)?(o+=a[c],u=!0):o+=`${a[c]}${a[c].toUpperCase()}`;continue}}else if(a[c].match(/[a-z]/)){o+=`[${a[c]}${a[c].toUpperCase()}]`;continue}if(r){if("^"===a[c]){o+="(^|(?<=[\r\n]))";continue}if("$"===a[c]){o+="($|(?=[\r\n]))";continue}}i&&"."===a[c]?o+=l?`${a[c]}\r\n`:`[${a[c]}\r\n]`:(o+=a[c],"\\"===a[c]?s=!0:l&&"]"===a[c]?l=!1:l||"["!==a[c]||(l=!0))}try{new RegExp(o)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return o};function I(e,t){if("openApi3"===t.target&&e.keyType?._def.typeName===u.ZodFirstPartyTypeKind.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce(((n,r)=>({...n,[r]:Y(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",r]})??{}})),{}),additionalProperties:!1};const n={type:"object",additionalProperties:Y(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if("openApi3"===t.target)return n;if(e.keyType?._def.typeName===u.ZodFirstPartyTypeKind.ZodString&&e.keyType._def.checks?.length){const r=Object.entries(T(e.keyType._def,t)).reduce(((e,[t,n])=>"type"===t?e:{...e,[t]:n}),{});return{...n,propertyNames:r}}return e.keyType?._def.typeName===u.ZodFirstPartyTypeKind.ZodEnum?{...n,propertyNames:{enum:e.keyType._def.values}}:n}function P(e,t){if("record"===t.mapStrategy)return I(e,t);return{type:"array",maxItems:125,items:{type:"array",items:[Y(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},Y(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}}}function M(e){const t=e.values,n=Object.keys(e.values).filter((e=>"number"!==typeof t[t[e]])).map((e=>t[e])),r=Array.from(new Set(n.map((e=>typeof e))));return{type:1===r.length?"string"===r[0]?"string":"number":["string","number"],enum:n}}function L(){return{not:{}}}function R(e){return"openApi3"===e.target?{enum:["null"],nullable:!0}:{type:"null"}}const N={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function D(e,t){if("openApi3"===t.target)return j(e,t);const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every((e=>e._def.typeName in N&&(!e._def.checks||!e._def.checks.length)))){const e=n.reduce(((e,t)=>{const n=N[t._def.typeName];return n&&!e.includes(n)?[...e,n]:e}),[]);return{type:e.length>1?e:e[0]}}if(n.every((e=>"ZodLiteral"===e._def.typeName&&!e.description))){const e=n.reduce(((e,t)=>{const n=typeof t._def.value;switch(n){case"string":case"number":case"boolean":return[...e,n];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}}),[]);if(e.length===n.length){const t=e.filter(((e,t,n)=>n.indexOf(e)===t));return{type:t.length>1?t:t[0],enum:n.reduce(((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value]),[])}}}else if(n.every((e=>"ZodEnum"===e._def.typeName)))return{type:"string",enum:n.reduce(((e,t)=>[...e,...t._def.values.filter((t=>!e.includes(t)))]),[])};return j(e,t)}const j=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map(((e,n)=>Y(e._def,{...t,currentPath:[...t.currentPath,"anyOf",`${n}`]}))).filter((e=>!!e&&(!t.strictUnions||"object"===typeof e&&Object.keys(e).length>0)));return n.length?{anyOf:n}:void 0};function F(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return"openApi3"===t.target?{type:N[e.innerType._def.typeName],nullable:!0}:{type:[N[e.innerType._def.typeName],"null"]};if("openApi3"===t.target){const n=Y(e.innerType._def,{...t,currentPath:[...t.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}const n=Y(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function B(e,t){const n={type:"number"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"int":n.type="integer",s(n,"type",r.message,t);break;case"min":"jsonSchema7"===t.target?r.inclusive?l(n,"minimum",r.value,r.message,t):l(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),l(n,"minimum",r.value,r.message,t));break;case"max":"jsonSchema7"===t.target?r.inclusive?l(n,"maximum",r.value,r.message,t):l(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),l(n,"maximum",r.value,r.message,t));break;case"multipleOf":l(n,"multipleOf",r.value,r.message,t)}return n}function z(e,t){return"strict"===t.removeAdditionalStrategy?"ZodNever"===e.catchall._def.typeName?"strict"!==e.unknownKeys:Y(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0:"ZodNever"===e.catchall._def.typeName?"passthrough"===e.unknownKeys:Y(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0}function $(e,t){Object.keys(e.shape()).reduce(((n,r)=>{let i=e.shape()[r];const a=i.isOptional();a||(i={...i._def.innerSchema});const o=Y(i._def,{...t,currentPath:[...t.currentPath,"properties",r],propertyPath:[...t.currentPath,"properties",r]});return void 0!==o&&(n.properties[r]=o,a||(n.required||(n.required=[]),n.required.push(r))),n}),{type:"object",properties:{},additionalProperties:z(e,t)});const n={type:"object",...Object.entries(e.shape()).reduce(((e,[n,r])=>{if(void 0===r||void 0===r._def)return e;const i=Y(r._def,{...t,currentPath:[...t.currentPath,"properties",n],propertyPath:[...t.currentPath,"properties",n]});return void 0===i?e:{properties:{...e.properties,[n]:i},required:r.isOptional()?e.required:[...e.required,n]}}),{properties:{},required:[]}),additionalProperties:z(e,t)};return n.required.length||delete n.required,n}function U(e,t){const n={type:"object",...Object.entries(e.shape()).reduce(((e,[n,r])=>{if(void 0===r||void 0===r._def)return e;const i=Y(r._def,{...t,currentPath:[...t.currentPath,"properties",n],propertyPath:[...t.currentPath,"properties",n]});return void 0===i?e:{properties:{...e.properties,[n]:i},required:r.isOptional()?e.required:[...e.required,n]}}),{properties:{},required:[]}),additionalProperties:z(e,t)};return n.required.length||delete n.required,n}const V=(e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return Y(e.innerType._def,t);const n=Y(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}},W=(e,t)=>{if("input"===t.pipeStrategy)return Y(e.in._def,t);if("output"===t.pipeStrategy)return Y(e.out._def,t);const n=Y(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]});return{allOf:[n,Y(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]})].filter((e=>void 0!==e))}};function H(e,t){return Y(e.type._def,t)}function G(e,t){const n={type:"array",uniqueItems:!0,items:Y(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&l(n,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&l(n,"maxItems",e.maxSize.value,e.maxSize.message,t),n}function q(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map(((e,n)=>Y(e._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]}))).reduce(((e,t)=>void 0===t?e:[...e,t]),[]),additionalItems:Y(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map(((e,n)=>Y(e._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]}))).reduce(((e,t)=>void 0===t?e:[...e,t]),[])}}function K(){return{not:{}}}function Z(){return{}}const X=(e,t)=>Y(e.innerType._def,t);function Y(e,t,n=!1){const i=t.seen.get(e);if(t.override){const a=t.override?.(e,t,i,n);if(a!==r)return a}if(i&&!n){const e=J(i,t);if(void 0!==e)return e}const a={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,a);const o=ee(e,e.typeName,t);return o&&te(e,t,o),a.jsonSchema=o,o}const J=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:Q(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every(((e,n)=>t.currentPath[n]===e))?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):"seen"===t.$refStrategy?{}:void 0}},Q=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},ee=(e,t,n)=>{switch(t){case u.ZodFirstPartyTypeKind.ZodString:return T(e,n);case u.ZodFirstPartyTypeKind.ZodNumber:return B(e,n);case u.ZodFirstPartyTypeKind.ZodObject:return U(e,n);case u.ZodFirstPartyTypeKind.ZodBigInt:return f(e,n);case u.ZodFirstPartyTypeKind.ZodBoolean:return{type:"boolean"};case u.ZodFirstPartyTypeKind.ZodDate:return m(e,n);case u.ZodFirstPartyTypeKind.ZodUndefined:return{not:{}};case u.ZodFirstPartyTypeKind.ZodNull:return R(n);case u.ZodFirstPartyTypeKind.ZodArray:return d(e,n);case u.ZodFirstPartyTypeKind.ZodUnion:case u.ZodFirstPartyTypeKind.ZodDiscriminatedUnion:return D(e,n);case u.ZodFirstPartyTypeKind.ZodIntersection:return x(e,n);case u.ZodFirstPartyTypeKind.ZodTuple:return q(e,n);case u.ZodFirstPartyTypeKind.ZodRecord:return I(e,n);case u.ZodFirstPartyTypeKind.ZodLiteral:return k(e,n);case u.ZodFirstPartyTypeKind.ZodEnum:return v(e);case u.ZodFirstPartyTypeKind.ZodNativeEnum:return M(e);case u.ZodFirstPartyTypeKind.ZodNullable:return F(e,n);case u.ZodFirstPartyTypeKind.ZodOptional:return V(e,n);case u.ZodFirstPartyTypeKind.ZodMap:return P(e,n);case u.ZodFirstPartyTypeKind.ZodSet:return G(e,n);case u.ZodFirstPartyTypeKind.ZodLazy:return Y(e.getter()._def,n);case u.ZodFirstPartyTypeKind.ZodPromise:return H(e,n);case u.ZodFirstPartyTypeKind.ZodNaN:case u.ZodFirstPartyTypeKind.ZodNever:return{not:{}};case u.ZodFirstPartyTypeKind.ZodEffects:return b(e,n);case u.ZodFirstPartyTypeKind.ZodAny:case u.ZodFirstPartyTypeKind.ZodUnknown:return{};case u.ZodFirstPartyTypeKind.ZodDefault:return _(e,n);case u.ZodFirstPartyTypeKind.ZodBranded:return p(e,n);case u.ZodFirstPartyTypeKind.ZodReadonly:return X(e,n);case u.ZodFirstPartyTypeKind.ZodCatch:return g(e,n);case u.ZodFirstPartyTypeKind.ZodPipeline:return W(e,n);case u.ZodFirstPartyTypeKind.ZodFunction:case u.ZodFirstPartyTypeKind.ZodVoid:case u.ZodFirstPartyTypeKind.ZodSymbol:default:return}},te=(e,t,n)=>(e.description&&(n.description=e.description,t.markdownDescription&&(n.markdownDescription=e.description)),n),ne=(e,t)=>{const n=o(t),r="object"===typeof t&&t.definitions?Object.entries(t.definitions).reduce(((e,[t,r])=>({...e,[t]:Y(r._def,{...n,currentPath:[...n.basePath,n.definitionPath,t]},!0)??{}})),{}):void 0,i="string"===typeof t?t:"title"===t?.nameStrategy?void 0:t?.name,a=Y(e._def,void 0===i?n:{...n,currentPath:[...n.basePath,n.definitionPath,i]},!1)??{},s="object"===typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==s&&(a.title=s);const l=void 0===i?r?{...a,[n.definitionPath]:r}:a:{$ref:[..."relative"===n.$refStrategy?[]:n.basePath,n.definitionPath,i].join("/"),[n.definitionPath]:{...r,[i]:a}};return"jsonSchema7"===n.target?l.$schema="http://json-schema.org/draft-07/schema#":"jsonSchema2019-09"===n.target&&(l.$schema="https://json-schema.org/draft/2019-09/schema#"),l},re=ne},373:(e,t,n)=>{"use strict";var r,i;n.r(t),n.d(t,{BRAND:()=>Le,DIRTY:()=>b,EMPTY_PATH:()=>g,INVALID:()=>_,NEVER:()=>Tt,OK:()=>v,ParseStatus:()=>y,Schema:()=>L,ZodAny:()=>ie,ZodArray:()=>le,ZodBigInt:()=>J,ZodBoolean:()=>Q,ZodBranded:()=>Re,ZodCatch:()=>Pe,ZodDate:()=>ee,ZodDefault:()=>Ie,ZodDiscriminatedUnion:()=>he,ZodEffects:()=>Ae,ZodEnum:()=>Se,ZodError:()=>u,ZodFirstPartyTypeKind:()=>Be,ZodFunction:()=>ve,ZodIntersection:()=>ge,ZodIssueCode:()=>s,ZodLazy:()=>we,ZodLiteral:()=>xe,ZodMap:()=>_e,ZodNaN:()=>Me,ZodNativeEnum:()=>Te,ZodNever:()=>oe,ZodNull:()=>re,ZodNullable:()=>Ce,ZodNumber:()=>Y,ZodObject:()=>ce,ZodOptional:()=>Oe,ZodParsedType:()=>a,ZodPipeline:()=>Ne,ZodPromise:()=>Ee,ZodReadonly:()=>De,ZodRecord:()=>ye,ZodSchema:()=>L,ZodSet:()=>be,ZodString:()=>Z,ZodSymbol:()=>te,ZodTransformer:()=>Ae,ZodTuple:()=>me,ZodType:()=>L,ZodUndefined:()=>ne,ZodUnion:()=>de,ZodUnknown:()=>ae,ZodVoid:()=>se,addIssueToContext:()=>m,any:()=>Xe,array:()=>et,bigint:()=>We,boolean:()=>He,coerce:()=>St,custom:()=>je,date:()=>Ge,datetimeRegex:()=>K,default:()=>Et,defaultErrorMap:()=>c,discriminatedUnion:()=>it,effect:()=>mt,enum:()=>ht,function:()=>ct,getErrorMap:()=>h,getParsedType:()=>o,instanceof:()=>ze,intersection:()=>at,isAborted:()=>w,isAsync:()=>S,isDirty:()=>x,isValid:()=>k,late:()=>Fe,lazy:()=>dt,literal:()=>ft,makeIssue:()=>p,map:()=>lt,nan:()=>Ve,nativeEnum:()=>pt,never:()=>Je,null:()=>Ze,nullable:()=>_t,number:()=>Ue,object:()=>tt,objectUtil:()=>i,oboolean:()=>kt,onumber:()=>xt,optional:()=>yt,ostring:()=>wt,pipeline:()=>vt,preprocess:()=>bt,promise:()=>gt,quotelessJson:()=>l,record:()=>st,set:()=>ut,setErrorMap:()=>f,strictObject:()=>nt,string:()=>$e,symbol:()=>qe,transformer:()=>mt,tuple:()=>ot,undefined:()=>Ke,union:()=>rt,unknown:()=>Ye,util:()=>r,void:()=>Qe,z:()=>Et}),function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!==typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"===typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t}(r||(r={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(i||(i={}));const a=r.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),o=e=>{switch(typeof e){case"undefined":return a.undefined;case"string":return a.string;case"number":return isNaN(e)?a.nan:a.number;case"boolean":return a.boolean;case"function":return a.function;case"bigint":return a.bigint;case"symbol":return a.symbol;case"object":return Array.isArray(e)?a.array:null===e?a.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?a.promise:"undefined"!==typeof Map&&e instanceof Map?a.map:"undefined"!==typeof Set&&e instanceof Set?a.set:"undefined"!==typeof Date&&e instanceof Date?a.date:a.object;default:return a.unknown}},s=r.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),l=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class u extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(r);else if("invalid_return_type"===i.code)r(i.returnTypeError);else if("invalid_arguments"===i.code)r(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){const n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof u))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,r.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}u.create=e=>new u(e);const c=(e,t)=>{let n;switch(e.code){case s.invalid_type:n=e.received===a.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case s.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,r.jsonStringifyReplacer)}`;break;case s.unrecognized_keys:n=`Unrecognized key(s) in object: ${r.joinValues(e.keys,", ")}`;break;case s.invalid_union:n="Invalid input";break;case s.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${r.joinValues(e.options)}`;break;case s.invalid_enum_value:n=`Invalid enum value. Expected ${r.joinValues(e.options)}, received '${e.received}'`;break;case s.invalid_arguments:n="Invalid function arguments";break;case s.invalid_return_type:n="Invalid function return type";break;case s.invalid_date:n="Invalid date";break;case s.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"===typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:r.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case s.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case s.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case s.custom:n="Invalid input";break;case s.invalid_intersection_types:n="Intersection results could not be merged";break;case s.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case s.not_finite:n="Number must be finite";break;default:n=t.defaultError,r.assertNever(e)}return{message:n}};let d=c;function f(e){d=e}function h(){return d}const p=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,a=[...n,...i.path||[]],o={...i,path:a};if(void 0!==i.message)return{...i,path:a,message:i.message};let s="";const l=r.filter((e=>!!e)).slice().reverse();for(const u of l)s=u(o,{data:t,defaultError:s}).message;return{...i,path:a,message:s}},g=[];function m(e,t){const n=h(),r=p({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===c?void 0:c].filter((e=>!!e))});e.common.issues.push(r)}class y{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return _;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t){const e=await r.key,t=await r.value;n.push({key:e,value:t})}return y.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:i}=r;if("aborted"===t.status)return _;if("aborted"===i.status)return _;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof i.value&&!r.alwaysSet||(n[t.value]=i.value)}return{status:e.value,value:n}}}const _=Object.freeze({status:"aborted"}),b=e=>({status:"dirty",value:e}),v=e=>({status:"valid",value:e}),w=e=>"aborted"===e.status,x=e=>"dirty"===e.status,k=e=>"valid"===e.status,S=e=>"undefined"!==typeof Promise&&e instanceof Promise;function T(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function E(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}var A,O,C;"function"===typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"===typeof e?{message:e}:e||{},e.toString=e=>"string"===typeof e?e:null===e||void 0===e?void 0:e.message}(A||(A={}));class I{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const P=(e,t)=>{if(k(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new u(e.common.issues);return this._error=t,this._error}}};function M(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:i};return{errorMap:(t,i)=>{var a,o;const{message:s}=e;return"invalid_enum_value"===t.code?{message:null!==s&&void 0!==s?s:i.defaultError}:"undefined"===typeof i.data?{message:null!==(a=null!==s&&void 0!==s?s:r)&&void 0!==a?a:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(o=null!==s&&void 0!==s?s:n)&&void 0!==o?o:i.defaultError}},description:i}}class L{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return o(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:o(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new y,ctx:{common:e.parent.common,data:e.data,parsedType:o(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(S(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null===t||void 0===t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:o(e)},i=this._parseSync({data:e,path:r.path,parent:r});return P(r,i)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:o(e)},r=this._parse({data:e,path:n.path,parent:n}),i=await(S(r)?r:Promise.resolve(r));return P(n,i)}refine(e,t){const n=e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t;return this._refinement(((t,r)=>{const i=e(t),a=()=>r.addIssue({code:s.custom,...n(t)});return"undefined"!==typeof Promise&&i instanceof Promise?i.then((e=>!!e||(a(),!1))):!!i||(a(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"===typeof t?t(n,r):t),!1)))}_refinement(e){return new Ae({schema:this,typeName:Be.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Oe.create(this,this._def)}nullable(){return Ce.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return le.create(this,this._def)}promise(){return Ee.create(this,this._def)}or(e){return de.create([this,e],this._def)}and(e){return ge.create(this,e,this._def)}transform(e){return new Ae({...M(this._def),schema:this,typeName:Be.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"===typeof e?e:()=>e;return new Ie({...M(this._def),innerType:this,defaultValue:t,typeName:Be.ZodDefault})}brand(){return new Re({typeName:Be.ZodBranded,type:this,...M(this._def)})}catch(e){const t="function"===typeof e?e:()=>e;return new Pe({...M(this._def),innerType:this,catchValue:t,typeName:Be.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return Ne.create(this,e)}readonly(){return De.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const R=/^c[^\s-]{8,}$/i,N=/^[0-9a-z]+$/,D=/^[0-9A-HJKMNP-TV-Z]{26}$/,j=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,F=/^[a-z0-9_-]{21}$/i,B=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,z=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let $;const U=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,V=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,W=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,H="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",G=new RegExp(`^${H}$`);function q(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function K(e){let t=`${H}T${q(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}class Z extends L{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==a.string){const t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:a.string,received:t.parsedType}),_}const t=new y;let n;for(const a of this._def.checks)if("min"===a.kind)e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),m(n,{code:s.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),t.dirty());else if("max"===a.kind)e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),m(n,{code:s.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),t.dirty());else if("length"===a.kind){const r=e.data.length>a.value,i=e.data.length<a.value;(r||i)&&(n=this._getOrReturnCtx(e,n),r?m(n,{code:s.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):i&&m(n,{code:s.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),t.dirty())}else if("email"===a.kind)z.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"email",code:s.invalid_string,message:a.message}),t.dirty());else if("emoji"===a.kind)$||($=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),$.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"emoji",code:s.invalid_string,message:a.message}),t.dirty());else if("uuid"===a.kind)j.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"uuid",code:s.invalid_string,message:a.message}),t.dirty());else if("nanoid"===a.kind)F.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"nanoid",code:s.invalid_string,message:a.message}),t.dirty());else if("cuid"===a.kind)R.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"cuid",code:s.invalid_string,message:a.message}),t.dirty());else if("cuid2"===a.kind)N.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"cuid2",code:s.invalid_string,message:a.message}),t.dirty());else if("ulid"===a.kind)D.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"ulid",code:s.invalid_string,message:a.message}),t.dirty());else if("url"===a.kind)try{new URL(e.data)}catch(l){n=this._getOrReturnCtx(e,n),m(n,{validation:"url",code:s.invalid_string,message:a.message}),t.dirty()}else if("regex"===a.kind){a.regex.lastIndex=0;a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"regex",code:s.invalid_string,message:a.message}),t.dirty())}else if("trim"===a.kind)e.data=e.data.trim();else if("includes"===a.kind)e.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(e,n),m(n,{code:s.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),t.dirty());else if("toLowerCase"===a.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===a.kind)e.data=e.data.toUpperCase();else if("startsWith"===a.kind)e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),m(n,{code:s.invalid_string,validation:{startsWith:a.value},message:a.message}),t.dirty());else if("endsWith"===a.kind)e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),m(n,{code:s.invalid_string,validation:{endsWith:a.value},message:a.message}),t.dirty());else if("datetime"===a.kind){K(a).test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{code:s.invalid_string,validation:"datetime",message:a.message}),t.dirty())}else if("date"===a.kind){G.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{code:s.invalid_string,validation:"date",message:a.message}),t.dirty())}else if("time"===a.kind){new RegExp(`^${q(a)}$`).test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{code:s.invalid_string,validation:"time",message:a.message}),t.dirty())}else"duration"===a.kind?B.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"duration",code:s.invalid_string,message:a.message}),t.dirty()):"ip"===a.kind?(i=e.data,("v4"!==(o=a.version)&&o||!U.test(i))&&("v6"!==o&&o||!V.test(i))&&(n=this._getOrReturnCtx(e,n),m(n,{validation:"ip",code:s.invalid_string,message:a.message}),t.dirty())):"base64"===a.kind?W.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"base64",code:s.invalid_string,message:a.message}),t.dirty()):r.assertNever(a);var i,o;return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:s.invalid_string,...A.errToObj(n)})}_addCheck(e){return new Z({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...A.errToObj(e)})}url(e){return this._addCheck({kind:"url",...A.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...A.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...A.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...A.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...A.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...A.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...A.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...A.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...A.errToObj(e)})}datetime(e){var t,n;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null===e||void 0===e?void 0:e.local)&&void 0!==n&&n,...A.errToObj(null===e||void 0===e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"===typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,...A.errToObj(null===e||void 0===e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...A.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...A.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position,...A.errToObj(null===t||void 0===t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...A.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...A.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...A.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...A.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...A.errToObj(t)})}nonempty(e){return this.min(1,A.errToObj(e))}trim(){return new Z({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Z({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Z({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function X(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}Z.create=e=>{var t;return new Z({checks:[],typeName:Be.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,...M(e)})};class Y extends L{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==a.number){const t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:a.number,received:t.parsedType}),_}let t;const n=new y;for(const i of this._def.checks)if("int"===i.kind)r.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),m(t,{code:s.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty());else if("min"===i.kind){(i.inclusive?e.data<i.value:e.data<=i.value)&&(t=this._getOrReturnCtx(e,t),m(t,{code:s.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty())}else if("max"===i.kind){(i.inclusive?e.data>i.value:e.data>=i.value)&&(t=this._getOrReturnCtx(e,t),m(t,{code:s.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty())}else"multipleOf"===i.kind?0!==X(e.data,i.value)&&(t=this._getOrReturnCtx(e,t),m(t,{code:s.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),m(t,{code:s.not_finite,message:i.message}),n.dirty()):r.assertNever(i);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,A.toString(t))}gt(e,t){return this.setLimit("min",e,!1,A.toString(t))}lte(e,t){return this.setLimit("max",e,!0,A.toString(t))}lt(e,t){return this.setLimit("max",e,!1,A.toString(t))}setLimit(e,t,n,r){return new Y({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:A.toString(r)}]})}_addCheck(e){return new Y({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:A.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:A.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:A.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:A.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:A.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:A.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:A.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:A.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:A.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&r.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Y.create=e=>new Y({checks:[],typeName:Be.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,...M(e)});class J extends L{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){this._def.coerce&&(e.data=BigInt(e.data));if(this._getType(e)!==a.bigint){const t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:a.bigint,received:t.parsedType}),_}let t;const n=new y;for(const i of this._def.checks)if("min"===i.kind){(i.inclusive?e.data<i.value:e.data<=i.value)&&(t=this._getOrReturnCtx(e,t),m(t,{code:s.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty())}else if("max"===i.kind){(i.inclusive?e.data>i.value:e.data>=i.value)&&(t=this._getOrReturnCtx(e,t),m(t,{code:s.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty())}else"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),m(t,{code:s.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):r.assertNever(i);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,A.toString(t))}gt(e,t){return this.setLimit("min",e,!1,A.toString(t))}lte(e,t){return this.setLimit("max",e,!0,A.toString(t))}lt(e,t){return this.setLimit("max",e,!1,A.toString(t))}setLimit(e,t,n,r){return new J({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:A.toString(r)}]})}_addCheck(e){return new J({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:A.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:A.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:A.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:A.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:A.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}J.create=e=>{var t;return new J({checks:[],typeName:Be.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,...M(e)})};class Q extends L{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==a.boolean){const t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:a.boolean,received:t.parsedType}),_}return v(e.data)}}Q.create=e=>new Q({typeName:Be.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,...M(e)});class ee extends L{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==a.date){const t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:a.date,received:t.parsedType}),_}if(isNaN(e.data.getTime())){return m(this._getOrReturnCtx(e),{code:s.invalid_date}),_}const t=new y;let n;for(const i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(n=this._getOrReturnCtx(e,n),m(n,{code:s.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),t.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(n=this._getOrReturnCtx(e,n),m(n,{code:s.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),t.dirty()):r.assertNever(i);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ee({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:A.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:A.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}ee.create=e=>new ee({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:Be.ZodDate,...M(e)});class te extends L{_parse(e){if(this._getType(e)!==a.symbol){const t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:a.symbol,received:t.parsedType}),_}return v(e.data)}}te.create=e=>new te({typeName:Be.ZodSymbol,...M(e)});class ne extends L{_parse(e){if(this._getType(e)!==a.undefined){const t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:a.undefined,received:t.parsedType}),_}return v(e.data)}}ne.create=e=>new ne({typeName:Be.ZodUndefined,...M(e)});class re extends L{_parse(e){if(this._getType(e)!==a.null){const t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:a.null,received:t.parsedType}),_}return v(e.data)}}re.create=e=>new re({typeName:Be.ZodNull,...M(e)});class ie extends L{constructor(){super(...arguments),this._any=!0}_parse(e){return v(e.data)}}ie.create=e=>new ie({typeName:Be.ZodAny,...M(e)});class ae extends L{constructor(){super(...arguments),this._unknown=!0}_parse(e){return v(e.data)}}ae.create=e=>new ae({typeName:Be.ZodUnknown,...M(e)});class oe extends L{_parse(e){const t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:a.never,received:t.parsedType}),_}}oe.create=e=>new oe({typeName:Be.ZodNever,...M(e)});class se extends L{_parse(e){if(this._getType(e)!==a.undefined){const t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:a.void,received:t.parsedType}),_}return v(e.data)}}se.create=e=>new se({typeName:Be.ZodVoid,...M(e)});class le extends L{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==a.array)return m(t,{code:s.invalid_type,expected:a.array,received:t.parsedType}),_;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(e||i)&&(m(t,{code:e?s.too_big:s.too_small,minimum:i?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(m(t,{code:s.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(m(t,{code:s.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new I(t,e,t.path,n))))).then((e=>y.mergeArray(n,e)));const i=[...t.data].map(((e,n)=>r.type._parseSync(new I(t,e,t.path,n))));return y.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new le({...this._def,minLength:{value:e,message:A.toString(t)}})}max(e,t){return new le({...this._def,maxLength:{value:e,message:A.toString(t)}})}length(e,t){return new le({...this._def,exactLength:{value:e,message:A.toString(t)}})}nonempty(e){return this.min(1,e)}}function ue(e){if(e instanceof ce){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Oe.create(ue(r))}return new ce({...e._def,shape:()=>t})}return e instanceof le?new le({...e._def,type:ue(e.element)}):e instanceof Oe?Oe.create(ue(e.unwrap())):e instanceof Ce?Ce.create(ue(e.unwrap())):e instanceof me?me.create(e.items.map((e=>ue(e)))):e}le.create=(e,t)=>new le({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Be.ZodArray,...M(t)});class ce extends L{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=r.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==a.object){const t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:a.object,received:t.parsedType}),_}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof oe&&"strip"===this._def.unknownKeys))for(const a in n.data)i.includes(a)||o.push(a);const l=[];for(const a of i){const e=r[a],t=n.data[a];l.push({key:{status:"valid",value:a},value:e._parse(new I(n,t,n.path,a)),alwaysSet:a in n.data})}if(this._def.catchall instanceof oe){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of o)l.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)o.length>0&&(m(n,{code:s.unrecognized_keys,keys:o}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of o){const r=n.data[t];l.push({key:{status:"valid",value:t},value:e._parse(new I(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of l){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then((e=>y.mergeObjectSync(t,e))):y.mergeObjectSync(t,l)}get shape(){return this._def.shape()}strict(e){return A.errToObj,new ce({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,i,a,o;const s=null!==(a=null===(i=(r=this._def).errorMap)||void 0===i?void 0:i.call(r,t,n).message)&&void 0!==a?a:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(o=A.errToObj(e).message)&&void 0!==o?o:s}:{message:s}}}:{}})}strip(){return new ce({...this._def,unknownKeys:"strip"})}passthrough(){return new ce({...this._def,unknownKeys:"passthrough"})}extend(e){return new ce({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ce({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Be.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ce({...this._def,catchall:e})}pick(e){const t={};return r.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new ce({...this._def,shape:()=>t})}omit(e){const t={};return r.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new ce({...this._def,shape:()=>t})}deepPartial(){return ue(this)}partial(e){const t={};return r.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new ce({...this._def,shape:()=>t})}required(e){const t={};return r.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof Oe;)e=e._def.innerType;t[n]=e}})),new ce({...this._def,shape:()=>t})}keyof(){return ke(r.objectKeys(this.shape))}}ce.create=(e,t)=>new ce({shape:()=>e,unknownKeys:"strip",catchall:oe.create(),typeName:Be.ZodObject,...M(t)}),ce.strictCreate=(e,t)=>new ce({shape:()=>e,unknownKeys:"strict",catchall:oe.create(),typeName:Be.ZodObject,...M(t)}),ce.lazycreate=(e,t)=>new ce({shape:e,unknownKeys:"strip",catchall:oe.create(),typeName:Be.ZodObject,...M(t)});class de extends L{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map((e=>new u(e.ctx.common.issues)));return m(t,{code:s.invalid_union,unionErrors:n}),_}));{let e;const r=[];for(const a of n){const n={...t,common:{...t.common,issues:[]},parent:null},i=a._parseSync({data:t.data,path:t.path,parent:n});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=r.map((e=>new u(e)));return m(t,{code:s.invalid_union,unionErrors:i}),_}}get options(){return this._def.options}}de.create=(e,t)=>new de({options:e,typeName:Be.ZodUnion,...M(t)});const fe=e=>e instanceof we?fe(e.schema):e instanceof Ae?fe(e.innerType()):e instanceof xe?[e.value]:e instanceof Se?e.options:e instanceof Te?r.objectValues(e.enum):e instanceof Ie?fe(e._def.innerType):e instanceof ne?[void 0]:e instanceof re?[null]:e instanceof Oe?[void 0,...fe(e.unwrap())]:e instanceof Ce?[null,...fe(e.unwrap())]:e instanceof Re||e instanceof De?fe(e.unwrap()):e instanceof Pe?fe(e._def.innerType):[];class he extends L{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==a.object)return m(t,{code:s.invalid_type,expected:a.object,received:t.parsedType}),_;const n=this.discriminator,r=t.data[n],i=this.optionsMap.get(r);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(m(t,{code:s.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),_)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const i of t){const t=fe(i.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const n of t){if(r.has(n))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);r.set(n,i)}}return new he({typeName:Be.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...M(n)})}}function pe(e,t){const n=o(e),i=o(t);if(e===t)return{valid:!0,data:e};if(n===a.object&&i===a.object){const n=r.objectKeys(t),i=r.objectKeys(e).filter((e=>-1!==n.indexOf(e))),a={...e,...t};for(const r of i){const n=pe(e[r],t[r]);if(!n.valid)return{valid:!1};a[r]=n.data}return{valid:!0,data:a}}if(n===a.array&&i===a.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const i=pe(e[r],t[r]);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}return n===a.date&&i===a.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class ge extends L{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(w(e)||w(r))return _;const i=pe(e.value,r.value);return i.valid?((x(e)||x(r))&&t.dirty(),{status:t.value,value:i.data}):(m(n,{code:s.invalid_intersection_types}),_)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>r(e,t))):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}ge.create=(e,t,n)=>new ge({left:e,right:t,typeName:Be.ZodIntersection,...M(n)});class me extends L{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==a.array)return m(n,{code:s.invalid_type,expected:a.array,received:n.parsedType}),_;if(n.data.length<this._def.items.length)return m(n,{code:s.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_;!this._def.rest&&n.data.length>this._def.items.length&&(m(n,{code:s.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new I(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>y.mergeArray(t,e))):y.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new me({...this._def,rest:e})}}me.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new me({items:e,typeName:Be.ZodTuple,rest:null,...M(t)})};class ye extends L{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==a.object)return m(n,{code:s.invalid_type,expected:a.object,received:n.parsedType}),_;const r=[],i=this._def.keyType,o=this._def.valueType;for(const a in n.data)r.push({key:i._parse(new I(n,a,n.path,a)),value:o._parse(new I(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?y.mergeObjectAsync(t,r):y.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new ye(t instanceof L?{keyType:e,valueType:t,typeName:Be.ZodRecord,...M(n)}:{keyType:Z.create(),valueType:e,typeName:Be.ZodRecord,...M(t)})}}class _e extends L{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==a.map)return m(n,{code:s.invalid_type,expected:a.map,received:n.parsedType}),_;const r=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map((([e,t],a)=>({key:r._parse(new I(n,e,n.path,[a,"key"])),value:i._parse(new I(n,t,n.path,[a,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of o){const r=await n.key,i=await n.value;if("aborted"===r.status||"aborted"===i.status)return _;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of o){const r=n.key,i=n.value;if("aborted"===r.status||"aborted"===i.status)return _;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}}_e.create=(e,t,n)=>new _e({valueType:t,keyType:e,typeName:Be.ZodMap,...M(n)});class be extends L{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==a.set)return m(n,{code:s.invalid_type,expected:a.set,received:n.parsedType}),_;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(m(n,{code:s.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(m(n,{code:s.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const i=this._def.valueType;function o(e){const n=new Set;for(const r of e){if("aborted"===r.status)return _;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const l=[...n.data.values()].map(((e,t)=>i._parse(new I(n,e,n.path,t))));return n.common.async?Promise.all(l).then((e=>o(e))):o(l)}min(e,t){return new be({...this._def,minSize:{value:e,message:A.toString(t)}})}max(e,t){return new be({...this._def,maxSize:{value:e,message:A.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}be.create=(e,t)=>new be({valueType:e,minSize:null,maxSize:null,typeName:Be.ZodSet,...M(t)});class ve extends L{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==a.function)return m(t,{code:s.invalid_type,expected:a.function,received:t.parsedType}),_;function n(e,n){return p({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,h(),c].filter((e=>!!e)),issueData:{code:s.invalid_arguments,argumentsError:n}})}function r(e,n){return p({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,h(),c].filter((e=>!!e)),issueData:{code:s.invalid_return_type,returnTypeError:n}})}const i={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof Ee){const e=this;return v((async function(...t){const a=new u([]),s=await e._def.args.parseAsync(t,i).catch((e=>{throw a.addIssue(n(t,e)),a})),l=await Reflect.apply(o,this,s);return await e._def.returns._def.type.parseAsync(l,i).catch((e=>{throw a.addIssue(r(l,e)),a}))}))}{const e=this;return v((function(...t){const a=e._def.args.safeParse(t,i);if(!a.success)throw new u([n(t,a.error)]);const s=Reflect.apply(o,this,a.data),l=e._def.returns.safeParse(s,i);if(!l.success)throw new u([r(s,l.error)]);return l.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ve({...this._def,args:me.create(e).rest(ae.create())})}returns(e){return new ve({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new ve({args:e||me.create([]).rest(ae.create()),returns:t||ae.create(),typeName:Be.ZodFunction,...M(n)})}}class we extends L{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}we.create=(e,t)=>new we({getter:e,typeName:Be.ZodLazy,...M(t)});class xe extends L{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return m(t,{received:t.data,code:s.invalid_literal,expected:this._def.value}),_}return{status:"valid",value:e.data}}get value(){return this._def.value}}function ke(e,t){return new Se({values:e,typeName:Be.ZodEnum,...M(t)})}xe.create=(e,t)=>new xe({value:e,typeName:Be.ZodLiteral,...M(t)});class Se extends L{constructor(){super(...arguments),O.set(this,void 0)}_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return m(t,{expected:r.joinValues(n),received:t.parsedType,code:s.invalid_type}),_}if(T(this,O,"f")||E(this,O,new Set(this._def.values),"f"),!T(this,O,"f").has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return m(t,{received:t.data,code:s.invalid_enum_value,options:n}),_}return v(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Se.create(e,{...this._def,...t})}exclude(e,t=this._def){return Se.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}O=new WeakMap,Se.create=ke;class Te extends L{constructor(){super(...arguments),C.set(this,void 0)}_parse(e){const t=r.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==a.string&&n.parsedType!==a.number){const e=r.objectValues(t);return m(n,{expected:r.joinValues(e),received:n.parsedType,code:s.invalid_type}),_}if(T(this,C,"f")||E(this,C,new Set(r.getValidEnumValues(this._def.values)),"f"),!T(this,C,"f").has(e.data)){const e=r.objectValues(t);return m(n,{received:n.data,code:s.invalid_enum_value,options:e}),_}return v(e.data)}get enum(){return this._def.values}}C=new WeakMap,Te.create=(e,t)=>new Te({values:e,typeName:Be.ZodNativeEnum,...M(t)});class Ee extends L{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==a.promise&&!1===t.common.async)return m(t,{code:s.invalid_type,expected:a.promise,received:t.parsedType}),_;const n=t.parsedType===a.promise?t.data:Promise.resolve(t.data);return v(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}Ee.create=(e,t)=>new Ee({type:e,typeName:Be.ZodPromise,...M(t)});class Ae extends L{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Be.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:e=>{m(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===i.type){const e=i.transform(n.data,a);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return _;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?_:"dirty"===r.status||"dirty"===t.value?b(r.value):r}));{if("aborted"===t.value)return _;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?_:"dirty"===r.status||"dirty"===t.value?b(r.value):r}}if("refinement"===i.type){const e=e=>{const t=i.refinement(e,a);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?_:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?_:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===i.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!k(e))return e;const r=i.transform(e.value,a);if(r instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:r}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>k(e)?Promise.resolve(i.transform(e.value,a)).then((e=>({status:t.value,value:e}))):e))}r.assertNever(i)}}Ae.create=(e,t,n)=>new Ae({schema:e,typeName:Be.ZodEffects,effect:t,...M(n)}),Ae.createWithPreprocess=(e,t,n)=>new Ae({schema:t,effect:{type:"preprocess",transform:e},typeName:Be.ZodEffects,...M(n)});class Oe extends L{_parse(e){return this._getType(e)===a.undefined?v(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Oe.create=(e,t)=>new Oe({innerType:e,typeName:Be.ZodOptional,...M(t)});class Ce extends L{_parse(e){return this._getType(e)===a.null?v(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ce.create=(e,t)=>new Ce({innerType:e,typeName:Be.ZodNullable,...M(t)});class Ie extends L{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===a.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Ie.create=(e,t)=>new Ie({innerType:e,typeName:Be.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default,...M(t)});class Pe extends L{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return S(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new u(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new u(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Pe.create=(e,t)=>new Pe({innerType:e,typeName:Be.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch,...M(t)});class Me extends L{_parse(e){if(this._getType(e)!==a.nan){const t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:a.nan,received:t.parsedType}),_}return{status:"valid",value:e.data}}}Me.create=e=>new Me({typeName:Be.ZodNaN,...M(e)});const Le=Symbol("zod_brand");class Re extends L{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class Ne extends L{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?_:"dirty"===e.status?(t.dirty(),b(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?_:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new Ne({in:e,out:t,typeName:Be.ZodPipeline})}}class De extends L{_parse(e){const t=this._def.innerType._parse(e),n=e=>(k(e)&&(e.value=Object.freeze(e.value)),e);return S(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}function je(e,t={},n){return e?ie.create().superRefine(((r,i)=>{var a,o;if(!e(r)){const e="function"===typeof t?t(r):"string"===typeof t?{message:t}:t,s=null===(o=null!==(a=e.fatal)&&void 0!==a?a:n)||void 0===o||o,l="string"===typeof e?{message:e}:e;i.addIssue({code:"custom",...l,fatal:s})}})):ie.create()}De.create=(e,t)=>new De({innerType:e,typeName:Be.ZodReadonly,...M(t)});const Fe={object:ce.lazycreate};var Be;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(Be||(Be={}));const ze=(e,t={message:`Input not instance of ${e.name}`})=>je((t=>t instanceof e),t),$e=Z.create,Ue=Y.create,Ve=Me.create,We=J.create,He=Q.create,Ge=ee.create,qe=te.create,Ke=ne.create,Ze=re.create,Xe=ie.create,Ye=ae.create,Je=oe.create,Qe=se.create,et=le.create,tt=ce.create,nt=ce.strictCreate,rt=de.create,it=he.create,at=ge.create,ot=me.create,st=ye.create,lt=_e.create,ut=be.create,ct=ve.create,dt=we.create,ft=xe.create,ht=Se.create,pt=Te.create,gt=Ee.create,mt=Ae.create,yt=Oe.create,_t=Ce.create,bt=Ae.createWithPreprocess,vt=Ne.create,wt=()=>$e().optional(),xt=()=>Ue().optional(),kt=()=>He().optional(),St={string:e=>Z.create({...e,coerce:!0}),number:e=>Y.create({...e,coerce:!0}),boolean:e=>Q.create({...e,coerce:!0}),bigint:e=>J.create({...e,coerce:!0}),date:e=>ee.create({...e,coerce:!0})},Tt=_;var Et=Object.freeze({__proto__:null,defaultErrorMap:c,setErrorMap:f,getErrorMap:h,makeIssue:p,EMPTY_PATH:g,addIssueToContext:m,ParseStatus:y,INVALID:_,DIRTY:b,OK:v,isAborted:w,isDirty:x,isValid:k,isAsync:S,get util(){return r},get objectUtil(){return i},ZodParsedType:a,getParsedType:o,ZodType:L,datetimeRegex:K,ZodString:Z,ZodNumber:Y,ZodBigInt:J,ZodBoolean:Q,ZodDate:ee,ZodSymbol:te,ZodUndefined:ne,ZodNull:re,ZodAny:ie,ZodUnknown:ae,ZodNever:oe,ZodVoid:se,ZodArray:le,ZodObject:ce,ZodUnion:de,ZodDiscriminatedUnion:he,ZodIntersection:ge,ZodTuple:me,ZodRecord:ye,ZodMap:_e,ZodSet:be,ZodFunction:ve,ZodLazy:we,ZodLiteral:xe,ZodEnum:Se,ZodNativeEnum:Te,ZodPromise:Ee,ZodEffects:Ae,ZodTransformer:Ae,ZodOptional:Oe,ZodNullable:Ce,ZodDefault:Ie,ZodCatch:Pe,ZodNaN:Me,BRAND:Le,ZodBranded:Re,ZodPipeline:Ne,ZodReadonly:De,custom:je,Schema:L,ZodSchema:L,late:Fe,get ZodFirstPartyTypeKind(){return Be},coerce:St,any:Xe,array:et,bigint:We,boolean:He,date:Ge,discriminatedUnion:it,effect:mt,enum:ht,function:ct,instanceof:ze,intersection:at,lazy:dt,literal:ft,map:lt,nan:Ve,nativeEnum:pt,never:Je,null:Ze,nullable:_t,number:Ue,object:tt,oboolean:kt,onumber:xt,optional:yt,ostring:wt,pipeline:vt,preprocess:bt,promise:gt,record:st,set:ut,strictObject:nt,string:$e,symbol:qe,transformer:mt,tuple:ot,undefined:Ke,union:rt,unknown:Ye,void:Qe,NEVER:Tt,ZodIssueCode:s,quotelessJson:l,ZodError:u})},4360:(e,t,n)=>{"use strict";n.r(t),n.d(t,{create:()=>h,createStore:()=>i,default:()=>p,useStore:()=>d});const r=e=>{let t;const n=new Set,r=(e,r)=>{const i="function"===typeof e?e(t):e;if(!Object.is(i,t)){const e=t;t=(null!=r?r:"object"!==typeof i||null===i)?i:Object.assign({},t,i),n.forEach((n=>n(t,e)))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>o,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},o=t=e(r,i,a);return a},i=e=>e?r(e):r;var a=n(6665),o=n(833);const{useDebugValue:s}=a,{useSyncExternalStoreWithSelector:l}=o;let u=!1;const c=e=>e;function d(e,t=c,n){n&&!u&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),u=!0);const r=l(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return s(r),r}const f=e=>{"function"!==typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t="function"===typeof e?i(e):e,n=(e,n)=>d(t,e,n);return Object.assign(n,t),n},h=e=>e?f(e):f;var p=e=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`."),h(e))},1377:(e,t,n)=>{"use strict";n.r(t),n.d(t,{combine:()=>u,createJSONStorage:()=>c,devtools:()=>o,persist:()=>f,redux:()=>r,subscribeWithSelector:()=>l});const r=(e,t)=>(n,r,i)=>(i.dispatch=t=>(n((n=>e(n,t)),!1,t),t),i.dispatchFromDevtools=!0,{dispatch:(...e)=>i.dispatch(...e),...t}),i=new Map,a=e=>{const t=i.get(e);return t?Object.fromEntries(Object.entries(t.stores).map((([e,t])=>[e,t.getState()]))):{}},o=(e,t={})=>(n,r,o)=>{const{enabled:l,anonymousActionType:u,store:c,...d}=t;let f;try{f=(null==l||l)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(_){}if(!f)return l&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(n,r,o);const{connection:h,...p}=((e,t,n)=>{if(void 0===e)return{type:"untracked",connection:t.connect(n)};const r=i.get(n.name);if(r)return{type:"tracked",store:e,...r};const a={connection:t.connect(n),stores:{}};return i.set(n.name,a),{type:"tracked",store:e,...a}})(c,f,d);let g=!0;o.setState=(e,t,i)=>{const s=n(e,t);if(!g)return s;const l=void 0===i?{type:u||"anonymous"}:"string"===typeof i?{type:i}:i;return void 0===c?(null==h||h.send(l,r()),s):(null==h||h.send({...l,type:`${c}/${l.type}`},{...a(d.name),[c]:o.getState()}),s)};const m=(...e)=>{const t=g;g=!1,n(...e),g=t},y=e(o.setState,r,o);if("untracked"===p.type?null==h||h.init(y):(p.stores[p.store]=o,null==h||h.init(Object.fromEntries(Object.entries(p.stores).map((([e,t])=>[e,e===p.store?y:t.getState()]))))),o.dispatchFromDevtools&&"function"===typeof o.dispatch){let e=!1;const t=o.dispatch;o.dispatch=(...n)=>{"__setState"!==n[0].type||e||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),e=!0),t(...n)}}return h.subscribe((e=>{var t;switch(e.type){case"ACTION":return"string"!==typeof e.payload?void console.error("[zustand devtools middleware] Unsupported action format"):s(e.payload,(e=>{if("__setState"!==e.type)o.dispatchFromDevtools&&"function"===typeof o.dispatch&&o.dispatch(e);else{if(void 0===c)return void m(e.state);1!==Object.keys(e.state).length&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');const t=e.state[c];if(void 0===t||null===t)return;JSON.stringify(o.getState())!==JSON.stringify(t)&&m(t)}}));case"DISPATCH":switch(e.payload.type){case"RESET":return m(y),void 0===c?null==h?void 0:h.init(o.getState()):null==h?void 0:h.init(a(d.name));case"COMMIT":return void 0===c?void(null==h||h.init(o.getState())):null==h?void 0:h.init(a(d.name));case"ROLLBACK":return s(e.state,(e=>{if(void 0===c)return m(e),void(null==h||h.init(o.getState()));m(e[c]),null==h||h.init(a(d.name))}));case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return s(e.state,(e=>{void 0!==c?JSON.stringify(o.getState())!==JSON.stringify(e[c])&&m(e[c]):m(e)}));case"IMPORT_STATE":{const{nextLiftedState:n}=e.payload,r=null==(t=n.computedStates.slice(-1)[0])?void 0:t.state;if(!r)return;return m(void 0===c?r:r[c]),void(null==h||h.send(null,n))}case"PAUSE_RECORDING":return g=!g}return}})),y},s=(e,t)=>{let n;try{n=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}void 0!==n&&t(n)},l=e=>(t,n,r)=>{const i=r.subscribe;r.subscribe=(e,t,n)=>{let a=e;if(t){const i=(null==n?void 0:n.equalityFn)||Object.is;let o=e(r.getState());a=n=>{const r=e(n);if(!i(o,r)){const e=o;t(o=r,e)}},(null==n?void 0:n.fireImmediately)&&t(o,o)}return i(a)};return e(t,n,r)},u=(e,t)=>(...n)=>Object.assign({},e,t(...n));function c(e,t){let n;try{n=e()}catch(r){return}return{getItem:e=>{var r;const i=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),a=null!=(r=n.getItem(e))?r:null;return a instanceof Promise?a.then(i):i(a)},setItem:(e,r)=>n.setItem(e,JSON.stringify(r,null==t?void 0:t.replacer)),removeItem:e=>n.removeItem(e)}}const d=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then:e=>d(e)(n),catch(e){return this}}}catch(n){return{then(e){return this},catch:e=>d(e)(n)}}},f=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),((e,t)=>(n,r,i)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1;const s=new Set,l=new Set;let u;try{u=a.getStorage()}catch(y){}if(!u)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...e)}),r,i);const c=d(a.serialize),f=()=>{const e=a.partialize({...r()});let t;const n=c({state:e,version:a.version}).then((e=>u.setItem(a.name,e))).catch((e=>{t=e}));if(t)throw t;return n},h=i.setState;i.setState=(e,t)=>{h(e,t),f()};const p=e(((...e)=>{n(...e),f()}),r,i);let g;const m=()=>{var e;if(!u)return;o=!1,s.forEach((e=>e(r())));const t=(null==(e=a.onRehydrateStorage)?void 0:e.call(a,r()))||void 0;return d(u.getItem.bind(u))(a.name).then((e=>{if(e)return a.deserialize(e)})).then((e=>{if(e){if("number"!==typeof e.version||e.version===a.version)return e.state;if(a.migrate)return a.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((e=>{var t;return g=a.merge(e,null!=(t=r())?t:p),n(g,!0),f()})).then((()=>{null==t||t(g,void 0),o=!0,l.forEach((e=>e(g)))})).catch((e=>{null==t||t(void 0,e)}))};return i.persist={setOptions:e=>{a={...a,...e},e.getStorage&&(u=e.getStorage())},clearStorage:()=>{null==u||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:e=>(s.add(e),()=>{s.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},m(),g||p})(e,t)):((e,t)=>(n,r,i)=>{let a={storage:c((()=>localStorage)),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1;const s=new Set,l=new Set;let u=a.storage;if(!u)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...e)}),r,i);const f=()=>{const e=a.partialize({...r()});return u.setItem(a.name,{state:e,version:a.version})},h=i.setState;i.setState=(e,t)=>{h(e,t),f()};const p=e(((...e)=>{n(...e),f()}),r,i);let g;i.getInitialState=()=>p;const m=()=>{var e,t;if(!u)return;o=!1,s.forEach((e=>{var t;return e(null!=(t=r())?t:p)}));const i=(null==(t=a.onRehydrateStorage)?void 0:t.call(a,null!=(e=r())?e:p))||void 0;return d(u.getItem.bind(u))(a.name).then((e=>{if(e){if("number"!==typeof e.version||e.version===a.version)return e.state;if(a.migrate)return a.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((e=>{var t;return g=a.merge(e,null!=(t=r())?t:p),n(g,!0),f()})).then((()=>{null==i||i(g,void 0),g=r(),o=!0,l.forEach((e=>e(g)))})).catch((e=>{null==i||i(void 0,e)}))};return i.persist={setOptions:e=>{a={...a,...e},e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:e=>(s.add(e),()=>{s.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},a.skipHydration||m(),g||p})(e,t)}}]);
//# sourceMappingURL=178.67e794e3.js.map